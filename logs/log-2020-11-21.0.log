2020-11-21 13:32:25.572 INFO  cn.jwis.configration.clientUtil.ConfigCenterHelper[40]  Loading config by :http://10.159.65.221:14200/configCenter/findConfig?side=server&serviceName=pqm-quality-workflow-service&env=dev&configType=properties
2020-11-21 13:32:25.583 INFO  cn.jwis.configration.clientUtil.HttpClientUtil[51]  Http Request:http://10.159.65.221:14200/configCenter/findConfig?side=server&serviceName=pqm-quality-workflow-service&env=dev&configType=properties
2020-11-21 13:32:41.454 ERROR cn.jwis.configration.clientUtil.HttpClientUtil[77]  send Http Request to:http://10.159.65.221:14200/configCenter/findConfig?side=server&serviceName=pqm-quality-workflow-service&env=dev&configType=properties ,has errors:Connect to 10.159.65.221:14200 [/10.159.65.221] failed: connect timed out
2020-11-21 13:32:41.455 INFO  cn.jwis.configration.clientUtil.ConfigCenterHelper[43]  Get config :
2020-11-21 13:32:42.986 ERROR cn.jwis.configration.clientUtil.ConfigCenterHelper[56]  null
2020-11-21 13:32:44.377 INFO  cn.jwis.qualityworkflow.Application[50]  Starting Application on THINK-Lx with PID 8752 (C:\Users\THINK\Desktop\QMS-Server\quality-workflow-service\target\classes started by THINK in C:\Users\THINK\Desktop\QMS-Server\quality-workflow-service)
2020-11-21 13:32:44.379 DEBUG cn.jwis.qualityworkflow.Application[53]  Running with Spring Boot v2.1.0.RELEASE, Spring v5.1.2.RELEASE
2020-11-21 13:32:44.380 INFO  cn.jwis.qualityworkflow.Application[679]  The following profiles are active: dev
2020-11-21 13:32:52.347 INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker[330]  Bean 'org.springframework.amqp.rabbit.annotation.RabbitBootstrapConfiguration' of type [org.springframework.amqp.rabbit.annotation.RabbitBootstrapConfiguration$$EnhancerBySpringCGLIB$$5cf6e8b3] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2020-11-21 13:32:52.462 INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker[330]  Bean 'org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration' of type [org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration$$EnhancerBySpringCGLIB$$968b2a85] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2020-11-21 13:32:53.568 INFO  o.s.boot.web.embedded.tomcat.TomcatWebServer[90]  Tomcat initialized with port(s): 8115 (http)
2020-11-21 13:32:53.601 INFO  org.apache.coyote.http11.Http11NioProtocol[173]  Initializing ProtocolHandler ["http-nio-8115"]
2020-11-21 13:32:53.617 INFO  org.apache.catalina.core.StandardService[173]  Starting service [Tomcat]
2020-11-21 13:32:53.618 INFO  org.apache.catalina.core.StandardEngine[173]  Starting Servlet Engine: Apache Tomcat/9.0.12
2020-11-21 13:32:53.660 INFO  org.apache.catalina.core.AprLifecycleListener[173]  The APR based Apache Tomcat Native library which allows optimal performance in production environments was not found on the java.library.path: [C:\Program Files\Java\jdk1.8.0_192\bin;C:\Windows\Sun\Java\bin;C:\Windows\system32;C:\Windows;C:\Program Files\Java\jdk1.8.0_192\bin;C:\Program Files\Java\jdk1.8.0_192\jre\bin;D:\java\apache-maven-3.6.0\bin;C:\Program Files (x86)\Common Files\Oracle\Java\javapath;C:\Windows\system32;C:\Windows;C:\Windows\System32\Wbem;C:\Windows\System32\WindowsPowerShell\v1.0\;D:\job\Git\cmd;C:\Program Files\TortoiseGit\bin;C:\Program Files\nodejs\;D:\java\mysql\mysql-5.7.11-winx64\bin;D:\job\Microsoft VS Code\bin;C:\Program Files\Microsoft VS Code\bin;C:\Users\THINK\AppData\Roaming\npm;.]
2020-11-21 13:32:53.843 INFO  o.a.c.core.ContainerBase.[Tomcat].[localhost].[/][173]  Initializing Spring embedded WebApplicationContext
2020-11-21 13:32:53.843 INFO  org.springframework.web.context.ContextLoader[285]  Root WebApplicationContext: initialization completed in 9381 ms
2020-11-21 13:32:53.925 INFO  o.s.boot.web.servlet.ServletRegistrationBean[186]  Servlet dispatcherServlet mapped to [/]
2020-11-21 13:32:53.932 INFO  o.s.boot.web.servlet.FilterRegistrationBean[248]  Mapping filter: 'characterEncodingFilter' to: [/*]
2020-11-21 13:32:53.933 INFO  o.s.boot.web.servlet.FilterRegistrationBean[248]  Mapping filter: 'hiddenHttpMethodFilter' to: [/*]
2020-11-21 13:32:53.933 INFO  o.s.boot.web.servlet.FilterRegistrationBean[248]  Mapping filter: 'formContentFilter' to: [/*]
2020-11-21 13:32:53.934 INFO  o.s.boot.web.servlet.FilterRegistrationBean[248]  Mapping filter: 'requestContextFilter' to: [/*]
2020-11-21 13:32:57.957 INFO  o.s.scheduling.concurrent.ThreadPoolTaskExecutor[171]  Initializing ExecutorService 'applicationTaskExecutor'
2020-11-21 13:32:58.602 INFO  s.d.s.web.plugins.DocumentationPluginsBootstrapper[120]  Context refreshed
2020-11-21 13:32:58.622 INFO  s.d.s.web.plugins.DocumentationPluginsBootstrapper[123]  Found 1 custom documentation plugin(s)
2020-11-21 13:32:58.639 INFO  s.d.spring.web.scanners.ApiListingReferenceScanner[41]  Scanning for api listing references
2020-11-21 13:32:59.054 INFO  s.d.s.w.r.operation.CachingOperationNameGenerator[40]  Generating unique operation named: confirmUsingPOST_1
2020-11-21 13:32:59.504 INFO  s.d.s.w.r.operation.CachingOperationNameGenerator[40]  Generating unique operation named: exportUnseasonalBolaUsingGET_1
2020-11-21 13:32:59.510 INFO  s.d.s.w.r.operation.CachingOperationNameGenerator[40]  Generating unique operation named: exportUnseasonalListUsingPOST_1
2020-11-21 13:32:59.518 INFO  s.d.s.w.r.operation.CachingOperationNameGenerator[40]  Generating unique operation named: getAllAndCloseUsingPOST_1
2020-11-21 13:32:59.523 INFO  s.d.s.w.r.operation.CachingOperationNameGenerator[40]  Generating unique operation named: getAllDataUsingPOST_1
2020-11-21 13:32:59.532 INFO  s.d.s.w.r.operation.CachingOperationNameGenerator[40]  Generating unique operation named: getBlackDetailsUsingPOST_1
2020-11-21 13:32:59.538 INFO  s.d.s.w.r.operation.CachingOperationNameGenerator[40]  Generating unique operation named: getDashBoardCloseUsingPOST_1
2020-11-21 13:32:59.546 INFO  s.d.s.w.r.operation.CachingOperationNameGenerator[40]  Generating unique operation named: getDashBoardNotCloseUsingPOST_1
2020-11-21 13:32:59.552 INFO  s.d.s.w.r.operation.CachingOperationNameGenerator[40]  Generating unique operation named: getOverdueUsingPOST_1
2020-11-21 13:32:59.559 INFO  s.d.s.w.r.operation.CachingOperationNameGenerator[40]  Generating unique operation named: getUnseasonalBolaUsingGET_1
2020-11-21 13:32:59.566 INFO  s.d.s.w.r.operation.CachingOperationNameGenerator[40]  Generating unique operation named: getUnseasonalListUsingPOST_1
2020-11-21 13:32:59.587 INFO  s.d.s.w.r.operation.CachingOperationNameGenerator[40]  Generating unique operation named: confirmUsingPOST_2
2020-11-21 13:32:59.624 INFO  s.d.s.w.r.operation.CachingOperationNameGenerator[40]  Generating unique operation named: getLatestRecordContentUsingGET_1
2020-11-21 13:32:59.644 INFO  s.d.s.w.r.operation.CachingOperationNameGenerator[40]  Generating unique operation named: saveRecordContentUsingPOST_1
2020-11-21 13:32:59.667 INFO  s.d.s.w.r.operation.CachingOperationNameGenerator[40]  Generating unique operation named: getDropdownValueUsingGET_1
2020-11-21 13:32:59.688 INFO  s.d.s.w.r.operation.CachingOperationNameGenerator[40]  Generating unique operation named: confirmUsingPOST_3
2020-11-21 13:32:59.697 INFO  s.d.s.w.r.operation.CachingOperationNameGenerator[40]  Generating unique operation named: getDropdownValueUsingGET_2
2020-11-21 13:32:59.704 INFO  s.d.s.w.r.operation.CachingOperationNameGenerator[40]  Generating unique operation named: getLatestRecordContentUsingGET_2
2020-11-21 13:32:59.723 INFO  s.d.s.w.r.operation.CachingOperationNameGenerator[40]  Generating unique operation named: exportEsdAdministrationUsingPOST_1
2020-11-21 13:32:59.759 INFO  s.d.s.w.r.operation.CachingOperationNameGenerator[40]  Generating unique operation named: getDropdownValueUsingGET_3
2020-11-21 13:32:59.836 INFO  s.d.s.w.r.operation.CachingOperationNameGenerator[40]  Generating unique operation named: confirmUsingPOST_4
2020-11-21 13:32:59.857 INFO  s.d.s.w.r.operation.CachingOperationNameGenerator[40]  Generating unique operation named: getDropdownValueUsingGET_4
2020-11-21 13:32:59.904 INFO  s.d.s.w.r.operation.CachingOperationNameGenerator[40]  Generating unique operation named: getLatestRecordContentUsingGET_3
2020-11-21 13:33:00.052 INFO  s.d.s.w.r.operation.CachingOperationNameGenerator[40]  Generating unique operation named: exportEsdInStanInfoTemplateUsingGET_1
2020-11-21 13:33:00.290 INFO  s.d.s.w.r.operation.CachingOperationNameGenerator[40]  Generating unique operation named: confirmUsingPOST_5
2020-11-21 13:33:00.305 INFO  s.d.s.w.r.operation.CachingOperationNameGenerator[40]  Generating unique operation named: getDropdownValueUsingGET_5
2020-11-21 13:33:00.365 INFO  s.d.s.w.r.operation.CachingOperationNameGenerator[40]  Generating unique operation named: confirmUsingPOST_6
2020-11-21 13:33:00.398 INFO  s.d.s.w.r.operation.CachingOperationNameGenerator[40]  Generating unique operation named: findTableNameBySampleNameUsingGET_1
2020-11-21 13:33:00.468 INFO  s.d.s.w.r.operation.CachingOperationNameGenerator[40]  Generating unique operation named: commonExportTemplateUsingPOST_1
2020-11-21 13:33:00.502 INFO  s.d.s.w.r.operation.CachingOperationNameGenerator[40]  Generating unique operation named: confirmUsingPOST_7
2020-11-21 13:33:00.514 INFO  s.d.s.w.r.operation.CachingOperationNameGenerator[40]  Generating unique operation named: exportEcnInfoUsingPOST_1
2020-11-21 13:33:00.518 INFO  s.d.s.w.r.operation.CachingOperationNameGenerator[40]  Generating unique operation named: getDetailednessInfoUsingPOST_1
2020-11-21 13:33:00.521 INFO  s.d.s.w.r.operation.CachingOperationNameGenerator[40]  Generating unique operation named: getLatestRecordContentUsingGET_4
2020-11-21 13:33:00.532 INFO  s.d.s.w.r.operation.CachingOperationNameGenerator[40]  Generating unique operation named: getPullDownValueUsingGET_1
2020-11-21 13:33:00.536 INFO  s.d.s.w.r.operation.CachingOperationNameGenerator[40]  Generating unique operation named: saveRecordContentUsingPOST_2
2020-11-21 13:33:00.564 INFO  s.d.s.w.r.operation.CachingOperationNameGenerator[40]  Generating unique operation named: exportDetailsUsingPOST_1
2020-11-21 13:33:00.574 INFO  s.d.s.w.r.operation.CachingOperationNameGenerator[40]  Generating unique operation named: exportUnseasonalBolaUsingGET_2
2020-11-21 13:33:00.586 INFO  s.d.s.w.r.operation.CachingOperationNameGenerator[40]  Generating unique operation named: exportUnseasonalListUsingPOST_2
2020-11-21 13:33:00.598 INFO  s.d.s.w.r.operation.CachingOperationNameGenerator[40]  Generating unique operation named: getAllAndCloseUsingPOST_2
2020-11-21 13:33:00.605 INFO  s.d.s.w.r.operation.CachingOperationNameGenerator[40]  Generating unique operation named: getAllDataUsingPOST_2
2020-11-21 13:33:00.616 INFO  s.d.s.w.r.operation.CachingOperationNameGenerator[40]  Generating unique operation named: getDashBoardCloseUsingPOST_2
2020-11-21 13:33:00.625 INFO  s.d.s.w.r.operation.CachingOperationNameGenerator[40]  Generating unique operation named: getDashBoardNotCloseUsingPOST_2
2020-11-21 13:33:00.646 INFO  s.d.s.w.r.operation.CachingOperationNameGenerator[40]  Generating unique operation named: getOverdueUsingPOST_2
2020-11-21 13:33:00.657 INFO  s.d.s.w.r.operation.CachingOperationNameGenerator[40]  Generating unique operation named: getUnseasonalBolaUsingGET_2
2020-11-21 13:33:00.664 INFO  s.d.s.w.r.operation.CachingOperationNameGenerator[40]  Generating unique operation named: getUnseasonalListUsingPOST_2
2020-11-21 13:33:00.686 INFO  s.d.s.w.r.operation.CachingOperationNameGenerator[40]  Generating unique operation named: getDropdownValueUsingGET_6
2020-11-21 13:33:00.740 INFO  s.d.s.w.r.operation.CachingOperationNameGenerator[40]  Generating unique operation named: confirmUsingPOST_8
2020-11-21 13:33:00.768 INFO  s.d.s.w.r.operation.CachingOperationNameGenerator[40]  Generating unique operation named: getDropdownValueUsingGET_7
2020-11-21 13:33:00.808 INFO  s.d.s.w.r.operation.CachingOperationNameGenerator[40]  Generating unique operation named: exportInfoUsingPOST_1
2020-11-21 13:33:00.814 INFO  s.d.s.w.r.operation.CachingOperationNameGenerator[40]  Generating unique operation named: getAddCountUsingPOST_1
2020-11-21 13:33:00.823 INFO  s.d.s.w.r.operation.CachingOperationNameGenerator[40]  Generating unique operation named: getDashBoardCountUsingPOST_1
2020-11-21 13:33:00.833 INFO  s.d.s.w.r.operation.CachingOperationNameGenerator[40]  Generating unique operation named: getInfoListUsingPOST_1
2020-11-21 13:33:00.836 INFO  s.d.s.w.r.operation.CachingOperationNameGenerator[40]  Generating unique operation named: getLatestRecordContentUsingGET_5
2020-11-21 13:33:00.844 INFO  s.d.s.w.r.operation.CachingOperationNameGenerator[40]  Generating unique operation named: getOverdueCountUsingPOST_1
2020-11-21 13:33:00.848 INFO  s.d.s.w.r.operation.CachingOperationNameGenerator[40]  Generating unique operation named: getProcessingCountUsingPOST_1
2020-11-21 13:33:00.852 INFO  s.d.s.w.r.operation.CachingOperationNameGenerator[40]  Generating unique operation named: getPullDownValueUsingGET_2
2020-11-21 13:33:00.863 INFO  s.d.s.w.r.operation.CachingOperationNameGenerator[40]  Generating unique operation named: insertUsingPOST_1
2020-11-21 13:33:00.867 INFO  s.d.s.w.r.operation.CachingOperationNameGenerator[40]  Generating unique operation named: saveRecordContentUsingPOST_3
2020-11-21 13:33:00.881 INFO  s.d.s.w.r.operation.CachingOperationNameGenerator[40]  Generating unique operation named: getInfoListUsingPOST_2
2020-11-21 13:33:00.888 INFO  s.d.s.w.r.operation.CachingOperationNameGenerator[40]  Generating unique operation named: getPullDownValueUsingGET_3
2020-11-21 13:33:00.897 INFO  s.d.s.w.r.operation.CachingOperationNameGenerator[40]  Generating unique operation named: insertUsingPOST_2
2020-11-21 13:33:00.910 INFO  s.d.s.w.r.operation.CachingOperationNameGenerator[40]  Generating unique operation named: getAuditListInfoByIdUsingPOST_1
2020-11-21 13:33:00.942 INFO  s.d.s.w.r.operation.CachingOperationNameGenerator[40]  Generating unique operation named: confirmUsingPOST_9
2020-11-21 13:33:00.959 INFO  s.d.s.w.r.operation.CachingOperationNameGenerator[40]  Generating unique operation named: getLatestRecordContentUsingPOST_1
2020-11-21 13:33:00.980 INFO  s.d.s.w.r.operation.CachingOperationNameGenerator[40]  Generating unique operation named: saveRecordContentUsingPOST_4
2020-11-21 13:33:00.989 INFO  s.d.s.w.r.operation.CachingOperationNameGenerator[40]  Generating unique operation named: confirmUsingPOST_10
2020-11-21 13:33:01.021 INFO  s.d.s.w.r.operation.CachingOperationNameGenerator[40]  Generating unique operation named: getDropdownValueUsingGET_8
2020-11-21 13:33:01.027 INFO  s.d.s.w.r.operation.CachingOperationNameGenerator[40]  Generating unique operation named: getLatestRecordContentUsingGET_6
2020-11-21 13:33:01.136 INFO  s.d.s.w.r.operation.CachingOperationNameGenerator[40]  Generating unique operation named: confirmUsingPOST_11
2020-11-21 13:33:01.165 INFO  s.d.s.w.r.operation.CachingOperationNameGenerator[40]  Generating unique operation named: getDropdownValueUsingGET_9
2020-11-21 13:33:01.170 INFO  s.d.s.w.r.operation.CachingOperationNameGenerator[40]  Generating unique operation named: getLatestRecordContentUsingGET_7
2020-11-21 13:33:01.194 INFO  s.d.s.w.r.operation.CachingOperationNameGenerator[40]  Generating unique operation named: getSuperiorUsingGET_1
2020-11-21 13:33:01.236 INFO  s.d.s.w.r.operation.CachingOperationNameGenerator[40]  Generating unique operation named: confirmUsingPOST_12
2020-11-21 13:33:01.268 INFO  s.d.s.w.r.operation.CachingOperationNameGenerator[40]  Generating unique operation named: getDetailednessInfoUsingPOST_2
2020-11-21 13:33:01.271 INFO  s.d.s.w.r.operation.CachingOperationNameGenerator[40]  Generating unique operation named: getLatestRecordContentUsingGET_8
2020-11-21 13:33:01.286 INFO  s.d.s.w.r.operation.CachingOperationNameGenerator[40]  Generating unique operation named: getPullDownValueUsingGET_4
2020-11-21 13:33:01.309 INFO  s.d.s.w.r.operation.CachingOperationNameGenerator[40]  Generating unique operation named: saveRecordContentUsingPOST_5
2020-11-21 13:33:01.333 INFO  s.d.s.w.r.operation.CachingOperationNameGenerator[40]  Generating unique operation named: confirmUsingPOST_13
2020-11-21 13:33:01.346 INFO  s.d.s.w.r.operation.CachingOperationNameGenerator[40]  Generating unique operation named: exportInfoUsingPOST_2
2020-11-21 13:33:01.352 INFO  s.d.s.w.r.operation.CachingOperationNameGenerator[40]  Generating unique operation named: getDetailednessInfoUsingPOST_3
2020-11-21 13:33:01.362 INFO  s.d.s.w.r.operation.CachingOperationNameGenerator[40]  Generating unique operation named: getInfoListUsingPOST_3
2020-11-21 13:33:01.366 INFO  s.d.s.w.r.operation.CachingOperationNameGenerator[40]  Generating unique operation named: getPullDownValueUsingGET_5
2020-11-21 13:33:01.370 INFO  s.d.s.w.r.operation.CachingOperationNameGenerator[40]  Generating unique operation named: saveRecordContentUsingPOST_6
2020-11-21 13:33:01.380 INFO  s.d.s.w.r.operation.CachingOperationNameGenerator[40]  Generating unique operation named: getProgressUsingGET_1
2020-11-21 13:33:01.512 INFO  s.d.s.w.r.operation.CachingOperationNameGenerator[40]  Generating unique operation named: exportTraceablityManUsingPOST_1
2020-11-21 13:33:01.566 INFO  s.d.s.w.r.operation.CachingOperationNameGenerator[40]  Generating unique operation named: getSuperiorUsingGET_2
2020-11-21 13:33:01.649 INFO  o.s.scheduling.concurrent.ThreadPoolTaskScheduler[171]  Initializing ExecutorService
2020-11-21 13:33:01.653 INFO  c.j.qualityworkflow.modules.ipqc.job.ipqcMailJob[27]  查询IPQC超时任务
2020-11-21 13:33:01.658 INFO  org.apache.coyote.http11.Http11NioProtocol[173]  Starting ProtocolHandler ["http-nio-8115"]
2020-11-21 13:33:01.669 INFO  org.apache.tomcat.util.net.NioSelectorPool[173]  Using a shared selector for servlet write/read
2020-11-21 13:33:01.769 INFO  com.zaxxer.hikari.HikariDataSource[110]  HikariPool-1 - Starting...
2020-11-21 13:33:01.771 INFO  o.s.boot.web.embedded.tomcat.TomcatWebServer[204]  Tomcat started on port(s): 8115 (http) with context path ''
2020-11-21 13:33:01.772 WARN  com.zaxxer.hikari.util.DriverDataSource[68]  Registered driver with driverClassName=com.mysql.jdbc.Driver was not found, trying direct instantiation.
2020-11-21 13:33:01.775 INFO  cn.jwis.qualityworkflow.Application[59]  Started Application in 18.689 seconds (JVM running for 39.07)
2020-11-21 13:33:02.023 INFO  com.zaxxer.hikari.HikariDataSource[123]  HikariPool-1 - Start completed.
2020-11-21 13:33:02.030 DEBUG c.j.q.m.qims.dao.BlackDashBoardMapper.getHoliday[145]  ==>  Preparing: SELECT DISTINCT date FROM holiday_maintenance WHERE type = '节假日' 
2020-11-21 13:33:02.074 DEBUG c.j.q.m.qims.dao.BlackDashBoardMapper.getHoliday[145]  ==> Parameters: 
2020-11-21 13:33:02.090 DEBUG c.j.q.dao.TaskRecordMapper.getOverTimeTaskRecord[145]  ==>  Preparing: SELECT *, HOUR(timediff(now() , create_date)) overTimeNum FROM task_record WHERE template_key = ? AND task_state IS NULL AND task_name = ? AND HOUR(timediff(now() , create_date)) >= ? 
2020-11-21 13:33:02.091 DEBUG c.j.q.dao.TaskRecordMapper.getOverTimeTaskRecord[145]  ==> Parameters: FactoryAuditProcess(String), 部门审核(String), 24(Integer)
2020-11-21 13:33:02.106 DEBUG c.j.q.m.qims.dao.BlackDashBoardMapper.getHoliday[145]  <==      Total: 6
2020-11-21 13:33:02.110 DEBUG c.j.q.dao.TaskRecordMapper.getOverTimeTaskRecord[145]  <==      Total: 3
2020-11-21 13:33:02.110 DEBUG c.j.q.dao.TaskRecordMapper.getOverTimeTaskRecord2[145]  ==>  Preparing: SELECT *, HOUR(timediff(now() , create_date)) overTimeNum FROM task_record WHERE template_key = ? AND task_state IS NULL AND HOUR(timediff(now() , create_date)) >= ? 
2020-11-21 13:33:02.110 DEBUG c.j.q.dao.TaskRecordMapper.getOverTimeTaskRecord[145]  ==>  Preparing: SELECT *, HOUR(timediff(now() , create_date)) overTimeNum FROM task_record WHERE template_key = ? AND task_state IS NULL AND task_name = ? AND HOUR(timediff(now() , create_date)) >= ? 
2020-11-21 13:33:02.110 DEBUG c.j.q.dao.TaskRecordMapper.getOverTimeTaskRecord2[145]  ==> Parameters: IPQCAuditProcess(String), 24(Integer)
2020-11-21 13:33:02.110 DEBUG c.j.q.dao.TaskRecordMapper.getOverTimeTaskRecord[145]  ==> Parameters: Line Qualify(String), 文件收集(String), 2(Integer)
2020-11-21 13:33:02.131 DEBUG c.j.q.dao.TaskRecordMapper.getOverTimeTaskRecord[145]  <==      Total: 8
2020-11-21 13:33:02.132 DEBUG c.j.q.m.q.d.B.getWorkOvertimeList[145]  ==>  Preparing: SELECT DISTINCT date FROM holiday_maintenance WHERE type = '补班' 
2020-11-21 13:33:02.133 DEBUG c.j.q.m.q.d.B.getWorkOvertimeList[145]  ==> Parameters: 
2020-11-21 13:33:02.134 DEBUG c.j.q.dao.TaskRecordMapper.getOverTimeTaskRecord2[145]  <==      Total: 18
2020-11-21 13:33:02.135 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==>  Preparing: select time from email_history_info where id =? 
2020-11-21 13:33:02.135 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==> Parameters: 1295192540470837248(String)
2020-11-21 13:33:02.140 DEBUG c.j.q.m.q.d.B.getWorkOvertimeList[145]  <==      Total: 4
2020-11-21 13:33:02.141 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==>  Preparing: select time from email_history_info where id =? 
2020-11-21 13:33:02.141 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==> Parameters: 1294123945645047808(String)
2020-11-21 13:33:02.145 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  <==      Total: 1
2020-11-21 13:33:02.146 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==>  Preparing: select time from email_history_info where id =? 
2020-11-21 13:33:02.146 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==> Parameters: 1303868320843300864(String)
2020-11-21 13:33:02.150 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  <==      Total: 1
2020-11-21 13:33:02.150 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getLtStandard[145]  ==>  Preparing: select * from qims_lt_standard_info 
2020-11-21 13:33:02.151 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getLtStandard[145]  ==> Parameters: 
2020-11-21 13:33:02.153 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  <==      Total: 1
2020-11-21 13:33:02.154 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==>  Preparing: select time from email_history_info where id =? 
2020-11-21 13:33:02.155 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==> Parameters: 1295192619508301824(String)
2020-11-21 13:33:02.157 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==>  Preparing: select time from email_history_info where id =? 
2020-11-21 13:33:02.158 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==> Parameters: 1303868347422605312(String)
2020-11-21 13:33:02.162 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getLtStandard[145]  <==      Total: 8
2020-11-21 13:33:02.165 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  <==      Total: 1
2020-11-21 13:33:02.166 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==>  Preparing: select time from email_history_info where id =? 
2020-11-21 13:33:02.166 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==> Parameters: 1299240419787276288(String)
2020-11-21 13:33:02.173 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  <==      Total: 1
2020-11-21 13:33:02.174 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==>  Preparing: select time from email_history_info where id =? 
2020-11-21 13:33:02.174 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==> Parameters: 1303868393815801856(String)
2020-11-21 13:33:02.175 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  <==      Total: 1
2020-11-21 13:33:02.182 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  <==      Total: 1
2020-11-21 13:33:02.183 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==>  Preparing: select time from email_history_info where id =? 
2020-11-21 13:33:02.183 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==> Parameters: 1303937438065885184(String)
2020-11-21 13:33:02.195 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  <==      Total: 1
2020-11-21 13:33:02.196 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==>  Preparing: select time from email_history_info where id =? 
2020-11-21 13:33:02.196 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==> Parameters: 1303939538460082176(String)
2020-11-21 13:33:02.204 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  <==      Total: 1
2020-11-21 13:33:02.205 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==>  Preparing: select time from email_history_info where id =? 
2020-11-21 13:33:02.207 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==> Parameters: 1303939599889858560(String)
2020-11-21 13:33:02.216 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  <==      Total: 1
2020-11-21 13:33:02.218 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==>  Preparing: select time from email_history_info where id =? 
2020-11-21 13:33:02.218 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==> Parameters: 1306059696263659520(String)
2020-11-21 13:33:02.226 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  <==      Total: 1
2020-11-21 13:33:02.227 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==>  Preparing: select time from email_history_info where id =? 
2020-11-21 13:33:02.228 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==> Parameters: 1306155886347026432(String)
2020-11-21 13:33:02.243 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  <==      Total: 1
2020-11-21 13:33:02.245 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==>  Preparing: select time from email_history_info where id =? 
2020-11-21 13:33:02.245 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==> Parameters: 1306201167000240128(String)
2020-11-21 13:33:02.262 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  <==      Total: 1
2020-11-21 13:33:02.263 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==>  Preparing: select time from email_history_info where id =? 
2020-11-21 13:33:02.264 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==> Parameters: 1308013106458263552(String)
2020-11-21 13:33:02.281 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  <==      Total: 0
2020-11-21 13:33:02.307 INFO  c.j.qualityworkflow.modules.qims.job.qimsMailJob[47]  查询黑色问题超过LT的信息
2020-11-21 13:33:02.307 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getBlackList[145]  ==>  Preparing: select * from task_record where task_name in('初步原因分析','根本原因分析','根本原因审核') and task_state is null and template_key='QIMSBLACK' 
2020-11-21 13:33:02.307 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getBlackList[145]  ==> Parameters: 
2020-11-21 13:33:02.337 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getBlackList[145]  <==      Total: 16
2020-11-21 13:33:02.353 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==>  Preparing: select time from email_history_info where id =? 
2020-11-21 13:33:02.354 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==> Parameters: 1286902446076985344(String)
2020-11-21 13:33:02.381 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  <==      Total: 1
2020-11-21 13:33:02.540 INFO  cn.jwis.qualityworkflow.util.EmailService[142]  kiween email is 
2020-11-21 13:33:02.540 INFO  cn.jwis.qualityworkflow.util.EmailService[142]  hualanlan email is test@jwis.cn
2020-11-21 13:33:02.540 INFO  cn.jwis.qualityworkflow.util.EmailService[142]  qualityadmin email is 
2020-11-21 13:33:02.540 INFO  cn.jwis.qualityworkflow.util.EmailService[142]  dz_gyb1 email is test@jwis.cn
2020-11-21 13:33:02.541 DEBUG cn.jwis.qualityworkflow.dao.UserMapper.getSuperior[145]  ==>  Preparing: select superior from department_mapping where user_account = ? and type = ? limit 0,1 
2020-11-21 13:33:02.541 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==>  Preparing: select time from email_history_info where id =? 
2020-11-21 13:33:02.541 DEBUG cn.jwis.qualityworkflow.dao.UserMapper.getSuperior[145]  ==>  Preparing: select superior from department_mapping where user_account = ? and type = ? limit 0,1 
2020-11-21 13:33:02.541 DEBUG cn.jwis.qualityworkflow.dao.UserMapper.getSuperior[145]  ==> Parameters: hualanlan(String), QIMS(String)
2020-11-21 13:33:02.541 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==> Parameters: 1308013110702899200(String)
2020-11-21 13:33:02.541 DEBUG cn.jwis.qualityworkflow.dao.UserMapper.getSuperior[145]  ==> Parameters: dz_gyb1(String), COMMON(String)
2020-11-21 13:33:02.542 DEBUG cn.jwis.qualityworkflow.dao.UserMapper.getSuperior[145]  ==>  Preparing: select superior from department_mapping where user_account = ? and type = ? limit 0,1 
2020-11-21 13:33:02.543 DEBUG cn.jwis.qualityworkflow.dao.UserMapper.getSuperior[145]  ==> Parameters: qualityadmin(String), COMMON(String)
2020-11-21 13:33:02.554 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  <==      Total: 1
2020-11-21 13:33:02.559 DEBUG cn.jwis.qualityworkflow.dao.UserMapper.getSuperior[145]  <==      Total: 1
2020-11-21 13:33:02.559 DEBUG cn.jwis.qualityworkflow.dao.UserMapper.getSuperior[145]  <==      Total: 1
2020-11-21 13:33:02.559 DEBUG cn.jwis.qualityworkflow.dao.UserMapper.getSuperior[145]  <==      Total: 1
2020-11-21 13:33:02.560 DEBUG c.j.q.dao.UserMapper.getSuperiorManagerByUser[145]  ==>  Preparing: select superior_manager from department_mapping where user_account = ? and type = ? limit 0,1 
2020-11-21 13:33:02.561 DEBUG c.j.q.dao.UserMapper.getSuperiorManagerByUser[145]  ==> Parameters: hualanlan(String), QIMS(String)
2020-11-21 13:33:02.588 DEBUG c.j.q.dao.UserMapper.getSuperiorManagerByUser[145]  <==      Total: 1
2020-11-21 13:33:02.606 INFO  cn.jwis.qualityworkflow.util.EmailService[142]  qualityadmin email is 
2020-11-21 13:33:02.607 DEBUG cn.jwis.qualityworkflow.dao.UserMapper.getSuperior[145]  ==>  Preparing: select superior from department_mapping where user_account = ? and type = ? limit 0,1 
2020-11-21 13:33:02.607 INFO  cn.jwis.qualityworkflow.util.EmailService[142]  dz_gyb2 email is jian.song@jwis.cn
2020-11-21 13:33:02.607 DEBUG cn.jwis.qualityworkflow.dao.UserMapper.getSuperior[145]  ==> Parameters: qualityadmin(String), COMMON(String)
2020-11-21 13:33:02.608 DEBUG c.j.qualityworkflow.dao.CommonMapper.getKeyToName[145]  ==>  Preparing: SELECT * FROM key_to_name 
2020-11-21 13:33:02.608 DEBUG c.j.qualityworkflow.dao.CommonMapper.getKeyToName[145]  ==> Parameters: 
2020-11-21 13:33:02.610 INFO  cn.jwis.qualityworkflow.util.EmailService[142]  workflow3 email is null
2020-11-21 13:33:02.610 INFO  cn.jwis.qualityworkflow.util.EmailService[142]  qualityadmin email is 
2020-11-21 13:33:02.610 INFO  c.j.q.m.factoryaudit.job.AuditQuestionMailJob[31]  邮件下发结束
2020-11-21 13:33:02.614 DEBUG cn.jwis.qualityworkflow.dao.UserMapper.getSuperior[145]  <==      Total: 1
2020-11-21 13:33:02.616 DEBUG c.j.qualityworkflow.dao.CommonMapper.getKeyToName[145]  <==      Total: 8
2020-11-21 13:33:02.617 DEBUG c.j.q.m.l.d.L.getLineQualifyDetailednessInfo[145]  ==>  Preparing: SELECT q.*,ar.processInstanceId ,ar.taskId,ar.assignee,ar.taskState,ar.taskName FROM line_qualify_info q,(SELECT workflow_business_id, process_instance_id as processInstanceId,task_id as taskId,assignee,task_state as taskState,task_name taskName FROM task_record WHERE task_id=?) ar where q.id=ar.workflow_business_id 
2020-11-21 13:33:02.617 DEBUG c.j.q.m.l.d.L.getLineQualifyDetailednessInfo[145]  ==> Parameters: 5490632(String)
2020-11-21 13:33:02.628 DEBUG c.j.q.m.l.d.L.getLineQualifyDetailednessInfo[145]  <==      Total: 1
2020-11-21 13:33:02.635 INFO  cn.jwis.qualityworkflow.util.EmailService[142]  zhouxianling email is 
2020-11-21 13:33:02.636 INFO  cn.jwis.qualityworkflow.util.EmailService[142]  qualityadmin email is 
2020-11-21 13:33:02.636 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==>  Preparing: select time from email_history_info where id =? 
2020-11-21 13:33:02.637 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==> Parameters: 1308013113928318976(String)
2020-11-21 13:33:02.857 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  <==      Total: 1
2020-11-21 13:33:02.873 DEBUG c.j.qualityworkflow.dao.TaskRecordMapper.getById[145]  ==>  Preparing: SELECT * from task_record WHERE id = ? 
2020-11-21 13:33:02.873 DEBUG c.j.qualityworkflow.dao.TaskRecordMapper.getById[145]  ==> Parameters: 1286902446076985344(String)
2020-11-21 13:33:02.880 INFO  cn.jwis.qualityworkflow.util.EmailService[142]  qualityadmin email is 
2020-11-21 13:33:02.881 DEBUG cn.jwis.qualityworkflow.dao.UserMapper.getSuperior[145]  ==>  Preparing: select superior from department_mapping where user_account = ? and type = ? limit 0,1 
2020-11-21 13:33:02.882 DEBUG cn.jwis.qualityworkflow.dao.UserMapper.getSuperior[145]  ==> Parameters: qualityadmin(String), COMMON(String)
2020-11-21 13:33:02.886 DEBUG c.j.qualityworkflow.dao.TaskRecordMapper.getById[145]  <==      Total: 1
2020-11-21 13:33:02.886 DEBUG c.j.qualityworkflow.dao.CommonMapper.getKeyToName[145]  ==>  Preparing: SELECT * FROM key_to_name 
2020-11-21 13:33:02.887 DEBUG c.j.qualityworkflow.dao.CommonMapper.getKeyToName[145]  ==> Parameters: 
2020-11-21 13:33:02.891 DEBUG cn.jwis.qualityworkflow.dao.UserMapper.getSuperior[145]  <==      Total: 1
2020-11-21 13:33:02.894 DEBUG c.j.qualityworkflow.dao.CommonMapper.getKeyToName[145]  <==      Total: 8
2020-11-21 13:33:02.913 INFO  cn.jwis.qualityworkflow.util.EmailService[142]  qualityadmin email is 
2020-11-21 13:33:02.914 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==>  Preparing: select time from email_history_info where id =? 
2020-11-21 13:33:02.914 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==> Parameters: 1308013116927246336(String)
2020-11-21 13:33:02.921 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  <==      Total: 0
2020-11-21 13:33:02.945 INFO  cn.jwis.qualityworkflow.util.EmailService[142]  kiween email is 
2020-11-21 13:33:02.946 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==>  Preparing: select time from email_history_info where id =? 
2020-11-21 13:33:02.946 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==> Parameters: 1309046852858937344(String)
2020-11-21 13:33:02.954 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  <==      Total: 0
2020-11-21 13:33:02.976 INFO  cn.jwis.qualityworkflow.util.EmailService[142]  codisan email is kelvin@jwis.cn
2020-11-21 13:33:02.977 DEBUG c.j.qualityworkflow.dao.CommonMapper.getKeyToName[145]  ==>  Preparing: SELECT * FROM key_to_name 
2020-11-21 13:33:02.977 DEBUG c.j.qualityworkflow.dao.CommonMapper.getKeyToName[145]  ==> Parameters: 
2020-11-21 13:33:02.985 DEBUG c.j.qualityworkflow.dao.CommonMapper.getKeyToName[145]  <==      Total: 8
2020-11-21 13:33:03.400 INFO  cn.jwis.qualityworkflow.util.EmailService[74]  haomiao.liu@jwis.cn send a Mail to kelvin@jwis.cn fail, because null
2020-11-21 13:33:03.402 INFO  cn.jwis.qualityworkflow.util.EmailService[71]  haomiao.liu@jwis.cn send a Mail to test@jwis.cn
2020-11-21 13:33:03.402 INFO  cn.jwis.qualityworkflow.util.EmailService[69]  haomiao.liu@jwis.cn send a Mail to test@jwis.cn and make a copy for [jian.song@jwis.cn]
2020-11-21 13:33:04.284 ERROR o.s.s.support.TaskUtils$LoggingErrorHandler[96] org.springframework.mail.MailSendException: Failed messages: javax.mail.SendFailedException: Invalid Addresses;
  nested exception is:
	com.sun.mail.smtp.SMTPAddressFailedException: 554 RCPT (test@jwis.cn) dosn't exist

	at org.springframework.mail.javamail.JavaMailSenderImpl.doSend(JavaMailSenderImpl.java:488)
	at org.springframework.mail.javamail.JavaMailSenderImpl.send(JavaMailSenderImpl.java:359)
	at org.springframework.mail.javamail.JavaMailSenderImpl.send(JavaMailSenderImpl.java:354)
	at cn.jwis.qualityworkflow.util.EmailService.sendHtmlMail(EmailService.java:76)
	at cn.jwis.qualityworkflow.modules.qims.service.imp.QimsSendMailServiceImpl.sendEmailTohandler(QimsSendMailServiceImpl.java:161)
	at cn.jwis.qualityworkflow.modules.qims.service.imp.QimsSendMailServiceImpl.qimsSendMail(QimsSendMailServiceImpl.java:90)
	at cn.jwis.qualityworkflow.modules.qims.job.qimsMailJob.qimsSendMail(qimsMailJob.java:49)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.springframework.scheduling.support.ScheduledMethodRunnable.run(ScheduledMethodRunnable.java:84)
	at org.springframework.scheduling.support.DelegatingErrorHandlingRunnable.run(DelegatingErrorHandlingRunnable.java:54)
	at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:511)
	at java.util.concurrent.FutureTask.runAndReset(FutureTask.java:308)
	at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.access$301(ScheduledThreadPoolExecutor.java:180)
	at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:294)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)
 Unexpected error occurred in scheduled task.
2020-11-21 13:33:04.284 ERROR o.s.s.support.TaskUtils$LoggingErrorHandler[96] org.springframework.mail.MailSendException: Failed messages: javax.mail.SendFailedException: Invalid Addresses;
  nested exception is:
	com.sun.mail.smtp.SMTPAddressFailedException: 554 RCPT (kelvin@jwis.cn) dosn't exist

	at org.springframework.mail.javamail.JavaMailSenderImpl.doSend(JavaMailSenderImpl.java:488)
	at org.springframework.mail.javamail.JavaMailSenderImpl.send(JavaMailSenderImpl.java:359)
	at org.springframework.mail.javamail.JavaMailSenderImpl.send(JavaMailSenderImpl.java:354)
	at cn.jwis.qualityworkflow.util.EmailService.sendHtmlMail(EmailService.java:76)
	at cn.jwis.qualityworkflow.modules.qims.service.imp.QimsSendMailServiceImpl.sendEmailTohandler(QimsSendMailServiceImpl.java:161)
	at cn.jwis.qualityworkflow.modules.ipqc.service.imp.AuditQualityProblemServiceImpl.qimsSendMail(AuditQualityProblemServiceImpl.java:321)
	at cn.jwis.qualityworkflow.modules.ipqc.service.imp.AuditQualityProblemServiceImpl$$FastClassBySpringCGLIB$$15ff325f.invoke(<generated>)
	at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:684)
	at cn.jwis.qualityworkflow.modules.ipqc.service.imp.AuditQualityProblemServiceImpl$$EnhancerBySpringCGLIB$$8a31e793.qimsSendMail(<generated>)
	at cn.jwis.qualityworkflow.modules.ipqc.job.ipqcMailJob.qimsSendMail(ipqcMailJob.java:28)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.springframework.scheduling.support.ScheduledMethodRunnable.run(ScheduledMethodRunnable.java:84)
	at org.springframework.scheduling.support.DelegatingErrorHandlingRunnable.run(DelegatingErrorHandlingRunnable.java:54)
	at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:511)
	at java.util.concurrent.FutureTask.runAndReset(FutureTask.java:308)
	at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.access$301(ScheduledThreadPoolExecutor.java:180)
	at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:294)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)
 Unexpected error occurred in scheduled task.
2020-11-21 13:33:04.308 ERROR o.s.s.support.TaskUtils$LoggingErrorHandler[96] org.springframework.mail.MailSendException: Failed messages: javax.mail.SendFailedException: Invalid Addresses;
  nested exception is:
	com.sun.mail.smtp.SMTPAddressFailedException: 554 RCPT (test@jwis.cn) dosn't exist
;
  nested exception is:
	com.sun.mail.smtp.SMTPAddressFailedException: 554 RCPT (jian.song@jwis.cn) dosn't exist

	at org.springframework.mail.javamail.JavaMailSenderImpl.doSend(JavaMailSenderImpl.java:488)
	at org.springframework.mail.javamail.JavaMailSenderImpl.send(JavaMailSenderImpl.java:359)
	at org.springframework.mail.javamail.JavaMailSenderImpl.send(JavaMailSenderImpl.java:354)
	at cn.jwis.qualityworkflow.util.EmailService.sendHtmlMail(EmailService.java:76)
	at cn.jwis.qualityworkflow.modules.linequalify.service.imp.LineQualifyServiceImpl.sendEmailTohandler(LineQualifyServiceImpl.java:617)
	at cn.jwis.qualityworkflow.modules.linequalify.service.imp.LineQualifyServiceImpl.sendOverTimeMail(LineQualifyServiceImpl.java:594)
	at cn.jwis.qualityworkflow.modules.linequalify.service.imp.LineQualifyServiceImpl$$FastClassBySpringCGLIB$$4ca6f597.invoke(<generated>)
	at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:684)
	at cn.jwis.qualityworkflow.modules.linequalify.service.imp.LineQualifyServiceImpl$$EnhancerBySpringCGLIB$$d1a0f43b.sendOverTimeMail(<generated>)
	at cn.jwis.qualityworkflow.modules.linequalify.job.LineQualifyMailJob.sendOverTimeMail(LineQualifyMailJob.java:30)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.springframework.scheduling.support.ScheduledMethodRunnable.run(ScheduledMethodRunnable.java:84)
	at org.springframework.scheduling.support.DelegatingErrorHandlingRunnable.run(DelegatingErrorHandlingRunnable.java:54)
	at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:511)
	at java.util.concurrent.FutureTask.runAndReset(FutureTask.java:308)
	at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.access$301(ScheduledThreadPoolExecutor.java:180)
	at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:294)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)
 Unexpected error occurred in scheduled task.
2020-11-21 13:33:06.679 INFO  o.a.c.core.ContainerBase.[Tomcat].[localhost].[/][173]  Initializing Spring DispatcherServlet 'dispatcherServlet'
2020-11-21 13:33:06.680 INFO  org.springframework.web.servlet.DispatcherServlet[521]  Initializing Servlet 'dispatcherServlet'
2020-11-21 13:33:06.708 INFO  org.springframework.web.servlet.DispatcherServlet[543]  Completed initialization in 28 ms
2020-11-21 13:33:06.952 DEBUG c.j.q.m.ecn.dao.EcnInfoMapper.getPullDownValue[145]  ==>  Preparing: SELECT distinct file_name from ecn_info where file_name is not null 
2020-11-21 13:33:06.953 DEBUG c.j.q.m.ecn.dao.EcnInfoMapper.getPullDownValue[145]  ==>  Preparing: SELECT distinct document_originator from ecn_info where document_originator is not null 
2020-11-21 13:33:06.953 DEBUG c.j.q.m.ecn.dao.EcnInfoMapper.getPullDownValue[145]  ==> Parameters: 
2020-11-21 13:33:06.953 DEBUG c.j.q.m.ecn.dao.EcnInfoMapper.getPullDownValue[145]  ==> Parameters: 
2020-11-21 13:33:06.956 DEBUG c.j.q.m.ecn.dao.EcnInfoMapper.getPullDownValue[145]  ==>  Preparing: SELECT distinct sender_side from ecn_info where sender_side is not null 
2020-11-21 13:33:06.956 DEBUG c.j.q.m.ecn.dao.EcnInfoMapper.getPullDownValue[145]  ==>  Preparing: SELECT distinct model_name from ecn_info where model_name is not null 
2020-11-21 13:33:06.956 DEBUG c.j.q.m.ecn.dao.EcnInfoMapper.getPullDownValue[145]  ==> Parameters: 
2020-11-21 13:33:06.956 DEBUG c.j.q.m.ecn.dao.EcnInfoMapper.getPullDownValue[145]  ==> Parameters: 
2020-11-21 13:33:06.962 DEBUG c.j.q.m.ecn.dao.EcnInfoMapper.getPullDownValue[145]  <==      Total: 32
2020-11-21 13:33:06.963 DEBUG c.j.q.m.ecn.dao.EcnInfoMapper.getPullDownValue[145]  <==      Total: 7
2020-11-21 13:33:06.963 DEBUG c.j.q.m.ecn.dao.EcnInfoMapper.getPullDownValue[145]  <==      Total: 31
2020-11-21 13:33:06.966 DEBUG c.j.q.m.ecn.dao.EcnInfoMapper.getPullDownValue[145]  <==      Total: 30
2020-11-21 13:33:06.967 DEBUG c.j.q.dao.TaskRecordMapper.getProcessAgent[145]  ==>  Preparing: select * from (SELECT * FROM task_record UNION ALL SELECT id, "PCN" template_key, processInstanceId process_instance_id, assignee, pcnId workflow_business_id, taskState task_state, state, taskName task_name, taskId task_id, null department, createDate create_date, updateDate update_date, theme, item_number, creator FROM pcn_task_record) ar where 1=1 and ((ar.create_date >= ? and ar.create_date <= ?) or (ar.update_date >= ? and ar.update_date <= ?)) and (ar.task_state is null or ar.task_state = 'OnGoing') and ar.assignee =? order by ar.create_date desc limit ?,? 
2020-11-21 13:33:06.969 DEBUG c.j.q.dao.TaskRecordMapper.getProcessAgent[145]  ==> Parameters: 2020-10-22(String), 2020-11-22(String), 2020-10-22(String), 2020-11-22(String), hualanlan(String), 0(Integer), 15(Integer)
2020-11-21 13:33:07.004 DEBUG c.j.q.dao.TaskRecordMapper.getProcessAgent[145]  <==      Total: 3
2020-11-21 13:33:07.012 DEBUG c.j.q.dao.TaskRecordMapper.getProcessAgentCount[145]  ==>  Preparing: select count(1) from (SELECT * FROM task_record UNION ALL SELECT id, "PCN" template_key, processInstanceId process_instance_id, assignee, pcnId workflow_business_id, taskState task_state, state, taskName task_name, taskId task_id, null department, createDate create_date, updateDate update_date, theme, item_number, creator FROM pcn_task_record) ar where 1=1 and ((ar.create_date >= ? and ar.create_date <= ?) or (ar.update_date >= ? and ar.update_date <= ?)) and (ar.task_state is null or ar.task_state = 'OnGoing') and ar.assignee =? 
2020-11-21 13:33:07.013 DEBUG c.j.q.dao.TaskRecordMapper.getProcessAgentCount[145]  ==> Parameters: 2020-10-22(String), 2020-11-22(String), 2020-10-22(String), 2020-11-22(String), hualanlan(String)
2020-11-21 13:33:07.053 DEBUG c.j.q.dao.TaskRecordMapper.getProcessAgentCount[145]  <==      Total: 1
2020-11-21 13:33:07.057 DEBUG c.j.q.m.ecn.dao.EcnInfoMapper.getEcnInfo_COUNT[145]  ==>  Preparing: SELECT count(0) FROM ecn_info e, (SELECT t1.process_instance_id, t1.task_id, t1.task_state, t1.workflow_business_id FROM task_record t1 INNER JOIN ((SELECT process_instance_id, max(task_id) AS task_id, assignee FROM task_record WHERE template_key = 'QMSEcnProcess' AND assignee = ? GROUP BY process_instance_id) UNION (SELECT process_instance_id, max(task_id) AS task_id, assignee FROM task_record WHERE template_key = 'QMSEcnProcess' AND process_instance_id NOT IN (SELECT process_instance_id FROM task_record WHERE template_key = 'QMSEcnProcess' AND assignee = ? GROUP BY process_instance_id) GROUP BY process_instance_id)) t2 ON t1.process_instance_id = t2.process_instance_id AND t1.task_id = t2.task_id) ar WHERE e.id = ar.workflow_business_id AND posting_time >= DATE_FORMAT(?, '%Y-%m-%d') AND posting_time <= DATE_FORMAT(?, '%Y-%m-%d') 
2020-11-21 13:33:07.058 DEBUG c.j.q.m.ecn.dao.EcnInfoMapper.getEcnInfo_COUNT[145]  ==> Parameters: hualanlan(String), hualanlan(String), 2019-11-22(String), 2020-11-22(String)
2020-11-21 13:33:07.084 DEBUG c.j.q.m.ecn.dao.EcnInfoMapper.getEcnInfo_COUNT[145]  <==      Total: 1
2020-11-21 13:33:07.096 DEBUG c.j.q.modules.ecn.dao.EcnInfoMapper.getEcnInfo[145]  ==>  Preparing: SELECT e.*, ar.process_instance_id, ar.task_id, ar.task_state FROM ecn_info e, (SELECT t1.process_instance_id, t1.task_id, t1.task_state, t1.workflow_business_id FROM task_record t1 INNER JOIN ((SELECT process_instance_id, max(task_id) AS task_id, assignee FROM task_record WHERE template_key = 'QMSEcnProcess' AND assignee = ? GROUP BY process_instance_id) UNION (SELECT process_instance_id, max(task_id) AS task_id, assignee FROM task_record WHERE template_key = 'QMSEcnProcess' AND process_instance_id NOT IN (SELECT process_instance_id FROM task_record WHERE template_key = 'QMSEcnProcess' AND assignee = ? GROUP BY process_instance_id) GROUP BY process_instance_id)) t2 ON t1.process_instance_id = t2.process_instance_id AND t1.task_id = t2.task_id) ar WHERE e.id = ar.workflow_business_id AND posting_time >= DATE_FORMAT(?, '%Y-%m-%d') AND posting_time <= DATE_FORMAT(?, '%Y-%m-%d') order by create_date DESC LIMIT ? 
2020-11-21 13:33:07.097 DEBUG c.j.q.modules.ecn.dao.EcnInfoMapper.getEcnInfo[145]  ==> Parameters: hualanlan(String), hualanlan(String), 2019-11-22(String), 2020-11-22(String), 10(Integer)
2020-11-21 13:33:07.133 DEBUG c.j.q.modules.ecn.dao.EcnInfoMapper.getEcnInfo[145]  <==      Total: 10
2020-11-21 13:33:07.178 DEBUG c.j.q.dao.CommonMapper.getTransferParameter[145]  ==>  Preparing: select * from import_export_parameter_mapping b where b.table_name = ? and update_time = (SELECT max( update_time ) FROM import_export_parameter_mapping a where a.table_name = b.table_name AND a.parameter = b.parameter AND a.db_data= b.db_data) 
2020-11-21 13:33:07.179 DEBUG c.j.q.dao.CommonMapper.getTransferParameter[145]  ==> Parameters: ecn_info(String)
2020-11-21 13:33:07.194 DEBUG c.j.q.dao.CommonMapper.getTransferParameter[145]  <==      Total: 9
2020-11-21 13:33:10.016 DEBUG c.j.q.d.HistoryProcessRecordMapper.selectByExample[145]  ==>  Preparing: select id, workflow_type, workflow_node, workflow_businessId, type, creator, create_date, update_date, department, handle_opinion, reject_reason , content from history_process_record WHERE ( type = ? and workflow_type = ? and workflow_businessId is null and workflow_node = ? and creator = ? ) 
2020-11-21 13:33:10.017 DEBUG c.j.q.d.HistoryProcessRecordMapper.selectByExample[145]  ==> Parameters: SAVE(String), QMSEcnProcess(String), Apply(String), hualanlan(String)
2020-11-21 13:33:10.034 DEBUG c.j.q.d.HistoryProcessRecordMapper.selectByExample[145]  <==      Total: 0
2020-11-21 13:33:10.907 DEBUG c.j.q.dao.UserMapper.getDepartmentList[145]  ==>  Preparing: select DISTINCT department from department_mapping where type = ? and department is not null 
2020-11-21 13:33:10.908 DEBUG c.j.q.dao.UserMapper.getDepartmentList[145]  ==> Parameters: COMMON(String)
2020-11-21 13:33:10.923 DEBUG c.j.q.dao.UserMapper.getDepartmentList[145]  <==      Total: 21
2020-11-21 13:33:10.934 DEBUG c.j.q.dao.UserMapper.getDepartmentList[145]  ==>  Preparing: select DISTINCT department from department_mapping where type = ? and department is not null 
2020-11-21 13:33:10.935 DEBUG c.j.q.dao.UserMapper.getDepartmentList[145]  ==> Parameters: COMMON(String)
2020-11-21 13:33:10.944 DEBUG c.j.q.dao.UserMapper.getDepartmentList[145]  <==      Total: 21
2020-11-21 13:35:31.986 DEBUG c.j.q.dao.UserMapper.getUserListByDepartment[145]  ==>  Preparing: select DISTINCT user_account from department_mapping where department = ? and type = ? and user_account is not null and position is null 
2020-11-21 13:35:31.987 DEBUG c.j.q.dao.UserMapper.getUserListByDepartment[145]  ==> Parameters: TE(String), COMMON(String)
2020-11-21 13:35:31.999 DEBUG c.j.q.dao.UserMapper.getUserListByDepartment[145]  <==      Total: 27
2020-11-21 13:35:38.070 DEBUG c.j.q.dao.UserMapper.getUserListByDepartment[145]  ==>  Preparing: select DISTINCT user_account from department_mapping where department = ? and type = ? and user_account is not null and position is null 
2020-11-21 13:35:38.071 DEBUG c.j.q.dao.UserMapper.getUserListByDepartment[145]  ==> Parameters: CQM(String), COMMON(String)
2020-11-21 13:35:38.080 DEBUG c.j.q.dao.UserMapper.getUserListByDepartment[145]  <==      Total: 3
2020-11-21 13:35:43.510 DEBUG c.j.q.dao.UserMapper.getUserListByDepartment[145]  ==>  Preparing: select DISTINCT user_account from department_mapping where department = ? and type = ? and user_account is not null and position is null 
2020-11-21 13:35:43.513 DEBUG c.j.q.dao.UserMapper.getUserListByDepartment[145]  ==> Parameters: SMT ENG(String), COMMON(String)
2020-11-21 13:35:43.540 DEBUG c.j.q.dao.UserMapper.getUserListByDepartment[145]  <==      Total: 1
2020-11-21 13:36:02.337 DEBUG c.j.q.d.WorkflowVariableReflectMapper.getVariables[145]  ==>  Preparing: SELECT variable from workflow_variable_reflect where template_key = ? and node = ? 
2020-11-21 13:36:02.338 DEBUG c.j.q.d.WorkflowVariableReflectMapper.getVariables[145]  ==> Parameters: QMSEcnProcess(String), Apply(String)
2020-11-21 13:36:02.439 DEBUG c.j.q.d.WorkflowVariableReflectMapper.getVariables[145]  <==      Total: 3
2020-11-21 13:36:02.444 DEBUG c.j.q.modules.ecn.dao.EcnInfoMapper.getItemNumber[145]  ==>  Preparing: SELECT ecn_number_generator() 
2020-11-21 13:36:02.445 DEBUG c.j.q.modules.ecn.dao.EcnInfoMapper.getItemNumber[145]  ==> Parameters: 
2020-11-21 13:36:02.521 DEBUG c.j.q.modules.ecn.dao.EcnInfoMapper.getItemNumber[145]  <==      Total: 1
2020-11-21 13:36:02.522 DEBUG c.j.q.modules.ecn.dao.EcnInfoMapper.insert[145]  ==>  Preparing: insert into ecn_info (id, item_number, item_type, file_name, file_oid, sender_side, document_originator, model_name, change_type, posting_time, works_section, works_head, quality_head, status, involved_area, change_import_scheme, change_import_time, change_import_mode, ipqc_handler, ipqc_verification_results, ipqc_verification_reason, ipqc_verifier, ipqc_verification_time, project_approval_result, project_approval_opinion, project_approver, project_approver_time, odm_approval_result, odm_approval_opinion, odm_approver, odm_approver_time, sqe_approval_result, sqe_approval_opinion, sqe_approver, sqe_approver_time, file_address, assignee, remark, creator, create_date, update_date ) values (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ? ) 
2020-11-21 13:36:02.548 DEBUG c.j.q.modules.ecn.dao.EcnInfoMapper.insert[145]  ==> Parameters: 1330022136105926656(String), 20201121001(String), ECN(String), LCFC-logo.jpg(String), 1330021901324513280(String), HQ(String), 111(String), 111(String), BOM,软件(String), 2020-11-21 00:00:00.0(Timestamp), SMT ENG(String), hualanlan(String), hualanlan(String), Apply(String), null, null, null, null, hualanlan(String), null, null, null, null, null, null, null, null, null, null, hualanlan(String), null, null, null, hualanlan(String), null, 111(String), null, (String), hualanlan(String), null, null
2020-11-21 13:36:02.666 DEBUG c.j.q.modules.ecn.dao.EcnInfoMapper.insert[145]  <==    Updates: 1
2020-11-21 13:45:49.395 INFO  c.j.qualityworkflow.modules.ipqc.job.ipqcMailJob[27]  查询IPQC超时任务
2020-11-21 13:45:49.395 INFO  c.j.q.m.t.T.TraceabilityMachineTimerManager[50]  设备定时任务开启
2020-11-21 13:45:49.395 WARN  com.zaxxer.hikari.pool.HikariPool[766]  HikariPool-1 - Thread starvation or clock leap detected (housekeeper delta=9m47s243ms401µs677ns).
2020-11-21 13:46:10.734 DEBUG c.j.q.dao.TaskRecordMapper.getOverTimeTaskRecord2[145]  ==>  Preparing: SELECT *, HOUR(timediff(now() , create_date)) overTimeNum FROM task_record WHERE template_key = ? AND task_state IS NULL AND HOUR(timediff(now() , create_date)) >= ? 
2020-11-21 13:46:10.736 DEBUG c.j.q.dao.TaskRecordMapper.getOverTimeTaskRecord2[145]  ==> Parameters: IPQCAuditProcess(String), 24(Integer)
2020-11-21 13:46:10.737 DEBUG c.j.q.m.qims.dao.BlackDashBoardMapper.getHoliday[145]  ==>  Preparing: SELECT DISTINCT date FROM holiday_maintenance WHERE type = '节假日' 
2020-11-21 13:46:10.738 DEBUG c.j.q.m.qims.dao.BlackDashBoardMapper.getHoliday[145]  ==> Parameters: 
2020-11-21 13:46:10.734 DEBUG c.j.q.dao.TaskRecordMapper.getOverTimeTaskRecord[145]  ==>  Preparing: SELECT *, HOUR(timediff(now() , create_date)) overTimeNum FROM task_record WHERE template_key = ? AND task_state IS NULL AND task_name = ? AND HOUR(timediff(now() , create_date)) >= ? 
2020-11-21 13:46:10.739 DEBUG c.j.q.dao.TaskRecordMapper.getOverTimeTaskRecord[145]  ==> Parameters: Line Qualify(String), 文件收集(String), 2(Integer)
2020-11-21 13:46:10.751 DEBUG c.j.q.m.qims.dao.BlackDashBoardMapper.getHoliday[145]  <==      Total: 6
2020-11-21 13:46:10.752 DEBUG c.j.q.m.t.d.T.getTraceabilityMachineList[145]  ==>  Preparing: select table_name from traceability_machine_data group by table_name 
2020-11-21 13:46:10.752 DEBUG c.j.q.m.q.d.B.getWorkOvertimeList[145]  ==>  Preparing: SELECT DISTINCT date FROM holiday_maintenance WHERE type = '补班' 
2020-11-21 13:46:10.752 DEBUG c.j.q.m.t.d.T.getTraceabilityMachineList[145]  ==> Parameters: 
2020-11-21 13:46:10.752 DEBUG c.j.q.m.q.d.B.getWorkOvertimeList[145]  ==> Parameters: 
2020-11-21 13:46:10.753 DEBUG c.j.q.dao.TaskRecordMapper.getOverTimeTaskRecord[145]  ==>  Preparing: SELECT *, HOUR(timediff(now() , create_date)) overTimeNum FROM task_record WHERE template_key = ? AND task_state IS NULL AND task_name = ? AND HOUR(timediff(now() , create_date)) >= ? 
2020-11-21 13:46:10.753 DEBUG c.j.q.dao.TaskRecordMapper.getOverTimeTaskRecord2[145]  <==      Total: 18
2020-11-21 13:46:10.753 DEBUG c.j.q.dao.TaskRecordMapper.getOverTimeTaskRecord[145]  ==> Parameters: FactoryAuditProcess(String), 部门审核(String), 24(Integer)
2020-11-21 13:46:10.753 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==>  Preparing: select time from email_history_info where id =? 
2020-11-21 13:46:10.754 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==> Parameters: 1303868320843300864(String)
2020-11-21 13:46:10.760 DEBUG c.j.q.dao.TaskRecordMapper.getOverTimeTaskRecord[145]  <==      Total: 8
2020-11-21 13:46:10.760 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==>  Preparing: select time from email_history_info where id =? 
2020-11-21 13:46:10.761 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==> Parameters: 1294123945645047808(String)
2020-11-21 13:46:10.769 DEBUG c.j.q.m.q.d.B.getWorkOvertimeList[145]  <==      Total: 4
2020-11-21 13:46:10.769 DEBUG c.j.q.m.t.d.T.getTraceabilityMachineList[145]  <==      Total: 5
2020-11-21 13:46:10.769 DEBUG c.j.q.dao.TaskRecordMapper.getOverTimeTaskRecord[145]  <==      Total: 3
2020-11-21 13:46:10.769 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getLtStandard[145]  ==>  Preparing: select * from qims_lt_standard_info 
2020-11-21 13:46:10.769 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getLtStandard[145]  ==> Parameters: 
2020-11-21 13:46:10.769 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==>  Preparing: select time from email_history_info where id =? 
2020-11-21 13:46:10.769 DEBUG c.j.q.m.t.d.T.getTraceabilityMachineFiledName[145]  ==>  Preparing: select filed_name from traceability_machine_data where table_name=? 
2020-11-21 13:46:10.769 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  <==      Total: 1
2020-11-21 13:46:10.770 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==> Parameters: 1295192540470837248(String)
2020-11-21 13:46:10.770 DEBUG c.j.q.m.t.d.T.getTraceabilityMachineFiledName[145]  ==> Parameters: dust_free_shed(String)
2020-11-21 13:46:10.770 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==>  Preparing: select time from email_history_info where id =? 
2020-11-21 13:46:10.771 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==> Parameters: 1303868347422605312(String)
2020-11-21 13:46:10.776 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  <==      Total: 1
2020-11-21 13:46:10.776 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  <==      Total: 1
2020-11-21 13:46:10.777 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==>  Preparing: select time from email_history_info where id =? 
2020-11-21 13:46:10.777 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getLtStandard[145]  <==      Total: 8
2020-11-21 13:46:10.777 INFO  c.j.qualityworkflow.modules.qims.job.qimsMailJob[47]  查询黑色问题超过LT的信息
2020-11-21 13:46:10.777 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==> Parameters: 1295192619508301824(String)
2020-11-21 13:46:10.777 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getBlackList[145]  ==>  Preparing: select * from task_record where task_name in('初步原因分析','根本原因分析','根本原因审核') and task_state is null and template_key='QIMSBLACK' 
2020-11-21 13:46:10.777 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getBlackList[145]  ==> Parameters: 
2020-11-21 13:46:10.782 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  <==      Total: 1
2020-11-21 13:46:10.782 DEBUG c.j.q.m.t.d.T.getTraceabilityMachineFiledName[145]  <==      Total: 11
2020-11-21 13:46:10.782 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==>  Preparing: select time from email_history_info where id =? 
2020-11-21 13:46:10.782 DEBUG c.j.q.m.t.d.T.getMaxCreateTime[145]  ==>  Preparing: select max(createtime) from dust_free_shed 
2020-11-21 13:46:10.782 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==> Parameters: 1303868393815801856(String)
2020-11-21 13:46:10.783 DEBUG c.j.q.m.t.d.T.getMaxCreateTime[145]  ==> Parameters: 
2020-11-21 13:46:10.790 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  <==      Total: 1
2020-11-21 13:46:10.790 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  <==      Total: 1
2020-11-21 13:46:10.791 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==>  Preparing: select time from email_history_info where id =? 
2020-11-21 13:46:10.791 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==>  Preparing: select time from email_history_info where id =? 
2020-11-21 13:46:10.791 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==> Parameters: 1299240419787276288(String)
2020-11-21 13:46:10.791 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==> Parameters: 1303937438065885184(String)
2020-11-21 13:46:10.792 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getBlackList[145]  <==      Total: 16
2020-11-21 13:46:10.798 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==>  Preparing: select time from email_history_info where id =? 
2020-11-21 13:46:10.799 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==> Parameters: 1286902446076985344(String)
2020-11-21 13:46:10.799 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  <==      Total: 1
2020-11-21 13:46:10.799 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  <==      Total: 1
2020-11-21 13:46:10.799 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==>  Preparing: select time from email_history_info where id =? 
2020-11-21 13:46:10.799 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==> Parameters: 1303939538460082176(String)
2020-11-21 13:46:10.806 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  <==      Total: 1
2020-11-21 13:46:10.807 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  <==      Total: 1
2020-11-21 13:46:10.807 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==>  Preparing: select time from email_history_info where id =? 
2020-11-21 13:46:10.807 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==> Parameters: 1303939599889858560(String)
2020-11-21 13:46:10.816 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  <==      Total: 1
2020-11-21 13:46:10.817 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==>  Preparing: select time from email_history_info where id =? 
2020-11-21 13:46:10.817 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==> Parameters: 1306059696263659520(String)
2020-11-21 13:46:10.826 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  <==      Total: 1
2020-11-21 13:46:10.826 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==>  Preparing: select time from email_history_info where id =? 
2020-11-21 13:46:10.826 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==> Parameters: 1306155886347026432(String)
2020-11-21 13:46:10.865 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  <==      Total: 1
2020-11-21 13:46:10.865 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==>  Preparing: select time from email_history_info where id =? 
2020-11-21 13:46:10.866 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==> Parameters: 1306201167000240128(String)
2020-11-21 13:46:10.873 DEBUG c.j.q.m.t.d.T.getMaxCreateTime[145]  <==      Total: 1
2020-11-21 13:46:10.898 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  <==      Total: 1
2020-11-21 13:46:10.899 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==>  Preparing: select time from email_history_info where id =? 
2020-11-21 13:46:10.899 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==> Parameters: 1308013106458263552(String)
2020-11-21 13:46:10.930 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  <==      Total: 0
2020-11-21 13:46:11.155 ERROR o.s.s.support.TaskUtils$LoggingErrorHandler[96] java.lang.NullPointerException: null
	at cn.jwis.qualityworkflow.modules.traceablity.TimerManager.TraceabilityMachineTimerManager.getLenovoMachineData(TraceabilityMachineTimerManager.java:105)
	at cn.jwis.qualityworkflow.modules.traceablity.TimerManager.TraceabilityMachineTimerManager.MachineTimerManager(TraceabilityMachineTimerManager.java:57)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.springframework.scheduling.support.ScheduledMethodRunnable.run(ScheduledMethodRunnable.java:84)
	at org.springframework.scheduling.support.DelegatingErrorHandlingRunnable.run(DelegatingErrorHandlingRunnable.java:54)
	at org.springframework.scheduling.concurrent.ReschedulingRunnable.run(ReschedulingRunnable.java:93)
	at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:511)
	at java.util.concurrent.FutureTask.run(FutureTask.java:266)
	at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.access$201(ScheduledThreadPoolExecutor.java:180)
	at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:293)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)
 Unexpected error occurred in scheduled task.
2020-11-21 13:46:18.394 INFO  cn.jwis.configration.clientUtil.ConfigCenterHelper[40]  Loading config by :http://10.159.65.221:14200/configCenter/findConfig?side=server&serviceName=pqm-quality-workflow-service&env=dev&configType=properties
2020-11-21 13:46:18.397 INFO  cn.jwis.configration.clientUtil.HttpClientUtil[51]  Http Request:http://10.159.65.221:14200/configCenter/findConfig?side=server&serviceName=pqm-quality-workflow-service&env=dev&configType=properties
2020-11-21 13:46:34.032 ERROR cn.jwis.configration.clientUtil.HttpClientUtil[77]  send Http Request to:http://10.159.65.221:14200/configCenter/findConfig?side=server&serviceName=pqm-quality-workflow-service&env=dev&configType=properties ,has errors:Connect to 10.159.65.221:14200 [/10.159.65.221] failed: connect timed out
2020-11-21 13:46:34.033 INFO  cn.jwis.configration.clientUtil.ConfigCenterHelper[43]  Get config :
2020-11-21 13:46:34.074 ERROR cn.jwis.configration.clientUtil.ConfigCenterHelper[56]  null
2020-11-21 13:46:34.387 INFO  cn.jwis.qualityworkflow.Application[50]  Starting Application on THINK-Lx with PID 8912 (C:\Users\THINK\Desktop\QMS-Server\quality-workflow-service\target\classes started by THINK in C:\Users\THINK\Desktop\QMS-Server\quality-workflow-service)
2020-11-21 13:46:34.388 DEBUG cn.jwis.qualityworkflow.Application[53]  Running with Spring Boot v2.1.0.RELEASE, Spring v5.1.2.RELEASE
2020-11-21 13:46:34.389 INFO  cn.jwis.qualityworkflow.Application[679]  The following profiles are active: dev
2020-11-21 13:46:35.887 INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker[330]  Bean 'org.springframework.amqp.rabbit.annotation.RabbitBootstrapConfiguration' of type [org.springframework.amqp.rabbit.annotation.RabbitBootstrapConfiguration$$EnhancerBySpringCGLIB$$cbf03cc1] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2020-11-21 13:46:35.956 INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker[330]  Bean 'org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration' of type [org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration$$EnhancerBySpringCGLIB$$5847e93] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2020-11-21 13:46:36.489 INFO  o.s.boot.web.embedded.tomcat.TomcatWebServer[90]  Tomcat initialized with port(s): 8115 (http)
2020-11-21 13:46:36.502 INFO  org.apache.coyote.http11.Http11NioProtocol[173]  Initializing ProtocolHandler ["http-nio-8115"]
2020-11-21 13:46:36.507 INFO  org.apache.catalina.core.StandardService[173]  Starting service [Tomcat]
2020-11-21 13:46:36.508 INFO  org.apache.catalina.core.StandardEngine[173]  Starting Servlet Engine: Apache Tomcat/9.0.12
2020-11-21 13:46:36.515 INFO  org.apache.catalina.core.AprLifecycleListener[173]  The APR based Apache Tomcat Native library which allows optimal performance in production environments was not found on the java.library.path: [C:\Program Files\Java\jdk1.8.0_192\bin;C:\Windows\Sun\Java\bin;C:\Windows\system32;C:\Windows;C:\Program Files\Java\jdk1.8.0_192\bin;C:\Program Files\Java\jdk1.8.0_192\jre\bin;D:\java\apache-maven-3.6.0\bin;C:\Program Files (x86)\Common Files\Oracle\Java\javapath;C:\Windows\system32;C:\Windows;C:\Windows\System32\Wbem;C:\Windows\System32\WindowsPowerShell\v1.0\;D:\job\Git\cmd;C:\Program Files\TortoiseGit\bin;C:\Program Files\nodejs\;D:\java\mysql\mysql-5.7.11-winx64\bin;D:\job\Microsoft VS Code\bin;C:\Program Files\Microsoft VS Code\bin;C:\Users\THINK\AppData\Roaming\npm;.]
2020-11-21 13:46:36.614 INFO  o.a.c.core.ContainerBase.[Tomcat].[localhost].[/][173]  Initializing Spring embedded WebApplicationContext
2020-11-21 13:46:36.614 INFO  org.springframework.web.context.ContextLoader[285]  Root WebApplicationContext: initialization completed in 2188 ms
2020-11-21 13:46:36.651 INFO  o.s.boot.web.servlet.ServletRegistrationBean[186]  Servlet dispatcherServlet mapped to [/]
2020-11-21 13:46:36.656 INFO  o.s.boot.web.servlet.FilterRegistrationBean[248]  Mapping filter: 'characterEncodingFilter' to: [/*]
2020-11-21 13:46:36.657 INFO  o.s.boot.web.servlet.FilterRegistrationBean[248]  Mapping filter: 'hiddenHttpMethodFilter' to: [/*]
2020-11-21 13:46:36.657 INFO  o.s.boot.web.servlet.FilterRegistrationBean[248]  Mapping filter: 'formContentFilter' to: [/*]
2020-11-21 13:46:36.658 INFO  o.s.boot.web.servlet.FilterRegistrationBean[248]  Mapping filter: 'requestContextFilter' to: [/*]
2020-11-21 13:46:38.891 INFO  o.s.scheduling.concurrent.ThreadPoolTaskExecutor[171]  Initializing ExecutorService 'applicationTaskExecutor'
2020-11-21 13:46:39.367 INFO  s.d.s.web.plugins.DocumentationPluginsBootstrapper[120]  Context refreshed
2020-11-21 13:46:39.381 INFO  s.d.s.web.plugins.DocumentationPluginsBootstrapper[123]  Found 1 custom documentation plugin(s)
2020-11-21 13:46:39.398 INFO  s.d.spring.web.scanners.ApiListingReferenceScanner[41]  Scanning for api listing references
2020-11-21 13:46:39.749 INFO  s.d.s.w.r.operation.CachingOperationNameGenerator[40]  Generating unique operation named: confirmUsingPOST_1
2020-11-21 13:46:40.146 INFO  s.d.s.w.r.operation.CachingOperationNameGenerator[40]  Generating unique operation named: exportUnseasonalBolaUsingGET_1
2020-11-21 13:46:40.153 INFO  s.d.s.w.r.operation.CachingOperationNameGenerator[40]  Generating unique operation named: exportUnseasonalListUsingPOST_1
2020-11-21 13:46:40.161 INFO  s.d.s.w.r.operation.CachingOperationNameGenerator[40]  Generating unique operation named: getAllAndCloseUsingPOST_1
2020-11-21 13:46:40.167 INFO  s.d.s.w.r.operation.CachingOperationNameGenerator[40]  Generating unique operation named: getAllDataUsingPOST_1
2020-11-21 13:46:40.175 INFO  s.d.s.w.r.operation.CachingOperationNameGenerator[40]  Generating unique operation named: getBlackDetailsUsingPOST_1
2020-11-21 13:46:40.182 INFO  s.d.s.w.r.operation.CachingOperationNameGenerator[40]  Generating unique operation named: getDashBoardCloseUsingPOST_1
2020-11-21 13:46:40.189 INFO  s.d.s.w.r.operation.CachingOperationNameGenerator[40]  Generating unique operation named: getDashBoardNotCloseUsingPOST_1
2020-11-21 13:46:40.196 INFO  s.d.s.w.r.operation.CachingOperationNameGenerator[40]  Generating unique operation named: getOverdueUsingPOST_1
2020-11-21 13:46:40.203 INFO  s.d.s.w.r.operation.CachingOperationNameGenerator[40]  Generating unique operation named: getUnseasonalBolaUsingGET_1
2020-11-21 13:46:40.210 INFO  s.d.s.w.r.operation.CachingOperationNameGenerator[40]  Generating unique operation named: getUnseasonalListUsingPOST_1
2020-11-21 13:46:40.218 INFO  s.d.s.w.r.operation.CachingOperationNameGenerator[40]  Generating unique operation named: confirmUsingPOST_2
2020-11-21 13:46:40.260 INFO  s.d.s.w.r.operation.CachingOperationNameGenerator[40]  Generating unique operation named: getLatestRecordContentUsingGET_1
2020-11-21 13:46:40.282 INFO  s.d.s.w.r.operation.CachingOperationNameGenerator[40]  Generating unique operation named: saveRecordContentUsingPOST_1
2020-11-21 13:46:40.309 INFO  s.d.s.w.r.operation.CachingOperationNameGenerator[40]  Generating unique operation named: getDropdownValueUsingGET_1
2020-11-21 13:46:40.333 INFO  s.d.s.w.r.operation.CachingOperationNameGenerator[40]  Generating unique operation named: confirmUsingPOST_3
2020-11-21 13:46:40.343 INFO  s.d.s.w.r.operation.CachingOperationNameGenerator[40]  Generating unique operation named: getDropdownValueUsingGET_2
2020-11-21 13:46:40.351 INFO  s.d.s.w.r.operation.CachingOperationNameGenerator[40]  Generating unique operation named: getLatestRecordContentUsingGET_2
2020-11-21 13:46:40.369 INFO  s.d.s.w.r.operation.CachingOperationNameGenerator[40]  Generating unique operation named: exportEsdAdministrationUsingPOST_1
2020-11-21 13:46:40.406 INFO  s.d.s.w.r.operation.CachingOperationNameGenerator[40]  Generating unique operation named: getDropdownValueUsingGET_3
2020-11-21 13:46:40.478 INFO  s.d.s.w.r.operation.CachingOperationNameGenerator[40]  Generating unique operation named: confirmUsingPOST_4
2020-11-21 13:46:40.495 INFO  s.d.s.w.r.operation.CachingOperationNameGenerator[40]  Generating unique operation named: getDropdownValueUsingGET_4
2020-11-21 13:46:40.522 INFO  s.d.s.w.r.operation.CachingOperationNameGenerator[40]  Generating unique operation named: getLatestRecordContentUsingGET_3
2020-11-21 13:46:40.604 INFO  s.d.s.w.r.operation.CachingOperationNameGenerator[40]  Generating unique operation named: exportEsdInStanInfoTemplateUsingGET_1
2020-11-21 13:46:40.762 INFO  s.d.s.w.r.operation.CachingOperationNameGenerator[40]  Generating unique operation named: confirmUsingPOST_5
2020-11-21 13:46:40.772 INFO  s.d.s.w.r.operation.CachingOperationNameGenerator[40]  Generating unique operation named: getDropdownValueUsingGET_5
2020-11-21 13:46:40.805 INFO  s.d.s.w.r.operation.CachingOperationNameGenerator[40]  Generating unique operation named: confirmUsingPOST_6
2020-11-21 13:46:40.826 INFO  s.d.s.w.r.operation.CachingOperationNameGenerator[40]  Generating unique operation named: findTableNameBySampleNameUsingGET_1
2020-11-21 13:46:40.863 INFO  s.d.s.w.r.operation.CachingOperationNameGenerator[40]  Generating unique operation named: commonExportTemplateUsingPOST_1
2020-11-21 13:46:40.883 INFO  s.d.s.w.r.operation.CachingOperationNameGenerator[40]  Generating unique operation named: confirmUsingPOST_7
2020-11-21 13:46:40.893 INFO  s.d.s.w.r.operation.CachingOperationNameGenerator[40]  Generating unique operation named: exportEcnInfoUsingPOST_1
2020-11-21 13:46:40.898 INFO  s.d.s.w.r.operation.CachingOperationNameGenerator[40]  Generating unique operation named: getDetailednessInfoUsingPOST_1
2020-11-21 13:46:40.901 INFO  s.d.s.w.r.operation.CachingOperationNameGenerator[40]  Generating unique operation named: getLatestRecordContentUsingGET_4
2020-11-21 13:46:40.907 INFO  s.d.s.w.r.operation.CachingOperationNameGenerator[40]  Generating unique operation named: getPullDownValueUsingGET_1
2020-11-21 13:46:40.910 INFO  s.d.s.w.r.operation.CachingOperationNameGenerator[40]  Generating unique operation named: saveRecordContentUsingPOST_2
2020-11-21 13:46:40.926 INFO  s.d.s.w.r.operation.CachingOperationNameGenerator[40]  Generating unique operation named: exportDetailsUsingPOST_1
2020-11-21 13:46:40.932 INFO  s.d.s.w.r.operation.CachingOperationNameGenerator[40]  Generating unique operation named: exportUnseasonalBolaUsingGET_2
2020-11-21 13:46:40.938 INFO  s.d.s.w.r.operation.CachingOperationNameGenerator[40]  Generating unique operation named: exportUnseasonalListUsingPOST_2
2020-11-21 13:46:40.945 INFO  s.d.s.w.r.operation.CachingOperationNameGenerator[40]  Generating unique operation named: getAllAndCloseUsingPOST_2
2020-11-21 13:46:40.950 INFO  s.d.s.w.r.operation.CachingOperationNameGenerator[40]  Generating unique operation named: getAllDataUsingPOST_2
2020-11-21 13:46:40.957 INFO  s.d.s.w.r.operation.CachingOperationNameGenerator[40]  Generating unique operation named: getDashBoardCloseUsingPOST_2
2020-11-21 13:46:40.963 INFO  s.d.s.w.r.operation.CachingOperationNameGenerator[40]  Generating unique operation named: getDashBoardNotCloseUsingPOST_2
2020-11-21 13:46:40.975 INFO  s.d.s.w.r.operation.CachingOperationNameGenerator[40]  Generating unique operation named: getOverdueUsingPOST_2
2020-11-21 13:46:40.982 INFO  s.d.s.w.r.operation.CachingOperationNameGenerator[40]  Generating unique operation named: getUnseasonalBolaUsingGET_2
2020-11-21 13:46:40.988 INFO  s.d.s.w.r.operation.CachingOperationNameGenerator[40]  Generating unique operation named: getUnseasonalListUsingPOST_2
2020-11-21 13:46:41.005 INFO  s.d.s.w.r.operation.CachingOperationNameGenerator[40]  Generating unique operation named: getDropdownValueUsingGET_6
2020-11-21 13:46:41.054 INFO  s.d.s.w.r.operation.CachingOperationNameGenerator[40]  Generating unique operation named: confirmUsingPOST_8
2020-11-21 13:46:41.083 INFO  s.d.s.w.r.operation.CachingOperationNameGenerator[40]  Generating unique operation named: getDropdownValueUsingGET_7
2020-11-21 13:46:41.122 INFO  s.d.s.w.r.operation.CachingOperationNameGenerator[40]  Generating unique operation named: exportInfoUsingPOST_1
2020-11-21 13:46:41.128 INFO  s.d.s.w.r.operation.CachingOperationNameGenerator[40]  Generating unique operation named: getAddCountUsingPOST_1
2020-11-21 13:46:41.136 INFO  s.d.s.w.r.operation.CachingOperationNameGenerator[40]  Generating unique operation named: getDashBoardCountUsingPOST_1
2020-11-21 13:46:41.146 INFO  s.d.s.w.r.operation.CachingOperationNameGenerator[40]  Generating unique operation named: getInfoListUsingPOST_1
2020-11-21 13:46:41.149 INFO  s.d.s.w.r.operation.CachingOperationNameGenerator[40]  Generating unique operation named: getLatestRecordContentUsingGET_5
2020-11-21 13:46:41.157 INFO  s.d.s.w.r.operation.CachingOperationNameGenerator[40]  Generating unique operation named: getOverdueCountUsingPOST_1
2020-11-21 13:46:41.161 INFO  s.d.s.w.r.operation.CachingOperationNameGenerator[40]  Generating unique operation named: getProcessingCountUsingPOST_1
2020-11-21 13:46:41.164 INFO  s.d.s.w.r.operation.CachingOperationNameGenerator[40]  Generating unique operation named: getPullDownValueUsingGET_2
2020-11-21 13:46:41.177 INFO  s.d.s.w.r.operation.CachingOperationNameGenerator[40]  Generating unique operation named: insertUsingPOST_1
2020-11-21 13:46:41.181 INFO  s.d.s.w.r.operation.CachingOperationNameGenerator[40]  Generating unique operation named: saveRecordContentUsingPOST_3
2020-11-21 13:46:41.195 INFO  s.d.s.w.r.operation.CachingOperationNameGenerator[40]  Generating unique operation named: getInfoListUsingPOST_2
2020-11-21 13:46:41.202 INFO  s.d.s.w.r.operation.CachingOperationNameGenerator[40]  Generating unique operation named: getPullDownValueUsingGET_3
2020-11-21 13:46:41.210 INFO  s.d.s.w.r.operation.CachingOperationNameGenerator[40]  Generating unique operation named: insertUsingPOST_2
2020-11-21 13:46:41.224 INFO  s.d.s.w.r.operation.CachingOperationNameGenerator[40]  Generating unique operation named: getAuditListInfoByIdUsingPOST_1
2020-11-21 13:46:41.254 INFO  s.d.s.w.r.operation.CachingOperationNameGenerator[40]  Generating unique operation named: confirmUsingPOST_9
2020-11-21 13:46:41.269 INFO  s.d.s.w.r.operation.CachingOperationNameGenerator[40]  Generating unique operation named: getLatestRecordContentUsingPOST_1
2020-11-21 13:46:41.289 INFO  s.d.s.w.r.operation.CachingOperationNameGenerator[40]  Generating unique operation named: saveRecordContentUsingPOST_4
2020-11-21 13:46:41.298 INFO  s.d.s.w.r.operation.CachingOperationNameGenerator[40]  Generating unique operation named: confirmUsingPOST_10
2020-11-21 13:46:41.329 INFO  s.d.s.w.r.operation.CachingOperationNameGenerator[40]  Generating unique operation named: getDropdownValueUsingGET_8
2020-11-21 13:46:41.334 INFO  s.d.s.w.r.operation.CachingOperationNameGenerator[40]  Generating unique operation named: getLatestRecordContentUsingGET_6
2020-11-21 13:46:41.430 INFO  s.d.s.w.r.operation.CachingOperationNameGenerator[40]  Generating unique operation named: confirmUsingPOST_11
2020-11-21 13:46:41.458 INFO  s.d.s.w.r.operation.CachingOperationNameGenerator[40]  Generating unique operation named: getDropdownValueUsingGET_9
2020-11-21 13:46:41.463 INFO  s.d.s.w.r.operation.CachingOperationNameGenerator[40]  Generating unique operation named: getLatestRecordContentUsingGET_7
2020-11-21 13:46:41.482 INFO  s.d.s.w.r.operation.CachingOperationNameGenerator[40]  Generating unique operation named: getSuperiorUsingGET_1
2020-11-21 13:46:41.521 INFO  s.d.s.w.r.operation.CachingOperationNameGenerator[40]  Generating unique operation named: confirmUsingPOST_12
2020-11-21 13:46:41.554 INFO  s.d.s.w.r.operation.CachingOperationNameGenerator[40]  Generating unique operation named: getDetailednessInfoUsingPOST_2
2020-11-21 13:46:41.557 INFO  s.d.s.w.r.operation.CachingOperationNameGenerator[40]  Generating unique operation named: getLatestRecordContentUsingGET_8
2020-11-21 13:46:41.574 INFO  s.d.s.w.r.operation.CachingOperationNameGenerator[40]  Generating unique operation named: getPullDownValueUsingGET_4
2020-11-21 13:46:41.599 INFO  s.d.s.w.r.operation.CachingOperationNameGenerator[40]  Generating unique operation named: saveRecordContentUsingPOST_5
2020-11-21 13:46:41.622 INFO  s.d.s.w.r.operation.CachingOperationNameGenerator[40]  Generating unique operation named: confirmUsingPOST_13
2020-11-21 13:46:41.633 INFO  s.d.s.w.r.operation.CachingOperationNameGenerator[40]  Generating unique operation named: exportInfoUsingPOST_2
2020-11-21 13:46:41.637 INFO  s.d.s.w.r.operation.CachingOperationNameGenerator[40]  Generating unique operation named: getDetailednessInfoUsingPOST_3
2020-11-21 13:46:41.645 INFO  s.d.s.w.r.operation.CachingOperationNameGenerator[40]  Generating unique operation named: getInfoListUsingPOST_3
2020-11-21 13:46:41.649 INFO  s.d.s.w.r.operation.CachingOperationNameGenerator[40]  Generating unique operation named: getPullDownValueUsingGET_5
2020-11-21 13:46:41.652 INFO  s.d.s.w.r.operation.CachingOperationNameGenerator[40]  Generating unique operation named: saveRecordContentUsingPOST_6
2020-11-21 13:46:41.662 INFO  s.d.s.w.r.operation.CachingOperationNameGenerator[40]  Generating unique operation named: getProgressUsingGET_1
2020-11-21 13:46:41.784 INFO  s.d.s.w.r.operation.CachingOperationNameGenerator[40]  Generating unique operation named: exportTraceablityManUsingPOST_1
2020-11-21 13:46:41.837 INFO  s.d.s.w.r.operation.CachingOperationNameGenerator[40]  Generating unique operation named: getSuperiorUsingGET_2
2020-11-21 13:46:41.905 INFO  o.s.scheduling.concurrent.ThreadPoolTaskScheduler[171]  Initializing ExecutorService
2020-11-21 13:46:41.910 INFO  c.j.qualityworkflow.modules.ipqc.job.ipqcMailJob[27]  查询IPQC超时任务
2020-11-21 13:46:41.915 INFO  org.apache.coyote.http11.Http11NioProtocol[173]  Starting ProtocolHandler ["http-nio-8115"]
2020-11-21 13:46:41.927 INFO  org.apache.tomcat.util.net.NioSelectorPool[173]  Using a shared selector for servlet write/read
2020-11-21 13:46:41.932 INFO  com.zaxxer.hikari.HikariDataSource[110]  HikariPool-1 - Starting...
2020-11-21 13:46:41.934 WARN  com.zaxxer.hikari.util.DriverDataSource[68]  Registered driver with driverClassName=com.mysql.jdbc.Driver was not found, trying direct instantiation.
2020-11-21 13:46:41.944 INFO  o.s.boot.web.embedded.tomcat.TomcatWebServer[204]  Tomcat started on port(s): 8115 (http) with context path ''
2020-11-21 13:46:41.947 INFO  cn.jwis.qualityworkflow.Application[59]  Started Application in 7.873 seconds (JVM running for 24.684)
2020-11-21 13:46:42.157 INFO  com.zaxxer.hikari.HikariDataSource[123]  HikariPool-1 - Start completed.
2020-11-21 13:46:42.164 DEBUG c.j.q.m.qims.dao.BlackDashBoardMapper.getHoliday[145]  ==>  Preparing: SELECT DISTINCT date FROM holiday_maintenance WHERE type = '节假日' 
2020-11-21 13:46:42.184 DEBUG c.j.q.m.qims.dao.BlackDashBoardMapper.getHoliday[145]  ==> Parameters: 
2020-11-21 13:46:42.220 DEBUG c.j.q.m.qims.dao.BlackDashBoardMapper.getHoliday[145]  <==      Total: 6
2020-11-21 13:46:42.223 DEBUG c.j.q.dao.TaskRecordMapper.getOverTimeTaskRecord2[145]  ==>  Preparing: SELECT *, HOUR(timediff(now() , create_date)) overTimeNum FROM task_record WHERE template_key = ? AND task_state IS NULL AND HOUR(timediff(now() , create_date)) >= ? 
2020-11-21 13:46:42.223 DEBUG c.j.q.dao.TaskRecordMapper.getOverTimeTaskRecord2[145]  ==> Parameters: IPQCAuditProcess(String), 24(Integer)
2020-11-21 13:46:42.233 DEBUG c.j.q.dao.TaskRecordMapper.getOverTimeTaskRecord[145]  ==>  Preparing: SELECT *, HOUR(timediff(now() , create_date)) overTimeNum FROM task_record WHERE template_key = ? AND task_state IS NULL AND task_name = ? AND HOUR(timediff(now() , create_date)) >= ? 
2020-11-21 13:46:42.234 DEBUG c.j.q.dao.TaskRecordMapper.getOverTimeTaskRecord[145]  ==> Parameters: FactoryAuditProcess(String), 部门审核(String), 24(Integer)
2020-11-21 13:46:42.246 DEBUG c.j.q.dao.TaskRecordMapper.getOverTimeTaskRecord[145]  <==      Total: 3
2020-11-21 13:46:42.247 DEBUG c.j.q.dao.TaskRecordMapper.getOverTimeTaskRecord[145]  ==>  Preparing: SELECT *, HOUR(timediff(now() , create_date)) overTimeNum FROM task_record WHERE template_key = ? AND task_state IS NULL AND task_name = ? AND HOUR(timediff(now() , create_date)) >= ? 
2020-11-21 13:46:42.247 DEBUG c.j.q.dao.TaskRecordMapper.getOverTimeTaskRecord[145]  ==> Parameters: Line Qualify(String), 文件收集(String), 2(Integer)
2020-11-21 13:46:42.252 DEBUG c.j.q.dao.TaskRecordMapper.getOverTimeTaskRecord2[145]  <==      Total: 18
2020-11-21 13:46:42.252 DEBUG c.j.q.m.q.d.B.getWorkOvertimeList[145]  ==>  Preparing: SELECT DISTINCT date FROM holiday_maintenance WHERE type = '补班' 
2020-11-21 13:46:42.253 DEBUG c.j.q.m.q.d.B.getWorkOvertimeList[145]  ==> Parameters: 
2020-11-21 13:46:42.261 DEBUG c.j.q.m.q.d.B.getWorkOvertimeList[145]  <==      Total: 4
2020-11-21 13:46:42.261 DEBUG c.j.q.dao.TaskRecordMapper.getOverTimeTaskRecord[145]  <==      Total: 8
2020-11-21 13:46:42.262 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==>  Preparing: select time from email_history_info where id =? 
2020-11-21 13:46:42.262 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==>  Preparing: select time from email_history_info where id =? 
2020-11-21 13:46:42.262 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==> Parameters: 1295192540470837248(String)
2020-11-21 13:46:42.262 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==> Parameters: 1303868320843300864(String)
2020-11-21 13:46:42.272 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  <==      Total: 1
2020-11-21 13:46:42.272 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  <==      Total: 1
2020-11-21 13:46:42.272 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==>  Preparing: select time from email_history_info where id =? 
2020-11-21 13:46:42.272 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getLtStandard[145]  ==>  Preparing: select * from qims_lt_standard_info 
2020-11-21 13:46:42.273 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==> Parameters: 1294123945645047808(String)
2020-11-21 13:46:42.273 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getLtStandard[145]  ==> Parameters: 
2020-11-21 13:46:42.285 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  <==      Total: 1
2020-11-21 13:46:42.286 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==>  Preparing: select time from email_history_info where id =? 
2020-11-21 13:46:42.286 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getLtStandard[145]  <==      Total: 8
2020-11-21 13:46:42.286 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==> Parameters: 1295192619508301824(String)
2020-11-21 13:46:42.287 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==>  Preparing: select time from email_history_info where id =? 
2020-11-21 13:46:42.288 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==> Parameters: 1303868347422605312(String)
2020-11-21 13:46:42.296 INFO  c.j.qualityworkflow.modules.qims.job.qimsMailJob[47]  查询黑色问题超过LT的信息
2020-11-21 13:46:42.376 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  <==      Total: 1
2020-11-21 13:46:42.376 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getBlackList[145]  ==>  Preparing: select * from task_record where task_name in('初步原因分析','根本原因分析','根本原因审核') and task_state is null and template_key='QIMSBLACK' 
2020-11-21 13:46:42.376 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getBlackList[145]  ==> Parameters: 
2020-11-21 13:46:42.380 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  <==      Total: 1
2020-11-21 13:46:42.381 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==>  Preparing: select time from email_history_info where id =? 
2020-11-21 13:46:42.381 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==> Parameters: 1299240419787276288(String)
2020-11-21 13:46:42.393 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getBlackList[145]  <==      Total: 16
2020-11-21 13:46:42.394 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==>  Preparing: select time from email_history_info where id =? 
2020-11-21 13:46:42.394 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==> Parameters: 1303868393815801856(String)
2020-11-21 13:46:42.398 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  <==      Total: 1
2020-11-21 13:46:42.403 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  <==      Total: 1
2020-11-21 13:46:42.404 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==>  Preparing: select time from email_history_info where id =? 
2020-11-21 13:46:42.405 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==> Parameters: 1303937438065885184(String)
2020-11-21 13:46:42.408 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==>  Preparing: select time from email_history_info where id =? 
2020-11-21 13:46:42.409 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==> Parameters: 1286902446076985344(String)
2020-11-21 13:46:42.419 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  <==      Total: 1
2020-11-21 13:46:42.420 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==>  Preparing: select time from email_history_info where id =? 
2020-11-21 13:46:42.420 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==> Parameters: 1303939538460082176(String)
2020-11-21 13:46:42.424 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  <==      Total: 1
2020-11-21 13:46:42.430 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  <==      Total: 1
2020-11-21 13:46:42.431 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==>  Preparing: select time from email_history_info where id =? 
2020-11-21 13:46:42.432 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==> Parameters: 1303939599889858560(String)
2020-11-21 13:46:42.443 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  <==      Total: 1
2020-11-21 13:46:42.478 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==>  Preparing: select time from email_history_info where id =? 
2020-11-21 13:46:42.479 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==> Parameters: 1306059696263659520(String)
2020-11-21 13:46:42.493 INFO  cn.jwis.qualityworkflow.util.EmailService[142]  hualanlan email is test@jwis.cn
2020-11-21 13:46:42.493 INFO  cn.jwis.qualityworkflow.util.EmailService[142]  qualityadmin email is 
2020-11-21 13:46:42.493 INFO  cn.jwis.qualityworkflow.util.EmailService[142]  dz_gyb1 email is test@jwis.cn
2020-11-21 13:46:42.493 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  <==      Total: 1
2020-11-21 13:46:42.493 DEBUG cn.jwis.qualityworkflow.dao.UserMapper.getSuperior[145]  ==>  Preparing: select superior from department_mapping where user_account = ? and type = ? limit 0,1 
2020-11-21 13:46:42.493 DEBUG cn.jwis.qualityworkflow.dao.UserMapper.getSuperior[145]  ==>  Preparing: select superior from department_mapping where user_account = ? and type = ? limit 0,1 
2020-11-21 13:46:42.494 DEBUG cn.jwis.qualityworkflow.dao.UserMapper.getSuperior[145]  ==>  Preparing: select superior from department_mapping where user_account = ? and type = ? limit 0,1 
2020-11-21 13:46:42.494 DEBUG cn.jwis.qualityworkflow.dao.UserMapper.getSuperior[145]  ==> Parameters: hualanlan(String), QIMS(String)
2020-11-21 13:46:42.494 DEBUG cn.jwis.qualityworkflow.dao.UserMapper.getSuperior[145]  ==> Parameters: qualityadmin(String), COMMON(String)
2020-11-21 13:46:42.494 DEBUG cn.jwis.qualityworkflow.dao.UserMapper.getSuperior[145]  ==> Parameters: dz_gyb1(String), COMMON(String)
2020-11-21 13:46:42.508 DEBUG cn.jwis.qualityworkflow.dao.UserMapper.getSuperior[145]  <==      Total: 1
2020-11-21 13:46:42.508 DEBUG cn.jwis.qualityworkflow.dao.UserMapper.getSuperior[145]  <==      Total: 1
2020-11-21 13:46:42.508 DEBUG cn.jwis.qualityworkflow.dao.UserMapper.getSuperior[145]  <==      Total: 1
2020-11-21 13:46:42.509 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==>  Preparing: select time from email_history_info where id =? 
2020-11-21 13:46:42.509 DEBUG c.j.q.dao.UserMapper.getSuperiorManagerByUser[145]  ==>  Preparing: select superior_manager from department_mapping where user_account = ? and type = ? limit 0,1 
2020-11-21 13:46:42.509 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==> Parameters: 1306155886347026432(String)
2020-11-21 13:46:42.511 DEBUG c.j.q.dao.UserMapper.getSuperiorManagerByUser[145]  ==> Parameters: hualanlan(String), QIMS(String)
2020-11-21 13:46:42.523 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  <==      Total: 1
2020-11-21 13:46:42.524 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==>  Preparing: select time from email_history_info where id =? 
2020-11-21 13:46:42.525 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==> Parameters: 1306201167000240128(String)
2020-11-21 13:46:42.530 DEBUG c.j.q.dao.UserMapper.getSuperiorManagerByUser[145]  <==      Total: 1
2020-11-21 13:46:42.536 INFO  cn.jwis.qualityworkflow.util.EmailService[142]  qualityadmin email is 
2020-11-21 13:46:42.536 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  <==      Total: 1
2020-11-21 13:46:42.537 INFO  c.j.q.m.factoryaudit.job.AuditQuestionMailJob[31]  邮件下发结束
2020-11-21 13:46:42.537 INFO  cn.jwis.qualityworkflow.util.EmailService[142]  dz_gyb2 email is jian.song@jwis.cn
2020-11-21 13:46:42.537 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==>  Preparing: select time from email_history_info where id =? 
2020-11-21 13:46:42.537 DEBUG c.j.qualityworkflow.dao.CommonMapper.getKeyToName[145]  ==>  Preparing: SELECT * FROM key_to_name 
2020-11-21 13:46:42.537 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==> Parameters: 1308013106458263552(String)
2020-11-21 13:46:42.537 DEBUG c.j.qualityworkflow.dao.CommonMapper.getKeyToName[145]  ==> Parameters: 
2020-11-21 13:46:42.545 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  <==      Total: 0
2020-11-21 13:46:42.553 DEBUG c.j.qualityworkflow.dao.CommonMapper.getKeyToName[145]  <==      Total: 8
2020-11-21 13:46:42.553 INFO  cn.jwis.qualityworkflow.util.EmailService[142]  workflow3 email is null
2020-11-21 13:46:42.553 DEBUG c.j.q.m.l.d.L.getLineQualifyDetailednessInfo[145]  ==>  Preparing: SELECT q.*,ar.processInstanceId ,ar.taskId,ar.assignee,ar.taskState,ar.taskName FROM line_qualify_info q,(SELECT workflow_business_id, process_instance_id as processInstanceId,task_id as taskId,assignee,task_state as taskState,task_name taskName FROM task_record WHERE task_id=?) ar where q.id=ar.workflow_business_id 
2020-11-21 13:46:42.554 DEBUG c.j.q.m.l.d.L.getLineQualifyDetailednessInfo[145]  ==> Parameters: 5490632(String)
2020-11-21 13:46:42.578 INFO  cn.jwis.qualityworkflow.util.EmailService[142]  kiween email is 
2020-11-21 13:46:42.578 DEBUG c.j.q.m.l.d.L.getLineQualifyDetailednessInfo[145]  <==      Total: 1
2020-11-21 13:46:42.578 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==>  Preparing: select time from email_history_info where id =? 
2020-11-21 13:46:42.578 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==> Parameters: 1308013110702899200(String)
2020-11-21 13:46:42.583 INFO  cn.jwis.qualityworkflow.util.EmailService[142]  zhouxianling email is 
2020-11-21 13:46:42.587 DEBUG c.j.qualityworkflow.dao.TaskRecordMapper.getById[145]  ==>  Preparing: SELECT * from task_record WHERE id = ? 
2020-11-21 13:46:42.587 DEBUG c.j.qualityworkflow.dao.TaskRecordMapper.getById[145]  ==> Parameters: 1286902446076985344(String)
2020-11-21 13:46:42.592 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  <==      Total: 1
2020-11-21 13:46:42.600 DEBUG c.j.qualityworkflow.dao.TaskRecordMapper.getById[145]  <==      Total: 1
2020-11-21 13:46:42.600 DEBUG c.j.qualityworkflow.dao.CommonMapper.getKeyToName[145]  ==>  Preparing: SELECT * FROM key_to_name 
2020-11-21 13:46:42.601 DEBUG c.j.qualityworkflow.dao.CommonMapper.getKeyToName[145]  ==> Parameters: 
2020-11-21 13:46:42.608 DEBUG c.j.qualityworkflow.dao.CommonMapper.getKeyToName[145]  <==      Total: 8
2020-11-21 13:46:42.614 INFO  cn.jwis.qualityworkflow.util.EmailService[142]  qualityadmin email is 
2020-11-21 13:46:42.615 DEBUG cn.jwis.qualityworkflow.dao.UserMapper.getSuperior[145]  ==>  Preparing: select superior from department_mapping where user_account = ? and type = ? limit 0,1 
2020-11-21 13:46:42.615 DEBUG cn.jwis.qualityworkflow.dao.UserMapper.getSuperior[145]  ==> Parameters: qualityadmin(String), COMMON(String)
2020-11-21 13:46:42.627 DEBUG cn.jwis.qualityworkflow.dao.UserMapper.getSuperior[145]  <==      Total: 1
2020-11-21 13:46:42.649 INFO  cn.jwis.qualityworkflow.util.EmailService[142]  qualityadmin email is 
2020-11-21 13:46:42.650 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==>  Preparing: select time from email_history_info where id =? 
2020-11-21 13:46:42.651 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==> Parameters: 1308013113928318976(String)
2020-11-21 13:46:42.659 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  <==      Total: 1
2020-11-21 13:46:42.682 INFO  cn.jwis.qualityworkflow.util.EmailService[142]  qualityadmin email is 
2020-11-21 13:46:42.683 DEBUG cn.jwis.qualityworkflow.dao.UserMapper.getSuperior[145]  ==>  Preparing: select superior from department_mapping where user_account = ? and type = ? limit 0,1 
2020-11-21 13:46:42.683 DEBUG cn.jwis.qualityworkflow.dao.UserMapper.getSuperior[145]  ==> Parameters: qualityadmin(String), COMMON(String)
2020-11-21 13:46:42.941 DEBUG cn.jwis.qualityworkflow.dao.UserMapper.getSuperior[145]  <==      Total: 1
2020-11-21 13:46:42.965 INFO  cn.jwis.qualityworkflow.util.EmailService[142]  qualityadmin email is 
2020-11-21 13:46:42.965 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==>  Preparing: select time from email_history_info where id =? 
2020-11-21 13:46:42.966 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==> Parameters: 1308013116927246336(String)
2020-11-21 13:46:42.976 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  <==      Total: 0
2020-11-21 13:46:43.035 INFO  cn.jwis.qualityworkflow.util.EmailService[142]  kiween email is 
2020-11-21 13:46:43.036 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==>  Preparing: select time from email_history_info where id =? 
2020-11-21 13:46:43.036 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==> Parameters: 1309046852858937344(String)
2020-11-21 13:46:43.056 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  <==      Total: 0
2020-11-21 13:46:43.079 INFO  cn.jwis.qualityworkflow.util.EmailService[142]  codisan email is kelvin@jwis.cn
2020-11-21 13:46:43.080 DEBUG c.j.qualityworkflow.dao.CommonMapper.getKeyToName[145]  ==>  Preparing: SELECT * FROM key_to_name 
2020-11-21 13:46:43.080 DEBUG c.j.qualityworkflow.dao.CommonMapper.getKeyToName[145]  ==> Parameters: 
2020-11-21 13:46:43.087 DEBUG c.j.qualityworkflow.dao.CommonMapper.getKeyToName[145]  <==      Total: 8
2020-11-21 13:46:43.097 INFO  cn.jwis.qualityworkflow.util.EmailService[74]  haomiao.liu@jwis.cn send a Mail to kelvin@jwis.cn fail, because null
2020-11-21 13:46:43.097 INFO  cn.jwis.qualityworkflow.util.EmailService[71]  haomiao.liu@jwis.cn send a Mail to test@jwis.cn
2020-11-21 13:46:43.097 INFO  cn.jwis.qualityworkflow.util.EmailService[69]  haomiao.liu@jwis.cn send a Mail to test@jwis.cn and make a copy for [jian.song@jwis.cn]
2020-11-21 13:46:43.798 ERROR o.s.s.support.TaskUtils$LoggingErrorHandler[96] org.springframework.mail.MailSendException: Failed messages: javax.mail.SendFailedException: Invalid Addresses;
  nested exception is:
	com.sun.mail.smtp.SMTPAddressFailedException: 554 RCPT (test@jwis.cn) dosn't exist

	at org.springframework.mail.javamail.JavaMailSenderImpl.doSend(JavaMailSenderImpl.java:488)
	at org.springframework.mail.javamail.JavaMailSenderImpl.send(JavaMailSenderImpl.java:359)
	at org.springframework.mail.javamail.JavaMailSenderImpl.send(JavaMailSenderImpl.java:354)
	at cn.jwis.qualityworkflow.util.EmailService.sendHtmlMail(EmailService.java:76)
	at cn.jwis.qualityworkflow.modules.qims.service.imp.QimsSendMailServiceImpl.sendEmailTohandler(QimsSendMailServiceImpl.java:161)
	at cn.jwis.qualityworkflow.modules.qims.service.imp.QimsSendMailServiceImpl.qimsSendMail(QimsSendMailServiceImpl.java:90)
	at cn.jwis.qualityworkflow.modules.qims.job.qimsMailJob.qimsSendMail(qimsMailJob.java:49)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.springframework.scheduling.support.ScheduledMethodRunnable.run(ScheduledMethodRunnable.java:84)
	at org.springframework.scheduling.support.DelegatingErrorHandlingRunnable.run(DelegatingErrorHandlingRunnable.java:54)
	at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:511)
	at java.util.concurrent.FutureTask.runAndReset(FutureTask.java:308)
	at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.access$301(ScheduledThreadPoolExecutor.java:180)
	at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:294)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)
 Unexpected error occurred in scheduled task.
2020-11-21 13:46:43.798 ERROR o.s.s.support.TaskUtils$LoggingErrorHandler[96] org.springframework.mail.MailSendException: Failed messages: javax.mail.SendFailedException: Invalid Addresses;
  nested exception is:
	com.sun.mail.smtp.SMTPAddressFailedException: 554 RCPT (kelvin@jwis.cn) dosn't exist

	at org.springframework.mail.javamail.JavaMailSenderImpl.doSend(JavaMailSenderImpl.java:488)
	at org.springframework.mail.javamail.JavaMailSenderImpl.send(JavaMailSenderImpl.java:359)
	at org.springframework.mail.javamail.JavaMailSenderImpl.send(JavaMailSenderImpl.java:354)
	at cn.jwis.qualityworkflow.util.EmailService.sendHtmlMail(EmailService.java:76)
	at cn.jwis.qualityworkflow.modules.qims.service.imp.QimsSendMailServiceImpl.sendEmailTohandler(QimsSendMailServiceImpl.java:161)
	at cn.jwis.qualityworkflow.modules.ipqc.service.imp.AuditQualityProblemServiceImpl.qimsSendMail(AuditQualityProblemServiceImpl.java:321)
	at cn.jwis.qualityworkflow.modules.ipqc.service.imp.AuditQualityProblemServiceImpl$$FastClassBySpringCGLIB$$15ff325f.invoke(<generated>)
	at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:684)
	at cn.jwis.qualityworkflow.modules.ipqc.service.imp.AuditQualityProblemServiceImpl$$EnhancerBySpringCGLIB$$7c12bff2.qimsSendMail(<generated>)
	at cn.jwis.qualityworkflow.modules.ipqc.job.ipqcMailJob.qimsSendMail(ipqcMailJob.java:28)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.springframework.scheduling.support.ScheduledMethodRunnable.run(ScheduledMethodRunnable.java:84)
	at org.springframework.scheduling.support.DelegatingErrorHandlingRunnable.run(DelegatingErrorHandlingRunnable.java:54)
	at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:511)
	at java.util.concurrent.FutureTask.runAndReset(FutureTask.java:308)
	at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.access$301(ScheduledThreadPoolExecutor.java:180)
	at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:294)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)
 Unexpected error occurred in scheduled task.
2020-11-21 13:46:43.834 ERROR o.s.s.support.TaskUtils$LoggingErrorHandler[96] org.springframework.mail.MailSendException: Failed messages: javax.mail.SendFailedException: Invalid Addresses;
  nested exception is:
	com.sun.mail.smtp.SMTPAddressFailedException: 554 RCPT (test@jwis.cn) dosn't exist
;
  nested exception is:
	com.sun.mail.smtp.SMTPAddressFailedException: 554 RCPT (jian.song@jwis.cn) dosn't exist

	at org.springframework.mail.javamail.JavaMailSenderImpl.doSend(JavaMailSenderImpl.java:488)
	at org.springframework.mail.javamail.JavaMailSenderImpl.send(JavaMailSenderImpl.java:359)
	at org.springframework.mail.javamail.JavaMailSenderImpl.send(JavaMailSenderImpl.java:354)
	at cn.jwis.qualityworkflow.util.EmailService.sendHtmlMail(EmailService.java:76)
	at cn.jwis.qualityworkflow.modules.linequalify.service.imp.LineQualifyServiceImpl.sendEmailTohandler(LineQualifyServiceImpl.java:617)
	at cn.jwis.qualityworkflow.modules.linequalify.service.imp.LineQualifyServiceImpl.sendOverTimeMail(LineQualifyServiceImpl.java:594)
	at cn.jwis.qualityworkflow.modules.linequalify.service.imp.LineQualifyServiceImpl$$FastClassBySpringCGLIB$$4ca6f597.invoke(<generated>)
	at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:684)
	at cn.jwis.qualityworkflow.modules.linequalify.service.imp.LineQualifyServiceImpl$$EnhancerBySpringCGLIB$$c381cc9a.sendOverTimeMail(<generated>)
	at cn.jwis.qualityworkflow.modules.linequalify.job.LineQualifyMailJob.sendOverTimeMail(LineQualifyMailJob.java:30)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.springframework.scheduling.support.ScheduledMethodRunnable.run(ScheduledMethodRunnable.java:84)
	at org.springframework.scheduling.support.DelegatingErrorHandlingRunnable.run(DelegatingErrorHandlingRunnable.java:54)
	at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:511)
	at java.util.concurrent.FutureTask.runAndReset(FutureTask.java:308)
	at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.access$301(ScheduledThreadPoolExecutor.java:180)
	at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:294)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)
 Unexpected error occurred in scheduled task.
2020-11-21 13:47:35.093 INFO  o.a.c.core.ContainerBase.[Tomcat].[localhost].[/][173]  Initializing Spring DispatcherServlet 'dispatcherServlet'
2020-11-21 13:47:35.093 INFO  org.springframework.web.servlet.DispatcherServlet[521]  Initializing Servlet 'dispatcherServlet'
2020-11-21 13:47:35.111 INFO  org.springframework.web.servlet.DispatcherServlet[543]  Completed initialization in 18 ms
2020-11-21 13:47:35.193 DEBUG c.j.q.dao.TaskRecordMapper.getProcessAgent[145]  ==>  Preparing: select * from (SELECT * FROM task_record UNION ALL SELECT id, "PCN" template_key, processInstanceId process_instance_id, assignee, pcnId workflow_business_id, taskState task_state, state, taskName task_name, taskId task_id, null department, createDate create_date, updateDate update_date, theme, item_number, creator FROM pcn_task_record) ar where 1=1 and ((ar.create_date >= ? and ar.create_date <= ?) or (ar.update_date >= ? and ar.update_date <= ?)) and (ar.task_state is null or ar.task_state = 'OnGoing') and ar.assignee =? order by ar.create_date desc limit ?,? 
2020-11-21 13:47:35.194 DEBUG c.j.q.dao.TaskRecordMapper.getProcessAgent[145]  ==> Parameters: 2020-10-22(String), 2020-11-22(String), 2020-10-22(String), 2020-11-22(String), hualanlan(String), 0(Integer), 15(Integer)
2020-11-21 13:47:35.230 DEBUG c.j.q.dao.TaskRecordMapper.getProcessAgent[145]  <==      Total: 3
2020-11-21 13:47:35.235 DEBUG c.j.q.dao.TaskRecordMapper.getProcessAgentCount[145]  ==>  Preparing: select count(1) from (SELECT * FROM task_record UNION ALL SELECT id, "PCN" template_key, processInstanceId process_instance_id, assignee, pcnId workflow_business_id, taskState task_state, state, taskName task_name, taskId task_id, null department, createDate create_date, updateDate update_date, theme, item_number, creator FROM pcn_task_record) ar where 1=1 and ((ar.create_date >= ? and ar.create_date <= ?) or (ar.update_date >= ? and ar.update_date <= ?)) and (ar.task_state is null or ar.task_state = 'OnGoing') and ar.assignee =? 
2020-11-21 13:47:35.236 DEBUG c.j.q.dao.TaskRecordMapper.getProcessAgentCount[145]  ==> Parameters: 2020-10-22(String), 2020-11-22(String), 2020-10-22(String), 2020-11-22(String), hualanlan(String)
2020-11-21 13:47:35.267 DEBUG c.j.q.dao.UserMapper.getDepartmentList[145]  ==>  Preparing: select DISTINCT department from department_mapping where type = ? and department is not null 
2020-11-21 13:47:35.268 DEBUG c.j.q.dao.UserMapper.getDepartmentList[145]  ==> Parameters: COMMON(String)
2020-11-21 13:47:35.277 DEBUG c.j.q.dao.UserMapper.getDepartmentList[145]  <==      Total: 21
2020-11-21 13:47:35.286 DEBUG c.j.q.dao.TaskRecordMapper.getProcessAgentCount[145]  <==      Total: 1
2020-11-21 13:47:35.325 DEBUG c.j.q.dao.UserMapper.getDepartmentList[145]  ==>  Preparing: select DISTINCT department from department_mapping where type = ? and department is not null 
2020-11-21 13:47:35.326 DEBUG c.j.q.dao.UserMapper.getDepartmentList[145]  ==> Parameters: COMMON(String)
2020-11-21 13:47:35.338 DEBUG c.j.q.dao.UserMapper.getDepartmentList[145]  <==      Total: 21
2020-11-21 13:47:52.505 DEBUG c.j.q.dao.UserMapper.getUserListByDepartment[145]  ==>  Preparing: select DISTINCT user_account from department_mapping where department = ? and type = ? and user_account is not null and position is null 
2020-11-21 13:47:52.508 DEBUG c.j.q.dao.UserMapper.getUserListByDepartment[145]  ==> Parameters: SMT ENG(String), COMMON(String)
2020-11-21 13:47:52.516 DEBUG c.j.q.dao.UserMapper.getUserListByDepartment[145]  <==      Total: 1
2020-11-21 13:48:09.170 DEBUG c.j.q.d.WorkflowVariableReflectMapper.getVariables[145]  ==>  Preparing: SELECT variable from workflow_variable_reflect where template_key = ? and node = ? 
2020-11-21 13:48:09.171 DEBUG c.j.q.d.WorkflowVariableReflectMapper.getVariables[145]  ==> Parameters: QMSEcnProcess(String), Apply(String)
2020-11-21 13:48:09.183 DEBUG c.j.q.d.WorkflowVariableReflectMapper.getVariables[145]  <==      Total: 3
2020-11-21 13:48:09.191 DEBUG c.j.q.modules.ecn.dao.EcnInfoMapper.getItemNumber[145]  ==>  Preparing: SELECT ecn_number_generator() 
2020-11-21 13:48:09.191 DEBUG c.j.q.modules.ecn.dao.EcnInfoMapper.getItemNumber[145]  ==> Parameters: 
2020-11-21 13:48:09.200 DEBUG c.j.q.modules.ecn.dao.EcnInfoMapper.getItemNumber[145]  <==      Total: 1
2020-11-21 13:48:09.201 DEBUG c.j.q.modules.ecn.dao.EcnInfoMapper.insert[145]  ==>  Preparing: insert into ecn_info (id, item_number, item_type, file_name, file_oid, sender_side, document_originator, model_name, change_type, posting_time, works_section, works_head, quality_head, status, involved_area, change_import_scheme, change_import_time, change_import_mode, ipqc_handler, ipqc_verification_results, ipqc_verification_reason, ipqc_verifier, ipqc_verification_time, project_approval_result, project_approval_opinion, project_approver, project_approver_time, odm_approval_result, odm_approval_opinion, odm_approver, odm_approver_time, sqe_approval_result, sqe_approval_opinion, sqe_approver, sqe_approver_time, file_address, assignee, remark, creator, create_date, update_date ) values (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ? ) 
2020-11-21 13:48:09.207 DEBUG c.j.q.modules.ecn.dao.EcnInfoMapper.insert[145]  ==> Parameters: 1330025184018563072(String), 20201121001(String), ECN(String), LCFC-logo.jpg(String), 1330025009706430464(String), HQ(String), 222(String), 222(String), BOM,软件(String), 2020-11-21 00:00:00.0(Timestamp), SMT ENG(String), hualanlan(String), hualanlan(String), Apply(String), null, null, null, null, hualanlan(String), null, null, null, null, null, null, null, null, null, null, hualanlan(String), null, null, null, hualanlan(String), null, 222(String), null, 222(String), hualanlan(String), null, null
2020-11-21 13:48:09.237 DEBUG c.j.q.modules.ecn.dao.EcnInfoMapper.insert[145]  <==    Updates: 1
2020-11-21 13:48:33.137 WARN  com.zaxxer.hikari.pool.HikariPool[766]  HikariPool-1 - Thread starvation or clock leap detected (housekeeper delta=50s821ms895µs455ns).
2020-11-21 13:48:45.191 DEBUG c.j.q.m.ecn.dao.EcnInfoMapper.selectByPrimaryKey[145]  ==>  Preparing: select id, item_number, item_type, file_name, file_oid, sender_side, document_originator, model_name, change_type, posting_time, works_section, works_head, quality_head, status, involved_area, change_import_scheme, change_import_time, change_import_mode, ipqc_handler, ipqc_verification_results, ipqc_verification_reason, ipqc_verifier, ipqc_verification_time, project_approval_result, project_approval_opinion, project_approver, project_approver_time, odm_approval_result, odm_approval_opinion, odm_approver, odm_approver_time, sqe_approval_result, sqe_approval_opinion, sqe_approver, sqe_approver_time, file_address, assignee, remark, creator, create_date, update_date from ecn_info where id = ? 
2020-11-21 13:48:45.194 DEBUG c.j.q.m.ecn.dao.EcnInfoMapper.selectByPrimaryKey[145]  ==> Parameters: 1330025184018563072(String)
2020-11-21 13:48:45.229 DEBUG c.j.q.m.ecn.dao.EcnInfoMapper.selectByPrimaryKey[145]  <==      Total: 1
2020-11-21 14:42:18.165 WARN  com.zaxxer.hikari.pool.HikariPool[766]  HikariPool-1 - Thread starvation or clock leap detected (housekeeper delta=53m44s985ms892µs231ns).
2020-11-21 14:42:18.167 DEBUG c.j.q.d.H.deleteApplyRecord[145]  ==>  Preparing: DELETE from history_process_record where workflow_type = ? and creator = ? and type = 'SAVE' and workflow_node = 'Apply' and workflow_businessId is NULL 
2020-11-21 14:42:18.168 INFO  c.j.q.m.t.T.TraceabilityMachineTimerManager[50]  设备定时任务开启
2020-11-21 14:42:18.168 INFO  c.j.qualityworkflow.modules.ipqc.job.ipqcMailJob[27]  查询IPQC超时任务
2020-11-21 14:42:18.168 DEBUG c.j.q.d.H.deleteApplyRecord[145]  ==> Parameters: QMSEcnProcess(String), hualanlan(String)
2020-11-21 14:42:18.179 DEBUG c.j.q.dao.TaskRecordMapper.getOverTimeTaskRecord2[145]  ==>  Preparing: SELECT *, HOUR(timediff(now() , create_date)) overTimeNum FROM task_record WHERE template_key = ? AND task_state IS NULL AND HOUR(timediff(now() , create_date)) >= ? 
2020-11-21 14:42:18.179 DEBUG c.j.q.dao.TaskRecordMapper.getOverTimeTaskRecord[145]  ==>  Preparing: SELECT *, HOUR(timediff(now() , create_date)) overTimeNum FROM task_record WHERE template_key = ? AND task_state IS NULL AND task_name = ? AND HOUR(timediff(now() , create_date)) >= ? 
2020-11-21 14:42:18.180 DEBUG c.j.q.dao.TaskRecordMapper.getOverTimeTaskRecord[145]  ==> Parameters: FactoryAuditProcess(String), 部门审核(String), 24(Integer)
2020-11-21 14:42:18.180 DEBUG c.j.q.dao.TaskRecordMapper.getOverTimeTaskRecord2[145]  ==> Parameters: IPQCAuditProcess(String), 24(Integer)
2020-11-21 14:42:18.199 DEBUG c.j.q.dao.TaskRecordMapper.getOverTimeTaskRecord2[145]  <==      Total: 18
2020-11-21 14:42:18.198 DEBUG c.j.q.d.H.deleteApplyRecord[145]  <==    Updates: 0
2020-11-21 14:42:18.200 DEBUG c.j.q.dao.TaskRecordMapper.getOverTimeTaskRecord[145]  <==      Total: 3
2020-11-21 14:42:18.200 DEBUG c.j.q.d.W.getWorkflowMapping[145]  ==>  Preparing: SELECT * from workflow_handle_mapping where workflow_type = ? and workflow_node = ? limit 1 
2020-11-21 14:42:18.201 DEBUG c.j.q.d.W.getWorkflowMapping[145]  ==> Parameters: QMSEcnProcess(String), Apply(String)
2020-11-21 14:42:18.240 DEBUG c.j.q.d.W.getWorkflowMapping[145]  <==      Total: 0
2020-11-21 14:42:18.242 DEBUG c.j.q.dao.HistoryProcessRecordMapper.insert[145]  ==>  Preparing: insert into history_process_record (id, workflow_type, workflow_node, workflow_businessId, type, creator, create_date, update_date, department, handle_opinion, reject_reason, content ) values (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ? ) 
2020-11-21 14:42:18.244 DEBUG c.j.q.dao.HistoryProcessRecordMapper.insert[145]  ==> Parameters: 1330038811484225536(String), QMSEcnProcess(String), Apply(String), 1330025184018563072(String), COMMIT(String), hualanlan(String), null, null, null, null, null, java.io.StringReader@742ec127(StringReader)
2020-11-21 14:42:18.261 DEBUG c.j.q.dao.HistoryProcessRecordMapper.insert[145]  <==    Updates: 1
2020-11-21 14:42:18.287 DEBUG c.j.q.m.t.d.T.getTraceabilityMachineList[145]  ==>  Preparing: select table_name from traceability_machine_data group by table_name 
2020-11-21 14:42:18.288 DEBUG c.j.q.m.t.d.T.getTraceabilityMachineList[145]  ==> Parameters: 
2020-11-21 14:42:18.297 DEBUG c.j.q.m.t.d.T.getTraceabilityMachineList[145]  <==      Total: 5
2020-11-21 14:42:18.297 DEBUG c.j.q.dao.UserMapper.getDepartmentList[145]  ==>  Preparing: select DISTINCT department from department_mapping where type = ? and department is not null 
2020-11-21 14:42:18.297 DEBUG c.j.q.dao.UserMapper.getDepartmentList[145]  ==> Parameters: COMMON(String)
2020-11-21 14:42:18.307 DEBUG c.j.q.dao.UserMapper.getDepartmentList[145]  <==      Total: 21
2020-11-21 14:42:18.308 DEBUG c.j.q.dao.TaskRecordMapper.getProcessAgent[145]  ==>  Preparing: select * from (SELECT * FROM task_record UNION ALL SELECT id, "PCN" template_key, processInstanceId process_instance_id, assignee, pcnId workflow_business_id, taskState task_state, state, taskName task_name, taskId task_id, null department, createDate create_date, updateDate update_date, theme, item_number, creator FROM pcn_task_record) ar where 1=1 and ((ar.create_date >= ? and ar.create_date <= ?) or (ar.update_date >= ? and ar.update_date <= ?)) and (ar.task_state is null or ar.task_state = 'OnGoing') and ar.assignee =? order by ar.create_date desc limit ?,? 
2020-11-21 14:42:18.309 DEBUG c.j.q.dao.TaskRecordMapper.getProcessAgent[145]  ==> Parameters: 2020-10-22(String), 2020-11-22(String), 2020-10-22(String), 2020-11-22(String), hualanlan(String), 0(Integer), 15(Integer)
2020-11-21 14:42:18.342 DEBUG c.j.q.dao.TaskRecordMapper.getProcessAgent[145]  <==      Total: 3
2020-11-21 14:42:18.342 DEBUG c.j.q.dao.UserMapper.getDepartmentList[145]  ==>  Preparing: select DISTINCT department from department_mapping where type = ? and department is not null 
2020-11-21 14:42:18.343 DEBUG c.j.q.dao.UserMapper.getDepartmentList[145]  ==> Parameters: COMMON(String)
2020-11-21 14:42:18.345 DEBUG c.j.q.dao.TaskRecordMapper.getProcessAgent[145]  ==>  Preparing: select * from (SELECT * FROM task_record UNION ALL SELECT id, "PCN" template_key, processInstanceId process_instance_id, assignee, pcnId workflow_business_id, taskState task_state, state, taskName task_name, taskId task_id, null department, createDate create_date, updateDate update_date, theme, item_number, creator FROM pcn_task_record) ar where 1=1 and ((ar.create_date >= ? and ar.create_date <= ?) or (ar.update_date >= ? and ar.update_date <= ?)) and (ar.task_state is null or ar.task_state = 'OnGoing') and ar.assignee =? order by ar.create_date desc limit ?,? 
2020-11-21 14:42:18.346 DEBUG c.j.q.dao.TaskRecordMapper.getProcessAgent[145]  ==> Parameters: 2020-10-22(String), 2020-11-22(String), 2020-10-22(String), 2020-11-22(String), hualanlan(String), 0(Integer), 15(Integer)
2020-11-21 14:42:18.352 DEBUG c.j.q.dao.UserMapper.getDepartmentList[145]  <==      Total: 21
2020-11-21 14:42:18.353 DEBUG c.j.q.dao.UserMapper.getDepartmentList[145]  ==>  Preparing: select DISTINCT department from department_mapping where type = ? and department is not null 
2020-11-21 14:42:18.353 DEBUG c.j.q.dao.UserMapper.getDepartmentList[145]  ==> Parameters: COMMON(String)
2020-11-21 14:42:18.386 DEBUG c.j.q.dao.UserMapper.getDepartmentList[145]  <==      Total: 21
2020-11-21 14:42:18.386 DEBUG c.j.q.dao.TaskRecordMapper.getOverTimeTaskRecord[145]  ==>  Preparing: SELECT *, HOUR(timediff(now() , create_date)) overTimeNum FROM task_record WHERE template_key = ? AND task_state IS NULL AND task_name = ? AND HOUR(timediff(now() , create_date)) >= ? 
2020-11-21 14:42:18.387 DEBUG c.j.q.dao.TaskRecordMapper.getOverTimeTaskRecord[145]  ==> Parameters: Line Qualify(String), 文件收集(String), 2(Integer)
2020-11-21 14:42:18.395 DEBUG c.j.q.dao.TaskRecordMapper.getProcessAgent[145]  <==      Total: 3
2020-11-21 14:42:18.396 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==>  Preparing: select time from email_history_info where id =? 
2020-11-21 14:42:18.396 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==> Parameters: 1303868320843300864(String)
2020-11-21 14:42:18.404 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  <==      Total: 1
2020-11-21 14:42:18.405 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==>  Preparing: select time from email_history_info where id =? 
2020-11-21 14:42:18.405 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==> Parameters: 1295192540470837248(String)
2020-11-21 14:42:18.405 DEBUG c.j.q.dao.TaskRecordMapper.getOverTimeTaskRecord[145]  <==      Total: 8
2020-11-21 14:42:18.406 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==>  Preparing: select time from email_history_info where id =? 
2020-11-21 14:42:18.407 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==> Parameters: 1294123945645047808(String)
2020-11-21 14:42:18.412 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  <==      Total: 1
2020-11-21 14:42:18.414 DEBUG c.j.q.m.t.d.T.getTraceabilityMachineFiledName[145]  ==>  Preparing: select filed_name from traceability_machine_data where table_name=? 
2020-11-21 14:42:18.414 DEBUG c.j.q.m.t.d.T.getTraceabilityMachineFiledName[145]  ==> Parameters: dust_free_shed(String)
2020-11-21 14:42:18.415 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  <==      Total: 1
2020-11-21 14:42:18.416 DEBUG c.j.q.dao.TaskRecordMapper.getProcessAgentCount[145]  ==>  Preparing: select count(1) from (SELECT * FROM task_record UNION ALL SELECT id, "PCN" template_key, processInstanceId process_instance_id, assignee, pcnId workflow_business_id, taskState task_state, state, taskName task_name, taskId task_id, null department, createDate create_date, updateDate update_date, theme, item_number, creator FROM pcn_task_record) ar where 1=1 and ((ar.create_date >= ? and ar.create_date <= ?) or (ar.update_date >= ? and ar.update_date <= ?)) and (ar.task_state is null or ar.task_state = 'OnGoing') and ar.assignee =? 
2020-11-21 14:42:18.417 DEBUG c.j.q.dao.TaskRecordMapper.getProcessAgentCount[145]  ==> Parameters: 2020-10-22(String), 2020-11-22(String), 2020-10-22(String), 2020-11-22(String), hualanlan(String)
2020-11-21 14:42:18.431 DEBUG c.j.q.m.t.d.T.getTraceabilityMachineFiledName[145]  <==      Total: 11
2020-11-21 14:42:18.431 DEBUG c.j.q.dao.UserMapper.getDepartmentList[145]  ==>  Preparing: select DISTINCT department from department_mapping where type = ? and department is not null 
2020-11-21 14:42:18.431 DEBUG c.j.q.dao.UserMapper.getDepartmentList[145]  ==> Parameters: COMMON(String)
2020-11-21 14:42:18.438 DEBUG c.j.q.dao.UserMapper.getDepartmentList[145]  <==      Total: 21
2020-11-21 14:42:18.439 DEBUG c.j.q.dao.TaskRecordMapper.getProcessAgentCount[145]  ==>  Preparing: select count(1) from (SELECT * FROM task_record UNION ALL SELECT id, "PCN" template_key, processInstanceId process_instance_id, assignee, pcnId workflow_business_id, taskState task_state, state, taskName task_name, taskId task_id, null department, createDate create_date, updateDate update_date, theme, item_number, creator FROM pcn_task_record) ar where 1=1 and ((ar.create_date >= ? and ar.create_date <= ?) or (ar.update_date >= ? and ar.update_date <= ?)) and (ar.task_state is null or ar.task_state = 'OnGoing') and ar.assignee =? 
2020-11-21 14:42:18.440 DEBUG c.j.q.dao.TaskRecordMapper.getProcessAgentCount[145]  ==> Parameters: 2020-10-22(String), 2020-11-22(String), 2020-10-22(String), 2020-11-22(String), hualanlan(String)
2020-11-21 14:42:18.442 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==>  Preparing: select time from email_history_info where id =? 
2020-11-21 14:42:18.443 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==> Parameters: 1303868347422605312(String)
2020-11-21 14:42:18.449 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  <==      Total: 1
2020-11-21 14:42:18.450 DEBUG c.j.q.m.qims.dao.BlackDashBoardMapper.getHoliday[145]  ==>  Preparing: SELECT DISTINCT date FROM holiday_maintenance WHERE type = '节假日' 
2020-11-21 14:42:18.450 DEBUG c.j.q.m.qims.dao.BlackDashBoardMapper.getHoliday[145]  ==> Parameters: 
2020-11-21 14:42:18.459 DEBUG c.j.q.m.qims.dao.BlackDashBoardMapper.getHoliday[145]  <==      Total: 6
2020-11-21 14:42:18.459 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==>  Preparing: select time from email_history_info where id =? 
2020-11-21 14:42:18.460 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==> Parameters: 1295192619508301824(String)
2020-11-21 14:42:18.463 DEBUG c.j.q.dao.TaskRecordMapper.getProcessAgentCount[145]  <==      Total: 1
2020-11-21 14:42:18.463 DEBUG c.j.q.m.t.d.T.getMaxCreateTime[145]  ==>  Preparing: select max(createtime) from dust_free_shed 
2020-11-21 14:42:18.464 DEBUG c.j.q.m.t.d.T.getMaxCreateTime[145]  ==> Parameters: 
2020-11-21 14:42:18.470 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  <==      Total: 1
2020-11-21 14:42:18.471 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==>  Preparing: select time from email_history_info where id =? 
2020-11-21 14:42:18.471 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==> Parameters: 1303868393815801856(String)
2020-11-21 14:42:18.479 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  <==      Total: 1
2020-11-21 14:42:18.480 DEBUG c.j.q.m.q.d.B.getWorkOvertimeList[145]  ==>  Preparing: SELECT DISTINCT date FROM holiday_maintenance WHERE type = '补班' 
2020-11-21 14:42:18.480 DEBUG c.j.q.m.q.d.B.getWorkOvertimeList[145]  ==> Parameters: 
2020-11-21 14:42:18.485 DEBUG c.j.q.dao.TaskRecordMapper.getProcessAgentCount[145]  <==      Total: 1
2020-11-21 14:42:18.486 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==>  Preparing: select time from email_history_info where id =? 
2020-11-21 14:42:18.486 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==> Parameters: 1299240419787276288(String)
2020-11-21 14:42:18.490 DEBUG c.j.q.m.q.d.B.getWorkOvertimeList[145]  <==      Total: 4
2020-11-21 14:42:18.491 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==>  Preparing: select time from email_history_info where id =? 
2020-11-21 14:42:18.491 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==> Parameters: 1303937438065885184(String)
2020-11-21 14:42:18.494 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  <==      Total: 1
2020-11-21 14:42:18.495 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getLtStandard[145]  ==>  Preparing: select * from qims_lt_standard_info 
2020-11-21 14:42:18.495 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getLtStandard[145]  ==> Parameters: 
2020-11-21 14:42:18.499 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  <==      Total: 1
2020-11-21 14:42:18.500 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==>  Preparing: select time from email_history_info where id =? 
2020-11-21 14:42:18.500 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==> Parameters: 1303939538460082176(String)
2020-11-21 14:42:18.506 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getLtStandard[145]  <==      Total: 8
2020-11-21 14:42:18.506 INFO  c.j.qualityworkflow.modules.qims.job.qimsMailJob[47]  查询黑色问题超过LT的信息
2020-11-21 14:42:18.506 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  <==      Total: 1
2020-11-21 14:42:18.506 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getBlackList[145]  ==>  Preparing: select * from task_record where task_name in('初步原因分析','根本原因分析','根本原因审核') and task_state is null and template_key='QIMSBLACK' 
2020-11-21 14:42:18.506 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==>  Preparing: select time from email_history_info where id =? 
2020-11-21 14:42:18.506 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getBlackList[145]  ==> Parameters: 
2020-11-21 14:42:18.507 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==> Parameters: 1303939599889858560(String)
2020-11-21 14:42:18.514 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  <==      Total: 1
2020-11-21 14:42:18.514 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==>  Preparing: select time from email_history_info where id =? 
2020-11-21 14:42:18.514 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==> Parameters: 1306059696263659520(String)
2020-11-21 14:42:18.519 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getBlackList[145]  <==      Total: 16
2020-11-21 14:42:18.523 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  <==      Total: 1
2020-11-21 14:42:18.523 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==>  Preparing: select time from email_history_info where id =? 
2020-11-21 14:42:18.523 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==> Parameters: 1306155886347026432(String)
2020-11-21 14:42:18.525 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==>  Preparing: select time from email_history_info where id =? 
2020-11-21 14:42:18.525 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==> Parameters: 1286902446076985344(String)
2020-11-21 14:42:18.534 DEBUG c.j.q.m.t.d.T.getMaxCreateTime[145]  <==      Total: 1
2020-11-21 14:42:18.534 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  <==      Total: 1
2020-11-21 14:42:18.534 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  <==      Total: 1
2020-11-21 14:42:18.535 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==>  Preparing: select time from email_history_info where id =? 
2020-11-21 14:42:18.536 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==> Parameters: 1306201167000240128(String)
2020-11-21 14:42:18.543 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  <==      Total: 1
2020-11-21 14:42:18.543 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==>  Preparing: select time from email_history_info where id =? 
2020-11-21 14:42:18.543 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==> Parameters: 1308013106458263552(String)
2020-11-21 14:42:18.550 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  <==      Total: 0
2020-11-21 14:42:18.571 ERROR o.s.s.support.TaskUtils$LoggingErrorHandler[96] java.lang.NullPointerException: null
	at cn.jwis.qualityworkflow.modules.traceablity.TimerManager.TraceabilityMachineTimerManager.getLenovoMachineData(TraceabilityMachineTimerManager.java:105)
	at cn.jwis.qualityworkflow.modules.traceablity.TimerManager.TraceabilityMachineTimerManager.MachineTimerManager(TraceabilityMachineTimerManager.java:57)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.springframework.scheduling.support.ScheduledMethodRunnable.run(ScheduledMethodRunnable.java:84)
	at org.springframework.scheduling.support.DelegatingErrorHandlingRunnable.run(DelegatingErrorHandlingRunnable.java:54)
	at org.springframework.scheduling.concurrent.ReschedulingRunnable.run(ReschedulingRunnable.java:93)
	at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:511)
	at java.util.concurrent.FutureTask.run(FutureTask.java:266)
	at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.access$201(ScheduledThreadPoolExecutor.java:180)
	at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:293)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)
 Unexpected error occurred in scheduled task.
2020-11-21 14:42:21.932 DEBUG c.j.q.dao.TaskRecordMapper.getProcessAgent[145]  ==>  Preparing: select * from (SELECT * FROM task_record UNION ALL SELECT id, "PCN" template_key, processInstanceId process_instance_id, assignee, pcnId workflow_business_id, taskState task_state, state, taskName task_name, taskId task_id, null department, createDate create_date, updateDate update_date, theme, item_number, creator FROM pcn_task_record) ar where 1=1 and ((ar.create_date >= ? and ar.create_date <= ?) or (ar.update_date >= ? and ar.update_date <= ?)) and (ar.task_state is null or ar.task_state = 'OnGoing') and ar.assignee =? order by ar.create_date desc limit ?,? 
2020-11-21 14:42:21.933 DEBUG c.j.q.dao.TaskRecordMapper.getProcessAgent[145]  ==> Parameters: 2020-10-22(String), 2020-11-22(String), 2020-10-22(String), 2020-11-22(String), hualanlan(String), 0(Integer), 15(Integer)
2020-11-21 14:42:21.975 DEBUG c.j.q.dao.TaskRecordMapper.getProcessAgent[145]  <==      Total: 3
2020-11-21 14:42:21.976 DEBUG c.j.q.dao.TaskRecordMapper.getProcessAgentCount[145]  ==>  Preparing: select count(1) from (SELECT * FROM task_record UNION ALL SELECT id, "PCN" template_key, processInstanceId process_instance_id, assignee, pcnId workflow_business_id, taskState task_state, state, taskName task_name, taskId task_id, null department, createDate create_date, updateDate update_date, theme, item_number, creator FROM pcn_task_record) ar where 1=1 and ((ar.create_date >= ? and ar.create_date <= ?) or (ar.update_date >= ? and ar.update_date <= ?)) and (ar.task_state is null or ar.task_state = 'OnGoing') and ar.assignee =? 
2020-11-21 14:42:21.977 DEBUG c.j.q.dao.TaskRecordMapper.getProcessAgentCount[145]  ==> Parameters: 2020-10-22(String), 2020-11-22(String), 2020-10-22(String), 2020-11-22(String), hualanlan(String)
2020-11-21 14:42:22.060 DEBUG c.j.q.dao.TaskRecordMapper.getProcessAgentCount[145]  <==      Total: 1
2020-11-21 14:42:22.126 DEBUG c.j.q.dao.UserMapper.getDepartmentList[145]  ==>  Preparing: select DISTINCT department from department_mapping where type = ? and department is not null 
2020-11-21 14:42:22.127 DEBUG c.j.q.dao.UserMapper.getDepartmentList[145]  ==> Parameters: COMMON(String)
2020-11-21 14:42:22.205 DEBUG c.j.q.dao.UserMapper.getDepartmentList[145]  <==      Total: 21
2020-11-21 14:42:22.209 DEBUG c.j.q.dao.UserMapper.getDepartmentList[145]  ==>  Preparing: select DISTINCT department from department_mapping where type = ? and department is not null 
2020-11-21 14:42:22.209 DEBUG c.j.q.dao.UserMapper.getDepartmentList[145]  ==> Parameters: COMMON(String)
2020-11-21 14:42:22.219 DEBUG c.j.q.dao.UserMapper.getDepartmentList[145]  <==      Total: 21
2020-11-21 14:42:23.417 DEBUG cn.jwis.qualityworkflow.util.EmailService[144]  get handler mail from http://gateway.dev.jwis.io/platform/sys/user/internal-read?name=dz_gyb1 happen error cause:I/O error on GET request for "http://gateway.dev.jwis.io/platform/sys/user/internal-read": connect timed out; nested exception is java.net.SocketTimeoutException: connect timed out
2020-11-21 14:42:23.425 DEBUG cn.jwis.qualityworkflow.dao.UserMapper.getSuperior[145]  ==>  Preparing: select superior from department_mapping where user_account = ? and type = ? limit 0,1 
2020-11-21 14:42:23.425 DEBUG cn.jwis.qualityworkflow.dao.UserMapper.getSuperior[145]  ==> Parameters: dz_gyb1(String), COMMON(String)
2020-11-21 14:42:23.435 DEBUG cn.jwis.qualityworkflow.dao.UserMapper.getSuperior[145]  <==      Total: 1
2020-11-21 14:42:23.466 INFO  cn.jwis.qualityworkflow.util.EmailService[142]  dz_gyb2 email is jian.song@jwis.cn
2020-11-21 14:42:23.466 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==>  Preparing: select time from email_history_info where id =? 
2020-11-21 14:42:23.467 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==> Parameters: 1294123945682796544(String)
2020-11-21 14:42:23.474 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  <==      Total: 1
2020-11-21 14:42:23.475 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==>  Preparing: select time from email_history_info where id =? 
2020-11-21 14:42:23.475 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==> Parameters: 1294123945716350976(String)
2020-11-21 14:42:23.481 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  <==      Total: 1
2020-11-21 14:42:23.496 DEBUG cn.jwis.qualityworkflow.util.EmailService[144]  get handler mail from http://gateway.dev.jwis.io/platform/sys/user/internal-read?name=qualityadmin happen error cause:I/O error on GET request for "http://gateway.dev.jwis.io/platform/sys/user/internal-read": connect timed out; nested exception is java.net.SocketTimeoutException: connect timed out
2020-11-21 14:42:23.497 DEBUG cn.jwis.qualityworkflow.dao.UserMapper.getSuperior[145]  ==>  Preparing: select superior from department_mapping where user_account = ? and type = ? limit 0,1 
2020-11-21 14:42:23.497 DEBUG cn.jwis.qualityworkflow.dao.UserMapper.getSuperior[145]  ==> Parameters: qualityadmin(String), COMMON(String)
2020-11-21 14:42:23.501 INFO  cn.jwis.qualityworkflow.util.EmailService[142]  xujinbiao email is 
2020-11-21 14:42:23.506 DEBUG cn.jwis.qualityworkflow.dao.UserMapper.getSuperior[145]  <==      Total: 1
2020-11-21 14:42:23.508 DEBUG cn.jwis.qualityworkflow.dao.UserMapper.getSuperior[145]  ==>  Preparing: select superior from department_mapping where user_account = ? and type = ? limit 0,1 
2020-11-21 14:42:23.509 DEBUG cn.jwis.qualityworkflow.dao.UserMapper.getSuperior[145]  ==> Parameters: xujinbiao(String), COMMON(String)
2020-11-21 14:42:23.516 DEBUG cn.jwis.qualityworkflow.dao.UserMapper.getSuperior[145]  <==      Total: 1
2020-11-21 14:42:23.528 INFO  cn.jwis.qualityworkflow.util.EmailService[142]  qualityadmin email is 
2020-11-21 14:42:23.528 INFO  c.j.q.m.factoryaudit.job.AuditQuestionMailJob[31]  邮件下发结束
2020-11-21 14:42:23.529 DEBUG c.j.q.dao.TaskRecordMapper.getOverTimeTaskRecord[145]  ==>  Preparing: SELECT *, HOUR(timediff(now() , create_date)) overTimeNum FROM task_record WHERE template_key = ? AND task_state IS NULL AND task_name = ? AND HOUR(timediff(now() , create_date)) >= ? 
2020-11-21 14:42:23.529 DEBUG c.j.q.dao.TaskRecordMapper.getOverTimeTaskRecord[145]  ==> Parameters: FactoryAuditProcess(String), 部门审核(String), 24(Integer)
2020-11-21 14:42:23.536 DEBUG cn.jwis.qualityworkflow.util.EmailService[144]  get handler mail from http://gateway.dev.jwis.io/platform/sys/user/internal-read?name=hualanlan happen error cause:I/O error on GET request for "http://gateway.dev.jwis.io/platform/sys/user/internal-read": connect timed out; nested exception is java.net.SocketTimeoutException: connect timed out
2020-11-21 14:42:23.536 DEBUG cn.jwis.qualityworkflow.dao.UserMapper.getSuperior[145]  ==>  Preparing: select superior from department_mapping where user_account = ? and type = ? limit 0,1 
2020-11-21 14:42:23.536 DEBUG cn.jwis.qualityworkflow.dao.UserMapper.getSuperior[145]  ==> Parameters: hualanlan(String), QIMS(String)
2020-11-21 14:42:23.539 DEBUG c.j.q.dao.TaskRecordMapper.getOverTimeTaskRecord[145]  <==      Total: 3
2020-11-21 14:42:23.540 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==>  Preparing: select time from email_history_info where id =? 
2020-11-21 14:42:23.540 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==> Parameters: 1295192540470837248(String)
2020-11-21 14:42:23.544 INFO  cn.jwis.qualityworkflow.util.EmailService[142]  hualanlan email is test@jwis.cn
2020-11-21 14:42:23.545 DEBUG cn.jwis.qualityworkflow.dao.UserMapper.getSuperior[145]  <==      Total: 1
2020-11-21 14:42:23.545 DEBUG c.j.q.dao.UserMapper.getSuperiorManagerByUser[145]  ==>  Preparing: select superior_manager from department_mapping where user_account = ? and type = ? limit 0,1 
2020-11-21 14:42:23.546 DEBUG c.j.q.dao.UserMapper.getSuperiorManagerByUser[145]  ==> Parameters: hualanlan(String), QIMS(String)
2020-11-21 14:42:23.549 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  <==      Total: 1
2020-11-21 14:42:23.550 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==>  Preparing: select time from email_history_info where id =? 
2020-11-21 14:42:23.550 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==> Parameters: 1295192619508301824(String)
2020-11-21 14:42:23.551 DEBUG cn.jwis.qualityworkflow.util.EmailService[144]  get handler mail from http://gateway.dev.jwis.io/platform/sys/user/internal-read?name=kiween happen error cause:I/O error on GET request for "http://gateway.dev.jwis.io/platform/sys/user/internal-read": connect timed out; nested exception is java.net.SocketTimeoutException: connect timed out
2020-11-21 14:42:23.551 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==>  Preparing: select time from email_history_info where id =? 
2020-11-21 14:42:23.551 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==> Parameters: 1295193219738370048(String)
2020-11-21 14:42:23.557 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  <==      Total: 1
2020-11-21 14:42:23.557 DEBUG c.j.q.dao.UserMapper.getSuperiorManagerByUser[145]  <==      Total: 1
2020-11-21 14:42:23.557 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==>  Preparing: select time from email_history_info where id =? 
2020-11-21 14:42:23.558 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==> Parameters: 1299240419787276288(String)
2020-11-21 14:42:23.558 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==>  Preparing: select time from email_history_info where id =? 
2020-11-21 14:42:23.559 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  <==      Total: 1
2020-11-21 14:42:23.560 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==> Parameters: 1308013110702899200(String)
2020-11-21 14:42:23.560 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==>  Preparing: select time from email_history_info where id =? 
2020-11-21 14:42:23.560 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==> Parameters: 1295193220166189056(String)
2020-11-21 14:42:23.568 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  <==      Total: 1
2020-11-21 14:42:23.575 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  <==      Total: 1
2020-11-21 14:42:23.575 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  <==      Total: 1
2020-11-21 14:42:23.576 INFO  cn.jwis.qualityworkflow.util.EmailService[142]  workflow3 email is null
2020-11-21 14:42:23.594 INFO  cn.jwis.qualityworkflow.util.EmailService[142]  qualityadmin email is 
2020-11-21 14:42:23.594 DEBUG cn.jwis.qualityworkflow.dao.UserMapper.getSuperior[145]  ==>  Preparing: select superior from department_mapping where user_account = ? and type = ? limit 0,1 
2020-11-21 14:42:23.594 DEBUG cn.jwis.qualityworkflow.dao.UserMapper.getSuperior[145]  ==> Parameters: qualityadmin(String), COMMON(String)
2020-11-21 14:42:23.601 INFO  cn.jwis.qualityworkflow.util.EmailService[142]  zhouxianling email is 
2020-11-21 14:42:23.602 DEBUG cn.jwis.qualityworkflow.dao.UserMapper.getSuperior[145]  <==      Total: 1
2020-11-21 14:42:23.606 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==>  Preparing: select time from email_history_info where id =? 
2020-11-21 14:42:23.607 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==> Parameters: 1286904434760089600(String)
2020-11-21 14:42:23.611 INFO  cn.jwis.qualityworkflow.util.EmailService[142]  qualityadmin email is 
2020-11-21 14:42:23.611 DEBUG cn.jwis.qualityworkflow.dao.UserMapper.getSuperior[145]  ==>  Preparing: select superior from department_mapping where user_account = ? and type = ? limit 0,1 
2020-11-21 14:42:23.611 DEBUG cn.jwis.qualityworkflow.dao.UserMapper.getSuperior[145]  ==> Parameters: qualityadmin(String), COMMON(String)
2020-11-21 14:42:23.612 INFO  cn.jwis.qualityworkflow.util.EmailService[142]  xujinbiao email is 
2020-11-21 14:42:23.612 DEBUG cn.jwis.qualityworkflow.dao.UserMapper.getSuperior[145]  ==>  Preparing: select superior from department_mapping where user_account = ? and type = ? limit 0,1 
2020-11-21 14:42:23.612 DEBUG cn.jwis.qualityworkflow.dao.UserMapper.getSuperior[145]  ==> Parameters: xujinbiao(String), COMMON(String)
2020-11-21 14:42:23.613 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  <==      Total: 1
2020-11-21 14:42:23.617 DEBUG cn.jwis.qualityworkflow.dao.UserMapper.getSuperior[145]  <==      Total: 1
2020-11-21 14:42:23.619 DEBUG cn.jwis.qualityworkflow.dao.UserMapper.getSuperior[145]  <==      Total: 1
2020-11-21 14:42:23.622 INFO  cn.jwis.qualityworkflow.util.EmailService[142]  qualityadmin email is 
2020-11-21 14:42:23.622 INFO  c.j.q.m.factoryaudit.job.AuditQuestionMailJob[31]  邮件下发结束
2020-11-21 14:42:23.622 DEBUG c.j.q.dao.TaskRecordMapper.getOverTimeTaskRecord[145]  ==>  Preparing: SELECT *, HOUR(timediff(now() , create_date)) overTimeNum FROM task_record WHERE template_key = ? AND task_state IS NULL AND task_name = ? AND HOUR(timediff(now() , create_date)) >= ? 
2020-11-21 14:42:23.623 DEBUG c.j.q.dao.TaskRecordMapper.getOverTimeTaskRecord[145]  ==> Parameters: FactoryAuditProcess(String), 部门审核(String), 24(Integer)
2020-11-21 14:42:23.633 DEBUG c.j.q.dao.TaskRecordMapper.getOverTimeTaskRecord[145]  <==      Total: 3
2020-11-21 14:42:23.634 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==>  Preparing: select time from email_history_info where id =? 
2020-11-21 14:42:23.634 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==> Parameters: 1295192540470837248(String)
2020-11-21 14:42:23.641 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  <==      Total: 1
2020-11-21 14:42:23.643 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==>  Preparing: select time from email_history_info where id =? 
2020-11-21 14:42:23.643 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==> Parameters: 1295192619508301824(String)
2020-11-21 14:42:23.652 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  <==      Total: 1
2020-11-21 14:42:23.652 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==>  Preparing: select time from email_history_info where id =? 
2020-11-21 14:42:23.652 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==> Parameters: 1299240419787276288(String)
2020-11-21 14:42:23.655 INFO  cn.jwis.qualityworkflow.util.EmailService[142]  qualityadmin email is 
2020-11-21 14:42:23.656 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==>  Preparing: select time from email_history_info where id =? 
2020-11-21 14:42:23.656 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==> Parameters: 1308013113928318976(String)
2020-11-21 14:42:23.656 INFO  cn.jwis.qualityworkflow.util.EmailService[142]  gupp2 email is null
2020-11-21 14:42:23.656 INFO  cn.jwis.qualityworkflow.util.EmailService[142]  hualanlan email is test@jwis.cn
2020-11-21 14:42:23.657 DEBUG cn.jwis.qualityworkflow.dao.UserMapper.getSuperior[145]  ==>  Preparing: select superior from department_mapping where user_account = ? and type = ? limit 0,1 
2020-11-21 14:42:23.657 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==>  Preparing: select time from email_history_info where id =? 
2020-11-21 14:42:23.657 DEBUG cn.jwis.qualityworkflow.dao.UserMapper.getSuperior[145]  ==> Parameters: gupp2(String), QIMS(String)
2020-11-21 14:42:23.657 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==> Parameters: 1295193707351375872(String)
2020-11-21 14:42:23.658 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  <==      Total: 1
2020-11-21 14:42:23.662 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  <==      Total: 1
2020-11-21 14:42:23.666 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  <==      Total: 1
2020-11-21 14:42:23.666 DEBUG cn.jwis.qualityworkflow.dao.UserMapper.getSuperior[145]  <==      Total: 0
2020-11-21 14:42:23.666 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==>  Preparing: select time from email_history_info where id =? 
2020-11-21 14:42:23.667 DEBUG c.j.q.dao.UserMapper.getSuperiorManagerByUser[145]  ==>  Preparing: select superior_manager from department_mapping where user_account = ? and type = ? limit 0,1 
2020-11-21 14:42:23.667 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==> Parameters: 1295193707376541696(String)
2020-11-21 14:42:23.667 DEBUG c.j.q.dao.UserMapper.getSuperiorManagerByUser[145]  ==> Parameters: gupp2(String), QIMS(String)
2020-11-21 14:42:23.677 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  <==      Total: 1
2020-11-21 14:42:23.677 DEBUG c.j.q.dao.UserMapper.getSuperiorManagerByUser[145]  <==      Total: 0
2020-11-21 14:42:23.683 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==>  Preparing: select time from email_history_info where id =? 
2020-11-21 14:42:23.683 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==> Parameters: 1286916730144161792(String)
2020-11-21 14:42:23.686 INFO  cn.jwis.qualityworkflow.util.EmailService[142]  qualityadmin email is 
2020-11-21 14:42:23.686 DEBUG cn.jwis.qualityworkflow.dao.UserMapper.getSuperior[145]  ==>  Preparing: select superior from department_mapping where user_account = ? and type = ? limit 0,1 
2020-11-21 14:42:23.687 DEBUG cn.jwis.qualityworkflow.dao.UserMapper.getSuperior[145]  ==> Parameters: qualityadmin(String), COMMON(String)
2020-11-21 14:42:23.688 INFO  cn.jwis.qualityworkflow.util.EmailService[142]  qualityadmin email is 
2020-11-21 14:42:23.688 DEBUG cn.jwis.qualityworkflow.dao.UserMapper.getSuperior[145]  ==>  Preparing: select superior from department_mapping where user_account = ? and type = ? limit 0,1 
2020-11-21 14:42:23.689 DEBUG cn.jwis.qualityworkflow.dao.UserMapper.getSuperior[145]  ==> Parameters: qualityadmin(String), COMMON(String)
2020-11-21 14:42:23.691 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  <==      Total: 1
2020-11-21 14:42:23.702 DEBUG cn.jwis.qualityworkflow.dao.UserMapper.getSuperior[145]  <==      Total: 1
2020-11-21 14:42:23.704 DEBUG cn.jwis.qualityworkflow.dao.UserMapper.getSuperior[145]  <==      Total: 1
2020-11-21 14:42:23.766 INFO  cn.jwis.qualityworkflow.util.EmailService[142]  xujinbiao email is 
2020-11-21 14:42:23.766 DEBUG cn.jwis.qualityworkflow.dao.UserMapper.getSuperior[145]  ==>  Preparing: select superior from department_mapping where user_account = ? and type = ? limit 0,1 
2020-11-21 14:42:23.766 DEBUG cn.jwis.qualityworkflow.dao.UserMapper.getSuperior[145]  ==> Parameters: xujinbiao(String), COMMON(String)
2020-11-21 14:42:23.767 INFO  cn.jwis.qualityworkflow.util.EmailService[142]  qualityadmin email is 
2020-11-21 14:42:23.767 INFO  c.j.q.m.factoryaudit.job.AuditQuestionMailJob[31]  邮件下发结束
2020-11-21 14:42:23.767 DEBUG c.j.q.dao.TaskRecordMapper.getOverTimeTaskRecord[145]  ==>  Preparing: SELECT *, HOUR(timediff(now() , create_date)) overTimeNum FROM task_record WHERE template_key = ? AND task_state IS NULL AND task_name = ? AND HOUR(timediff(now() , create_date)) >= ? 
2020-11-21 14:42:23.768 DEBUG c.j.q.dao.TaskRecordMapper.getOverTimeTaskRecord[145]  ==> Parameters: FactoryAuditProcess(String), 部门审核(String), 24(Integer)
2020-11-21 14:42:23.768 INFO  cn.jwis.qualityworkflow.util.EmailService[142]  qualityadmin email is 
2020-11-21 14:42:23.768 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==>  Preparing: select time from email_history_info where id =? 
2020-11-21 14:42:23.768 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==> Parameters: 1308013116927246336(String)
2020-11-21 14:42:23.770 INFO  cn.jwis.qualityworkflow.util.EmailService[142]  gupp2 email is null
2020-11-21 14:42:23.770 DEBUG cn.jwis.qualityworkflow.dao.UserMapper.getSuperior[145]  ==>  Preparing: select superior from department_mapping where user_account = ? and type = ? limit 0,1 
2020-11-21 14:42:23.770 DEBUG cn.jwis.qualityworkflow.dao.UserMapper.getSuperior[145]  ==> Parameters: gupp2(String), QIMS(String)
2020-11-21 14:42:23.773 DEBUG cn.jwis.qualityworkflow.dao.UserMapper.getSuperior[145]  <==      Total: 1
2020-11-21 14:42:23.776 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  <==      Total: 0
2020-11-21 14:42:23.776 DEBUG c.j.q.dao.TaskRecordMapper.getOverTimeTaskRecord[145]  <==      Total: 3
2020-11-21 14:42:23.777 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==>  Preparing: select time from email_history_info where id =? 
2020-11-21 14:42:23.777 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==> Parameters: 1295192540470837248(String)
2020-11-21 14:42:23.779 DEBUG cn.jwis.qualityworkflow.dao.UserMapper.getSuperior[145]  <==      Total: 0
2020-11-21 14:42:23.779 DEBUG c.j.q.dao.UserMapper.getSuperiorManagerByUser[145]  ==>  Preparing: select superior_manager from department_mapping where user_account = ? and type = ? limit 0,1 
2020-11-21 14:42:23.779 DEBUG c.j.q.dao.UserMapper.getSuperiorManagerByUser[145]  ==> Parameters: gupp2(String), QIMS(String)
2020-11-21 14:42:23.790 DEBUG c.j.q.dao.UserMapper.getSuperiorManagerByUser[145]  <==      Total: 0
2020-11-21 14:42:23.790 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  <==      Total: 1
2020-11-21 14:42:23.790 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==>  Preparing: select time from email_history_info where id =? 
2020-11-21 14:42:23.791 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==> Parameters: 1295192619508301824(String)
2020-11-21 14:42:23.794 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==>  Preparing: select time from email_history_info where id =? 
2020-11-21 14:42:23.794 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==> Parameters: 1287933861786812416(String)
2020-11-21 14:42:23.799 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  <==      Total: 1
2020-11-21 14:42:23.799 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==>  Preparing: select time from email_history_info where id =? 
2020-11-21 14:42:23.800 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==> Parameters: 1299240419787276288(String)
2020-11-21 14:42:23.801 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  <==      Total: 1
2020-11-21 14:42:23.807 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  <==      Total: 1
2020-11-21 14:42:23.860 INFO  cn.jwis.qualityworkflow.util.EmailService[142]  hualanlan email is test@jwis.cn
2020-11-21 14:42:23.860 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==>  Preparing: select time from email_history_info where id =? 
2020-11-21 14:42:23.860 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==> Parameters: 1315248790789160960(String)
2020-11-21 14:42:23.864 INFO  cn.jwis.qualityworkflow.util.EmailService[142]  kiween email is 
2020-11-21 14:42:23.864 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==>  Preparing: select time from email_history_info where id =? 
2020-11-21 14:42:23.864 INFO  cn.jwis.qualityworkflow.util.EmailService[142]  hualanlan email is test@jwis.cn
2020-11-21 14:42:23.864 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==> Parameters: 1309046852858937344(String)
2020-11-21 14:42:23.864 DEBUG cn.jwis.qualityworkflow.dao.UserMapper.getSuperior[145]  ==>  Preparing: select superior from department_mapping where user_account = ? and type = ? limit 0,1 
2020-11-21 14:42:23.865 DEBUG cn.jwis.qualityworkflow.dao.UserMapper.getSuperior[145]  ==> Parameters: hualanlan(String), QIMS(String)
2020-11-21 14:42:23.866 INFO  cn.jwis.qualityworkflow.util.EmailService[142]  qualityadmin email is 
2020-11-21 14:42:23.866 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  <==      Total: 1
2020-11-21 14:42:23.866 DEBUG cn.jwis.qualityworkflow.dao.UserMapper.getSuperior[145]  ==>  Preparing: select superior from department_mapping where user_account = ? and type = ? limit 0,1 
2020-11-21 14:42:23.866 DEBUG cn.jwis.qualityworkflow.dao.UserMapper.getSuperior[145]  ==> Parameters: qualityadmin(String), COMMON(String)
2020-11-21 14:42:23.870 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  <==      Total: 0
2020-11-21 14:42:23.871 DEBUG cn.jwis.qualityworkflow.dao.UserMapper.getSuperior[145]  <==      Total: 1
2020-11-21 14:42:23.871 DEBUG c.j.q.dao.UserMapper.getSuperiorManagerByUser[145]  ==>  Preparing: select superior_manager from department_mapping where user_account = ? and type = ? limit 0,1 
2020-11-21 14:42:23.871 DEBUG c.j.q.dao.UserMapper.getSuperiorManagerByUser[145]  ==> Parameters: hualanlan(String), QIMS(String)
2020-11-21 14:42:23.872 DEBUG cn.jwis.qualityworkflow.dao.UserMapper.getSuperior[145]  <==      Total: 1
2020-11-21 14:42:23.883 DEBUG c.j.q.dao.UserMapper.getSuperiorManagerByUser[145]  <==      Total: 1
2020-11-21 14:42:23.899 INFO  cn.jwis.qualityworkflow.util.EmailService[142]  dz_gyb1 email is test@jwis.cn
2020-11-21 14:42:23.900 DEBUG cn.jwis.qualityworkflow.dao.UserMapper.getSuperior[145]  ==>  Preparing: select superior from department_mapping where user_account = ? and type = ? limit 0,1 
2020-11-21 14:42:23.900 DEBUG cn.jwis.qualityworkflow.dao.UserMapper.getSuperior[145]  ==> Parameters: dz_gyb1(String), COMMON(String)
2020-11-21 14:42:23.901 INFO  cn.jwis.qualityworkflow.util.EmailService[142]  codisan email is kelvin@jwis.cn
2020-11-21 14:42:23.901 INFO  cn.jwis.qualityworkflow.util.EmailService[142]  qualityadmin email is 
2020-11-21 14:42:23.901 DEBUG c.j.qualityworkflow.dao.CommonMapper.getKeyToName[145]  ==>  Preparing: SELECT * FROM key_to_name 
2020-11-21 14:42:23.901 INFO  c.j.q.m.factoryaudit.job.AuditQuestionMailJob[31]  邮件下发结束
2020-11-21 14:42:23.901 DEBUG c.j.qualityworkflow.dao.CommonMapper.getKeyToName[145]  ==> Parameters: 
2020-11-21 14:42:23.901 DEBUG c.j.q.dao.TaskRecordMapper.getOverTimeTaskRecord[145]  ==>  Preparing: SELECT *, HOUR(timediff(now() , create_date)) overTimeNum FROM task_record WHERE template_key = ? AND task_state IS NULL AND task_name = ? AND HOUR(timediff(now() , create_date)) >= ? 
2020-11-21 14:42:23.902 DEBUG c.j.q.dao.TaskRecordMapper.getOverTimeTaskRecord[145]  ==> Parameters: FactoryAuditProcess(String), 部门审核(String), 24(Integer)
2020-11-21 14:42:23.907 DEBUG cn.jwis.qualityworkflow.dao.UserMapper.getSuperior[145]  <==      Total: 1
2020-11-21 14:42:23.907 DEBUG c.j.qualityworkflow.dao.CommonMapper.getKeyToName[145]  <==      Total: 8
2020-11-21 14:42:23.909 INFO  cn.jwis.qualityworkflow.util.EmailService[74]  haomiao.liu@jwis.cn send a Mail to kelvin@jwis.cn fail, because null
2020-11-21 14:42:23.913 DEBUG c.j.q.dao.TaskRecordMapper.getOverTimeTaskRecord[145]  <==      Total: 3
2020-11-21 14:42:23.913 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==>  Preparing: select time from email_history_info where id =? 
2020-11-21 14:42:23.913 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==> Parameters: 1295192540470837248(String)
2020-11-21 14:42:23.921 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  <==      Total: 1
2020-11-21 14:42:23.922 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==>  Preparing: select time from email_history_info where id =? 
2020-11-21 14:42:23.922 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==> Parameters: 1295192619508301824(String)
2020-11-21 14:42:23.928 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  <==      Total: 1
2020-11-21 14:42:23.929 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==>  Preparing: select time from email_history_info where id =? 
2020-11-21 14:42:23.929 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==> Parameters: 1299240419787276288(String)
2020-11-21 14:42:23.937 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  <==      Total: 1
2020-11-21 14:42:23.959 INFO  cn.jwis.qualityworkflow.util.EmailService[142]  workflow3 email is null
2020-11-21 14:42:23.962 INFO  cn.jwis.qualityworkflow.util.EmailService[142]  dz_gyb2 email is jian.song@jwis.cn
2020-11-21 14:42:23.962 DEBUG c.j.qualityworkflow.dao.CommonMapper.getKeyToName[145]  ==>  Preparing: SELECT * FROM key_to_name 
2020-11-21 14:42:23.963 DEBUG c.j.qualityworkflow.dao.CommonMapper.getKeyToName[145]  ==> Parameters: 
2020-11-21 14:42:23.963 INFO  cn.jwis.qualityworkflow.util.EmailService[142]  qualityadmin email is 
2020-11-21 14:42:23.964 DEBUG cn.jwis.qualityworkflow.dao.UserMapper.getSuperior[145]  ==>  Preparing: select superior from department_mapping where user_account = ? and type = ? limit 0,1 
2020-11-21 14:42:23.964 DEBUG cn.jwis.qualityworkflow.dao.UserMapper.getSuperior[145]  ==> Parameters: qualityadmin(String), COMMON(String)
2020-11-21 14:42:23.970 DEBUG c.j.qualityworkflow.dao.CommonMapper.getKeyToName[145]  <==      Total: 8
2020-11-21 14:42:23.971 DEBUG c.j.q.m.l.d.L.getLineQualifyDetailednessInfo[145]  ==>  Preparing: SELECT q.*,ar.processInstanceId ,ar.taskId,ar.assignee,ar.taskState,ar.taskName FROM line_qualify_info q,(SELECT workflow_business_id, process_instance_id as processInstanceId,task_id as taskId,assignee,task_state as taskState,task_name taskName FROM task_record WHERE task_id=?) ar where q.id=ar.workflow_business_id 
2020-11-21 14:42:23.971 DEBUG c.j.q.m.l.d.L.getLineQualifyDetailednessInfo[145]  ==> Parameters: 5506556(String)
2020-11-21 14:42:23.972 DEBUG cn.jwis.qualityworkflow.dao.UserMapper.getSuperior[145]  <==      Total: 1
2020-11-21 14:42:23.981 INFO  cn.jwis.qualityworkflow.util.EmailService[142]  zhouxianling email is 
2020-11-21 14:42:23.981 DEBUG c.j.q.m.l.d.L.getLineQualifyDetailednessInfo[145]  <==      Total: 1
2020-11-21 14:42:23.981 DEBUG c.j.qualityworkflow.dao.TaskRecordMapper.getById[145]  ==>  Preparing: SELECT * from task_record WHERE id = ? 
2020-11-21 14:42:23.982 DEBUG c.j.qualityworkflow.dao.TaskRecordMapper.getById[145]  ==> Parameters: 1287933861786812416(String)
2020-11-21 14:42:23.982 INFO  cn.jwis.qualityworkflow.util.EmailService[69]  haomiao.liu@jwis.cn send a Mail to test@jwis.cn and make a copy for [jian.song@jwis.cn]
2020-11-21 14:42:23.989 DEBUG c.j.qualityworkflow.dao.TaskRecordMapper.getById[145]  <==      Total: 1
2020-11-21 14:42:23.990 DEBUG c.j.qualityworkflow.dao.CommonMapper.getKeyToName[145]  ==>  Preparing: SELECT * FROM key_to_name 
2020-11-21 14:42:23.990 DEBUG c.j.qualityworkflow.dao.CommonMapper.getKeyToName[145]  ==> Parameters: 
2020-11-21 14:42:23.993 INFO  cn.jwis.qualityworkflow.util.EmailService[142]  qualityadmin email is 
2020-11-21 14:42:23.993 INFO  c.j.q.m.factoryaudit.job.AuditQuestionMailJob[31]  邮件下发结束
2020-11-21 14:42:23.993 DEBUG c.j.q.dao.TaskRecordMapper.getOverTimeTaskRecord[145]  ==>  Preparing: SELECT *, HOUR(timediff(now() , create_date)) overTimeNum FROM task_record WHERE template_key = ? AND task_state IS NULL AND task_name = ? AND HOUR(timediff(now() , create_date)) >= ? 
2020-11-21 14:42:23.994 DEBUG c.j.q.dao.TaskRecordMapper.getOverTimeTaskRecord[145]  ==> Parameters: FactoryAuditProcess(String), 部门审核(String), 24(Integer)
2020-11-21 14:42:24.009 DEBUG c.j.qualityworkflow.dao.CommonMapper.getKeyToName[145]  <==      Total: 8
2020-11-21 14:42:24.011 INFO  cn.jwis.qualityworkflow.util.EmailService[71]  haomiao.liu@jwis.cn send a Mail to test@jwis.cn
2020-11-21 14:42:24.011 DEBUG c.j.q.dao.TaskRecordMapper.getOverTimeTaskRecord[145]  <==      Total: 3
2020-11-21 14:42:24.012 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==>  Preparing: select time from email_history_info where id =? 
2020-11-21 14:42:24.012 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==> Parameters: 1295192540470837248(String)
2020-11-21 14:42:24.019 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  <==      Total: 1
2020-11-21 14:42:24.020 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==>  Preparing: select time from email_history_info where id =? 
2020-11-21 14:42:24.020 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==> Parameters: 1295192619508301824(String)
2020-11-21 14:42:24.026 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  <==      Total: 1
2020-11-21 14:42:24.027 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==>  Preparing: select time from email_history_info where id =? 
2020-11-21 14:42:24.027 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==> Parameters: 1299240419787276288(String)
2020-11-21 14:42:24.035 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  <==      Total: 1
2020-11-21 14:42:24.055 INFO  cn.jwis.qualityworkflow.util.EmailService[142]  qualityadmin email is 
2020-11-21 14:42:24.056 DEBUG cn.jwis.qualityworkflow.dao.UserMapper.getSuperior[145]  ==>  Preparing: select superior from department_mapping where user_account = ? and type = ? limit 0,1 
2020-11-21 14:42:24.056 DEBUG cn.jwis.qualityworkflow.dao.UserMapper.getSuperior[145]  ==> Parameters: qualityadmin(String), COMMON(String)
2020-11-21 14:42:24.078 DEBUG cn.jwis.qualityworkflow.dao.UserMapper.getSuperior[145]  <==      Total: 1
2020-11-21 14:42:24.102 INFO  cn.jwis.qualityworkflow.util.EmailService[142]  qualityadmin email is 
2020-11-21 14:42:24.102 INFO  c.j.q.m.factoryaudit.job.AuditQuestionMailJob[31]  邮件下发结束
2020-11-21 14:42:24.103 DEBUG c.j.q.dao.TaskRecordMapper.getOverTimeTaskRecord[145]  ==>  Preparing: SELECT *, HOUR(timediff(now() , create_date)) overTimeNum FROM task_record WHERE template_key = ? AND task_state IS NULL AND task_name = ? AND HOUR(timediff(now() , create_date)) >= ? 
2020-11-21 14:42:24.103 DEBUG c.j.q.dao.TaskRecordMapper.getOverTimeTaskRecord[145]  ==> Parameters: FactoryAuditProcess(String), 部门审核(String), 24(Integer)
2020-11-21 14:42:24.114 DEBUG c.j.q.dao.TaskRecordMapper.getOverTimeTaskRecord[145]  <==      Total: 3
2020-11-21 14:42:24.115 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==>  Preparing: select time from email_history_info where id =? 
2020-11-21 14:42:24.115 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==> Parameters: 1295192540470837248(String)
2020-11-21 14:42:24.125 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  <==      Total: 1
2020-11-21 14:42:24.126 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==>  Preparing: select time from email_history_info where id =? 
2020-11-21 14:42:24.126 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==> Parameters: 1295192619508301824(String)
2020-11-21 14:42:24.136 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  <==      Total: 1
2020-11-21 14:42:24.137 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==>  Preparing: select time from email_history_info where id =? 
2020-11-21 14:42:24.137 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==> Parameters: 1299240419787276288(String)
2020-11-21 14:42:24.144 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  <==      Total: 1
2020-11-21 14:42:24.165 INFO  cn.jwis.qualityworkflow.util.EmailService[142]  qualityadmin email is 
2020-11-21 14:42:24.165 DEBUG cn.jwis.qualityworkflow.dao.UserMapper.getSuperior[145]  ==>  Preparing: select superior from department_mapping where user_account = ? and type = ? limit 0,1 
2020-11-21 14:42:24.166 DEBUG cn.jwis.qualityworkflow.dao.UserMapper.getSuperior[145]  ==> Parameters: qualityadmin(String), COMMON(String)
2020-11-21 14:42:24.172 DEBUG cn.jwis.qualityworkflow.dao.UserMapper.getSuperior[145]  <==      Total: 1
2020-11-21 14:42:24.192 INFO  cn.jwis.qualityworkflow.util.EmailService[142]  qualityadmin email is 
2020-11-21 14:42:24.192 INFO  c.j.q.m.factoryaudit.job.AuditQuestionMailJob[31]  邮件下发结束
2020-11-21 14:42:24.192 DEBUG c.j.q.dao.TaskRecordMapper.getOverTimeTaskRecord[145]  ==>  Preparing: SELECT *, HOUR(timediff(now() , create_date)) overTimeNum FROM task_record WHERE template_key = ? AND task_state IS NULL AND task_name = ? AND HOUR(timediff(now() , create_date)) >= ? 
2020-11-21 14:42:24.193 DEBUG c.j.q.dao.TaskRecordMapper.getOverTimeTaskRecord[145]  ==> Parameters: FactoryAuditProcess(String), 部门审核(String), 24(Integer)
2020-11-21 14:42:24.203 DEBUG c.j.q.dao.TaskRecordMapper.getOverTimeTaskRecord[145]  <==      Total: 3
2020-11-21 14:42:24.204 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==>  Preparing: select time from email_history_info where id =? 
2020-11-21 14:42:24.204 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==> Parameters: 1295192540470837248(String)
2020-11-21 14:42:24.213 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  <==      Total: 1
2020-11-21 14:42:24.213 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==>  Preparing: select time from email_history_info where id =? 
2020-11-21 14:42:24.214 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==> Parameters: 1295192619508301824(String)
2020-11-21 14:42:24.221 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  <==      Total: 1
2020-11-21 14:42:24.221 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==>  Preparing: select time from email_history_info where id =? 
2020-11-21 14:42:24.221 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==> Parameters: 1299240419787276288(String)
2020-11-21 14:42:24.227 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  <==      Total: 1
2020-11-21 14:42:24.257 INFO  cn.jwis.qualityworkflow.util.EmailService[142]  qualityadmin email is 
2020-11-21 14:42:24.257 DEBUG cn.jwis.qualityworkflow.dao.UserMapper.getSuperior[145]  ==>  Preparing: select superior from department_mapping where user_account = ? and type = ? limit 0,1 
2020-11-21 14:42:24.258 DEBUG cn.jwis.qualityworkflow.dao.UserMapper.getSuperior[145]  ==> Parameters: qualityadmin(String), COMMON(String)
2020-11-21 14:42:24.267 DEBUG cn.jwis.qualityworkflow.dao.UserMapper.getSuperior[145]  <==      Total: 1
2020-11-21 14:42:24.290 INFO  cn.jwis.qualityworkflow.util.EmailService[142]  qualityadmin email is 
2020-11-21 14:42:24.290 INFO  c.j.q.m.factoryaudit.job.AuditQuestionMailJob[31]  邮件下发结束
2020-11-21 14:42:24.290 DEBUG c.j.q.dao.TaskRecordMapper.getOverTimeTaskRecord[145]  ==>  Preparing: SELECT *, HOUR(timediff(now() , create_date)) overTimeNum FROM task_record WHERE template_key = ? AND task_state IS NULL AND task_name = ? AND HOUR(timediff(now() , create_date)) >= ? 
2020-11-21 14:42:24.291 DEBUG c.j.q.dao.TaskRecordMapper.getOverTimeTaskRecord[145]  ==> Parameters: FactoryAuditProcess(String), 部门审核(String), 24(Integer)
2020-11-21 14:42:24.305 DEBUG c.j.q.dao.TaskRecordMapper.getOverTimeTaskRecord[145]  <==      Total: 3
2020-11-21 14:42:24.306 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==>  Preparing: select time from email_history_info where id =? 
2020-11-21 14:42:24.306 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==> Parameters: 1295192540470837248(String)
2020-11-21 14:42:24.320 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  <==      Total: 1
2020-11-21 14:42:24.320 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==>  Preparing: select time from email_history_info where id =? 
2020-11-21 14:42:24.321 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==> Parameters: 1295192619508301824(String)
2020-11-21 14:42:24.327 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  <==      Total: 1
2020-11-21 14:42:24.328 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==>  Preparing: select time from email_history_info where id =? 
2020-11-21 14:42:24.328 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==> Parameters: 1299240419787276288(String)
2020-11-21 14:42:24.338 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  <==      Total: 1
2020-11-21 14:42:24.362 INFO  cn.jwis.qualityworkflow.util.EmailService[142]  qualityadmin email is 
2020-11-21 14:42:24.363 DEBUG cn.jwis.qualityworkflow.dao.UserMapper.getSuperior[145]  ==>  Preparing: select superior from department_mapping where user_account = ? and type = ? limit 0,1 
2020-11-21 14:42:24.363 DEBUG cn.jwis.qualityworkflow.dao.UserMapper.getSuperior[145]  ==> Parameters: qualityadmin(String), COMMON(String)
2020-11-21 14:42:24.370 DEBUG cn.jwis.qualityworkflow.dao.UserMapper.getSuperior[145]  <==      Total: 1
2020-11-21 14:42:24.389 INFO  cn.jwis.qualityworkflow.util.EmailService[142]  qualityadmin email is 
2020-11-21 14:42:24.389 INFO  c.j.q.m.factoryaudit.job.AuditQuestionMailJob[31]  邮件下发结束
2020-11-21 14:42:24.390 DEBUG c.j.q.dao.TaskRecordMapper.getOverTimeTaskRecord[145]  ==>  Preparing: SELECT *, HOUR(timediff(now() , create_date)) overTimeNum FROM task_record WHERE template_key = ? AND task_state IS NULL AND task_name = ? AND HOUR(timediff(now() , create_date)) >= ? 
2020-11-21 14:42:24.390 DEBUG c.j.q.dao.TaskRecordMapper.getOverTimeTaskRecord[145]  ==> Parameters: FactoryAuditProcess(String), 部门审核(String), 24(Integer)
2020-11-21 14:42:24.409 DEBUG c.j.q.dao.TaskRecordMapper.getOverTimeTaskRecord[145]  <==      Total: 3
2020-11-21 14:42:24.410 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==>  Preparing: select time from email_history_info where id =? 
2020-11-21 14:42:24.410 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==> Parameters: 1295192540470837248(String)
2020-11-21 14:42:24.422 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  <==      Total: 1
2020-11-21 14:42:24.422 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==>  Preparing: select time from email_history_info where id =? 
2020-11-21 14:42:24.423 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==> Parameters: 1295192619508301824(String)
2020-11-21 14:42:24.429 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  <==      Total: 1
2020-11-21 14:42:24.430 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==>  Preparing: select time from email_history_info where id =? 
2020-11-21 14:42:24.430 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==> Parameters: 1299240419787276288(String)
2020-11-21 14:42:24.437 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  <==      Total: 1
2020-11-21 14:42:24.461 INFO  cn.jwis.qualityworkflow.util.EmailService[142]  qualityadmin email is 
2020-11-21 14:42:24.461 DEBUG cn.jwis.qualityworkflow.dao.UserMapper.getSuperior[145]  ==>  Preparing: select superior from department_mapping where user_account = ? and type = ? limit 0,1 
2020-11-21 14:42:24.461 DEBUG cn.jwis.qualityworkflow.dao.UserMapper.getSuperior[145]  ==> Parameters: qualityadmin(String), COMMON(String)
2020-11-21 14:42:24.476 DEBUG cn.jwis.qualityworkflow.dao.UserMapper.getSuperior[145]  <==      Total: 1
2020-11-21 14:42:24.497 INFO  cn.jwis.qualityworkflow.util.EmailService[142]  qualityadmin email is 
2020-11-21 14:42:24.498 INFO  c.j.q.m.factoryaudit.job.AuditQuestionMailJob[31]  邮件下发结束
2020-11-21 14:42:24.498 DEBUG c.j.q.dao.TaskRecordMapper.getOverTimeTaskRecord[145]  ==>  Preparing: SELECT *, HOUR(timediff(now() , create_date)) overTimeNum FROM task_record WHERE template_key = ? AND task_state IS NULL AND task_name = ? AND HOUR(timediff(now() , create_date)) >= ? 
2020-11-21 14:42:24.499 DEBUG c.j.q.dao.TaskRecordMapper.getOverTimeTaskRecord[145]  ==> Parameters: FactoryAuditProcess(String), 部门审核(String), 24(Integer)
2020-11-21 14:42:24.521 DEBUG c.j.q.dao.TaskRecordMapper.getOverTimeTaskRecord[145]  <==      Total: 3
2020-11-21 14:42:24.521 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==>  Preparing: select time from email_history_info where id =? 
2020-11-21 14:42:24.521 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==> Parameters: 1295192540470837248(String)
2020-11-21 14:42:24.523 ERROR o.s.s.support.TaskUtils$LoggingErrorHandler[96] org.springframework.mail.MailSendException: Failed messages: javax.mail.SendFailedException: Invalid Addresses;
  nested exception is:
	com.sun.mail.smtp.SMTPAddressFailedException: 554 RCPT (kelvin@jwis.cn) dosn't exist

	at org.springframework.mail.javamail.JavaMailSenderImpl.doSend(JavaMailSenderImpl.java:488)
	at org.springframework.mail.javamail.JavaMailSenderImpl.send(JavaMailSenderImpl.java:359)
	at org.springframework.mail.javamail.JavaMailSenderImpl.send(JavaMailSenderImpl.java:354)
	at cn.jwis.qualityworkflow.util.EmailService.sendHtmlMail(EmailService.java:76)
	at cn.jwis.qualityworkflow.modules.qims.service.imp.QimsSendMailServiceImpl.sendEmailTohandler(QimsSendMailServiceImpl.java:161)
	at cn.jwis.qualityworkflow.modules.ipqc.service.imp.AuditQualityProblemServiceImpl.qimsSendMail(AuditQualityProblemServiceImpl.java:321)
	at cn.jwis.qualityworkflow.modules.ipqc.service.imp.AuditQualityProblemServiceImpl$$FastClassBySpringCGLIB$$15ff325f.invoke(<generated>)
	at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:684)
	at cn.jwis.qualityworkflow.modules.ipqc.service.imp.AuditQualityProblemServiceImpl$$EnhancerBySpringCGLIB$$7c12bff2.qimsSendMail(<generated>)
	at cn.jwis.qualityworkflow.modules.ipqc.job.ipqcMailJob.qimsSendMail(ipqcMailJob.java:28)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.springframework.scheduling.support.ScheduledMethodRunnable.run(ScheduledMethodRunnable.java:84)
	at org.springframework.scheduling.support.DelegatingErrorHandlingRunnable.run(DelegatingErrorHandlingRunnable.java:54)
	at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:511)
	at java.util.concurrent.FutureTask.runAndReset(FutureTask.java:308)
	at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.access$301(ScheduledThreadPoolExecutor.java:180)
	at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:294)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)
 Unexpected error occurred in scheduled task.
2020-11-21 14:42:24.524 INFO  c.j.qualityworkflow.modules.ipqc.job.ipqcMailJob[27]  查询IPQC超时任务
2020-11-21 14:42:24.532 DEBUG c.j.q.dao.TaskRecordMapper.getOverTimeTaskRecord2[145]  ==>  Preparing: SELECT *, HOUR(timediff(now() , create_date)) overTimeNum FROM task_record WHERE template_key = ? AND task_state IS NULL AND HOUR(timediff(now() , create_date)) >= ? 
2020-11-21 14:42:24.532 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  <==      Total: 1
2020-11-21 14:42:24.533 DEBUG c.j.q.dao.TaskRecordMapper.getOverTimeTaskRecord2[145]  ==> Parameters: IPQCAuditProcess(String), 24(Integer)
2020-11-21 14:42:24.533 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==>  Preparing: select time from email_history_info where id =? 
2020-11-21 14:42:24.533 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==> Parameters: 1295192619508301824(String)
2020-11-21 14:42:24.539 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  <==      Total: 1
2020-11-21 14:42:24.540 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==>  Preparing: select time from email_history_info where id =? 
2020-11-21 14:42:24.540 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==> Parameters: 1299240419787276288(String)
2020-11-21 14:42:24.542 DEBUG c.j.q.dao.TaskRecordMapper.getOverTimeTaskRecord2[145]  <==      Total: 18
2020-11-21 14:42:24.543 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==>  Preparing: select time from email_history_info where id =? 
2020-11-21 14:42:24.543 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==> Parameters: 1303868320843300864(String)
2020-11-21 14:42:24.549 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  <==      Total: 1
2020-11-21 14:42:24.550 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  <==      Total: 1
2020-11-21 14:42:24.550 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==>  Preparing: select time from email_history_info where id =? 
2020-11-21 14:42:24.550 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==> Parameters: 1303868347422605312(String)
2020-11-21 14:42:24.558 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  <==      Total: 1
2020-11-21 14:42:24.559 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==>  Preparing: select time from email_history_info where id =? 
2020-11-21 14:42:24.559 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==> Parameters: 1303868393815801856(String)
2020-11-21 14:42:24.567 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  <==      Total: 1
2020-11-21 14:42:24.568 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==>  Preparing: select time from email_history_info where id =? 
2020-11-21 14:42:24.568 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==> Parameters: 1303937438065885184(String)
2020-11-21 14:42:24.574 INFO  cn.jwis.qualityworkflow.util.EmailService[142]  qualityadmin email is 
2020-11-21 14:42:24.575 DEBUG cn.jwis.qualityworkflow.dao.UserMapper.getSuperior[145]  ==>  Preparing: select superior from department_mapping where user_account = ? and type = ? limit 0,1 
2020-11-21 14:42:24.575 DEBUG cn.jwis.qualityworkflow.dao.UserMapper.getSuperior[145]  ==> Parameters: qualityadmin(String), COMMON(String)
2020-11-21 14:42:24.577 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  <==      Total: 1
2020-11-21 14:42:24.577 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==>  Preparing: select time from email_history_info where id =? 
2020-11-21 14:42:24.578 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==> Parameters: 1303939538460082176(String)
2020-11-21 14:42:24.584 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  <==      Total: 1
2020-11-21 14:42:24.584 DEBUG cn.jwis.qualityworkflow.dao.UserMapper.getSuperior[145]  <==      Total: 1
2020-11-21 14:42:24.585 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==>  Preparing: select time from email_history_info where id =? 
2020-11-21 14:42:24.585 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==> Parameters: 1303939599889858560(String)
2020-11-21 14:42:24.593 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  <==      Total: 1
2020-11-21 14:42:24.594 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==>  Preparing: select time from email_history_info where id =? 
2020-11-21 14:42:24.594 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==> Parameters: 1306059696263659520(String)
2020-11-21 14:42:24.623 INFO  cn.jwis.qualityworkflow.util.EmailService[142]  qualityadmin email is 
2020-11-21 14:42:24.623 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  <==      Total: 1
2020-11-21 14:42:24.623 INFO  c.j.q.m.factoryaudit.job.AuditQuestionMailJob[31]  邮件下发结束
2020-11-21 14:42:24.623 ERROR o.s.s.support.TaskUtils$LoggingErrorHandler[96] org.springframework.mail.MailSendException: Failed messages: javax.mail.SendFailedException: Invalid Addresses;
  nested exception is:
	com.sun.mail.smtp.SMTPAddressFailedException: 554 RCPT (test@jwis.cn) dosn't exist

	at org.springframework.mail.javamail.JavaMailSenderImpl.doSend(JavaMailSenderImpl.java:488)
	at org.springframework.mail.javamail.JavaMailSenderImpl.send(JavaMailSenderImpl.java:359)
	at org.springframework.mail.javamail.JavaMailSenderImpl.send(JavaMailSenderImpl.java:354)
	at cn.jwis.qualityworkflow.util.EmailService.sendHtmlMail(EmailService.java:76)
	at cn.jwis.qualityworkflow.modules.qims.service.imp.QimsSendMailServiceImpl.sendEmailTohandler(QimsSendMailServiceImpl.java:161)
	at cn.jwis.qualityworkflow.modules.qims.service.imp.QimsSendMailServiceImpl.qimsSendMail(QimsSendMailServiceImpl.java:90)
	at cn.jwis.qualityworkflow.modules.qims.job.qimsMailJob.qimsSendMail(qimsMailJob.java:49)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.springframework.scheduling.support.ScheduledMethodRunnable.run(ScheduledMethodRunnable.java:84)
	at org.springframework.scheduling.support.DelegatingErrorHandlingRunnable.run(DelegatingErrorHandlingRunnable.java:54)
	at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:511)
	at java.util.concurrent.FutureTask.runAndReset(FutureTask.java:308)
	at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.access$301(ScheduledThreadPoolExecutor.java:180)
	at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:294)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)
 Unexpected error occurred in scheduled task.
2020-11-21 14:42:24.624 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==>  Preparing: select time from email_history_info where id =? 
2020-11-21 14:42:24.624 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==> Parameters: 1306155886347026432(String)
2020-11-21 14:42:24.636 DEBUG c.j.q.m.qims.dao.BlackDashBoardMapper.getHoliday[145]  ==>  Preparing: SELECT DISTINCT date FROM holiday_maintenance WHERE type = '节假日' 
2020-11-21 14:42:24.636 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  <==      Total: 1
2020-11-21 14:42:24.636 DEBUG c.j.q.m.qims.dao.BlackDashBoardMapper.getHoliday[145]  ==> Parameters: 
2020-11-21 14:42:24.636 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==>  Preparing: select time from email_history_info where id =? 
2020-11-21 14:42:24.637 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==> Parameters: 1306201167000240128(String)
2020-11-21 14:42:24.642 DEBUG c.j.q.m.qims.dao.BlackDashBoardMapper.getHoliday[145]  <==      Total: 6
2020-11-21 14:42:24.642 DEBUG c.j.q.m.q.d.B.getWorkOvertimeList[145]  ==>  Preparing: SELECT DISTINCT date FROM holiday_maintenance WHERE type = '补班' 
2020-11-21 14:42:24.643 DEBUG c.j.q.m.q.d.B.getWorkOvertimeList[145]  ==> Parameters: 
2020-11-21 14:42:24.643 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  <==      Total: 1
2020-11-21 14:42:24.643 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==>  Preparing: select time from email_history_info where id =? 
2020-11-21 14:42:24.643 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==> Parameters: 1308013106458263552(String)
2020-11-21 14:42:24.650 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  <==      Total: 0
2020-11-21 14:42:24.650 DEBUG c.j.q.m.q.d.B.getWorkOvertimeList[145]  <==      Total: 4
2020-11-21 14:42:24.650 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getLtStandard[145]  ==>  Preparing: select * from qims_lt_standard_info 
2020-11-21 14:42:24.650 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getLtStandard[145]  ==> Parameters: 
2020-11-21 14:42:24.654 ERROR o.s.s.support.TaskUtils$LoggingErrorHandler[96] org.springframework.mail.MailSendException: Failed messages: javax.mail.SendFailedException: Invalid Addresses;
  nested exception is:
	com.sun.mail.smtp.SMTPAddressFailedException: 554 RCPT (test@jwis.cn) dosn't exist
;
  nested exception is:
	com.sun.mail.smtp.SMTPAddressFailedException: 554 RCPT (jian.song@jwis.cn) dosn't exist

	at org.springframework.mail.javamail.JavaMailSenderImpl.doSend(JavaMailSenderImpl.java:488)
	at org.springframework.mail.javamail.JavaMailSenderImpl.send(JavaMailSenderImpl.java:359)
	at org.springframework.mail.javamail.JavaMailSenderImpl.send(JavaMailSenderImpl.java:354)
	at cn.jwis.qualityworkflow.util.EmailService.sendHtmlMail(EmailService.java:76)
	at cn.jwis.qualityworkflow.modules.linequalify.service.imp.LineQualifyServiceImpl.sendEmailTohandler(LineQualifyServiceImpl.java:617)
	at cn.jwis.qualityworkflow.modules.linequalify.service.imp.LineQualifyServiceImpl.sendOverTimeMail(LineQualifyServiceImpl.java:594)
	at cn.jwis.qualityworkflow.modules.linequalify.service.imp.LineQualifyServiceImpl$$FastClassBySpringCGLIB$$4ca6f597.invoke(<generated>)
	at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:684)
	at cn.jwis.qualityworkflow.modules.linequalify.service.imp.LineQualifyServiceImpl$$EnhancerBySpringCGLIB$$c381cc9a.sendOverTimeMail(<generated>)
	at cn.jwis.qualityworkflow.modules.linequalify.job.LineQualifyMailJob.sendOverTimeMail(LineQualifyMailJob.java:30)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.springframework.scheduling.support.ScheduledMethodRunnable.run(ScheduledMethodRunnable.java:84)
	at org.springframework.scheduling.support.DelegatingErrorHandlingRunnable.run(DelegatingErrorHandlingRunnable.java:54)
	at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:511)
	at java.util.concurrent.FutureTask.runAndReset(FutureTask.java:308)
	at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.access$301(ScheduledThreadPoolExecutor.java:180)
	at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:294)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)
 Unexpected error occurred in scheduled task.
2020-11-21 14:42:24.657 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getLtStandard[145]  <==      Total: 8
2020-11-21 14:42:24.658 INFO  c.j.qualityworkflow.modules.qims.job.qimsMailJob[47]  查询黑色问题超过LT的信息
2020-11-21 14:42:24.659 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getBlackList[145]  ==>  Preparing: select * from task_record where task_name in('初步原因分析','根本原因分析','根本原因审核') and task_state is null and template_key='QIMSBLACK' 
2020-11-21 14:42:24.659 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getBlackList[145]  ==> Parameters: 
2020-11-21 14:42:24.662 DEBUG c.j.q.dao.TaskRecordMapper.getOverTimeTaskRecord[145]  ==>  Preparing: SELECT *, HOUR(timediff(now() , create_date)) overTimeNum FROM task_record WHERE template_key = ? AND task_state IS NULL AND task_name = ? AND HOUR(timediff(now() , create_date)) >= ? 
2020-11-21 14:42:24.662 DEBUG c.j.q.dao.TaskRecordMapper.getOverTimeTaskRecord[145]  ==> Parameters: Line Qualify(String), 文件收集(String), 2(Integer)
2020-11-21 14:42:24.670 INFO  cn.jwis.qualityworkflow.util.EmailService[142]  kiween email is 
2020-11-21 14:42:24.670 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getBlackList[145]  <==      Total: 16
2020-11-21 14:42:24.670 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==>  Preparing: select time from email_history_info where id =? 
2020-11-21 14:42:24.671 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==> Parameters: 1308013110702899200(String)
2020-11-21 14:42:24.673 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==>  Preparing: select time from email_history_info where id =? 
2020-11-21 14:42:24.674 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==> Parameters: 1286902446076985344(String)
2020-11-21 14:42:24.692 DEBUG c.j.q.dao.TaskRecordMapper.getOverTimeTaskRecord[145]  <==      Total: 8
2020-11-21 14:42:24.692 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==>  Preparing: select time from email_history_info where id =? 
2020-11-21 14:42:24.692 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==> Parameters: 1294123945645047808(String)
2020-11-21 14:42:24.696 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  <==      Total: 1
2020-11-21 14:42:24.698 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  <==      Total: 1
2020-11-21 14:42:24.704 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  <==      Total: 1
2020-11-21 14:42:24.722 INFO  cn.jwis.qualityworkflow.util.EmailService[142]  hualanlan email is test@jwis.cn
2020-11-21 14:42:24.722 DEBUG cn.jwis.qualityworkflow.dao.UserMapper.getSuperior[145]  ==>  Preparing: select superior from department_mapping where user_account = ? and type = ? limit 0,1 
2020-11-21 14:42:24.722 INFO  cn.jwis.qualityworkflow.util.EmailService[142]  qualityadmin email is 
2020-11-21 14:42:24.722 DEBUG cn.jwis.qualityworkflow.dao.UserMapper.getSuperior[145]  ==> Parameters: hualanlan(String), QIMS(String)
2020-11-21 14:42:24.722 DEBUG cn.jwis.qualityworkflow.dao.UserMapper.getSuperior[145]  ==>  Preparing: select superior from department_mapping where user_account = ? and type = ? limit 0,1 
2020-11-21 14:42:24.723 DEBUG cn.jwis.qualityworkflow.dao.UserMapper.getSuperior[145]  ==> Parameters: qualityadmin(String), COMMON(String)
2020-11-21 14:42:24.735 INFO  cn.jwis.qualityworkflow.util.EmailService[142]  dz_gyb1 email is test@jwis.cn
2020-11-21 14:42:24.735 DEBUG cn.jwis.qualityworkflow.dao.UserMapper.getSuperior[145]  ==>  Preparing: select superior from department_mapping where user_account = ? and type = ? limit 0,1 
2020-11-21 14:42:24.735 DEBUG cn.jwis.qualityworkflow.dao.UserMapper.getSuperior[145]  ==> Parameters: dz_gyb1(String), COMMON(String)
2020-11-21 14:42:24.752 DEBUG cn.jwis.qualityworkflow.dao.UserMapper.getSuperior[145]  <==      Total: 1
2020-11-21 14:42:24.752 DEBUG cn.jwis.qualityworkflow.dao.UserMapper.getSuperior[145]  <==      Total: 1
2020-11-21 14:42:24.752 DEBUG c.j.q.dao.UserMapper.getSuperiorManagerByUser[145]  ==>  Preparing: select superior_manager from department_mapping where user_account = ? and type = ? limit 0,1 
2020-11-21 14:42:24.753 DEBUG c.j.q.dao.UserMapper.getSuperiorManagerByUser[145]  ==> Parameters: hualanlan(String), QIMS(String)
2020-11-21 14:42:24.773 DEBUG cn.jwis.qualityworkflow.dao.UserMapper.getSuperior[145]  <==      Total: 1
2020-11-21 14:42:24.790 DEBUG c.j.q.dao.UserMapper.getSuperiorManagerByUser[145]  <==      Total: 1
2020-11-21 14:42:24.790 INFO  cn.jwis.qualityworkflow.util.EmailService[142]  qualityadmin email is 
2020-11-21 14:42:24.790 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==>  Preparing: select time from email_history_info where id =? 
2020-11-21 14:42:24.791 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==> Parameters: 1308013113928318976(String)
2020-11-21 14:42:24.807 INFO  cn.jwis.qualityworkflow.util.EmailService[142]  dz_gyb2 email is jian.song@jwis.cn
2020-11-21 14:42:24.807 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  <==      Total: 1
2020-11-21 14:42:24.808 DEBUG c.j.qualityworkflow.dao.CommonMapper.getKeyToName[145]  ==>  Preparing: SELECT * FROM key_to_name 
2020-11-21 14:42:24.808 DEBUG c.j.qualityworkflow.dao.CommonMapper.getKeyToName[145]  ==> Parameters: 
2020-11-21 14:42:24.827 INFO  cn.jwis.qualityworkflow.util.EmailService[142]  workflow3 email is null
2020-11-21 14:42:24.836 DEBUG c.j.qualityworkflow.dao.CommonMapper.getKeyToName[145]  <==      Total: 8
2020-11-21 14:42:24.836 DEBUG c.j.q.m.l.d.L.getLineQualifyDetailednessInfo[145]  ==>  Preparing: SELECT q.*,ar.processInstanceId ,ar.taskId,ar.assignee,ar.taskState,ar.taskName FROM line_qualify_info q,(SELECT workflow_business_id, process_instance_id as processInstanceId,task_id as taskId,assignee,task_state as taskState,task_name taskName FROM task_record WHERE task_id=?) ar where q.id=ar.workflow_business_id 
2020-11-21 14:42:24.837 DEBUG c.j.q.m.l.d.L.getLineQualifyDetailednessInfo[145]  ==> Parameters: 5490632(String)
2020-11-21 14:42:24.855 INFO  cn.jwis.qualityworkflow.util.EmailService[142]  qualityadmin email is 
2020-11-21 14:42:24.855 DEBUG cn.jwis.qualityworkflow.dao.UserMapper.getSuperior[145]  ==>  Preparing: select superior from department_mapping where user_account = ? and type = ? limit 0,1 
2020-11-21 14:42:24.856 DEBUG cn.jwis.qualityworkflow.dao.UserMapper.getSuperior[145]  ==> Parameters: qualityadmin(String), COMMON(String)
2020-11-21 14:42:24.856 INFO  cn.jwis.qualityworkflow.util.EmailService[142]  zhouxianling email is 
2020-11-21 14:42:24.856 DEBUG c.j.qualityworkflow.dao.TaskRecordMapper.getById[145]  ==>  Preparing: SELECT * from task_record WHERE id = ? 
2020-11-21 14:42:24.856 DEBUG c.j.qualityworkflow.dao.TaskRecordMapper.getById[145]  ==> Parameters: 1286902446076985344(String)
2020-11-21 14:42:24.865 DEBUG c.j.q.m.l.d.L.getLineQualifyDetailednessInfo[145]  <==      Total: 1
2020-11-21 14:42:24.866 INFO  cn.jwis.qualityworkflow.util.EmailService[69]  haomiao.liu@jwis.cn send a Mail to test@jwis.cn and make a copy for [jian.song@jwis.cn]
2020-11-21 14:42:24.878 DEBUG cn.jwis.qualityworkflow.dao.UserMapper.getSuperior[145]  <==      Total: 1
2020-11-21 14:42:24.885 DEBUG c.j.qualityworkflow.dao.TaskRecordMapper.getById[145]  <==      Total: 1
2020-11-21 14:42:24.885 DEBUG c.j.qualityworkflow.dao.CommonMapper.getKeyToName[145]  ==>  Preparing: SELECT * FROM key_to_name 
2020-11-21 14:42:24.885 DEBUG c.j.qualityworkflow.dao.CommonMapper.getKeyToName[145]  ==> Parameters: 
2020-11-21 14:42:24.911 DEBUG c.j.qualityworkflow.dao.CommonMapper.getKeyToName[145]  <==      Total: 8
2020-11-21 14:42:24.912 INFO  cn.jwis.qualityworkflow.util.EmailService[142]  qualityadmin email is 
2020-11-21 14:42:24.912 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==>  Preparing: select time from email_history_info where id =? 
2020-11-21 14:42:24.912 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==> Parameters: 1308013116927246336(String)
2020-11-21 14:42:24.913 INFO  cn.jwis.qualityworkflow.util.EmailService[71]  haomiao.liu@jwis.cn send a Mail to test@jwis.cn
2020-11-21 14:42:24.929 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  <==      Total: 0
2020-11-21 14:42:24.971 INFO  cn.jwis.qualityworkflow.util.EmailService[142]  kiween email is 
2020-11-21 14:42:24.971 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==>  Preparing: select time from email_history_info where id =? 
2020-11-21 14:42:24.972 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==> Parameters: 1309046852858937344(String)
2020-11-21 14:42:25.018 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  <==      Total: 0
2020-11-21 14:42:25.070 INFO  cn.jwis.qualityworkflow.util.EmailService[142]  codisan email is kelvin@jwis.cn
2020-11-21 14:42:25.070 DEBUG c.j.qualityworkflow.dao.CommonMapper.getKeyToName[145]  ==>  Preparing: SELECT * FROM key_to_name 
2020-11-21 14:42:25.071 DEBUG c.j.qualityworkflow.dao.CommonMapper.getKeyToName[145]  ==> Parameters: 
2020-11-21 14:42:25.078 DEBUG c.j.qualityworkflow.dao.CommonMapper.getKeyToName[145]  <==      Total: 8
2020-11-21 14:42:25.080 INFO  cn.jwis.qualityworkflow.util.EmailService[74]  haomiao.liu@jwis.cn send a Mail to kelvin@jwis.cn fail, because null
2020-11-21 14:42:25.592 ERROR o.s.s.support.TaskUtils$LoggingErrorHandler[96] org.springframework.mail.MailSendException: Failed messages: javax.mail.SendFailedException: Invalid Addresses;
  nested exception is:
	com.sun.mail.smtp.SMTPAddressFailedException: 554 RCPT (test@jwis.cn) dosn't exist

	at org.springframework.mail.javamail.JavaMailSenderImpl.doSend(JavaMailSenderImpl.java:488)
	at org.springframework.mail.javamail.JavaMailSenderImpl.send(JavaMailSenderImpl.java:359)
	at org.springframework.mail.javamail.JavaMailSenderImpl.send(JavaMailSenderImpl.java:354)
	at cn.jwis.qualityworkflow.util.EmailService.sendHtmlMail(EmailService.java:76)
	at cn.jwis.qualityworkflow.modules.qims.service.imp.QimsSendMailServiceImpl.sendEmailTohandler(QimsSendMailServiceImpl.java:161)
	at cn.jwis.qualityworkflow.modules.qims.service.imp.QimsSendMailServiceImpl.qimsSendMail(QimsSendMailServiceImpl.java:90)
	at cn.jwis.qualityworkflow.modules.qims.job.qimsMailJob.qimsSendMail(qimsMailJob.java:49)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.springframework.scheduling.support.ScheduledMethodRunnable.run(ScheduledMethodRunnable.java:84)
	at org.springframework.scheduling.support.DelegatingErrorHandlingRunnable.run(DelegatingErrorHandlingRunnable.java:54)
	at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:511)
	at java.util.concurrent.FutureTask.runAndReset(FutureTask.java:308)
	at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.access$301(ScheduledThreadPoolExecutor.java:180)
	at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:294)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)
 Unexpected error occurred in scheduled task.
2020-11-21 14:42:25.606 DEBUG c.j.q.m.qims.dao.BlackDashBoardMapper.getHoliday[145]  ==>  Preparing: SELECT DISTINCT date FROM holiday_maintenance WHERE type = '节假日' 
2020-11-21 14:42:25.606 DEBUG c.j.q.m.qims.dao.BlackDashBoardMapper.getHoliday[145]  ==> Parameters: 
2020-11-21 14:42:25.612 DEBUG c.j.q.m.qims.dao.BlackDashBoardMapper.getHoliday[145]  <==      Total: 6
2020-11-21 14:42:25.612 DEBUG c.j.q.m.q.d.B.getWorkOvertimeList[145]  ==>  Preparing: SELECT DISTINCT date FROM holiday_maintenance WHERE type = '补班' 
2020-11-21 14:42:25.612 DEBUG c.j.q.m.q.d.B.getWorkOvertimeList[145]  ==> Parameters: 
2020-11-21 14:42:25.628 DEBUG c.j.q.m.q.d.B.getWorkOvertimeList[145]  <==      Total: 4
2020-11-21 14:42:25.628 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getLtStandard[145]  ==>  Preparing: select * from qims_lt_standard_info 
2020-11-21 14:42:25.629 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getLtStandard[145]  ==> Parameters: 
2020-11-21 14:42:25.638 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getLtStandard[145]  <==      Total: 8
2020-11-21 14:42:25.638 INFO  c.j.qualityworkflow.modules.qims.job.qimsMailJob[47]  查询黑色问题超过LT的信息
2020-11-21 14:42:25.638 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getBlackList[145]  ==>  Preparing: select * from task_record where task_name in('初步原因分析','根本原因分析','根本原因审核') and task_state is null and template_key='QIMSBLACK' 
2020-11-21 14:42:25.639 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getBlackList[145]  ==> Parameters: 
2020-11-21 14:42:25.639 ERROR o.s.s.support.TaskUtils$LoggingErrorHandler[96] org.springframework.mail.MailSendException: Failed messages: javax.mail.SendFailedException: Invalid Addresses;
  nested exception is:
	com.sun.mail.smtp.SMTPAddressFailedException: 554 RCPT (test@jwis.cn) dosn't exist
;
  nested exception is:
	com.sun.mail.smtp.SMTPAddressFailedException: 554 RCPT (jian.song@jwis.cn) dosn't exist

	at org.springframework.mail.javamail.JavaMailSenderImpl.doSend(JavaMailSenderImpl.java:488)
	at org.springframework.mail.javamail.JavaMailSenderImpl.send(JavaMailSenderImpl.java:359)
	at org.springframework.mail.javamail.JavaMailSenderImpl.send(JavaMailSenderImpl.java:354)
	at cn.jwis.qualityworkflow.util.EmailService.sendHtmlMail(EmailService.java:76)
	at cn.jwis.qualityworkflow.modules.linequalify.service.imp.LineQualifyServiceImpl.sendEmailTohandler(LineQualifyServiceImpl.java:617)
	at cn.jwis.qualityworkflow.modules.linequalify.service.imp.LineQualifyServiceImpl.sendOverTimeMail(LineQualifyServiceImpl.java:594)
	at cn.jwis.qualityworkflow.modules.linequalify.service.imp.LineQualifyServiceImpl$$FastClassBySpringCGLIB$$4ca6f597.invoke(<generated>)
	at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:684)
	at cn.jwis.qualityworkflow.modules.linequalify.service.imp.LineQualifyServiceImpl$$EnhancerBySpringCGLIB$$c381cc9a.sendOverTimeMail(<generated>)
	at cn.jwis.qualityworkflow.modules.linequalify.job.LineQualifyMailJob.sendOverTimeMail(LineQualifyMailJob.java:30)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.springframework.scheduling.support.ScheduledMethodRunnable.run(ScheduledMethodRunnable.java:84)
	at org.springframework.scheduling.support.DelegatingErrorHandlingRunnable.run(DelegatingErrorHandlingRunnable.java:54)
	at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:511)
	at java.util.concurrent.FutureTask.runAndReset(FutureTask.java:308)
	at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.access$301(ScheduledThreadPoolExecutor.java:180)
	at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:294)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)
 Unexpected error occurred in scheduled task.
2020-11-21 14:42:25.655 DEBUG c.j.q.dao.TaskRecordMapper.getOverTimeTaskRecord[145]  ==>  Preparing: SELECT *, HOUR(timediff(now() , create_date)) overTimeNum FROM task_record WHERE template_key = ? AND task_state IS NULL AND task_name = ? AND HOUR(timediff(now() , create_date)) >= ? 
2020-11-21 14:42:25.655 DEBUG c.j.q.dao.TaskRecordMapper.getOverTimeTaskRecord[145]  ==> Parameters: Line Qualify(String), 文件收集(String), 2(Integer)
2020-11-21 14:42:25.656 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getBlackList[145]  <==      Total: 16
2020-11-21 14:42:25.660 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==>  Preparing: select time from email_history_info where id =? 
2020-11-21 14:42:25.660 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==> Parameters: 1286902446076985344(String)
2020-11-21 14:42:25.671 DEBUG c.j.q.dao.TaskRecordMapper.getOverTimeTaskRecord[145]  <==      Total: 8
2020-11-21 14:42:25.672 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  <==      Total: 1
2020-11-21 14:42:25.672 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==>  Preparing: select time from email_history_info where id =? 
2020-11-21 14:42:25.672 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==> Parameters: 1294123945645047808(String)
2020-11-21 14:42:25.679 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  <==      Total: 1
2020-11-21 14:42:25.692 INFO  cn.jwis.qualityworkflow.util.EmailService[142]  hualanlan email is test@jwis.cn
2020-11-21 14:42:25.692 DEBUG cn.jwis.qualityworkflow.dao.UserMapper.getSuperior[145]  ==>  Preparing: select superior from department_mapping where user_account = ? and type = ? limit 0,1 
2020-11-21 14:42:25.692 DEBUG cn.jwis.qualityworkflow.dao.UserMapper.getSuperior[145]  ==> Parameters: hualanlan(String), QIMS(String)
2020-11-21 14:42:25.700 INFO  cn.jwis.qualityworkflow.util.EmailService[142]  dz_gyb1 email is test@jwis.cn
2020-11-21 14:42:25.701 DEBUG cn.jwis.qualityworkflow.dao.UserMapper.getSuperior[145]  ==>  Preparing: select superior from department_mapping where user_account = ? and type = ? limit 0,1 
2020-11-21 14:42:25.701 DEBUG cn.jwis.qualityworkflow.dao.UserMapper.getSuperior[145]  ==> Parameters: dz_gyb1(String), COMMON(String)
2020-11-21 14:42:25.701 DEBUG cn.jwis.qualityworkflow.dao.UserMapper.getSuperior[145]  <==      Total: 1
2020-11-21 14:42:25.702 DEBUG c.j.q.dao.UserMapper.getSuperiorManagerByUser[145]  ==>  Preparing: select superior_manager from department_mapping where user_account = ? and type = ? limit 0,1 
2020-11-21 14:42:25.702 DEBUG c.j.q.dao.UserMapper.getSuperiorManagerByUser[145]  ==> Parameters: hualanlan(String), QIMS(String)
2020-11-21 14:42:25.708 DEBUG cn.jwis.qualityworkflow.dao.UserMapper.getSuperior[145]  <==      Total: 1
2020-11-21 14:42:25.709 DEBUG c.j.q.dao.UserMapper.getSuperiorManagerByUser[145]  <==      Total: 1
2020-11-21 14:42:25.729 INFO  cn.jwis.qualityworkflow.util.EmailService[142]  workflow3 email is null
2020-11-21 14:42:25.729 INFO  cn.jwis.qualityworkflow.util.EmailService[142]  dz_gyb2 email is jian.song@jwis.cn
2020-11-21 14:42:25.730 DEBUG c.j.qualityworkflow.dao.CommonMapper.getKeyToName[145]  ==>  Preparing: SELECT * FROM key_to_name 
2020-11-21 14:42:25.730 DEBUG c.j.qualityworkflow.dao.CommonMapper.getKeyToName[145]  ==> Parameters: 
2020-11-21 14:42:25.751 DEBUG c.j.qualityworkflow.dao.CommonMapper.getKeyToName[145]  <==      Total: 8
2020-11-21 14:42:25.752 DEBUG c.j.q.m.l.d.L.getLineQualifyDetailednessInfo[145]  ==>  Preparing: SELECT q.*,ar.processInstanceId ,ar.taskId,ar.assignee,ar.taskState,ar.taskName FROM line_qualify_info q,(SELECT workflow_business_id, process_instance_id as processInstanceId,task_id as taskId,assignee,task_state as taskState,task_name taskName FROM task_record WHERE task_id=?) ar where q.id=ar.workflow_business_id 
2020-11-21 14:42:25.752 DEBUG c.j.q.m.l.d.L.getLineQualifyDetailednessInfo[145]  ==> Parameters: 5490632(String)
2020-11-21 14:42:25.769 INFO  cn.jwis.qualityworkflow.util.EmailService[142]  zhouxianling email is 
2020-11-21 14:42:25.769 DEBUG c.j.qualityworkflow.dao.TaskRecordMapper.getById[145]  ==>  Preparing: SELECT * from task_record WHERE id = ? 
2020-11-21 14:42:25.769 ERROR o.s.s.support.TaskUtils$LoggingErrorHandler[96] org.springframework.mail.MailSendException: Failed messages: javax.mail.SendFailedException: Invalid Addresses;
  nested exception is:
	com.sun.mail.smtp.SMTPAddressFailedException: 554 RCPT (kelvin@jwis.cn) dosn't exist

	at org.springframework.mail.javamail.JavaMailSenderImpl.doSend(JavaMailSenderImpl.java:488)
	at org.springframework.mail.javamail.JavaMailSenderImpl.send(JavaMailSenderImpl.java:359)
	at org.springframework.mail.javamail.JavaMailSenderImpl.send(JavaMailSenderImpl.java:354)
	at cn.jwis.qualityworkflow.util.EmailService.sendHtmlMail(EmailService.java:76)
	at cn.jwis.qualityworkflow.modules.qims.service.imp.QimsSendMailServiceImpl.sendEmailTohandler(QimsSendMailServiceImpl.java:161)
	at cn.jwis.qualityworkflow.modules.ipqc.service.imp.AuditQualityProblemServiceImpl.qimsSendMail(AuditQualityProblemServiceImpl.java:321)
	at cn.jwis.qualityworkflow.modules.ipqc.service.imp.AuditQualityProblemServiceImpl$$FastClassBySpringCGLIB$$15ff325f.invoke(<generated>)
	at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:684)
	at cn.jwis.qualityworkflow.modules.ipqc.service.imp.AuditQualityProblemServiceImpl$$EnhancerBySpringCGLIB$$7c12bff2.qimsSendMail(<generated>)
	at cn.jwis.qualityworkflow.modules.ipqc.job.ipqcMailJob.qimsSendMail(ipqcMailJob.java:28)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.springframework.scheduling.support.ScheduledMethodRunnable.run(ScheduledMethodRunnable.java:84)
	at org.springframework.scheduling.support.DelegatingErrorHandlingRunnable.run(DelegatingErrorHandlingRunnable.java:54)
	at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:511)
	at java.util.concurrent.FutureTask.runAndReset(FutureTask.java:308)
	at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.access$301(ScheduledThreadPoolExecutor.java:180)
	at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:294)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)
 Unexpected error occurred in scheduled task.
2020-11-21 14:42:25.769 INFO  c.j.qualityworkflow.modules.ipqc.job.ipqcMailJob[27]  查询IPQC超时任务
2020-11-21 14:42:25.769 DEBUG c.j.qualityworkflow.dao.TaskRecordMapper.getById[145]  ==> Parameters: 1286902446076985344(String)
2020-11-21 14:42:25.773 DEBUG c.j.q.m.l.d.L.getLineQualifyDetailednessInfo[145]  <==      Total: 1
2020-11-21 14:42:25.775 INFO  cn.jwis.qualityworkflow.util.EmailService[69]  haomiao.liu@jwis.cn send a Mail to test@jwis.cn and make a copy for [jian.song@jwis.cn]
2020-11-21 14:42:25.776 DEBUG c.j.q.dao.TaskRecordMapper.getOverTimeTaskRecord2[145]  ==>  Preparing: SELECT *, HOUR(timediff(now() , create_date)) overTimeNum FROM task_record WHERE template_key = ? AND task_state IS NULL AND HOUR(timediff(now() , create_date)) >= ? 
2020-11-21 14:42:25.776 DEBUG c.j.q.dao.TaskRecordMapper.getOverTimeTaskRecord2[145]  ==> Parameters: IPQCAuditProcess(String), 24(Integer)
2020-11-21 14:42:25.779 DEBUG c.j.qualityworkflow.dao.TaskRecordMapper.getById[145]  <==      Total: 1
2020-11-21 14:42:25.779 DEBUG c.j.qualityworkflow.dao.CommonMapper.getKeyToName[145]  ==>  Preparing: SELECT * FROM key_to_name 
2020-11-21 14:42:25.779 DEBUG c.j.qualityworkflow.dao.CommonMapper.getKeyToName[145]  ==> Parameters: 
2020-11-21 14:42:25.786 DEBUG c.j.q.dao.TaskRecordMapper.getOverTimeTaskRecord2[145]  <==      Total: 18
2020-11-21 14:42:25.787 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==>  Preparing: select time from email_history_info where id =? 
2020-11-21 14:42:25.787 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==> Parameters: 1303868320843300864(String)
2020-11-21 14:42:25.787 DEBUG c.j.qualityworkflow.dao.CommonMapper.getKeyToName[145]  <==      Total: 8
2020-11-21 14:42:25.789 INFO  cn.jwis.qualityworkflow.util.EmailService[71]  haomiao.liu@jwis.cn send a Mail to test@jwis.cn
2020-11-21 14:42:25.794 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  <==      Total: 1
2020-11-21 14:42:25.794 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==>  Preparing: select time from email_history_info where id =? 
2020-11-21 14:42:25.794 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==> Parameters: 1303868347422605312(String)
2020-11-21 14:42:25.802 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  <==      Total: 1
2020-11-21 14:42:25.803 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==>  Preparing: select time from email_history_info where id =? 
2020-11-21 14:42:25.803 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==> Parameters: 1303868393815801856(String)
2020-11-21 14:42:25.809 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  <==      Total: 1
2020-11-21 14:42:25.809 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==>  Preparing: select time from email_history_info where id =? 
2020-11-21 14:42:25.809 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==> Parameters: 1303937438065885184(String)
2020-11-21 14:42:25.816 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  <==      Total: 1
2020-11-21 14:42:25.816 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==>  Preparing: select time from email_history_info where id =? 
2020-11-21 14:42:25.817 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==> Parameters: 1303939538460082176(String)
2020-11-21 14:42:25.824 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  <==      Total: 1
2020-11-21 14:42:25.824 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==>  Preparing: select time from email_history_info where id =? 
2020-11-21 14:42:25.825 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==> Parameters: 1303939599889858560(String)
2020-11-21 14:42:25.836 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  <==      Total: 1
2020-11-21 14:42:25.837 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==>  Preparing: select time from email_history_info where id =? 
2020-11-21 14:42:25.837 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==> Parameters: 1306059696263659520(String)
2020-11-21 14:42:25.848 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  <==      Total: 1
2020-11-21 14:42:25.848 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==>  Preparing: select time from email_history_info where id =? 
2020-11-21 14:42:25.849 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==> Parameters: 1306155886347026432(String)
2020-11-21 14:42:25.856 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  <==      Total: 1
2020-11-21 14:42:25.857 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==>  Preparing: select time from email_history_info where id =? 
2020-11-21 14:42:25.857 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==> Parameters: 1306201167000240128(String)
2020-11-21 14:42:25.863 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  <==      Total: 1
2020-11-21 14:42:25.863 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==>  Preparing: select time from email_history_info where id =? 
2020-11-21 14:42:25.863 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==> Parameters: 1308013106458263552(String)
2020-11-21 14:42:25.869 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  <==      Total: 0
2020-11-21 14:42:25.889 INFO  cn.jwis.qualityworkflow.util.EmailService[142]  kiween email is 
2020-11-21 14:42:25.889 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==>  Preparing: select time from email_history_info where id =? 
2020-11-21 14:42:25.889 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==> Parameters: 1308013110702899200(String)
2020-11-21 14:42:25.900 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  <==      Total: 1
2020-11-21 14:42:25.925 INFO  cn.jwis.qualityworkflow.util.EmailService[142]  qualityadmin email is 
2020-11-21 14:42:25.926 DEBUG cn.jwis.qualityworkflow.dao.UserMapper.getSuperior[145]  ==>  Preparing: select superior from department_mapping where user_account = ? and type = ? limit 0,1 
2020-11-21 14:42:25.926 DEBUG cn.jwis.qualityworkflow.dao.UserMapper.getSuperior[145]  ==> Parameters: qualityadmin(String), COMMON(String)
2020-11-21 14:42:25.938 DEBUG cn.jwis.qualityworkflow.dao.UserMapper.getSuperior[145]  <==      Total: 1
2020-11-21 14:42:25.993 INFO  cn.jwis.qualityworkflow.util.EmailService[142]  qualityadmin email is 
2020-11-21 14:42:25.994 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==>  Preparing: select time from email_history_info where id =? 
2020-11-21 14:42:25.994 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==> Parameters: 1308013113928318976(String)
2020-11-21 14:42:26.002 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  <==      Total: 1
2020-11-21 14:42:26.060 INFO  cn.jwis.qualityworkflow.util.EmailService[142]  qualityadmin email is 
2020-11-21 14:42:26.060 DEBUG cn.jwis.qualityworkflow.dao.UserMapper.getSuperior[145]  ==>  Preparing: select superior from department_mapping where user_account = ? and type = ? limit 0,1 
2020-11-21 14:42:26.060 DEBUG cn.jwis.qualityworkflow.dao.UserMapper.getSuperior[145]  ==> Parameters: qualityadmin(String), COMMON(String)
2020-11-21 14:42:26.067 DEBUG cn.jwis.qualityworkflow.dao.UserMapper.getSuperior[145]  <==      Total: 1
2020-11-21 14:42:26.088 INFO  cn.jwis.qualityworkflow.util.EmailService[142]  qualityadmin email is 
2020-11-21 14:42:26.089 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==>  Preparing: select time from email_history_info where id =? 
2020-11-21 14:42:26.089 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==> Parameters: 1308013116927246336(String)
2020-11-21 14:42:26.102 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  <==      Total: 0
2020-11-21 14:42:26.122 INFO  cn.jwis.qualityworkflow.util.EmailService[142]  kiween email is 
2020-11-21 14:42:26.122 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==>  Preparing: select time from email_history_info where id =? 
2020-11-21 14:42:26.123 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==> Parameters: 1309046852858937344(String)
2020-11-21 14:42:26.130 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  <==      Total: 0
2020-11-21 14:42:26.151 INFO  cn.jwis.qualityworkflow.util.EmailService[142]  codisan email is kelvin@jwis.cn
2020-11-21 14:42:26.151 DEBUG c.j.qualityworkflow.dao.CommonMapper.getKeyToName[145]  ==>  Preparing: SELECT * FROM key_to_name 
2020-11-21 14:42:26.152 DEBUG c.j.qualityworkflow.dao.CommonMapper.getKeyToName[145]  ==> Parameters: 
2020-11-21 14:42:26.160 DEBUG c.j.qualityworkflow.dao.CommonMapper.getKeyToName[145]  <==      Total: 8
2020-11-21 14:42:26.162 INFO  cn.jwis.qualityworkflow.util.EmailService[74]  haomiao.liu@jwis.cn send a Mail to kelvin@jwis.cn fail, because null
2020-11-21 14:42:26.432 ERROR o.s.s.support.TaskUtils$LoggingErrorHandler[96] org.springframework.mail.MailSendException: Failed messages: javax.mail.SendFailedException: Invalid Addresses;
  nested exception is:
	com.sun.mail.smtp.SMTPAddressFailedException: 554 RCPT (test@jwis.cn) dosn't exist

	at org.springframework.mail.javamail.JavaMailSenderImpl.doSend(JavaMailSenderImpl.java:488)
	at org.springframework.mail.javamail.JavaMailSenderImpl.send(JavaMailSenderImpl.java:359)
	at org.springframework.mail.javamail.JavaMailSenderImpl.send(JavaMailSenderImpl.java:354)
	at cn.jwis.qualityworkflow.util.EmailService.sendHtmlMail(EmailService.java:76)
	at cn.jwis.qualityworkflow.modules.qims.service.imp.QimsSendMailServiceImpl.sendEmailTohandler(QimsSendMailServiceImpl.java:161)
	at cn.jwis.qualityworkflow.modules.qims.service.imp.QimsSendMailServiceImpl.qimsSendMail(QimsSendMailServiceImpl.java:90)
	at cn.jwis.qualityworkflow.modules.qims.job.qimsMailJob.qimsSendMail(qimsMailJob.java:49)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.springframework.scheduling.support.ScheduledMethodRunnable.run(ScheduledMethodRunnable.java:84)
	at org.springframework.scheduling.support.DelegatingErrorHandlingRunnable.run(DelegatingErrorHandlingRunnable.java:54)
	at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:511)
	at java.util.concurrent.FutureTask.runAndReset(FutureTask.java:308)
	at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.access$301(ScheduledThreadPoolExecutor.java:180)
	at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:294)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)
 Unexpected error occurred in scheduled task.
2020-11-21 14:42:26.442 DEBUG c.j.q.m.qims.dao.BlackDashBoardMapper.getHoliday[145]  ==>  Preparing: SELECT DISTINCT date FROM holiday_maintenance WHERE type = '节假日' 
2020-11-21 14:42:26.443 DEBUG c.j.q.m.qims.dao.BlackDashBoardMapper.getHoliday[145]  ==> Parameters: 
2020-11-21 14:42:26.450 DEBUG c.j.q.m.qims.dao.BlackDashBoardMapper.getHoliday[145]  <==      Total: 6
2020-11-21 14:42:26.450 DEBUG c.j.q.m.q.d.B.getWorkOvertimeList[145]  ==>  Preparing: SELECT DISTINCT date FROM holiday_maintenance WHERE type = '补班' 
2020-11-21 14:42:26.451 DEBUG c.j.q.m.q.d.B.getWorkOvertimeList[145]  ==> Parameters: 
2020-11-21 14:42:26.460 DEBUG c.j.q.m.q.d.B.getWorkOvertimeList[145]  <==      Total: 4
2020-11-21 14:42:26.461 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getLtStandard[145]  ==>  Preparing: select * from qims_lt_standard_info 
2020-11-21 14:42:26.461 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getLtStandard[145]  ==> Parameters: 
2020-11-21 14:42:26.468 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getLtStandard[145]  <==      Total: 8
2020-11-21 14:42:26.468 INFO  c.j.qualityworkflow.modules.qims.job.qimsMailJob[47]  查询黑色问题超过LT的信息
2020-11-21 14:42:26.469 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getBlackList[145]  ==>  Preparing: select * from task_record where task_name in('初步原因分析','根本原因分析','根本原因审核') and task_state is null and template_key='QIMSBLACK' 
2020-11-21 14:42:26.469 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getBlackList[145]  ==> Parameters: 
2020-11-21 14:42:26.469 ERROR o.s.s.support.TaskUtils$LoggingErrorHandler[96] org.springframework.mail.MailSendException: Failed messages: javax.mail.SendFailedException: Invalid Addresses;
  nested exception is:
	com.sun.mail.smtp.SMTPAddressFailedException: 554 RCPT (test@jwis.cn) dosn't exist
;
  nested exception is:
	com.sun.mail.smtp.SMTPAddressFailedException: 554 RCPT (jian.song@jwis.cn) dosn't exist

	at org.springframework.mail.javamail.JavaMailSenderImpl.doSend(JavaMailSenderImpl.java:488)
	at org.springframework.mail.javamail.JavaMailSenderImpl.send(JavaMailSenderImpl.java:359)
	at org.springframework.mail.javamail.JavaMailSenderImpl.send(JavaMailSenderImpl.java:354)
	at cn.jwis.qualityworkflow.util.EmailService.sendHtmlMail(EmailService.java:76)
	at cn.jwis.qualityworkflow.modules.linequalify.service.imp.LineQualifyServiceImpl.sendEmailTohandler(LineQualifyServiceImpl.java:617)
	at cn.jwis.qualityworkflow.modules.linequalify.service.imp.LineQualifyServiceImpl.sendOverTimeMail(LineQualifyServiceImpl.java:594)
	at cn.jwis.qualityworkflow.modules.linequalify.service.imp.LineQualifyServiceImpl$$FastClassBySpringCGLIB$$4ca6f597.invoke(<generated>)
	at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:684)
	at cn.jwis.qualityworkflow.modules.linequalify.service.imp.LineQualifyServiceImpl$$EnhancerBySpringCGLIB$$c381cc9a.sendOverTimeMail(<generated>)
	at cn.jwis.qualityworkflow.modules.linequalify.job.LineQualifyMailJob.sendOverTimeMail(LineQualifyMailJob.java:30)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.springframework.scheduling.support.ScheduledMethodRunnable.run(ScheduledMethodRunnable.java:84)
	at org.springframework.scheduling.support.DelegatingErrorHandlingRunnable.run(DelegatingErrorHandlingRunnable.java:54)
	at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:511)
	at java.util.concurrent.FutureTask.runAndReset(FutureTask.java:308)
	at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.access$301(ScheduledThreadPoolExecutor.java:180)
	at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:294)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)
 Unexpected error occurred in scheduled task.
2020-11-21 14:42:26.476 DEBUG c.j.q.dao.TaskRecordMapper.getOverTimeTaskRecord[145]  ==>  Preparing: SELECT *, HOUR(timediff(now() , create_date)) overTimeNum FROM task_record WHERE template_key = ? AND task_state IS NULL AND task_name = ? AND HOUR(timediff(now() , create_date)) >= ? 
2020-11-21 14:42:26.477 DEBUG c.j.q.dao.TaskRecordMapper.getOverTimeTaskRecord[145]  ==> Parameters: Line Qualify(String), 文件收集(String), 2(Integer)
2020-11-21 14:42:26.478 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getBlackList[145]  <==      Total: 16
2020-11-21 14:42:26.481 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==>  Preparing: select time from email_history_info where id =? 
2020-11-21 14:42:26.481 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==> Parameters: 1286902446076985344(String)
2020-11-21 14:42:26.486 DEBUG c.j.q.dao.TaskRecordMapper.getOverTimeTaskRecord[145]  <==      Total: 8
2020-11-21 14:42:26.487 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==>  Preparing: select time from email_history_info where id =? 
2020-11-21 14:42:26.487 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==> Parameters: 1294123945645047808(String)
2020-11-21 14:42:26.487 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  <==      Total: 1
2020-11-21 14:42:26.494 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  <==      Total: 1
2020-11-21 14:42:26.508 INFO  cn.jwis.qualityworkflow.util.EmailService[142]  hualanlan email is test@jwis.cn
2020-11-21 14:42:26.508 DEBUG cn.jwis.qualityworkflow.dao.UserMapper.getSuperior[145]  ==>  Preparing: select superior from department_mapping where user_account = ? and type = ? limit 0,1 
2020-11-21 14:42:26.508 DEBUG cn.jwis.qualityworkflow.dao.UserMapper.getSuperior[145]  ==> Parameters: hualanlan(String), QIMS(String)
2020-11-21 14:42:26.520 INFO  cn.jwis.qualityworkflow.util.EmailService[142]  dz_gyb1 email is test@jwis.cn
2020-11-21 14:42:26.520 DEBUG cn.jwis.qualityworkflow.dao.UserMapper.getSuperior[145]  ==>  Preparing: select superior from department_mapping where user_account = ? and type = ? limit 0,1 
2020-11-21 14:42:26.521 DEBUG cn.jwis.qualityworkflow.dao.UserMapper.getSuperior[145]  ==> Parameters: dz_gyb1(String), COMMON(String)
2020-11-21 14:42:26.521 DEBUG cn.jwis.qualityworkflow.dao.UserMapper.getSuperior[145]  <==      Total: 1
2020-11-21 14:42:26.521 DEBUG c.j.q.dao.UserMapper.getSuperiorManagerByUser[145]  ==>  Preparing: select superior_manager from department_mapping where user_account = ? and type = ? limit 0,1 
2020-11-21 14:42:26.521 DEBUG c.j.q.dao.UserMapper.getSuperiorManagerByUser[145]  ==> Parameters: hualanlan(String), QIMS(String)
2020-11-21 14:42:26.531 DEBUG cn.jwis.qualityworkflow.dao.UserMapper.getSuperior[145]  <==      Total: 1
2020-11-21 14:42:26.531 DEBUG c.j.q.dao.UserMapper.getSuperiorManagerByUser[145]  <==      Total: 1
2020-11-21 14:42:26.555 INFO  cn.jwis.qualityworkflow.util.EmailService[142]  dz_gyb2 email is jian.song@jwis.cn
2020-11-21 14:42:26.555 INFO  cn.jwis.qualityworkflow.util.EmailService[142]  workflow3 email is null
2020-11-21 14:42:26.555 DEBUG c.j.qualityworkflow.dao.CommonMapper.getKeyToName[145]  ==>  Preparing: SELECT * FROM key_to_name 
2020-11-21 14:42:26.555 DEBUG c.j.qualityworkflow.dao.CommonMapper.getKeyToName[145]  ==> Parameters: 
2020-11-21 14:42:26.563 DEBUG c.j.qualityworkflow.dao.CommonMapper.getKeyToName[145]  <==      Total: 8
2020-11-21 14:42:26.564 DEBUG c.j.q.m.l.d.L.getLineQualifyDetailednessInfo[145]  ==>  Preparing: SELECT q.*,ar.processInstanceId ,ar.taskId,ar.assignee,ar.taskState,ar.taskName FROM line_qualify_info q,(SELECT workflow_business_id, process_instance_id as processInstanceId,task_id as taskId,assignee,task_state as taskState,task_name taskName FROM task_record WHERE task_id=?) ar where q.id=ar.workflow_business_id 
2020-11-21 14:42:26.564 DEBUG c.j.q.m.l.d.L.getLineQualifyDetailednessInfo[145]  ==> Parameters: 5490632(String)
2020-11-21 14:42:26.575 DEBUG c.j.q.m.l.d.L.getLineQualifyDetailednessInfo[145]  <==      Total: 1
2020-11-21 14:42:26.575 INFO  cn.jwis.qualityworkflow.util.EmailService[142]  zhouxianling email is 
2020-11-21 14:42:26.576 DEBUG c.j.qualityworkflow.dao.TaskRecordMapper.getById[145]  ==>  Preparing: SELECT * from task_record WHERE id = ? 
2020-11-21 14:42:26.576 INFO  cn.jwis.qualityworkflow.util.EmailService[69]  haomiao.liu@jwis.cn send a Mail to test@jwis.cn and make a copy for [jian.song@jwis.cn]
2020-11-21 14:42:26.576 DEBUG c.j.qualityworkflow.dao.TaskRecordMapper.getById[145]  ==> Parameters: 1286902446076985344(String)
2020-11-21 14:42:26.584 DEBUG c.j.qualityworkflow.dao.TaskRecordMapper.getById[145]  <==      Total: 1
2020-11-21 14:42:26.585 DEBUG c.j.qualityworkflow.dao.CommonMapper.getKeyToName[145]  ==>  Preparing: SELECT * FROM key_to_name 
2020-11-21 14:42:26.585 DEBUG c.j.qualityworkflow.dao.CommonMapper.getKeyToName[145]  ==> Parameters: 
2020-11-21 14:42:26.594 DEBUG c.j.qualityworkflow.dao.CommonMapper.getKeyToName[145]  <==      Total: 8
2020-11-21 14:42:26.595 INFO  cn.jwis.qualityworkflow.util.EmailService[71]  haomiao.liu@jwis.cn send a Mail to test@jwis.cn
2020-11-21 14:42:26.864 ERROR o.s.s.support.TaskUtils$LoggingErrorHandler[96] org.springframework.mail.MailSendException: Failed messages: javax.mail.SendFailedException: Invalid Addresses;
  nested exception is:
	com.sun.mail.smtp.SMTPAddressFailedException: 554 RCPT (kelvin@jwis.cn) dosn't exist

	at org.springframework.mail.javamail.JavaMailSenderImpl.doSend(JavaMailSenderImpl.java:488)
	at org.springframework.mail.javamail.JavaMailSenderImpl.send(JavaMailSenderImpl.java:359)
	at org.springframework.mail.javamail.JavaMailSenderImpl.send(JavaMailSenderImpl.java:354)
	at cn.jwis.qualityworkflow.util.EmailService.sendHtmlMail(EmailService.java:76)
	at cn.jwis.qualityworkflow.modules.qims.service.imp.QimsSendMailServiceImpl.sendEmailTohandler(QimsSendMailServiceImpl.java:161)
	at cn.jwis.qualityworkflow.modules.ipqc.service.imp.AuditQualityProblemServiceImpl.qimsSendMail(AuditQualityProblemServiceImpl.java:321)
	at cn.jwis.qualityworkflow.modules.ipqc.service.imp.AuditQualityProblemServiceImpl$$FastClassBySpringCGLIB$$15ff325f.invoke(<generated>)
	at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:684)
	at cn.jwis.qualityworkflow.modules.ipqc.service.imp.AuditQualityProblemServiceImpl$$EnhancerBySpringCGLIB$$7c12bff2.qimsSendMail(<generated>)
	at cn.jwis.qualityworkflow.modules.ipqc.job.ipqcMailJob.qimsSendMail(ipqcMailJob.java:28)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.springframework.scheduling.support.ScheduledMethodRunnable.run(ScheduledMethodRunnable.java:84)
	at org.springframework.scheduling.support.DelegatingErrorHandlingRunnable.run(DelegatingErrorHandlingRunnable.java:54)
	at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:511)
	at java.util.concurrent.FutureTask.runAndReset(FutureTask.java:308)
	at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.access$301(ScheduledThreadPoolExecutor.java:180)
	at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:294)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)
 Unexpected error occurred in scheduled task.
2020-11-21 14:42:26.864 INFO  c.j.qualityworkflow.modules.ipqc.job.ipqcMailJob[27]  查询IPQC超时任务
2020-11-21 14:42:26.875 DEBUG c.j.q.dao.TaskRecordMapper.getOverTimeTaskRecord2[145]  ==>  Preparing: SELECT *, HOUR(timediff(now() , create_date)) overTimeNum FROM task_record WHERE template_key = ? AND task_state IS NULL AND HOUR(timediff(now() , create_date)) >= ? 
2020-11-21 14:42:26.875 DEBUG c.j.q.dao.TaskRecordMapper.getOverTimeTaskRecord2[145]  ==> Parameters: IPQCAuditProcess(String), 24(Integer)
2020-11-21 14:42:26.886 DEBUG c.j.q.dao.TaskRecordMapper.getOverTimeTaskRecord2[145]  <==      Total: 18
2020-11-21 14:42:26.887 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==>  Preparing: select time from email_history_info where id =? 
2020-11-21 14:42:26.887 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==> Parameters: 1303868320843300864(String)
2020-11-21 14:42:26.896 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  <==      Total: 1
2020-11-21 14:42:26.896 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==>  Preparing: select time from email_history_info where id =? 
2020-11-21 14:42:26.896 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==> Parameters: 1303868347422605312(String)
2020-11-21 14:42:26.908 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  <==      Total: 1
2020-11-21 14:42:26.908 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==>  Preparing: select time from email_history_info where id =? 
2020-11-21 14:42:26.908 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==> Parameters: 1303868393815801856(String)
2020-11-21 14:42:26.917 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  <==      Total: 1
2020-11-21 14:42:26.917 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==>  Preparing: select time from email_history_info where id =? 
2020-11-21 14:42:26.917 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==> Parameters: 1303937438065885184(String)
2020-11-21 14:42:26.929 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  <==      Total: 1
2020-11-21 14:42:26.930 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==>  Preparing: select time from email_history_info where id =? 
2020-11-21 14:42:26.930 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==> Parameters: 1303939538460082176(String)
2020-11-21 14:42:26.938 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  <==      Total: 1
2020-11-21 14:42:26.938 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==>  Preparing: select time from email_history_info where id =? 
2020-11-21 14:42:26.938 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==> Parameters: 1303939599889858560(String)
2020-11-21 14:42:26.945 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  <==      Total: 1
2020-11-21 14:42:26.945 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==>  Preparing: select time from email_history_info where id =? 
2020-11-21 14:42:26.945 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==> Parameters: 1306059696263659520(String)
2020-11-21 14:42:26.954 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  <==      Total: 1
2020-11-21 14:42:26.954 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==>  Preparing: select time from email_history_info where id =? 
2020-11-21 14:42:26.954 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==> Parameters: 1306155886347026432(String)
2020-11-21 14:42:26.963 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  <==      Total: 1
2020-11-21 14:42:26.963 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==>  Preparing: select time from email_history_info where id =? 
2020-11-21 14:42:26.963 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==> Parameters: 1306201167000240128(String)
2020-11-21 14:42:26.980 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  <==      Total: 1
2020-11-21 14:42:26.980 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==>  Preparing: select time from email_history_info where id =? 
2020-11-21 14:42:26.981 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==> Parameters: 1308013106458263552(String)
2020-11-21 14:42:26.988 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  <==      Total: 0
2020-11-21 14:42:27.008 INFO  cn.jwis.qualityworkflow.util.EmailService[142]  kiween email is 
2020-11-21 14:42:27.008 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==>  Preparing: select time from email_history_info where id =? 
2020-11-21 14:42:27.008 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==> Parameters: 1308013110702899200(String)
2020-11-21 14:42:27.016 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  <==      Total: 1
2020-11-21 14:42:27.038 INFO  cn.jwis.qualityworkflow.util.EmailService[142]  qualityadmin email is 
2020-11-21 14:42:27.038 DEBUG cn.jwis.qualityworkflow.dao.UserMapper.getSuperior[145]  ==>  Preparing: select superior from department_mapping where user_account = ? and type = ? limit 0,1 
2020-11-21 14:42:27.039 DEBUG cn.jwis.qualityworkflow.dao.UserMapper.getSuperior[145]  ==> Parameters: qualityadmin(String), COMMON(String)
2020-11-21 14:42:27.045 DEBUG cn.jwis.qualityworkflow.dao.UserMapper.getSuperior[145]  <==      Total: 1
2020-11-21 14:42:27.066 INFO  cn.jwis.qualityworkflow.util.EmailService[142]  qualityadmin email is 
2020-11-21 14:42:27.066 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==>  Preparing: select time from email_history_info where id =? 
2020-11-21 14:42:27.066 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==> Parameters: 1308013113928318976(String)
2020-11-21 14:42:27.077 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  <==      Total: 1
2020-11-21 14:42:27.098 INFO  cn.jwis.qualityworkflow.util.EmailService[142]  qualityadmin email is 
2020-11-21 14:42:27.098 DEBUG cn.jwis.qualityworkflow.dao.UserMapper.getSuperior[145]  ==>  Preparing: select superior from department_mapping where user_account = ? and type = ? limit 0,1 
2020-11-21 14:42:27.099 DEBUG cn.jwis.qualityworkflow.dao.UserMapper.getSuperior[145]  ==> Parameters: qualityadmin(String), COMMON(String)
2020-11-21 14:42:27.106 DEBUG cn.jwis.qualityworkflow.dao.UserMapper.getSuperior[145]  <==      Total: 1
2020-11-21 14:42:27.126 INFO  cn.jwis.qualityworkflow.util.EmailService[142]  qualityadmin email is 
2020-11-21 14:42:27.126 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==>  Preparing: select time from email_history_info where id =? 
2020-11-21 14:42:27.126 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==> Parameters: 1308013116927246336(String)
2020-11-21 14:42:27.136 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  <==      Total: 0
2020-11-21 14:42:27.157 INFO  cn.jwis.qualityworkflow.util.EmailService[142]  kiween email is 
2020-11-21 14:42:27.157 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==>  Preparing: select time from email_history_info where id =? 
2020-11-21 14:42:27.158 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==> Parameters: 1309046852858937344(String)
2020-11-21 14:42:27.161 ERROR o.s.s.support.TaskUtils$LoggingErrorHandler[96] org.springframework.mail.MailSendException: Failed messages: javax.mail.SendFailedException: Invalid Addresses;
  nested exception is:
	com.sun.mail.smtp.SMTPAddressFailedException: 554 RCPT (test@jwis.cn) dosn't exist

	at org.springframework.mail.javamail.JavaMailSenderImpl.doSend(JavaMailSenderImpl.java:488)
	at org.springframework.mail.javamail.JavaMailSenderImpl.send(JavaMailSenderImpl.java:359)
	at org.springframework.mail.javamail.JavaMailSenderImpl.send(JavaMailSenderImpl.java:354)
	at cn.jwis.qualityworkflow.util.EmailService.sendHtmlMail(EmailService.java:76)
	at cn.jwis.qualityworkflow.modules.qims.service.imp.QimsSendMailServiceImpl.sendEmailTohandler(QimsSendMailServiceImpl.java:161)
	at cn.jwis.qualityworkflow.modules.qims.service.imp.QimsSendMailServiceImpl.qimsSendMail(QimsSendMailServiceImpl.java:90)
	at cn.jwis.qualityworkflow.modules.qims.job.qimsMailJob.qimsSendMail(qimsMailJob.java:49)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.springframework.scheduling.support.ScheduledMethodRunnable.run(ScheduledMethodRunnable.java:84)
	at org.springframework.scheduling.support.DelegatingErrorHandlingRunnable.run(DelegatingErrorHandlingRunnable.java:54)
	at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:511)
	at java.util.concurrent.FutureTask.runAndReset(FutureTask.java:308)
	at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.access$301(ScheduledThreadPoolExecutor.java:180)
	at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:294)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)
 Unexpected error occurred in scheduled task.
2020-11-21 14:42:27.165 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  <==      Total: 0
2020-11-21 14:42:27.171 DEBUG c.j.q.m.qims.dao.BlackDashBoardMapper.getHoliday[145]  ==>  Preparing: SELECT DISTINCT date FROM holiday_maintenance WHERE type = '节假日' 
2020-11-21 14:42:27.171 DEBUG c.j.q.m.qims.dao.BlackDashBoardMapper.getHoliday[145]  ==> Parameters: 
2020-11-21 14:42:27.186 DEBUG c.j.q.m.qims.dao.BlackDashBoardMapper.getHoliday[145]  <==      Total: 6
2020-11-21 14:42:27.186 DEBUG c.j.q.m.q.d.B.getWorkOvertimeList[145]  ==>  Preparing: SELECT DISTINCT date FROM holiday_maintenance WHERE type = '补班' 
2020-11-21 14:42:27.186 DEBUG c.j.q.m.q.d.B.getWorkOvertimeList[145]  ==> Parameters: 
2020-11-21 14:42:27.197 INFO  cn.jwis.qualityworkflow.util.EmailService[142]  codisan email is kelvin@jwis.cn
2020-11-21 14:42:27.197 DEBUG c.j.q.m.q.d.B.getWorkOvertimeList[145]  <==      Total: 4
2020-11-21 14:42:27.198 DEBUG c.j.qualityworkflow.dao.CommonMapper.getKeyToName[145]  ==>  Preparing: SELECT * FROM key_to_name 
2020-11-21 14:42:27.198 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getLtStandard[145]  ==>  Preparing: select * from qims_lt_standard_info 
2020-11-21 14:42:27.198 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getLtStandard[145]  ==> Parameters: 
2020-11-21 14:42:27.198 DEBUG c.j.qualityworkflow.dao.CommonMapper.getKeyToName[145]  ==> Parameters: 
2020-11-21 14:42:27.209 DEBUG c.j.qualityworkflow.dao.CommonMapper.getKeyToName[145]  <==      Total: 8
2020-11-21 14:42:27.210 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getLtStandard[145]  <==      Total: 8
2020-11-21 14:42:27.210 INFO  c.j.qualityworkflow.modules.qims.job.qimsMailJob[47]  查询黑色问题超过LT的信息
2020-11-21 14:42:27.210 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getBlackList[145]  ==>  Preparing: select * from task_record where task_name in('初步原因分析','根本原因分析','根本原因审核') and task_state is null and template_key='QIMSBLACK' 
2020-11-21 14:42:27.210 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getBlackList[145]  ==> Parameters: 
2020-11-21 14:42:27.211 INFO  cn.jwis.qualityworkflow.util.EmailService[74]  haomiao.liu@jwis.cn send a Mail to kelvin@jwis.cn fail, because null
2020-11-21 14:42:27.211 ERROR o.s.s.support.TaskUtils$LoggingErrorHandler[96] org.springframework.mail.MailSendException: Failed messages: javax.mail.SendFailedException: Invalid Addresses;
  nested exception is:
	com.sun.mail.smtp.SMTPAddressFailedException: 554 RCPT (test@jwis.cn) dosn't exist
;
  nested exception is:
	com.sun.mail.smtp.SMTPAddressFailedException: 554 RCPT (jian.song@jwis.cn) dosn't exist

	at org.springframework.mail.javamail.JavaMailSenderImpl.doSend(JavaMailSenderImpl.java:488)
	at org.springframework.mail.javamail.JavaMailSenderImpl.send(JavaMailSenderImpl.java:359)
	at org.springframework.mail.javamail.JavaMailSenderImpl.send(JavaMailSenderImpl.java:354)
	at cn.jwis.qualityworkflow.util.EmailService.sendHtmlMail(EmailService.java:76)
	at cn.jwis.qualityworkflow.modules.linequalify.service.imp.LineQualifyServiceImpl.sendEmailTohandler(LineQualifyServiceImpl.java:617)
	at cn.jwis.qualityworkflow.modules.linequalify.service.imp.LineQualifyServiceImpl.sendOverTimeMail(LineQualifyServiceImpl.java:594)
	at cn.jwis.qualityworkflow.modules.linequalify.service.imp.LineQualifyServiceImpl$$FastClassBySpringCGLIB$$4ca6f597.invoke(<generated>)
	at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:684)
	at cn.jwis.qualityworkflow.modules.linequalify.service.imp.LineQualifyServiceImpl$$EnhancerBySpringCGLIB$$c381cc9a.sendOverTimeMail(<generated>)
	at cn.jwis.qualityworkflow.modules.linequalify.job.LineQualifyMailJob.sendOverTimeMail(LineQualifyMailJob.java:30)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.springframework.scheduling.support.ScheduledMethodRunnable.run(ScheduledMethodRunnable.java:84)
	at org.springframework.scheduling.support.DelegatingErrorHandlingRunnable.run(DelegatingErrorHandlingRunnable.java:54)
	at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:511)
	at java.util.concurrent.FutureTask.runAndReset(FutureTask.java:308)
	at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.access$301(ScheduledThreadPoolExecutor.java:180)
	at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:294)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)
 Unexpected error occurred in scheduled task.
2020-11-21 14:42:27.218 DEBUG c.j.q.dao.TaskRecordMapper.getOverTimeTaskRecord[145]  ==>  Preparing: SELECT *, HOUR(timediff(now() , create_date)) overTimeNum FROM task_record WHERE template_key = ? AND task_state IS NULL AND task_name = ? AND HOUR(timediff(now() , create_date)) >= ? 
2020-11-21 14:42:27.219 DEBUG c.j.q.dao.TaskRecordMapper.getOverTimeTaskRecord[145]  ==> Parameters: Line Qualify(String), 文件收集(String), 2(Integer)
2020-11-21 14:42:27.222 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getBlackList[145]  <==      Total: 16
2020-11-21 14:42:27.224 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==>  Preparing: select time from email_history_info where id =? 
2020-11-21 14:42:27.225 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==> Parameters: 1286902446076985344(String)
2020-11-21 14:42:27.227 DEBUG c.j.q.dao.TaskRecordMapper.getOverTimeTaskRecord[145]  <==      Total: 8
2020-11-21 14:42:27.228 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==>  Preparing: select time from email_history_info where id =? 
2020-11-21 14:42:27.228 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==> Parameters: 1294123945645047808(String)
2020-11-21 14:42:27.237 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  <==      Total: 1
2020-11-21 14:42:27.237 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  <==      Total: 1
2020-11-21 14:42:27.265 INFO  cn.jwis.qualityworkflow.util.EmailService[142]  hualanlan email is test@jwis.cn
2020-11-21 14:42:27.265 DEBUG cn.jwis.qualityworkflow.dao.UserMapper.getSuperior[145]  ==>  Preparing: select superior from department_mapping where user_account = ? and type = ? limit 0,1 
2020-11-21 14:42:27.265 DEBUG cn.jwis.qualityworkflow.dao.UserMapper.getSuperior[145]  ==> Parameters: hualanlan(String), QIMS(String)
2020-11-21 14:42:27.274 INFO  cn.jwis.qualityworkflow.util.EmailService[142]  dz_gyb1 email is test@jwis.cn
2020-11-21 14:42:27.274 DEBUG cn.jwis.qualityworkflow.dao.UserMapper.getSuperior[145]  ==>  Preparing: select superior from department_mapping where user_account = ? and type = ? limit 0,1 
2020-11-21 14:42:27.274 DEBUG cn.jwis.qualityworkflow.dao.UserMapper.getSuperior[145]  ==> Parameters: dz_gyb1(String), COMMON(String)
2020-11-21 14:42:27.360 DEBUG cn.jwis.qualityworkflow.dao.UserMapper.getSuperior[145]  <==      Total: 1
2020-11-21 14:42:27.360 DEBUG c.j.q.dao.UserMapper.getSuperiorManagerByUser[145]  ==>  Preparing: select superior_manager from department_mapping where user_account = ? and type = ? limit 0,1 
2020-11-21 14:42:27.361 DEBUG c.j.q.dao.UserMapper.getSuperiorManagerByUser[145]  ==> Parameters: hualanlan(String), QIMS(String)
2020-11-21 14:42:27.361 DEBUG cn.jwis.qualityworkflow.dao.UserMapper.getSuperior[145]  <==      Total: 1
2020-11-21 14:42:27.366 DEBUG c.j.q.dao.UserMapper.getSuperiorManagerByUser[145]  <==      Total: 1
2020-11-21 14:42:27.387 INFO  cn.jwis.qualityworkflow.util.EmailService[142]  dz_gyb2 email is jian.song@jwis.cn
2020-11-21 14:42:27.387 DEBUG c.j.qualityworkflow.dao.CommonMapper.getKeyToName[145]  ==>  Preparing: SELECT * FROM key_to_name 
2020-11-21 14:42:27.388 DEBUG c.j.qualityworkflow.dao.CommonMapper.getKeyToName[145]  ==> Parameters: 
2020-11-21 14:42:27.393 INFO  cn.jwis.qualityworkflow.util.EmailService[142]  workflow3 email is null
2020-11-21 14:42:27.412 INFO  cn.jwis.qualityworkflow.util.EmailService[142]  zhouxianling email is 
2020-11-21 14:42:27.412 DEBUG c.j.qualityworkflow.dao.TaskRecordMapper.getById[145]  ==>  Preparing: SELECT * from task_record WHERE id = ? 
2020-11-21 14:42:27.412 DEBUG c.j.qualityworkflow.dao.TaskRecordMapper.getById[145]  ==> Parameters: 1286902446076985344(String)
2020-11-21 14:42:27.488 DEBUG c.j.qualityworkflow.dao.CommonMapper.getKeyToName[145]  <==      Total: 8
2020-11-21 14:42:27.489 DEBUG c.j.qualityworkflow.dao.TaskRecordMapper.getById[145]  <==      Total: 1
2020-11-21 14:42:27.489 DEBUG c.j.q.m.l.d.L.getLineQualifyDetailednessInfo[145]  ==>  Preparing: SELECT q.*,ar.processInstanceId ,ar.taskId,ar.assignee,ar.taskState,ar.taskName FROM line_qualify_info q,(SELECT workflow_business_id, process_instance_id as processInstanceId,task_id as taskId,assignee,task_state as taskState,task_name taskName FROM task_record WHERE task_id=?) ar where q.id=ar.workflow_business_id 
2020-11-21 14:42:27.489 DEBUG c.j.qualityworkflow.dao.CommonMapper.getKeyToName[145]  ==>  Preparing: SELECT * FROM key_to_name 
2020-11-21 14:42:27.489 DEBUG c.j.q.m.l.d.L.getLineQualifyDetailednessInfo[145]  ==> Parameters: 5490632(String)
2020-11-21 14:42:27.489 DEBUG c.j.qualityworkflow.dao.CommonMapper.getKeyToName[145]  ==> Parameters: 
2020-11-21 14:42:27.496 DEBUG c.j.qualityworkflow.dao.CommonMapper.getKeyToName[145]  <==      Total: 8
2020-11-21 14:42:27.499 DEBUG c.j.q.m.l.d.L.getLineQualifyDetailednessInfo[145]  <==      Total: 1
2020-11-21 14:42:27.500 INFO  cn.jwis.qualityworkflow.util.EmailService[69]  haomiao.liu@jwis.cn send a Mail to test@jwis.cn and make a copy for [jian.song@jwis.cn]
2020-11-21 14:42:27.503 INFO  cn.jwis.qualityworkflow.util.EmailService[71]  haomiao.liu@jwis.cn send a Mail to test@jwis.cn
2020-11-21 14:42:27.921 ERROR o.s.s.support.TaskUtils$LoggingErrorHandler[96] org.springframework.mail.MailSendException: Failed messages: javax.mail.SendFailedException: Invalid Addresses;
  nested exception is:
	com.sun.mail.smtp.SMTPAddressFailedException: 554 RCPT (kelvin@jwis.cn) dosn't exist

	at org.springframework.mail.javamail.JavaMailSenderImpl.doSend(JavaMailSenderImpl.java:488)
	at org.springframework.mail.javamail.JavaMailSenderImpl.send(JavaMailSenderImpl.java:359)
	at org.springframework.mail.javamail.JavaMailSenderImpl.send(JavaMailSenderImpl.java:354)
	at cn.jwis.qualityworkflow.util.EmailService.sendHtmlMail(EmailService.java:76)
	at cn.jwis.qualityworkflow.modules.qims.service.imp.QimsSendMailServiceImpl.sendEmailTohandler(QimsSendMailServiceImpl.java:161)
	at cn.jwis.qualityworkflow.modules.ipqc.service.imp.AuditQualityProblemServiceImpl.qimsSendMail(AuditQualityProblemServiceImpl.java:321)
	at cn.jwis.qualityworkflow.modules.ipqc.service.imp.AuditQualityProblemServiceImpl$$FastClassBySpringCGLIB$$15ff325f.invoke(<generated>)
	at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:684)
	at cn.jwis.qualityworkflow.modules.ipqc.service.imp.AuditQualityProblemServiceImpl$$EnhancerBySpringCGLIB$$7c12bff2.qimsSendMail(<generated>)
	at cn.jwis.qualityworkflow.modules.ipqc.job.ipqcMailJob.qimsSendMail(ipqcMailJob.java:28)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.springframework.scheduling.support.ScheduledMethodRunnable.run(ScheduledMethodRunnable.java:84)
	at org.springframework.scheduling.support.DelegatingErrorHandlingRunnable.run(DelegatingErrorHandlingRunnable.java:54)
	at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:511)
	at java.util.concurrent.FutureTask.runAndReset(FutureTask.java:308)
	at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.access$301(ScheduledThreadPoolExecutor.java:180)
	at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:294)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)
 Unexpected error occurred in scheduled task.
2020-11-21 14:42:27.921 INFO  c.j.qualityworkflow.modules.ipqc.job.ipqcMailJob[27]  查询IPQC超时任务
2020-11-21 14:42:27.928 DEBUG c.j.q.dao.TaskRecordMapper.getOverTimeTaskRecord2[145]  ==>  Preparing: SELECT *, HOUR(timediff(now() , create_date)) overTimeNum FROM task_record WHERE template_key = ? AND task_state IS NULL AND HOUR(timediff(now() , create_date)) >= ? 
2020-11-21 14:42:27.928 DEBUG c.j.q.dao.TaskRecordMapper.getOverTimeTaskRecord2[145]  ==> Parameters: IPQCAuditProcess(String), 24(Integer)
2020-11-21 14:42:27.942 DEBUG c.j.q.dao.TaskRecordMapper.getOverTimeTaskRecord2[145]  <==      Total: 18
2020-11-21 14:42:27.943 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==>  Preparing: select time from email_history_info where id =? 
2020-11-21 14:42:27.943 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==> Parameters: 1303868320843300864(String)
2020-11-21 14:42:27.953 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  <==      Total: 1
2020-11-21 14:42:27.954 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==>  Preparing: select time from email_history_info where id =? 
2020-11-21 14:42:27.954 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==> Parameters: 1303868347422605312(String)
2020-11-21 14:42:27.962 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  <==      Total: 1
2020-11-21 14:42:27.962 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==>  Preparing: select time from email_history_info where id =? 
2020-11-21 14:42:27.962 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==> Parameters: 1303868393815801856(String)
2020-11-21 14:42:27.969 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  <==      Total: 1
2020-11-21 14:42:27.969 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==>  Preparing: select time from email_history_info where id =? 
2020-11-21 14:42:27.969 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==> Parameters: 1303937438065885184(String)
2020-11-21 14:42:27.976 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  <==      Total: 1
2020-11-21 14:42:27.977 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==>  Preparing: select time from email_history_info where id =? 
2020-11-21 14:42:27.977 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==> Parameters: 1303939538460082176(String)
2020-11-21 14:42:27.983 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  <==      Total: 1
2020-11-21 14:42:27.983 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==>  Preparing: select time from email_history_info where id =? 
2020-11-21 14:42:27.983 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==> Parameters: 1303939599889858560(String)
2020-11-21 14:42:27.992 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  <==      Total: 1
2020-11-21 14:42:27.992 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==>  Preparing: select time from email_history_info where id =? 
2020-11-21 14:42:27.992 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==> Parameters: 1306059696263659520(String)
2020-11-21 14:42:27.998 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  <==      Total: 1
2020-11-21 14:42:27.998 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==>  Preparing: select time from email_history_info where id =? 
2020-11-21 14:42:27.998 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==> Parameters: 1306155886347026432(String)
2020-11-21 14:42:28.006 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  <==      Total: 1
2020-11-21 14:42:28.007 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==>  Preparing: select time from email_history_info where id =? 
2020-11-21 14:42:28.007 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==> Parameters: 1306201167000240128(String)
2020-11-21 14:42:28.013 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  <==      Total: 1
2020-11-21 14:42:28.014 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==>  Preparing: select time from email_history_info where id =? 
2020-11-21 14:42:28.014 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==> Parameters: 1308013106458263552(String)
2020-11-21 14:42:28.029 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  <==      Total: 0
2020-11-21 14:42:28.049 INFO  cn.jwis.qualityworkflow.util.EmailService[142]  kiween email is 
2020-11-21 14:42:28.049 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==>  Preparing: select time from email_history_info where id =? 
2020-11-21 14:42:28.049 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==> Parameters: 1308013110702899200(String)
2020-11-21 14:42:28.056 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  <==      Total: 1
2020-11-21 14:42:28.081 INFO  cn.jwis.qualityworkflow.util.EmailService[142]  qualityadmin email is 
2020-11-21 14:42:28.081 DEBUG cn.jwis.qualityworkflow.dao.UserMapper.getSuperior[145]  ==>  Preparing: select superior from department_mapping where user_account = ? and type = ? limit 0,1 
2020-11-21 14:42:28.081 DEBUG cn.jwis.qualityworkflow.dao.UserMapper.getSuperior[145]  ==> Parameters: qualityadmin(String), COMMON(String)
2020-11-21 14:42:28.090 DEBUG cn.jwis.qualityworkflow.dao.UserMapper.getSuperior[145]  <==      Total: 1
2020-11-21 14:42:28.106 ERROR o.s.s.support.TaskUtils$LoggingErrorHandler[96] org.springframework.mail.MailSendException: Failed messages: javax.mail.SendFailedException: Invalid Addresses;
  nested exception is:
	com.sun.mail.smtp.SMTPAddressFailedException: 554 RCPT (test@jwis.cn) dosn't exist

	at org.springframework.mail.javamail.JavaMailSenderImpl.doSend(JavaMailSenderImpl.java:488)
	at org.springframework.mail.javamail.JavaMailSenderImpl.send(JavaMailSenderImpl.java:359)
	at org.springframework.mail.javamail.JavaMailSenderImpl.send(JavaMailSenderImpl.java:354)
	at cn.jwis.qualityworkflow.util.EmailService.sendHtmlMail(EmailService.java:76)
	at cn.jwis.qualityworkflow.modules.qims.service.imp.QimsSendMailServiceImpl.sendEmailTohandler(QimsSendMailServiceImpl.java:161)
	at cn.jwis.qualityworkflow.modules.qims.service.imp.QimsSendMailServiceImpl.qimsSendMail(QimsSendMailServiceImpl.java:90)
	at cn.jwis.qualityworkflow.modules.qims.job.qimsMailJob.qimsSendMail(qimsMailJob.java:49)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.springframework.scheduling.support.ScheduledMethodRunnable.run(ScheduledMethodRunnable.java:84)
	at org.springframework.scheduling.support.DelegatingErrorHandlingRunnable.run(DelegatingErrorHandlingRunnable.java:54)
	at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:511)
	at java.util.concurrent.FutureTask.runAndReset(FutureTask.java:308)
	at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.access$301(ScheduledThreadPoolExecutor.java:180)
	at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:294)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)
 Unexpected error occurred in scheduled task.
2020-11-21 14:42:28.116 DEBUG c.j.q.m.qims.dao.BlackDashBoardMapper.getHoliday[145]  ==>  Preparing: SELECT DISTINCT date FROM holiday_maintenance WHERE type = '节假日' 
2020-11-21 14:42:28.116 INFO  cn.jwis.qualityworkflow.util.EmailService[142]  qualityadmin email is 
2020-11-21 14:42:28.117 DEBUG c.j.q.m.qims.dao.BlackDashBoardMapper.getHoliday[145]  ==> Parameters: 
2020-11-21 14:42:28.117 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==>  Preparing: select time from email_history_info where id =? 
2020-11-21 14:42:28.117 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==> Parameters: 1308013113928318976(String)
2020-11-21 14:42:28.123 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  <==      Total: 1
2020-11-21 14:42:28.123 DEBUG c.j.q.m.qims.dao.BlackDashBoardMapper.getHoliday[145]  <==      Total: 6
2020-11-21 14:42:28.123 DEBUG c.j.q.m.q.d.B.getWorkOvertimeList[145]  ==>  Preparing: SELECT DISTINCT date FROM holiday_maintenance WHERE type = '补班' 
2020-11-21 14:42:28.124 DEBUG c.j.q.m.q.d.B.getWorkOvertimeList[145]  ==> Parameters: 
2020-11-21 14:42:28.131 DEBUG c.j.q.m.q.d.B.getWorkOvertimeList[145]  <==      Total: 4
2020-11-21 14:42:28.131 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getLtStandard[145]  ==>  Preparing: select * from qims_lt_standard_info 
2020-11-21 14:42:28.132 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getLtStandard[145]  ==> Parameters: 
2020-11-21 14:42:28.139 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getLtStandard[145]  <==      Total: 8
2020-11-21 14:42:28.139 INFO  c.j.qualityworkflow.modules.qims.job.qimsMailJob[47]  查询黑色问题超过LT的信息
2020-11-21 14:42:28.139 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getBlackList[145]  ==>  Preparing: select * from task_record where task_name in('初步原因分析','根本原因分析','根本原因审核') and task_state is null and template_key='QIMSBLACK' 
2020-11-21 14:42:28.139 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getBlackList[145]  ==> Parameters: 
2020-11-21 14:42:28.144 INFO  cn.jwis.qualityworkflow.util.EmailService[142]  qualityadmin email is 
2020-11-21 14:42:28.144 DEBUG cn.jwis.qualityworkflow.dao.UserMapper.getSuperior[145]  ==>  Preparing: select superior from department_mapping where user_account = ? and type = ? limit 0,1 
2020-11-21 14:42:28.144 DEBUG cn.jwis.qualityworkflow.dao.UserMapper.getSuperior[145]  ==> Parameters: qualityadmin(String), COMMON(String)
2020-11-21 14:42:28.148 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getBlackList[145]  <==      Total: 16
2020-11-21 14:42:28.150 ERROR o.s.s.support.TaskUtils$LoggingErrorHandler[96] org.springframework.mail.MailSendException: Failed messages: javax.mail.SendFailedException: Invalid Addresses;
  nested exception is:
	com.sun.mail.smtp.SMTPAddressFailedException: 554 RCPT (test@jwis.cn) dosn't exist
;
  nested exception is:
	com.sun.mail.smtp.SMTPAddressFailedException: 554 RCPT (jian.song@jwis.cn) dosn't exist

	at org.springframework.mail.javamail.JavaMailSenderImpl.doSend(JavaMailSenderImpl.java:488)
	at org.springframework.mail.javamail.JavaMailSenderImpl.send(JavaMailSenderImpl.java:359)
	at org.springframework.mail.javamail.JavaMailSenderImpl.send(JavaMailSenderImpl.java:354)
	at cn.jwis.qualityworkflow.util.EmailService.sendHtmlMail(EmailService.java:76)
	at cn.jwis.qualityworkflow.modules.linequalify.service.imp.LineQualifyServiceImpl.sendEmailTohandler(LineQualifyServiceImpl.java:617)
	at cn.jwis.qualityworkflow.modules.linequalify.service.imp.LineQualifyServiceImpl.sendOverTimeMail(LineQualifyServiceImpl.java:594)
	at cn.jwis.qualityworkflow.modules.linequalify.service.imp.LineQualifyServiceImpl$$FastClassBySpringCGLIB$$4ca6f597.invoke(<generated>)
	at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:684)
	at cn.jwis.qualityworkflow.modules.linequalify.service.imp.LineQualifyServiceImpl$$EnhancerBySpringCGLIB$$c381cc9a.sendOverTimeMail(<generated>)
	at cn.jwis.qualityworkflow.modules.linequalify.job.LineQualifyMailJob.sendOverTimeMail(LineQualifyMailJob.java:30)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.springframework.scheduling.support.ScheduledMethodRunnable.run(ScheduledMethodRunnable.java:84)
	at org.springframework.scheduling.support.DelegatingErrorHandlingRunnable.run(DelegatingErrorHandlingRunnable.java:54)
	at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:511)
	at java.util.concurrent.FutureTask.runAndReset(FutureTask.java:308)
	at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.access$301(ScheduledThreadPoolExecutor.java:180)
	at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:294)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)
 Unexpected error occurred in scheduled task.
2020-11-21 14:42:28.150 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==>  Preparing: select time from email_history_info where id =? 
2020-11-21 14:42:28.151 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==> Parameters: 1286902446076985344(String)
2020-11-21 14:42:28.154 DEBUG cn.jwis.qualityworkflow.dao.UserMapper.getSuperior[145]  <==      Total: 1
2020-11-21 14:42:28.159 DEBUG c.j.q.dao.TaskRecordMapper.getOverTimeTaskRecord[145]  ==>  Preparing: SELECT *, HOUR(timediff(now() , create_date)) overTimeNum FROM task_record WHERE template_key = ? AND task_state IS NULL AND task_name = ? AND HOUR(timediff(now() , create_date)) >= ? 
2020-11-21 14:42:28.159 DEBUG c.j.q.dao.TaskRecordMapper.getOverTimeTaskRecord[145]  ==> Parameters: Line Qualify(String), 文件收集(String), 2(Integer)
2020-11-21 14:42:28.160 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  <==      Total: 1
2020-11-21 14:42:28.170 DEBUG c.j.q.dao.TaskRecordMapper.getOverTimeTaskRecord[145]  <==      Total: 8
2020-11-21 14:42:28.170 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==>  Preparing: select time from email_history_info where id =? 
2020-11-21 14:42:28.170 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==> Parameters: 1294123945645047808(String)
2020-11-21 14:42:28.178 INFO  cn.jwis.qualityworkflow.util.EmailService[142]  qualityadmin email is 
2020-11-21 14:42:28.178 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==>  Preparing: select time from email_history_info where id =? 
2020-11-21 14:42:28.178 INFO  cn.jwis.qualityworkflow.util.EmailService[142]  hualanlan email is test@jwis.cn
2020-11-21 14:42:28.178 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==> Parameters: 1308013116927246336(String)
2020-11-21 14:42:28.178 DEBUG cn.jwis.qualityworkflow.dao.UserMapper.getSuperior[145]  ==>  Preparing: select superior from department_mapping where user_account = ? and type = ? limit 0,1 
2020-11-21 14:42:28.179 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  <==      Total: 1
2020-11-21 14:42:28.179 DEBUG cn.jwis.qualityworkflow.dao.UserMapper.getSuperior[145]  ==> Parameters: hualanlan(String), QIMS(String)
2020-11-21 14:42:28.186 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  <==      Total: 0
2020-11-21 14:42:28.189 DEBUG cn.jwis.qualityworkflow.dao.UserMapper.getSuperior[145]  <==      Total: 1
2020-11-21 14:42:28.189 DEBUG c.j.q.dao.UserMapper.getSuperiorManagerByUser[145]  ==>  Preparing: select superior_manager from department_mapping where user_account = ? and type = ? limit 0,1 
2020-11-21 14:42:28.190 DEBUG c.j.q.dao.UserMapper.getSuperiorManagerByUser[145]  ==> Parameters: hualanlan(String), QIMS(String)
2020-11-21 14:42:28.206 DEBUG c.j.q.dao.UserMapper.getSuperiorManagerByUser[145]  <==      Total: 1
2020-11-21 14:42:28.208 INFO  cn.jwis.qualityworkflow.util.EmailService[142]  dz_gyb1 email is test@jwis.cn
2020-11-21 14:42:28.208 DEBUG cn.jwis.qualityworkflow.dao.UserMapper.getSuperior[145]  ==>  Preparing: select superior from department_mapping where user_account = ? and type = ? limit 0,1 
2020-11-21 14:42:28.208 DEBUG cn.jwis.qualityworkflow.dao.UserMapper.getSuperior[145]  ==> Parameters: dz_gyb1(String), COMMON(String)
2020-11-21 14:42:28.209 INFO  cn.jwis.qualityworkflow.util.EmailService[142]  kiween email is 
2020-11-21 14:42:28.209 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==>  Preparing: select time from email_history_info where id =? 
2020-11-21 14:42:28.209 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==> Parameters: 1309046852858937344(String)
2020-11-21 14:42:28.219 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  <==      Total: 0
2020-11-21 14:42:28.220 DEBUG cn.jwis.qualityworkflow.dao.UserMapper.getSuperior[145]  <==      Total: 1
2020-11-21 14:42:28.226 INFO  cn.jwis.qualityworkflow.util.EmailService[142]  workflow3 email is null
2020-11-21 14:42:28.238 INFO  cn.jwis.qualityworkflow.util.EmailService[142]  codisan email is kelvin@jwis.cn
2020-11-21 14:42:28.238 INFO  cn.jwis.qualityworkflow.util.EmailService[142]  dz_gyb2 email is jian.song@jwis.cn
2020-11-21 14:42:28.238 DEBUG c.j.qualityworkflow.dao.CommonMapper.getKeyToName[145]  ==>  Preparing: SELECT * FROM key_to_name 
2020-11-21 14:42:28.238 DEBUG c.j.qualityworkflow.dao.CommonMapper.getKeyToName[145]  ==>  Preparing: SELECT * FROM key_to_name 
2020-11-21 14:42:28.238 DEBUG c.j.qualityworkflow.dao.CommonMapper.getKeyToName[145]  ==> Parameters: 
2020-11-21 14:42:28.239 DEBUG c.j.qualityworkflow.dao.CommonMapper.getKeyToName[145]  ==> Parameters: 
2020-11-21 14:42:28.245 DEBUG c.j.qualityworkflow.dao.CommonMapper.getKeyToName[145]  <==      Total: 8
2020-11-21 14:42:28.245 DEBUG c.j.qualityworkflow.dao.CommonMapper.getKeyToName[145]  <==      Total: 8
2020-11-21 14:42:28.246 DEBUG c.j.q.m.l.d.L.getLineQualifyDetailednessInfo[145]  ==>  Preparing: SELECT q.*,ar.processInstanceId ,ar.taskId,ar.assignee,ar.taskState,ar.taskName FROM line_qualify_info q,(SELECT workflow_business_id, process_instance_id as processInstanceId,task_id as taskId,assignee,task_state as taskState,task_name taskName FROM task_record WHERE task_id=?) ar where q.id=ar.workflow_business_id 
2020-11-21 14:42:28.246 DEBUG c.j.q.m.l.d.L.getLineQualifyDetailednessInfo[145]  ==> Parameters: 5490632(String)
2020-11-21 14:42:28.246 INFO  cn.jwis.qualityworkflow.util.EmailService[74]  haomiao.liu@jwis.cn send a Mail to kelvin@jwis.cn fail, because null
2020-11-21 14:42:28.247 INFO  cn.jwis.qualityworkflow.util.EmailService[142]  zhouxianling email is 
2020-11-21 14:42:28.247 DEBUG c.j.qualityworkflow.dao.TaskRecordMapper.getById[145]  ==>  Preparing: SELECT * from task_record WHERE id = ? 
2020-11-21 14:42:28.248 DEBUG c.j.qualityworkflow.dao.TaskRecordMapper.getById[145]  ==> Parameters: 1286902446076985344(String)
2020-11-21 14:42:28.256 DEBUG c.j.qualityworkflow.dao.TaskRecordMapper.getById[145]  <==      Total: 1
2020-11-21 14:42:28.256 DEBUG c.j.qualityworkflow.dao.CommonMapper.getKeyToName[145]  ==>  Preparing: SELECT * FROM key_to_name 
2020-11-21 14:42:28.256 DEBUG c.j.qualityworkflow.dao.CommonMapper.getKeyToName[145]  ==> Parameters: 
2020-11-21 14:42:28.258 DEBUG c.j.q.m.l.d.L.getLineQualifyDetailednessInfo[145]  <==      Total: 1
2020-11-21 14:42:28.259 INFO  cn.jwis.qualityworkflow.util.EmailService[69]  haomiao.liu@jwis.cn send a Mail to test@jwis.cn and make a copy for [jian.song@jwis.cn]
2020-11-21 14:42:28.263 DEBUG c.j.qualityworkflow.dao.CommonMapper.getKeyToName[145]  <==      Total: 8
2020-11-21 14:42:28.264 INFO  cn.jwis.qualityworkflow.util.EmailService[71]  haomiao.liu@jwis.cn send a Mail to test@jwis.cn
2020-11-21 14:42:28.832 ERROR o.s.s.support.TaskUtils$LoggingErrorHandler[96] org.springframework.mail.MailSendException: Failed messages: javax.mail.SendFailedException: Invalid Addresses;
  nested exception is:
	com.sun.mail.smtp.SMTPAddressFailedException: 554 RCPT (kelvin@jwis.cn) dosn't exist

	at org.springframework.mail.javamail.JavaMailSenderImpl.doSend(JavaMailSenderImpl.java:488)
	at org.springframework.mail.javamail.JavaMailSenderImpl.send(JavaMailSenderImpl.java:359)
	at org.springframework.mail.javamail.JavaMailSenderImpl.send(JavaMailSenderImpl.java:354)
	at cn.jwis.qualityworkflow.util.EmailService.sendHtmlMail(EmailService.java:76)
	at cn.jwis.qualityworkflow.modules.qims.service.imp.QimsSendMailServiceImpl.sendEmailTohandler(QimsSendMailServiceImpl.java:161)
	at cn.jwis.qualityworkflow.modules.ipqc.service.imp.AuditQualityProblemServiceImpl.qimsSendMail(AuditQualityProblemServiceImpl.java:321)
	at cn.jwis.qualityworkflow.modules.ipqc.service.imp.AuditQualityProblemServiceImpl$$FastClassBySpringCGLIB$$15ff325f.invoke(<generated>)
	at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:684)
	at cn.jwis.qualityworkflow.modules.ipqc.service.imp.AuditQualityProblemServiceImpl$$EnhancerBySpringCGLIB$$7c12bff2.qimsSendMail(<generated>)
	at cn.jwis.qualityworkflow.modules.ipqc.job.ipqcMailJob.qimsSendMail(ipqcMailJob.java:28)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.springframework.scheduling.support.ScheduledMethodRunnable.run(ScheduledMethodRunnable.java:84)
	at org.springframework.scheduling.support.DelegatingErrorHandlingRunnable.run(DelegatingErrorHandlingRunnable.java:54)
	at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:511)
	at java.util.concurrent.FutureTask.runAndReset(FutureTask.java:308)
	at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.access$301(ScheduledThreadPoolExecutor.java:180)
	at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:294)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)
 Unexpected error occurred in scheduled task.
2020-11-21 14:42:28.832 INFO  c.j.qualityworkflow.modules.ipqc.job.ipqcMailJob[27]  查询IPQC超时任务
2020-11-21 14:42:28.840 DEBUG c.j.q.dao.TaskRecordMapper.getOverTimeTaskRecord2[145]  ==>  Preparing: SELECT *, HOUR(timediff(now() , create_date)) overTimeNum FROM task_record WHERE template_key = ? AND task_state IS NULL AND HOUR(timediff(now() , create_date)) >= ? 
2020-11-21 14:42:28.840 DEBUG c.j.q.dao.TaskRecordMapper.getOverTimeTaskRecord2[145]  ==> Parameters: IPQCAuditProcess(String), 24(Integer)
2020-11-21 14:42:28.850 DEBUG c.j.q.dao.TaskRecordMapper.getOverTimeTaskRecord2[145]  <==      Total: 18
2020-11-21 14:42:28.851 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==>  Preparing: select time from email_history_info where id =? 
2020-11-21 14:42:28.851 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==> Parameters: 1303868320843300864(String)
2020-11-21 14:42:28.857 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  <==      Total: 1
2020-11-21 14:42:28.857 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==>  Preparing: select time from email_history_info where id =? 
2020-11-21 14:42:28.857 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==> Parameters: 1303868347422605312(String)
2020-11-21 14:42:28.857 ERROR o.s.s.support.TaskUtils$LoggingErrorHandler[96] org.springframework.mail.MailSendException: Failed messages: javax.mail.SendFailedException: Invalid Addresses;
  nested exception is:
	com.sun.mail.smtp.SMTPAddressFailedException: 554 RCPT (test@jwis.cn) dosn't exist

	at org.springframework.mail.javamail.JavaMailSenderImpl.doSend(JavaMailSenderImpl.java:488)
	at org.springframework.mail.javamail.JavaMailSenderImpl.send(JavaMailSenderImpl.java:359)
	at org.springframework.mail.javamail.JavaMailSenderImpl.send(JavaMailSenderImpl.java:354)
	at cn.jwis.qualityworkflow.util.EmailService.sendHtmlMail(EmailService.java:76)
	at cn.jwis.qualityworkflow.modules.qims.service.imp.QimsSendMailServiceImpl.sendEmailTohandler(QimsSendMailServiceImpl.java:161)
	at cn.jwis.qualityworkflow.modules.qims.service.imp.QimsSendMailServiceImpl.qimsSendMail(QimsSendMailServiceImpl.java:90)
	at cn.jwis.qualityworkflow.modules.qims.job.qimsMailJob.qimsSendMail(qimsMailJob.java:49)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.springframework.scheduling.support.ScheduledMethodRunnable.run(ScheduledMethodRunnable.java:84)
	at org.springframework.scheduling.support.DelegatingErrorHandlingRunnable.run(DelegatingErrorHandlingRunnable.java:54)
	at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:511)
	at java.util.concurrent.FutureTask.runAndReset(FutureTask.java:308)
	at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.access$301(ScheduledThreadPoolExecutor.java:180)
	at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:294)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)
 Unexpected error occurred in scheduled task.
2020-11-21 14:42:28.865 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  <==      Total: 1
2020-11-21 14:42:28.866 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==>  Preparing: select time from email_history_info where id =? 
2020-11-21 14:42:28.866 DEBUG c.j.q.m.qims.dao.BlackDashBoardMapper.getHoliday[145]  ==>  Preparing: SELECT DISTINCT date FROM holiday_maintenance WHERE type = '节假日' 
2020-11-21 14:42:28.866 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==> Parameters: 1303868393815801856(String)
2020-11-21 14:42:28.866 DEBUG c.j.q.m.qims.dao.BlackDashBoardMapper.getHoliday[145]  ==> Parameters: 
2020-11-21 14:42:28.875 DEBUG c.j.q.m.qims.dao.BlackDashBoardMapper.getHoliday[145]  <==      Total: 6
2020-11-21 14:42:28.875 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  <==      Total: 1
2020-11-21 14:42:28.875 DEBUG c.j.q.m.q.d.B.getWorkOvertimeList[145]  ==>  Preparing: SELECT DISTINCT date FROM holiday_maintenance WHERE type = '补班' 
2020-11-21 14:42:28.875 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==>  Preparing: select time from email_history_info where id =? 
2020-11-21 14:42:28.875 DEBUG c.j.q.m.q.d.B.getWorkOvertimeList[145]  ==> Parameters: 
2020-11-21 14:42:28.876 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==> Parameters: 1303937438065885184(String)
2020-11-21 14:42:28.883 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  <==      Total: 1
2020-11-21 14:42:28.883 DEBUG c.j.q.m.q.d.B.getWorkOvertimeList[145]  <==      Total: 4
2020-11-21 14:42:28.884 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getLtStandard[145]  ==>  Preparing: select * from qims_lt_standard_info 
2020-11-21 14:42:28.884 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==>  Preparing: select time from email_history_info where id =? 
2020-11-21 14:42:28.884 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getLtStandard[145]  ==> Parameters: 
2020-11-21 14:42:28.884 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==> Parameters: 1303939538460082176(String)
2020-11-21 14:42:28.894 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  <==      Total: 1
2020-11-21 14:42:28.894 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==>  Preparing: select time from email_history_info where id =? 
2020-11-21 14:42:28.894 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==> Parameters: 1303939599889858560(String)
2020-11-21 14:42:28.895 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getLtStandard[145]  <==      Total: 8
2020-11-21 14:42:28.896 INFO  c.j.qualityworkflow.modules.qims.job.qimsMailJob[47]  查询黑色问题超过LT的信息
2020-11-21 14:42:28.896 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getBlackList[145]  ==>  Preparing: select * from task_record where task_name in('初步原因分析','根本原因分析','根本原因审核') and task_state is null and template_key='QIMSBLACK' 
2020-11-21 14:42:28.896 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getBlackList[145]  ==> Parameters: 
2020-11-21 14:42:28.900 ERROR o.s.s.support.TaskUtils$LoggingErrorHandler[96] org.springframework.mail.MailSendException: Failed messages: javax.mail.SendFailedException: Invalid Addresses;
  nested exception is:
	com.sun.mail.smtp.SMTPAddressFailedException: 554 RCPT (test@jwis.cn) dosn't exist
;
  nested exception is:
	com.sun.mail.smtp.SMTPAddressFailedException: 554 RCPT (jian.song@jwis.cn) dosn't exist

	at org.springframework.mail.javamail.JavaMailSenderImpl.doSend(JavaMailSenderImpl.java:488)
	at org.springframework.mail.javamail.JavaMailSenderImpl.send(JavaMailSenderImpl.java:359)
	at org.springframework.mail.javamail.JavaMailSenderImpl.send(JavaMailSenderImpl.java:354)
	at cn.jwis.qualityworkflow.util.EmailService.sendHtmlMail(EmailService.java:76)
	at cn.jwis.qualityworkflow.modules.linequalify.service.imp.LineQualifyServiceImpl.sendEmailTohandler(LineQualifyServiceImpl.java:617)
	at cn.jwis.qualityworkflow.modules.linequalify.service.imp.LineQualifyServiceImpl.sendOverTimeMail(LineQualifyServiceImpl.java:594)
	at cn.jwis.qualityworkflow.modules.linequalify.service.imp.LineQualifyServiceImpl$$FastClassBySpringCGLIB$$4ca6f597.invoke(<generated>)
	at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:684)
	at cn.jwis.qualityworkflow.modules.linequalify.service.imp.LineQualifyServiceImpl$$EnhancerBySpringCGLIB$$c381cc9a.sendOverTimeMail(<generated>)
	at cn.jwis.qualityworkflow.modules.linequalify.job.LineQualifyMailJob.sendOverTimeMail(LineQualifyMailJob.java:30)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.springframework.scheduling.support.ScheduledMethodRunnable.run(ScheduledMethodRunnable.java:84)
	at org.springframework.scheduling.support.DelegatingErrorHandlingRunnable.run(DelegatingErrorHandlingRunnable.java:54)
	at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:511)
	at java.util.concurrent.FutureTask.runAndReset(FutureTask.java:308)
	at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.access$301(ScheduledThreadPoolExecutor.java:180)
	at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:294)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)
 Unexpected error occurred in scheduled task.
2020-11-21 14:42:28.901 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  <==      Total: 1
2020-11-21 14:42:28.901 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==>  Preparing: select time from email_history_info where id =? 
2020-11-21 14:42:28.901 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==> Parameters: 1306059696263659520(String)
2020-11-21 14:42:28.909 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  <==      Total: 1
2020-11-21 14:42:28.909 DEBUG c.j.q.dao.TaskRecordMapper.getOverTimeTaskRecord[145]  ==>  Preparing: SELECT *, HOUR(timediff(now() , create_date)) overTimeNum FROM task_record WHERE template_key = ? AND task_state IS NULL AND task_name = ? AND HOUR(timediff(now() , create_date)) >= ? 
2020-11-21 14:42:28.910 DEBUG c.j.q.dao.TaskRecordMapper.getOverTimeTaskRecord[145]  ==> Parameters: Line Qualify(String), 文件收集(String), 2(Integer)
2020-11-21 14:42:28.910 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==>  Preparing: select time from email_history_info where id =? 
2020-11-21 14:42:28.910 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getBlackList[145]  <==      Total: 16
2020-11-21 14:42:28.911 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==> Parameters: 1306155886347026432(String)
2020-11-21 14:42:28.912 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==>  Preparing: select time from email_history_info where id =? 
2020-11-21 14:42:28.913 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==> Parameters: 1286902446076985344(String)
2020-11-21 14:42:28.926 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  <==      Total: 1
2020-11-21 14:42:28.927 DEBUG c.j.q.dao.TaskRecordMapper.getOverTimeTaskRecord[145]  <==      Total: 8
2020-11-21 14:42:28.927 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  <==      Total: 1
2020-11-21 14:42:28.927 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==>  Preparing: select time from email_history_info where id =? 
2020-11-21 14:42:28.927 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==> Parameters: 1306201167000240128(String)
2020-11-21 14:42:28.927 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==>  Preparing: select time from email_history_info where id =? 
2020-11-21 14:42:28.927 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==> Parameters: 1294123945645047808(String)
2020-11-21 14:42:28.932 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  <==      Total: 1
2020-11-21 14:42:28.932 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==>  Preparing: select time from email_history_info where id =? 
2020-11-21 14:42:28.933 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==> Parameters: 1308013106458263552(String)
2020-11-21 14:42:28.936 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  <==      Total: 1
2020-11-21 14:42:28.939 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  <==      Total: 0
2020-11-21 14:42:28.950 INFO  cn.jwis.qualityworkflow.util.EmailService[142]  hualanlan email is test@jwis.cn
2020-11-21 14:42:28.951 DEBUG cn.jwis.qualityworkflow.dao.UserMapper.getSuperior[145]  ==>  Preparing: select superior from department_mapping where user_account = ? and type = ? limit 0,1 
2020-11-21 14:42:28.951 DEBUG cn.jwis.qualityworkflow.dao.UserMapper.getSuperior[145]  ==> Parameters: hualanlan(String), QIMS(String)
2020-11-21 14:42:28.960 DEBUG cn.jwis.qualityworkflow.dao.UserMapper.getSuperior[145]  <==      Total: 1
2020-11-21 14:42:28.960 INFO  cn.jwis.qualityworkflow.util.EmailService[142]  dz_gyb1 email is test@jwis.cn
2020-11-21 14:42:28.960 INFO  cn.jwis.qualityworkflow.util.EmailService[142]  kiween email is 
2020-11-21 14:42:28.960 DEBUG cn.jwis.qualityworkflow.dao.UserMapper.getSuperior[145]  ==>  Preparing: select superior from department_mapping where user_account = ? and type = ? limit 0,1 
2020-11-21 14:42:28.960 DEBUG c.j.q.dao.UserMapper.getSuperiorManagerByUser[145]  ==>  Preparing: select superior_manager from department_mapping where user_account = ? and type = ? limit 0,1 
2020-11-21 14:42:28.960 DEBUG cn.jwis.qualityworkflow.dao.UserMapper.getSuperior[145]  ==> Parameters: dz_gyb1(String), COMMON(String)
2020-11-21 14:42:28.960 DEBUG c.j.q.dao.UserMapper.getSuperiorManagerByUser[145]  ==> Parameters: hualanlan(String), QIMS(String)
2020-11-21 14:42:28.960 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==>  Preparing: select time from email_history_info where id =? 
2020-11-21 14:42:28.961 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==> Parameters: 1308013110702899200(String)
2020-11-21 14:42:28.968 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  <==      Total: 1
2020-11-21 14:42:28.969 DEBUG c.j.q.dao.UserMapper.getSuperiorManagerByUser[145]  <==      Total: 1
2020-11-21 14:42:28.969 DEBUG cn.jwis.qualityworkflow.dao.UserMapper.getSuperior[145]  <==      Total: 1
2020-11-21 14:42:28.992 INFO  cn.jwis.qualityworkflow.util.EmailService[142]  qualityadmin email is 
2020-11-21 14:42:28.992 DEBUG cn.jwis.qualityworkflow.dao.UserMapper.getSuperior[145]  ==>  Preparing: select superior from department_mapping where user_account = ? and type = ? limit 0,1 
2020-11-21 14:42:28.992 INFO  cn.jwis.qualityworkflow.util.EmailService[142]  dz_gyb2 email is jian.song@jwis.cn
2020-11-21 14:42:28.992 DEBUG cn.jwis.qualityworkflow.dao.UserMapper.getSuperior[145]  ==> Parameters: qualityadmin(String), COMMON(String)
2020-11-21 14:42:28.993 DEBUG c.j.qualityworkflow.dao.CommonMapper.getKeyToName[145]  ==>  Preparing: SELECT * FROM key_to_name 
2020-11-21 14:42:28.993 DEBUG c.j.qualityworkflow.dao.CommonMapper.getKeyToName[145]  ==> Parameters: 
2020-11-21 14:42:28.993 INFO  cn.jwis.qualityworkflow.util.EmailService[142]  workflow3 email is null
2020-11-21 14:42:29.001 DEBUG cn.jwis.qualityworkflow.dao.UserMapper.getSuperior[145]  <==      Total: 1
2020-11-21 14:42:29.001 DEBUG c.j.qualityworkflow.dao.CommonMapper.getKeyToName[145]  <==      Total: 8
2020-11-21 14:42:29.002 DEBUG c.j.q.m.l.d.L.getLineQualifyDetailednessInfo[145]  ==>  Preparing: SELECT q.*,ar.processInstanceId ,ar.taskId,ar.assignee,ar.taskState,ar.taskName FROM line_qualify_info q,(SELECT workflow_business_id, process_instance_id as processInstanceId,task_id as taskId,assignee,task_state as taskState,task_name taskName FROM task_record WHERE task_id=?) ar where q.id=ar.workflow_business_id 
2020-11-21 14:42:29.002 DEBUG c.j.q.m.l.d.L.getLineQualifyDetailednessInfo[145]  ==> Parameters: 5490632(String)
2020-11-21 14:42:29.014 DEBUG c.j.q.m.l.d.L.getLineQualifyDetailednessInfo[145]  <==      Total: 1
2020-11-21 14:42:29.015 INFO  cn.jwis.qualityworkflow.util.EmailService[69]  haomiao.liu@jwis.cn send a Mail to test@jwis.cn and make a copy for [jian.song@jwis.cn]
2020-11-21 14:42:29.016 INFO  cn.jwis.qualityworkflow.util.EmailService[142]  zhouxianling email is 
2020-11-21 14:42:29.017 DEBUG c.j.qualityworkflow.dao.TaskRecordMapper.getById[145]  ==>  Preparing: SELECT * from task_record WHERE id = ? 
2020-11-21 14:42:29.017 DEBUG c.j.qualityworkflow.dao.TaskRecordMapper.getById[145]  ==> Parameters: 1286902446076985344(String)
2020-11-21 14:42:29.026 DEBUG c.j.qualityworkflow.dao.TaskRecordMapper.getById[145]  <==      Total: 1
2020-11-21 14:42:29.026 DEBUG c.j.qualityworkflow.dao.CommonMapper.getKeyToName[145]  ==>  Preparing: SELECT * FROM key_to_name 
2020-11-21 14:42:29.027 INFO  cn.jwis.qualityworkflow.util.EmailService[142]  qualityadmin email is 
2020-11-21 14:42:29.027 DEBUG c.j.qualityworkflow.dao.CommonMapper.getKeyToName[145]  ==> Parameters: 
2020-11-21 14:42:29.027 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==>  Preparing: select time from email_history_info where id =? 
2020-11-21 14:42:29.027 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==> Parameters: 1308013113928318976(String)
2020-11-21 14:42:29.034 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  <==      Total: 1
2020-11-21 14:42:29.034 DEBUG c.j.qualityworkflow.dao.CommonMapper.getKeyToName[145]  <==      Total: 8
2020-11-21 14:42:29.035 INFO  cn.jwis.qualityworkflow.util.EmailService[71]  haomiao.liu@jwis.cn send a Mail to test@jwis.cn
2020-11-21 14:42:29.060 INFO  cn.jwis.qualityworkflow.util.EmailService[142]  qualityadmin email is 
2020-11-21 14:42:29.061 DEBUG cn.jwis.qualityworkflow.dao.UserMapper.getSuperior[145]  ==>  Preparing: select superior from department_mapping where user_account = ? and type = ? limit 0,1 
2020-11-21 14:42:29.061 DEBUG cn.jwis.qualityworkflow.dao.UserMapper.getSuperior[145]  ==> Parameters: qualityadmin(String), COMMON(String)
2020-11-21 14:42:29.068 DEBUG cn.jwis.qualityworkflow.dao.UserMapper.getSuperior[145]  <==      Total: 1
2020-11-21 14:42:29.089 INFO  cn.jwis.qualityworkflow.util.EmailService[142]  qualityadmin email is 
2020-11-21 14:42:29.089 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==>  Preparing: select time from email_history_info where id =? 
2020-11-21 14:42:29.090 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==> Parameters: 1308013116927246336(String)
2020-11-21 14:42:29.097 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  <==      Total: 0
2020-11-21 14:42:29.125 INFO  cn.jwis.qualityworkflow.util.EmailService[142]  kiween email is 
2020-11-21 14:42:29.125 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==>  Preparing: select time from email_history_info where id =? 
2020-11-21 14:42:29.125 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==> Parameters: 1309046852858937344(String)
2020-11-21 14:42:29.132 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  <==      Total: 0
2020-11-21 14:42:29.151 INFO  cn.jwis.qualityworkflow.util.EmailService[142]  codisan email is kelvin@jwis.cn
2020-11-21 14:42:29.151 DEBUG c.j.qualityworkflow.dao.CommonMapper.getKeyToName[145]  ==>  Preparing: SELECT * FROM key_to_name 
2020-11-21 14:42:29.151 DEBUG c.j.qualityworkflow.dao.CommonMapper.getKeyToName[145]  ==> Parameters: 
2020-11-21 14:42:29.165 DEBUG c.j.qualityworkflow.dao.CommonMapper.getKeyToName[145]  <==      Total: 8
2020-11-21 14:42:29.166 INFO  cn.jwis.qualityworkflow.util.EmailService[74]  haomiao.liu@jwis.cn send a Mail to kelvin@jwis.cn fail, because null
2020-11-21 14:42:29.750 ERROR o.s.s.support.TaskUtils$LoggingErrorHandler[96] org.springframework.mail.MailSendException: Failed messages: javax.mail.SendFailedException: Invalid Addresses;
  nested exception is:
	com.sun.mail.smtp.SMTPAddressFailedException: 554 RCPT (test@jwis.cn) dosn't exist
;
  nested exception is:
	com.sun.mail.smtp.SMTPAddressFailedException: 554 RCPT (jian.song@jwis.cn) dosn't exist

	at org.springframework.mail.javamail.JavaMailSenderImpl.doSend(JavaMailSenderImpl.java:488)
	at org.springframework.mail.javamail.JavaMailSenderImpl.send(JavaMailSenderImpl.java:359)
	at org.springframework.mail.javamail.JavaMailSenderImpl.send(JavaMailSenderImpl.java:354)
	at cn.jwis.qualityworkflow.util.EmailService.sendHtmlMail(EmailService.java:76)
	at cn.jwis.qualityworkflow.modules.linequalify.service.imp.LineQualifyServiceImpl.sendEmailTohandler(LineQualifyServiceImpl.java:617)
	at cn.jwis.qualityworkflow.modules.linequalify.service.imp.LineQualifyServiceImpl.sendOverTimeMail(LineQualifyServiceImpl.java:594)
	at cn.jwis.qualityworkflow.modules.linequalify.service.imp.LineQualifyServiceImpl$$FastClassBySpringCGLIB$$4ca6f597.invoke(<generated>)
	at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:684)
	at cn.jwis.qualityworkflow.modules.linequalify.service.imp.LineQualifyServiceImpl$$EnhancerBySpringCGLIB$$c381cc9a.sendOverTimeMail(<generated>)
	at cn.jwis.qualityworkflow.modules.linequalify.job.LineQualifyMailJob.sendOverTimeMail(LineQualifyMailJob.java:30)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.springframework.scheduling.support.ScheduledMethodRunnable.run(ScheduledMethodRunnable.java:84)
	at org.springframework.scheduling.support.DelegatingErrorHandlingRunnable.run(DelegatingErrorHandlingRunnable.java:54)
	at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:511)
	at java.util.concurrent.FutureTask.runAndReset(FutureTask.java:308)
	at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.access$301(ScheduledThreadPoolExecutor.java:180)
	at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:294)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)
 Unexpected error occurred in scheduled task.
2020-11-21 14:42:29.751 ERROR o.s.s.support.TaskUtils$LoggingErrorHandler[96] org.springframework.mail.MailSendException: Failed messages: javax.mail.SendFailedException: Invalid Addresses;
  nested exception is:
	com.sun.mail.smtp.SMTPAddressFailedException: 554 RCPT (test@jwis.cn) dosn't exist

	at org.springframework.mail.javamail.JavaMailSenderImpl.doSend(JavaMailSenderImpl.java:488)
	at org.springframework.mail.javamail.JavaMailSenderImpl.send(JavaMailSenderImpl.java:359)
	at org.springframework.mail.javamail.JavaMailSenderImpl.send(JavaMailSenderImpl.java:354)
	at cn.jwis.qualityworkflow.util.EmailService.sendHtmlMail(EmailService.java:76)
	at cn.jwis.qualityworkflow.modules.qims.service.imp.QimsSendMailServiceImpl.sendEmailTohandler(QimsSendMailServiceImpl.java:161)
	at cn.jwis.qualityworkflow.modules.qims.service.imp.QimsSendMailServiceImpl.qimsSendMail(QimsSendMailServiceImpl.java:90)
	at cn.jwis.qualityworkflow.modules.qims.job.qimsMailJob.qimsSendMail(qimsMailJob.java:49)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.springframework.scheduling.support.ScheduledMethodRunnable.run(ScheduledMethodRunnable.java:84)
	at org.springframework.scheduling.support.DelegatingErrorHandlingRunnable.run(DelegatingErrorHandlingRunnable.java:54)
	at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:511)
	at java.util.concurrent.FutureTask.runAndReset(FutureTask.java:308)
	at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.access$301(ScheduledThreadPoolExecutor.java:180)
	at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:294)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)
 Unexpected error occurred in scheduled task.
2020-11-21 14:42:29.759 DEBUG c.j.q.m.qims.dao.BlackDashBoardMapper.getHoliday[145]  ==>  Preparing: SELECT DISTINCT date FROM holiday_maintenance WHERE type = '节假日' 
2020-11-21 14:42:29.760 DEBUG c.j.q.m.qims.dao.BlackDashBoardMapper.getHoliday[145]  ==> Parameters: 
2020-11-21 14:42:29.760 DEBUG c.j.q.dao.TaskRecordMapper.getOverTimeTaskRecord[145]  ==>  Preparing: SELECT *, HOUR(timediff(now() , create_date)) overTimeNum FROM task_record WHERE template_key = ? AND task_state IS NULL AND task_name = ? AND HOUR(timediff(now() , create_date)) >= ? 
2020-11-21 14:42:29.760 DEBUG c.j.q.dao.TaskRecordMapper.getOverTimeTaskRecord[145]  ==> Parameters: Line Qualify(String), 文件收集(String), 2(Integer)
2020-11-21 14:42:29.766 DEBUG c.j.q.m.qims.dao.BlackDashBoardMapper.getHoliday[145]  <==      Total: 6
2020-11-21 14:42:29.766 DEBUG c.j.q.m.q.d.B.getWorkOvertimeList[145]  ==>  Preparing: SELECT DISTINCT date FROM holiday_maintenance WHERE type = '补班' 
2020-11-21 14:42:29.766 DEBUG c.j.q.m.q.d.B.getWorkOvertimeList[145]  ==> Parameters: 
2020-11-21 14:42:29.769 DEBUG c.j.q.dao.TaskRecordMapper.getOverTimeTaskRecord[145]  <==      Total: 8
2020-11-21 14:42:29.770 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==>  Preparing: select time from email_history_info where id =? 
2020-11-21 14:42:29.770 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==> Parameters: 1294123945645047808(String)
2020-11-21 14:42:29.774 DEBUG c.j.q.m.q.d.B.getWorkOvertimeList[145]  <==      Total: 4
2020-11-21 14:42:29.775 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getLtStandard[145]  ==>  Preparing: select * from qims_lt_standard_info 
2020-11-21 14:42:29.775 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getLtStandard[145]  ==> Parameters: 
2020-11-21 14:42:29.776 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  <==      Total: 1
2020-11-21 14:42:29.781 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getLtStandard[145]  <==      Total: 8
2020-11-21 14:42:29.781 INFO  c.j.qualityworkflow.modules.qims.job.qimsMailJob[47]  查询黑色问题超过LT的信息
2020-11-21 14:42:29.781 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getBlackList[145]  ==>  Preparing: select * from task_record where task_name in('初步原因分析','根本原因分析','根本原因审核') and task_state is null and template_key='QIMSBLACK' 
2020-11-21 14:42:29.781 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getBlackList[145]  ==> Parameters: 
2020-11-21 14:42:29.791 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getBlackList[145]  <==      Total: 16
2020-11-21 14:42:29.794 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==>  Preparing: select time from email_history_info where id =? 
2020-11-21 14:42:29.794 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==> Parameters: 1286902446076985344(String)
2020-11-21 14:42:29.801 INFO  cn.jwis.qualityworkflow.util.EmailService[142]  dz_gyb1 email is test@jwis.cn
2020-11-21 14:42:29.802 DEBUG cn.jwis.qualityworkflow.dao.UserMapper.getSuperior[145]  ==>  Preparing: select superior from department_mapping where user_account = ? and type = ? limit 0,1 
2020-11-21 14:42:29.802 DEBUG cn.jwis.qualityworkflow.dao.UserMapper.getSuperior[145]  ==> Parameters: dz_gyb1(String), COMMON(String)
2020-11-21 14:42:29.806 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  <==      Total: 1
2020-11-21 14:42:29.810 DEBUG cn.jwis.qualityworkflow.dao.UserMapper.getSuperior[145]  <==      Total: 1
2020-11-21 14:42:29.832 INFO  cn.jwis.qualityworkflow.util.EmailService[142]  hualanlan email is test@jwis.cn
2020-11-21 14:42:29.832 DEBUG cn.jwis.qualityworkflow.dao.UserMapper.getSuperior[145]  ==>  Preparing: select superior from department_mapping where user_account = ? and type = ? limit 0,1 
2020-11-21 14:42:29.833 DEBUG cn.jwis.qualityworkflow.dao.UserMapper.getSuperior[145]  ==> Parameters: hualanlan(String), QIMS(String)
2020-11-21 14:42:29.835 INFO  cn.jwis.qualityworkflow.util.EmailService[142]  dz_gyb2 email is jian.song@jwis.cn
2020-11-21 14:42:29.836 DEBUG c.j.qualityworkflow.dao.CommonMapper.getKeyToName[145]  ==>  Preparing: SELECT * FROM key_to_name 
2020-11-21 14:42:29.836 DEBUG c.j.qualityworkflow.dao.CommonMapper.getKeyToName[145]  ==> Parameters: 
2020-11-21 14:42:29.848 DEBUG c.j.qualityworkflow.dao.CommonMapper.getKeyToName[145]  <==      Total: 8
2020-11-21 14:42:29.848 DEBUG cn.jwis.qualityworkflow.dao.UserMapper.getSuperior[145]  <==      Total: 1
2020-11-21 14:42:29.849 DEBUG c.j.q.dao.UserMapper.getSuperiorManagerByUser[145]  ==>  Preparing: select superior_manager from department_mapping where user_account = ? and type = ? limit 0,1 
2020-11-21 14:42:29.849 DEBUG c.j.q.m.l.d.L.getLineQualifyDetailednessInfo[145]  ==>  Preparing: SELECT q.*,ar.processInstanceId ,ar.taskId,ar.assignee,ar.taskState,ar.taskName FROM line_qualify_info q,(SELECT workflow_business_id, process_instance_id as processInstanceId,task_id as taskId,assignee,task_state as taskState,task_name taskName FROM task_record WHERE task_id=?) ar where q.id=ar.workflow_business_id 
2020-11-21 14:42:29.849 DEBUG c.j.q.dao.UserMapper.getSuperiorManagerByUser[145]  ==> Parameters: hualanlan(String), QIMS(String)
2020-11-21 14:42:29.849 DEBUG c.j.q.m.l.d.L.getLineQualifyDetailednessInfo[145]  ==> Parameters: 5490632(String)
2020-11-21 14:42:29.860 DEBUG c.j.q.dao.UserMapper.getSuperiorManagerByUser[145]  <==      Total: 1
2020-11-21 14:42:29.861 DEBUG c.j.q.m.l.d.L.getLineQualifyDetailednessInfo[145]  <==      Total: 1
2020-11-21 14:42:29.862 INFO  cn.jwis.qualityworkflow.util.EmailService[69]  haomiao.liu@jwis.cn send a Mail to test@jwis.cn and make a copy for [jian.song@jwis.cn]
2020-11-21 14:42:29.878 INFO  cn.jwis.qualityworkflow.util.EmailService[142]  workflow3 email is null
2020-11-21 14:42:29.899 INFO  cn.jwis.qualityworkflow.util.EmailService[142]  zhouxianling email is 
2020-11-21 14:42:29.900 DEBUG c.j.qualityworkflow.dao.TaskRecordMapper.getById[145]  ==>  Preparing: SELECT * from task_record WHERE id = ? 
2020-11-21 14:42:29.901 DEBUG c.j.qualityworkflow.dao.TaskRecordMapper.getById[145]  ==> Parameters: 1286902446076985344(String)
2020-11-21 14:42:29.911 ERROR o.s.s.support.TaskUtils$LoggingErrorHandler[96] org.springframework.mail.MailSendException: Failed messages: javax.mail.SendFailedException: Invalid Addresses;
  nested exception is:
	com.sun.mail.smtp.SMTPAddressFailedException: 554 RCPT (kelvin@jwis.cn) dosn't exist

	at org.springframework.mail.javamail.JavaMailSenderImpl.doSend(JavaMailSenderImpl.java:488)
	at org.springframework.mail.javamail.JavaMailSenderImpl.send(JavaMailSenderImpl.java:359)
	at org.springframework.mail.javamail.JavaMailSenderImpl.send(JavaMailSenderImpl.java:354)
	at cn.jwis.qualityworkflow.util.EmailService.sendHtmlMail(EmailService.java:76)
	at cn.jwis.qualityworkflow.modules.qims.service.imp.QimsSendMailServiceImpl.sendEmailTohandler(QimsSendMailServiceImpl.java:161)
	at cn.jwis.qualityworkflow.modules.ipqc.service.imp.AuditQualityProblemServiceImpl.qimsSendMail(AuditQualityProblemServiceImpl.java:321)
	at cn.jwis.qualityworkflow.modules.ipqc.service.imp.AuditQualityProblemServiceImpl$$FastClassBySpringCGLIB$$15ff325f.invoke(<generated>)
	at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:684)
	at cn.jwis.qualityworkflow.modules.ipqc.service.imp.AuditQualityProblemServiceImpl$$EnhancerBySpringCGLIB$$7c12bff2.qimsSendMail(<generated>)
	at cn.jwis.qualityworkflow.modules.ipqc.job.ipqcMailJob.qimsSendMail(ipqcMailJob.java:28)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.springframework.scheduling.support.ScheduledMethodRunnable.run(ScheduledMethodRunnable.java:84)
	at org.springframework.scheduling.support.DelegatingErrorHandlingRunnable.run(DelegatingErrorHandlingRunnable.java:54)
	at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:511)
	at java.util.concurrent.FutureTask.runAndReset(FutureTask.java:308)
	at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.access$301(ScheduledThreadPoolExecutor.java:180)
	at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:294)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)
 Unexpected error occurred in scheduled task.
2020-11-21 14:42:29.911 INFO  c.j.qualityworkflow.modules.ipqc.job.ipqcMailJob[27]  查询IPQC超时任务
2020-11-21 14:42:29.913 DEBUG c.j.qualityworkflow.dao.TaskRecordMapper.getById[145]  <==      Total: 1
2020-11-21 14:42:29.913 DEBUG c.j.qualityworkflow.dao.CommonMapper.getKeyToName[145]  ==>  Preparing: SELECT * FROM key_to_name 
2020-11-21 14:42:29.913 DEBUG c.j.qualityworkflow.dao.CommonMapper.getKeyToName[145]  ==> Parameters: 
2020-11-21 14:42:29.917 DEBUG c.j.q.dao.TaskRecordMapper.getOverTimeTaskRecord2[145]  ==>  Preparing: SELECT *, HOUR(timediff(now() , create_date)) overTimeNum FROM task_record WHERE template_key = ? AND task_state IS NULL AND HOUR(timediff(now() , create_date)) >= ? 
2020-11-21 14:42:29.917 DEBUG c.j.q.dao.TaskRecordMapper.getOverTimeTaskRecord2[145]  ==> Parameters: IPQCAuditProcess(String), 24(Integer)
2020-11-21 14:42:29.920 DEBUG c.j.qualityworkflow.dao.CommonMapper.getKeyToName[145]  <==      Total: 8
2020-11-21 14:42:29.922 INFO  cn.jwis.qualityworkflow.util.EmailService[71]  haomiao.liu@jwis.cn send a Mail to test@jwis.cn
2020-11-21 14:42:29.927 DEBUG c.j.q.dao.TaskRecordMapper.getOverTimeTaskRecord2[145]  <==      Total: 18
2020-11-21 14:42:29.927 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==>  Preparing: select time from email_history_info where id =? 
2020-11-21 14:42:29.927 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==> Parameters: 1303868320843300864(String)
2020-11-21 14:42:29.935 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  <==      Total: 1
2020-11-21 14:42:29.936 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==>  Preparing: select time from email_history_info where id =? 
2020-11-21 14:42:29.936 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==> Parameters: 1303868347422605312(String)
2020-11-21 14:42:29.944 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  <==      Total: 1
2020-11-21 14:42:29.944 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==>  Preparing: select time from email_history_info where id =? 
2020-11-21 14:42:29.944 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==> Parameters: 1303868393815801856(String)
2020-11-21 14:42:29.951 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  <==      Total: 1
2020-11-21 14:42:29.951 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==>  Preparing: select time from email_history_info where id =? 
2020-11-21 14:42:29.951 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==> Parameters: 1303937438065885184(String)
2020-11-21 14:42:29.960 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  <==      Total: 1
2020-11-21 14:42:29.962 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==>  Preparing: select time from email_history_info where id =? 
2020-11-21 14:42:29.963 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==> Parameters: 1303939538460082176(String)
2020-11-21 14:42:29.969 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  <==      Total: 1
2020-11-21 14:42:29.969 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==>  Preparing: select time from email_history_info where id =? 
2020-11-21 14:42:29.970 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==> Parameters: 1303939599889858560(String)
2020-11-21 14:42:29.977 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  <==      Total: 1
2020-11-21 14:42:29.977 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==>  Preparing: select time from email_history_info where id =? 
2020-11-21 14:42:29.977 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==> Parameters: 1306059696263659520(String)
2020-11-21 14:42:29.985 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  <==      Total: 1
2020-11-21 14:42:29.985 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==>  Preparing: select time from email_history_info where id =? 
2020-11-21 14:42:29.986 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==> Parameters: 1306155886347026432(String)
2020-11-21 14:42:29.994 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  <==      Total: 1
2020-11-21 14:42:29.994 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==>  Preparing: select time from email_history_info where id =? 
2020-11-21 14:42:29.994 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==> Parameters: 1306201167000240128(String)
2020-11-21 14:42:30.001 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  <==      Total: 1
2020-11-21 14:42:30.002 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==>  Preparing: select time from email_history_info where id =? 
2020-11-21 14:42:30.002 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==> Parameters: 1308013106458263552(String)
2020-11-21 14:42:30.010 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  <==      Total: 0
2020-11-21 14:42:30.032 INFO  cn.jwis.qualityworkflow.util.EmailService[142]  kiween email is 
2020-11-21 14:42:30.032 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==>  Preparing: select time from email_history_info where id =? 
2020-11-21 14:42:30.032 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==> Parameters: 1308013110702899200(String)
2020-11-21 14:42:30.041 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  <==      Total: 1
2020-11-21 14:42:30.076 INFO  cn.jwis.qualityworkflow.util.EmailService[142]  qualityadmin email is 
2020-11-21 14:42:30.077 DEBUG cn.jwis.qualityworkflow.dao.UserMapper.getSuperior[145]  ==>  Preparing: select superior from department_mapping where user_account = ? and type = ? limit 0,1 
2020-11-21 14:42:30.077 DEBUG cn.jwis.qualityworkflow.dao.UserMapper.getSuperior[145]  ==> Parameters: qualityadmin(String), COMMON(String)
2020-11-21 14:42:30.113 DEBUG cn.jwis.qualityworkflow.dao.UserMapper.getSuperior[145]  <==      Total: 1
2020-11-21 14:42:30.150 INFO  cn.jwis.qualityworkflow.util.EmailService[142]  qualityadmin email is 
2020-11-21 14:42:30.150 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==>  Preparing: select time from email_history_info where id =? 
2020-11-21 14:42:30.151 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==> Parameters: 1308013113928318976(String)
2020-11-21 14:42:30.175 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  <==      Total: 1
2020-11-21 14:42:30.255 INFO  cn.jwis.qualityworkflow.util.EmailService[142]  qualityadmin email is 
2020-11-21 14:42:30.256 DEBUG cn.jwis.qualityworkflow.dao.UserMapper.getSuperior[145]  ==>  Preparing: select superior from department_mapping where user_account = ? and type = ? limit 0,1 
2020-11-21 14:42:30.256 DEBUG cn.jwis.qualityworkflow.dao.UserMapper.getSuperior[145]  ==> Parameters: qualityadmin(String), COMMON(String)
2020-11-21 14:42:30.282 DEBUG cn.jwis.qualityworkflow.dao.UserMapper.getSuperior[145]  <==      Total: 1
2020-11-21 14:42:30.347 INFO  cn.jwis.qualityworkflow.util.EmailService[142]  qualityadmin email is 
2020-11-21 14:42:30.347 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==>  Preparing: select time from email_history_info where id =? 
2020-11-21 14:42:30.347 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==> Parameters: 1308013116927246336(String)
2020-11-21 14:42:30.355 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  <==      Total: 0
2020-11-21 14:42:30.373 INFO  cn.jwis.qualityworkflow.util.EmailService[142]  kiween email is 
2020-11-21 14:42:30.374 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==>  Preparing: select time from email_history_info where id =? 
2020-11-21 14:42:30.374 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==> Parameters: 1309046852858937344(String)
2020-11-21 14:42:30.381 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  <==      Total: 0
2020-11-21 14:42:30.404 INFO  cn.jwis.qualityworkflow.util.EmailService[142]  codisan email is kelvin@jwis.cn
2020-11-21 14:42:30.404 DEBUG c.j.qualityworkflow.dao.CommonMapper.getKeyToName[145]  ==>  Preparing: SELECT * FROM key_to_name 
2020-11-21 14:42:30.405 DEBUG c.j.qualityworkflow.dao.CommonMapper.getKeyToName[145]  ==> Parameters: 
2020-11-21 14:42:30.412 DEBUG c.j.qualityworkflow.dao.CommonMapper.getKeyToName[145]  <==      Total: 8
2020-11-21 14:42:30.414 INFO  cn.jwis.qualityworkflow.util.EmailService[74]  haomiao.liu@jwis.cn send a Mail to kelvin@jwis.cn fail, because null
2020-11-21 14:42:30.610 ERROR o.s.s.support.TaskUtils$LoggingErrorHandler[96] org.springframework.mail.MailSendException: Failed messages: javax.mail.SendFailedException: Invalid Addresses;
  nested exception is:
	com.sun.mail.smtp.SMTPAddressFailedException: 554 RCPT (test@jwis.cn) dosn't exist
;
  nested exception is:
	com.sun.mail.smtp.SMTPAddressFailedException: 554 RCPT (jian.song@jwis.cn) dosn't exist

	at org.springframework.mail.javamail.JavaMailSenderImpl.doSend(JavaMailSenderImpl.java:488)
	at org.springframework.mail.javamail.JavaMailSenderImpl.send(JavaMailSenderImpl.java:359)
	at org.springframework.mail.javamail.JavaMailSenderImpl.send(JavaMailSenderImpl.java:354)
	at cn.jwis.qualityworkflow.util.EmailService.sendHtmlMail(EmailService.java:76)
	at cn.jwis.qualityworkflow.modules.linequalify.service.imp.LineQualifyServiceImpl.sendEmailTohandler(LineQualifyServiceImpl.java:617)
	at cn.jwis.qualityworkflow.modules.linequalify.service.imp.LineQualifyServiceImpl.sendOverTimeMail(LineQualifyServiceImpl.java:594)
	at cn.jwis.qualityworkflow.modules.linequalify.service.imp.LineQualifyServiceImpl$$FastClassBySpringCGLIB$$4ca6f597.invoke(<generated>)
	at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:684)
	at cn.jwis.qualityworkflow.modules.linequalify.service.imp.LineQualifyServiceImpl$$EnhancerBySpringCGLIB$$c381cc9a.sendOverTimeMail(<generated>)
	at cn.jwis.qualityworkflow.modules.linequalify.job.LineQualifyMailJob.sendOverTimeMail(LineQualifyMailJob.java:30)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.springframework.scheduling.support.ScheduledMethodRunnable.run(ScheduledMethodRunnable.java:84)
	at org.springframework.scheduling.support.DelegatingErrorHandlingRunnable.run(DelegatingErrorHandlingRunnable.java:54)
	at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:511)
	at java.util.concurrent.FutureTask.runAndReset(FutureTask.java:308)
	at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.access$301(ScheduledThreadPoolExecutor.java:180)
	at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:294)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)
 Unexpected error occurred in scheduled task.
2020-11-21 14:42:30.617 DEBUG c.j.q.dao.TaskRecordMapper.getOverTimeTaskRecord[145]  ==>  Preparing: SELECT *, HOUR(timediff(now() , create_date)) overTimeNum FROM task_record WHERE template_key = ? AND task_state IS NULL AND task_name = ? AND HOUR(timediff(now() , create_date)) >= ? 
2020-11-21 14:42:30.617 DEBUG c.j.q.dao.TaskRecordMapper.getOverTimeTaskRecord[145]  ==> Parameters: Line Qualify(String), 文件收集(String), 2(Integer)
2020-11-21 14:42:30.659 DEBUG c.j.q.dao.TaskRecordMapper.getOverTimeTaskRecord[145]  <==      Total: 8
2020-11-21 14:42:30.659 ERROR o.s.s.support.TaskUtils$LoggingErrorHandler[96] org.springframework.mail.MailSendException: Failed messages: javax.mail.SendFailedException: Invalid Addresses;
  nested exception is:
	com.sun.mail.smtp.SMTPAddressFailedException: 554 RCPT (test@jwis.cn) dosn't exist

	at org.springframework.mail.javamail.JavaMailSenderImpl.doSend(JavaMailSenderImpl.java:488)
	at org.springframework.mail.javamail.JavaMailSenderImpl.send(JavaMailSenderImpl.java:359)
	at org.springframework.mail.javamail.JavaMailSenderImpl.send(JavaMailSenderImpl.java:354)
	at cn.jwis.qualityworkflow.util.EmailService.sendHtmlMail(EmailService.java:76)
	at cn.jwis.qualityworkflow.modules.qims.service.imp.QimsSendMailServiceImpl.sendEmailTohandler(QimsSendMailServiceImpl.java:161)
	at cn.jwis.qualityworkflow.modules.qims.service.imp.QimsSendMailServiceImpl.qimsSendMail(QimsSendMailServiceImpl.java:90)
	at cn.jwis.qualityworkflow.modules.qims.job.qimsMailJob.qimsSendMail(qimsMailJob.java:49)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.springframework.scheduling.support.ScheduledMethodRunnable.run(ScheduledMethodRunnable.java:84)
	at org.springframework.scheduling.support.DelegatingErrorHandlingRunnable.run(DelegatingErrorHandlingRunnable.java:54)
	at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:511)
	at java.util.concurrent.FutureTask.runAndReset(FutureTask.java:308)
	at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.access$301(ScheduledThreadPoolExecutor.java:180)
	at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:294)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)
 Unexpected error occurred in scheduled task.
2020-11-21 14:42:30.659 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==>  Preparing: select time from email_history_info where id =? 
2020-11-21 14:42:30.659 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==> Parameters: 1294123945645047808(String)
2020-11-21 14:42:30.672 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  <==      Total: 1
2020-11-21 14:42:30.672 DEBUG c.j.q.m.qims.dao.BlackDashBoardMapper.getHoliday[145]  ==>  Preparing: SELECT DISTINCT date FROM holiday_maintenance WHERE type = '节假日' 
2020-11-21 14:42:30.672 DEBUG c.j.q.m.qims.dao.BlackDashBoardMapper.getHoliday[145]  ==> Parameters: 
2020-11-21 14:42:30.683 DEBUG c.j.q.m.qims.dao.BlackDashBoardMapper.getHoliday[145]  <==      Total: 6
2020-11-21 14:42:30.683 DEBUG c.j.q.m.q.d.B.getWorkOvertimeList[145]  ==>  Preparing: SELECT DISTINCT date FROM holiday_maintenance WHERE type = '补班' 
2020-11-21 14:42:30.683 DEBUG c.j.q.m.q.d.B.getWorkOvertimeList[145]  ==> Parameters: 
2020-11-21 14:42:30.689 DEBUG c.j.q.m.q.d.B.getWorkOvertimeList[145]  <==      Total: 4
2020-11-21 14:42:30.690 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getLtStandard[145]  ==>  Preparing: select * from qims_lt_standard_info 
2020-11-21 14:42:30.690 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getLtStandard[145]  ==> Parameters: 
2020-11-21 14:42:30.701 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getLtStandard[145]  <==      Total: 8
2020-11-21 14:42:30.701 INFO  c.j.qualityworkflow.modules.qims.job.qimsMailJob[47]  查询黑色问题超过LT的信息
2020-11-21 14:42:30.701 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getBlackList[145]  ==>  Preparing: select * from task_record where task_name in('初步原因分析','根本原因分析','根本原因审核') and task_state is null and template_key='QIMSBLACK' 
2020-11-21 14:42:30.701 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getBlackList[145]  ==> Parameters: 
2020-11-21 14:42:30.702 INFO  cn.jwis.qualityworkflow.util.EmailService[142]  dz_gyb1 email is test@jwis.cn
2020-11-21 14:42:30.702 DEBUG cn.jwis.qualityworkflow.dao.UserMapper.getSuperior[145]  ==>  Preparing: select superior from department_mapping where user_account = ? and type = ? limit 0,1 
2020-11-21 14:42:30.702 DEBUG cn.jwis.qualityworkflow.dao.UserMapper.getSuperior[145]  ==> Parameters: dz_gyb1(String), COMMON(String)
2020-11-21 14:42:30.712 DEBUG cn.jwis.qualityworkflow.dao.UserMapper.getSuperior[145]  <==      Total: 1
2020-11-21 14:42:30.713 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getBlackList[145]  <==      Total: 16
2020-11-21 14:42:30.715 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==>  Preparing: select time from email_history_info where id =? 
2020-11-21 14:42:30.715 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==> Parameters: 1286902446076985344(String)
2020-11-21 14:42:30.726 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  <==      Total: 1
2020-11-21 14:42:30.731 INFO  cn.jwis.qualityworkflow.util.EmailService[142]  dz_gyb2 email is jian.song@jwis.cn
2020-11-21 14:42:30.732 DEBUG c.j.qualityworkflow.dao.CommonMapper.getKeyToName[145]  ==>  Preparing: SELECT * FROM key_to_name 
2020-11-21 14:42:30.732 DEBUG c.j.qualityworkflow.dao.CommonMapper.getKeyToName[145]  ==> Parameters: 
2020-11-21 14:42:30.742 DEBUG c.j.qualityworkflow.dao.CommonMapper.getKeyToName[145]  <==      Total: 8
2020-11-21 14:42:30.742 INFO  cn.jwis.qualityworkflow.util.EmailService[142]  hualanlan email is test@jwis.cn
2020-11-21 14:42:30.742 DEBUG cn.jwis.qualityworkflow.dao.UserMapper.getSuperior[145]  ==>  Preparing: select superior from department_mapping where user_account = ? and type = ? limit 0,1 
2020-11-21 14:42:30.742 DEBUG c.j.q.m.l.d.L.getLineQualifyDetailednessInfo[145]  ==>  Preparing: SELECT q.*,ar.processInstanceId ,ar.taskId,ar.assignee,ar.taskState,ar.taskName FROM line_qualify_info q,(SELECT workflow_business_id, process_instance_id as processInstanceId,task_id as taskId,assignee,task_state as taskState,task_name taskName FROM task_record WHERE task_id=?) ar where q.id=ar.workflow_business_id 
2020-11-21 14:42:30.743 DEBUG cn.jwis.qualityworkflow.dao.UserMapper.getSuperior[145]  ==> Parameters: hualanlan(String), QIMS(String)
2020-11-21 14:42:30.743 DEBUG c.j.q.m.l.d.L.getLineQualifyDetailednessInfo[145]  ==> Parameters: 5490632(String)
2020-11-21 14:42:30.756 DEBUG cn.jwis.qualityworkflow.dao.UserMapper.getSuperior[145]  <==      Total: 1
2020-11-21 14:42:30.756 DEBUG c.j.q.dao.UserMapper.getSuperiorManagerByUser[145]  ==>  Preparing: select superior_manager from department_mapping where user_account = ? and type = ? limit 0,1 
2020-11-21 14:42:30.757 DEBUG c.j.q.dao.UserMapper.getSuperiorManagerByUser[145]  ==> Parameters: hualanlan(String), QIMS(String)
2020-11-21 14:42:30.757 DEBUG c.j.q.m.l.d.L.getLineQualifyDetailednessInfo[145]  <==      Total: 1
2020-11-21 14:42:30.758 INFO  cn.jwis.qualityworkflow.util.EmailService[69]  haomiao.liu@jwis.cn send a Mail to test@jwis.cn and make a copy for [jian.song@jwis.cn]
2020-11-21 14:42:30.764 DEBUG c.j.q.dao.UserMapper.getSuperiorManagerByUser[145]  <==      Total: 1
2020-11-21 14:42:30.783 INFO  cn.jwis.qualityworkflow.util.EmailService[142]  workflow3 email is null
2020-11-21 14:42:30.800 INFO  cn.jwis.qualityworkflow.util.EmailService[142]  zhouxianling email is 
2020-11-21 14:42:30.801 DEBUG c.j.qualityworkflow.dao.TaskRecordMapper.getById[145]  ==>  Preparing: SELECT * from task_record WHERE id = ? 
2020-11-21 14:42:30.801 DEBUG c.j.qualityworkflow.dao.TaskRecordMapper.getById[145]  ==> Parameters: 1286902446076985344(String)
2020-11-21 14:42:30.810 DEBUG c.j.qualityworkflow.dao.TaskRecordMapper.getById[145]  <==      Total: 1
2020-11-21 14:42:30.810 DEBUG c.j.qualityworkflow.dao.CommonMapper.getKeyToName[145]  ==>  Preparing: SELECT * FROM key_to_name 
2020-11-21 14:42:30.811 DEBUG c.j.qualityworkflow.dao.CommonMapper.getKeyToName[145]  ==> Parameters: 
2020-11-21 14:42:30.822 DEBUG c.j.qualityworkflow.dao.CommonMapper.getKeyToName[145]  <==      Total: 8
2020-11-21 14:42:30.823 INFO  cn.jwis.qualityworkflow.util.EmailService[71]  haomiao.liu@jwis.cn send a Mail to test@jwis.cn
2020-11-21 14:42:31.023 ERROR o.s.s.support.TaskUtils$LoggingErrorHandler[96] org.springframework.mail.MailSendException: Failed messages: javax.mail.SendFailedException: Invalid Addresses;
  nested exception is:
	com.sun.mail.smtp.SMTPAddressFailedException: 554 RCPT (kelvin@jwis.cn) dosn't exist

	at org.springframework.mail.javamail.JavaMailSenderImpl.doSend(JavaMailSenderImpl.java:488)
	at org.springframework.mail.javamail.JavaMailSenderImpl.send(JavaMailSenderImpl.java:359)
	at org.springframework.mail.javamail.JavaMailSenderImpl.send(JavaMailSenderImpl.java:354)
	at cn.jwis.qualityworkflow.util.EmailService.sendHtmlMail(EmailService.java:76)
	at cn.jwis.qualityworkflow.modules.qims.service.imp.QimsSendMailServiceImpl.sendEmailTohandler(QimsSendMailServiceImpl.java:161)
	at cn.jwis.qualityworkflow.modules.ipqc.service.imp.AuditQualityProblemServiceImpl.qimsSendMail(AuditQualityProblemServiceImpl.java:321)
	at cn.jwis.qualityworkflow.modules.ipqc.service.imp.AuditQualityProblemServiceImpl$$FastClassBySpringCGLIB$$15ff325f.invoke(<generated>)
	at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:684)
	at cn.jwis.qualityworkflow.modules.ipqc.service.imp.AuditQualityProblemServiceImpl$$EnhancerBySpringCGLIB$$7c12bff2.qimsSendMail(<generated>)
	at cn.jwis.qualityworkflow.modules.ipqc.job.ipqcMailJob.qimsSendMail(ipqcMailJob.java:28)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.springframework.scheduling.support.ScheduledMethodRunnable.run(ScheduledMethodRunnable.java:84)
	at org.springframework.scheduling.support.DelegatingErrorHandlingRunnable.run(DelegatingErrorHandlingRunnable.java:54)
	at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:511)
	at java.util.concurrent.FutureTask.runAndReset(FutureTask.java:308)
	at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.access$301(ScheduledThreadPoolExecutor.java:180)
	at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:294)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)
 Unexpected error occurred in scheduled task.
2020-11-21 14:42:31.023 INFO  c.j.qualityworkflow.modules.ipqc.job.ipqcMailJob[27]  查询IPQC超时任务
2020-11-21 14:42:31.033 DEBUG c.j.q.dao.TaskRecordMapper.getOverTimeTaskRecord2[145]  ==>  Preparing: SELECT *, HOUR(timediff(now() , create_date)) overTimeNum FROM task_record WHERE template_key = ? AND task_state IS NULL AND HOUR(timediff(now() , create_date)) >= ? 
2020-11-21 14:42:31.033 DEBUG c.j.q.dao.TaskRecordMapper.getOverTimeTaskRecord2[145]  ==> Parameters: IPQCAuditProcess(String), 24(Integer)
2020-11-21 14:42:31.043 DEBUG c.j.q.dao.TaskRecordMapper.getOverTimeTaskRecord2[145]  <==      Total: 18
2020-11-21 14:42:31.043 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==>  Preparing: select time from email_history_info where id =? 
2020-11-21 14:42:31.044 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==> Parameters: 1303868320843300864(String)
2020-11-21 14:42:31.054 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  <==      Total: 1
2020-11-21 14:42:31.055 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==>  Preparing: select time from email_history_info where id =? 
2020-11-21 14:42:31.055 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==> Parameters: 1303868347422605312(String)
2020-11-21 14:42:31.080 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  <==      Total: 1
2020-11-21 14:42:31.080 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==>  Preparing: select time from email_history_info where id =? 
2020-11-21 14:42:31.080 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==> Parameters: 1303868393815801856(String)
2020-11-21 14:42:31.086 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  <==      Total: 1
2020-11-21 14:42:31.087 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==>  Preparing: select time from email_history_info where id =? 
2020-11-21 14:42:31.088 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==> Parameters: 1303937438065885184(String)
2020-11-21 14:42:31.097 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  <==      Total: 1
2020-11-21 14:42:31.097 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==>  Preparing: select time from email_history_info where id =? 
2020-11-21 14:42:31.098 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==> Parameters: 1303939538460082176(String)
2020-11-21 14:42:31.109 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  <==      Total: 1
2020-11-21 14:42:31.110 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==>  Preparing: select time from email_history_info where id =? 
2020-11-21 14:42:31.110 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==> Parameters: 1303939599889858560(String)
2020-11-21 14:42:31.116 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  <==      Total: 1
2020-11-21 14:42:31.116 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==>  Preparing: select time from email_history_info where id =? 
2020-11-21 14:42:31.116 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==> Parameters: 1306059696263659520(String)
2020-11-21 14:42:31.128 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  <==      Total: 1
2020-11-21 14:42:31.128 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==>  Preparing: select time from email_history_info where id =? 
2020-11-21 14:42:31.128 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==> Parameters: 1306155886347026432(String)
2020-11-21 14:42:31.138 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  <==      Total: 1
2020-11-21 14:42:31.139 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==>  Preparing: select time from email_history_info where id =? 
2020-11-21 14:42:31.139 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==> Parameters: 1306201167000240128(String)
2020-11-21 14:42:31.146 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  <==      Total: 1
2020-11-21 14:42:31.146 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==>  Preparing: select time from email_history_info where id =? 
2020-11-21 14:42:31.146 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==> Parameters: 1308013106458263552(String)
2020-11-21 14:42:31.153 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  <==      Total: 0
2020-11-21 14:42:31.173 INFO  cn.jwis.qualityworkflow.util.EmailService[142]  kiween email is 
2020-11-21 14:42:31.173 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==>  Preparing: select time from email_history_info where id =? 
2020-11-21 14:42:31.174 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==> Parameters: 1308013110702899200(String)
2020-11-21 14:42:31.183 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  <==      Total: 1
2020-11-21 14:42:31.205 INFO  cn.jwis.qualityworkflow.util.EmailService[142]  qualityadmin email is 
2020-11-21 14:42:31.206 DEBUG cn.jwis.qualityworkflow.dao.UserMapper.getSuperior[145]  ==>  Preparing: select superior from department_mapping where user_account = ? and type = ? limit 0,1 
2020-11-21 14:42:31.206 DEBUG cn.jwis.qualityworkflow.dao.UserMapper.getSuperior[145]  ==> Parameters: qualityadmin(String), COMMON(String)
2020-11-21 14:42:31.215 DEBUG cn.jwis.qualityworkflow.dao.UserMapper.getSuperior[145]  <==      Total: 1
2020-11-21 14:42:31.236 INFO  cn.jwis.qualityworkflow.util.EmailService[142]  qualityadmin email is 
2020-11-21 14:42:31.236 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==>  Preparing: select time from email_history_info where id =? 
2020-11-21 14:42:31.236 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==> Parameters: 1308013113928318976(String)
2020-11-21 14:42:31.244 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  <==      Total: 1
2020-11-21 14:42:31.263 INFO  cn.jwis.qualityworkflow.util.EmailService[142]  qualityadmin email is 
2020-11-21 14:42:31.264 DEBUG cn.jwis.qualityworkflow.dao.UserMapper.getSuperior[145]  ==>  Preparing: select superior from department_mapping where user_account = ? and type = ? limit 0,1 
2020-11-21 14:42:31.264 DEBUG cn.jwis.qualityworkflow.dao.UserMapper.getSuperior[145]  ==> Parameters: qualityadmin(String), COMMON(String)
2020-11-21 14:42:31.280 DEBUG cn.jwis.qualityworkflow.dao.UserMapper.getSuperior[145]  <==      Total: 1
2020-11-21 14:42:31.299 INFO  cn.jwis.qualityworkflow.util.EmailService[142]  qualityadmin email is 
2020-11-21 14:42:31.299 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==>  Preparing: select time from email_history_info where id =? 
2020-11-21 14:42:31.299 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==> Parameters: 1308013116927246336(String)
2020-11-21 14:42:31.306 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  <==      Total: 0
2020-11-21 14:42:31.325 INFO  cn.jwis.qualityworkflow.util.EmailService[142]  kiween email is 
2020-11-21 14:42:31.325 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==>  Preparing: select time from email_history_info where id =? 
2020-11-21 14:42:31.325 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==> Parameters: 1309046852858937344(String)
2020-11-21 14:42:31.334 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  <==      Total: 0
2020-11-21 14:42:31.385 INFO  cn.jwis.qualityworkflow.util.EmailService[142]  codisan email is kelvin@jwis.cn
2020-11-21 14:42:31.386 DEBUG c.j.qualityworkflow.dao.CommonMapper.getKeyToName[145]  ==>  Preparing: SELECT * FROM key_to_name 
2020-11-21 14:42:31.386 DEBUG c.j.qualityworkflow.dao.CommonMapper.getKeyToName[145]  ==> Parameters: 
2020-11-21 14:42:31.393 DEBUG c.j.qualityworkflow.dao.CommonMapper.getKeyToName[145]  <==      Total: 8
2020-11-21 14:42:31.394 INFO  cn.jwis.qualityworkflow.util.EmailService[74]  haomiao.liu@jwis.cn send a Mail to kelvin@jwis.cn fail, because null
2020-11-21 14:42:31.412 ERROR o.s.s.support.TaskUtils$LoggingErrorHandler[96] org.springframework.mail.MailSendException: Failed messages: javax.mail.SendFailedException: Invalid Addresses;
  nested exception is:
	com.sun.mail.smtp.SMTPAddressFailedException: 554 RCPT (test@jwis.cn) dosn't exist

	at org.springframework.mail.javamail.JavaMailSenderImpl.doSend(JavaMailSenderImpl.java:488)
	at org.springframework.mail.javamail.JavaMailSenderImpl.send(JavaMailSenderImpl.java:359)
	at org.springframework.mail.javamail.JavaMailSenderImpl.send(JavaMailSenderImpl.java:354)
	at cn.jwis.qualityworkflow.util.EmailService.sendHtmlMail(EmailService.java:76)
	at cn.jwis.qualityworkflow.modules.qims.service.imp.QimsSendMailServiceImpl.sendEmailTohandler(QimsSendMailServiceImpl.java:161)
	at cn.jwis.qualityworkflow.modules.qims.service.imp.QimsSendMailServiceImpl.qimsSendMail(QimsSendMailServiceImpl.java:90)
	at cn.jwis.qualityworkflow.modules.qims.job.qimsMailJob.qimsSendMail(qimsMailJob.java:49)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.springframework.scheduling.support.ScheduledMethodRunnable.run(ScheduledMethodRunnable.java:84)
	at org.springframework.scheduling.support.DelegatingErrorHandlingRunnable.run(DelegatingErrorHandlingRunnable.java:54)
	at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:511)
	at java.util.concurrent.FutureTask.runAndReset(FutureTask.java:308)
	at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.access$301(ScheduledThreadPoolExecutor.java:180)
	at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:294)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)
 Unexpected error occurred in scheduled task.
2020-11-21 14:42:31.418 DEBUG c.j.q.m.qims.dao.BlackDashBoardMapper.getHoliday[145]  ==>  Preparing: SELECT DISTINCT date FROM holiday_maintenance WHERE type = '节假日' 
2020-11-21 14:42:31.419 DEBUG c.j.q.m.qims.dao.BlackDashBoardMapper.getHoliday[145]  ==> Parameters: 
2020-11-21 14:42:31.423 ERROR o.s.s.support.TaskUtils$LoggingErrorHandler[96] org.springframework.mail.MailSendException: Failed messages: javax.mail.SendFailedException: Invalid Addresses;
  nested exception is:
	com.sun.mail.smtp.SMTPAddressFailedException: 554 RCPT (test@jwis.cn) dosn't exist
;
  nested exception is:
	com.sun.mail.smtp.SMTPAddressFailedException: 554 RCPT (jian.song@jwis.cn) dosn't exist

	at org.springframework.mail.javamail.JavaMailSenderImpl.doSend(JavaMailSenderImpl.java:488)
	at org.springframework.mail.javamail.JavaMailSenderImpl.send(JavaMailSenderImpl.java:359)
	at org.springframework.mail.javamail.JavaMailSenderImpl.send(JavaMailSenderImpl.java:354)
	at cn.jwis.qualityworkflow.util.EmailService.sendHtmlMail(EmailService.java:76)
	at cn.jwis.qualityworkflow.modules.linequalify.service.imp.LineQualifyServiceImpl.sendEmailTohandler(LineQualifyServiceImpl.java:617)
	at cn.jwis.qualityworkflow.modules.linequalify.service.imp.LineQualifyServiceImpl.sendOverTimeMail(LineQualifyServiceImpl.java:594)
	at cn.jwis.qualityworkflow.modules.linequalify.service.imp.LineQualifyServiceImpl$$FastClassBySpringCGLIB$$4ca6f597.invoke(<generated>)
	at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:684)
	at cn.jwis.qualityworkflow.modules.linequalify.service.imp.LineQualifyServiceImpl$$EnhancerBySpringCGLIB$$c381cc9a.sendOverTimeMail(<generated>)
	at cn.jwis.qualityworkflow.modules.linequalify.job.LineQualifyMailJob.sendOverTimeMail(LineQualifyMailJob.java:30)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.springframework.scheduling.support.ScheduledMethodRunnable.run(ScheduledMethodRunnable.java:84)
	at org.springframework.scheduling.support.DelegatingErrorHandlingRunnable.run(DelegatingErrorHandlingRunnable.java:54)
	at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:511)
	at java.util.concurrent.FutureTask.runAndReset(FutureTask.java:308)
	at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.access$301(ScheduledThreadPoolExecutor.java:180)
	at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:294)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)
 Unexpected error occurred in scheduled task.
2020-11-21 14:42:31.427 DEBUG c.j.q.m.qims.dao.BlackDashBoardMapper.getHoliday[145]  <==      Total: 6
2020-11-21 14:42:31.427 DEBUG c.j.q.m.q.d.B.getWorkOvertimeList[145]  ==>  Preparing: SELECT DISTINCT date FROM holiday_maintenance WHERE type = '补班' 
2020-11-21 14:42:31.427 DEBUG c.j.q.m.q.d.B.getWorkOvertimeList[145]  ==> Parameters: 
2020-11-21 14:42:31.435 DEBUG c.j.q.dao.TaskRecordMapper.getOverTimeTaskRecord[145]  ==>  Preparing: SELECT *, HOUR(timediff(now() , create_date)) overTimeNum FROM task_record WHERE template_key = ? AND task_state IS NULL AND task_name = ? AND HOUR(timediff(now() , create_date)) >= ? 
2020-11-21 14:42:31.436 DEBUG c.j.q.dao.TaskRecordMapper.getOverTimeTaskRecord[145]  ==> Parameters: Line Qualify(String), 文件收集(String), 2(Integer)
2020-11-21 14:42:31.436 DEBUG c.j.q.m.q.d.B.getWorkOvertimeList[145]  <==      Total: 4
2020-11-21 14:42:31.436 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getLtStandard[145]  ==>  Preparing: select * from qims_lt_standard_info 
2020-11-21 14:42:31.436 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getLtStandard[145]  ==> Parameters: 
2020-11-21 14:42:31.507 DEBUG c.j.q.dao.TaskRecordMapper.getOverTimeTaskRecord[145]  <==      Total: 8
2020-11-21 14:42:31.508 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==>  Preparing: select time from email_history_info where id =? 
2020-11-21 14:42:31.508 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==> Parameters: 1294123945645047808(String)
2020-11-21 14:42:31.523 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getLtStandard[145]  <==      Total: 8
2020-11-21 14:42:31.523 INFO  c.j.qualityworkflow.modules.qims.job.qimsMailJob[47]  查询黑色问题超过LT的信息
2020-11-21 14:42:31.523 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getBlackList[145]  ==>  Preparing: select * from task_record where task_name in('初步原因分析','根本原因分析','根本原因审核') and task_state is null and template_key='QIMSBLACK' 
2020-11-21 14:42:31.524 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getBlackList[145]  ==> Parameters: 
2020-11-21 14:42:31.538 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  <==      Total: 1
2020-11-21 14:42:31.539 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getBlackList[145]  <==      Total: 16
2020-11-21 14:42:31.541 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==>  Preparing: select time from email_history_info where id =? 
2020-11-21 14:42:31.541 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==> Parameters: 1286902446076985344(String)
2020-11-21 14:42:31.546 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  <==      Total: 1
2020-11-21 14:42:31.564 INFO  cn.jwis.qualityworkflow.util.EmailService[142]  dz_gyb1 email is test@jwis.cn
2020-11-21 14:42:31.564 DEBUG cn.jwis.qualityworkflow.dao.UserMapper.getSuperior[145]  ==>  Preparing: select superior from department_mapping where user_account = ? and type = ? limit 0,1 
2020-11-21 14:42:31.565 DEBUG cn.jwis.qualityworkflow.dao.UserMapper.getSuperior[145]  ==> Parameters: dz_gyb1(String), COMMON(String)
2020-11-21 14:42:31.566 INFO  cn.jwis.qualityworkflow.util.EmailService[142]  hualanlan email is test@jwis.cn
2020-11-21 14:42:31.566 DEBUG cn.jwis.qualityworkflow.dao.UserMapper.getSuperior[145]  ==>  Preparing: select superior from department_mapping where user_account = ? and type = ? limit 0,1 
2020-11-21 14:42:31.567 DEBUG cn.jwis.qualityworkflow.dao.UserMapper.getSuperior[145]  ==> Parameters: hualanlan(String), QIMS(String)
2020-11-21 14:42:31.577 DEBUG cn.jwis.qualityworkflow.dao.UserMapper.getSuperior[145]  <==      Total: 1
2020-11-21 14:42:31.577 DEBUG cn.jwis.qualityworkflow.dao.UserMapper.getSuperior[145]  <==      Total: 1
2020-11-21 14:42:31.577 DEBUG c.j.q.dao.UserMapper.getSuperiorManagerByUser[145]  ==>  Preparing: select superior_manager from department_mapping where user_account = ? and type = ? limit 0,1 
2020-11-21 14:42:31.577 DEBUG c.j.q.dao.UserMapper.getSuperiorManagerByUser[145]  ==> Parameters: hualanlan(String), QIMS(String)
2020-11-21 14:42:31.587 DEBUG c.j.q.dao.UserMapper.getSuperiorManagerByUser[145]  <==      Total: 1
2020-11-21 14:42:31.598 INFO  cn.jwis.qualityworkflow.util.EmailService[142]  dz_gyb2 email is jian.song@jwis.cn
2020-11-21 14:42:31.598 DEBUG c.j.qualityworkflow.dao.CommonMapper.getKeyToName[145]  ==>  Preparing: SELECT * FROM key_to_name 
2020-11-21 14:42:31.599 DEBUG c.j.qualityworkflow.dao.CommonMapper.getKeyToName[145]  ==> Parameters: 
2020-11-21 14:42:31.605 INFO  cn.jwis.qualityworkflow.util.EmailService[142]  workflow3 email is null
2020-11-21 14:42:31.605 DEBUG c.j.qualityworkflow.dao.CommonMapper.getKeyToName[145]  <==      Total: 8
2020-11-21 14:42:31.605 DEBUG c.j.q.m.l.d.L.getLineQualifyDetailednessInfo[145]  ==>  Preparing: SELECT q.*,ar.processInstanceId ,ar.taskId,ar.assignee,ar.taskState,ar.taskName FROM line_qualify_info q,(SELECT workflow_business_id, process_instance_id as processInstanceId,task_id as taskId,assignee,task_state as taskState,task_name taskName FROM task_record WHERE task_id=?) ar where q.id=ar.workflow_business_id 
2020-11-21 14:42:31.606 DEBUG c.j.q.m.l.d.L.getLineQualifyDetailednessInfo[145]  ==> Parameters: 5490632(String)
2020-11-21 14:42:31.616 DEBUG c.j.q.m.l.d.L.getLineQualifyDetailednessInfo[145]  <==      Total: 1
2020-11-21 14:42:31.617 INFO  cn.jwis.qualityworkflow.util.EmailService[69]  haomiao.liu@jwis.cn send a Mail to test@jwis.cn and make a copy for [jian.song@jwis.cn]
2020-11-21 14:42:31.623 INFO  cn.jwis.qualityworkflow.util.EmailService[142]  zhouxianling email is 
2020-11-21 14:42:31.623 DEBUG c.j.qualityworkflow.dao.TaskRecordMapper.getById[145]  ==>  Preparing: SELECT * from task_record WHERE id = ? 
2020-11-21 14:42:31.623 DEBUG c.j.qualityworkflow.dao.TaskRecordMapper.getById[145]  ==> Parameters: 1286902446076985344(String)
2020-11-21 14:42:31.631 DEBUG c.j.qualityworkflow.dao.TaskRecordMapper.getById[145]  <==      Total: 1
2020-11-21 14:42:31.631 DEBUG c.j.qualityworkflow.dao.CommonMapper.getKeyToName[145]  ==>  Preparing: SELECT * FROM key_to_name 
2020-11-21 14:42:31.631 DEBUG c.j.qualityworkflow.dao.CommonMapper.getKeyToName[145]  ==> Parameters: 
2020-11-21 14:42:31.640 DEBUG c.j.qualityworkflow.dao.CommonMapper.getKeyToName[145]  <==      Total: 8
2020-11-21 14:42:31.641 INFO  cn.jwis.qualityworkflow.util.EmailService[71]  haomiao.liu@jwis.cn send a Mail to test@jwis.cn
2020-11-21 14:42:32.061 ERROR o.s.s.support.TaskUtils$LoggingErrorHandler[96] org.springframework.mail.MailSendException: Failed messages: javax.mail.SendFailedException: Invalid Addresses;
  nested exception is:
	com.sun.mail.smtp.SMTPAddressFailedException: 554 RCPT (kelvin@jwis.cn) dosn't exist

	at org.springframework.mail.javamail.JavaMailSenderImpl.doSend(JavaMailSenderImpl.java:488)
	at org.springframework.mail.javamail.JavaMailSenderImpl.send(JavaMailSenderImpl.java:359)
	at org.springframework.mail.javamail.JavaMailSenderImpl.send(JavaMailSenderImpl.java:354)
	at cn.jwis.qualityworkflow.util.EmailService.sendHtmlMail(EmailService.java:76)
	at cn.jwis.qualityworkflow.modules.qims.service.imp.QimsSendMailServiceImpl.sendEmailTohandler(QimsSendMailServiceImpl.java:161)
	at cn.jwis.qualityworkflow.modules.ipqc.service.imp.AuditQualityProblemServiceImpl.qimsSendMail(AuditQualityProblemServiceImpl.java:321)
	at cn.jwis.qualityworkflow.modules.ipqc.service.imp.AuditQualityProblemServiceImpl$$FastClassBySpringCGLIB$$15ff325f.invoke(<generated>)
	at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:684)
	at cn.jwis.qualityworkflow.modules.ipqc.service.imp.AuditQualityProblemServiceImpl$$EnhancerBySpringCGLIB$$7c12bff2.qimsSendMail(<generated>)
	at cn.jwis.qualityworkflow.modules.ipqc.job.ipqcMailJob.qimsSendMail(ipqcMailJob.java:28)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.springframework.scheduling.support.ScheduledMethodRunnable.run(ScheduledMethodRunnable.java:84)
	at org.springframework.scheduling.support.DelegatingErrorHandlingRunnable.run(DelegatingErrorHandlingRunnable.java:54)
	at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:511)
	at java.util.concurrent.FutureTask.runAndReset(FutureTask.java:308)
	at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.access$301(ScheduledThreadPoolExecutor.java:180)
	at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:294)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)
 Unexpected error occurred in scheduled task.
2020-11-21 14:42:32.061 INFO  c.j.qualityworkflow.modules.ipqc.job.ipqcMailJob[27]  查询IPQC超时任务
2020-11-21 14:42:32.070 DEBUG c.j.q.dao.TaskRecordMapper.getOverTimeTaskRecord2[145]  ==>  Preparing: SELECT *, HOUR(timediff(now() , create_date)) overTimeNum FROM task_record WHERE template_key = ? AND task_state IS NULL AND HOUR(timediff(now() , create_date)) >= ? 
2020-11-21 14:42:32.070 DEBUG c.j.q.dao.TaskRecordMapper.getOverTimeTaskRecord2[145]  ==> Parameters: IPQCAuditProcess(String), 24(Integer)
2020-11-21 14:42:32.083 DEBUG c.j.q.dao.TaskRecordMapper.getOverTimeTaskRecord2[145]  <==      Total: 18
2020-11-21 14:42:32.083 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==>  Preparing: select time from email_history_info where id =? 
2020-11-21 14:42:32.084 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==> Parameters: 1303868320843300864(String)
2020-11-21 14:42:32.092 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  <==      Total: 1
2020-11-21 14:42:32.093 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==>  Preparing: select time from email_history_info where id =? 
2020-11-21 14:42:32.093 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==> Parameters: 1303868347422605312(String)
2020-11-21 14:42:32.102 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  <==      Total: 1
2020-11-21 14:42:32.103 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==>  Preparing: select time from email_history_info where id =? 
2020-11-21 14:42:32.103 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==> Parameters: 1303868393815801856(String)
2020-11-21 14:42:32.112 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  <==      Total: 1
2020-11-21 14:42:32.112 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==>  Preparing: select time from email_history_info where id =? 
2020-11-21 14:42:32.112 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==> Parameters: 1303937438065885184(String)
2020-11-21 14:42:32.120 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  <==      Total: 1
2020-11-21 14:42:32.120 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==>  Preparing: select time from email_history_info where id =? 
2020-11-21 14:42:32.120 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==> Parameters: 1303939538460082176(String)
2020-11-21 14:42:32.126 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  <==      Total: 1
2020-11-21 14:42:32.127 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==>  Preparing: select time from email_history_info where id =? 
2020-11-21 14:42:32.127 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==> Parameters: 1303939599889858560(String)
2020-11-21 14:42:32.134 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  <==      Total: 1
2020-11-21 14:42:32.134 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==>  Preparing: select time from email_history_info where id =? 
2020-11-21 14:42:32.134 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==> Parameters: 1306059696263659520(String)
2020-11-21 14:42:32.141 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  <==      Total: 1
2020-11-21 14:42:32.142 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==>  Preparing: select time from email_history_info where id =? 
2020-11-21 14:42:32.142 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==> Parameters: 1306155886347026432(String)
2020-11-21 14:42:32.152 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  <==      Total: 1
2020-11-21 14:42:32.153 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==>  Preparing: select time from email_history_info where id =? 
2020-11-21 14:42:32.153 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==> Parameters: 1306201167000240128(String)
2020-11-21 14:42:32.159 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  <==      Total: 1
2020-11-21 14:42:32.159 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==>  Preparing: select time from email_history_info where id =? 
2020-11-21 14:42:32.159 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==> Parameters: 1308013106458263552(String)
2020-11-21 14:42:32.165 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  <==      Total: 0
2020-11-21 14:42:32.188 INFO  cn.jwis.qualityworkflow.util.EmailService[142]  kiween email is 
2020-11-21 14:42:32.189 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==>  Preparing: select time from email_history_info where id =? 
2020-11-21 14:42:32.189 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==> Parameters: 1308013110702899200(String)
2020-11-21 14:42:32.196 ERROR o.s.s.support.TaskUtils$LoggingErrorHandler[96] org.springframework.mail.MailSendException: Failed messages: javax.mail.SendFailedException: Invalid Addresses;
  nested exception is:
	com.sun.mail.smtp.SMTPAddressFailedException: 554 RCPT (test@jwis.cn) dosn't exist
;
  nested exception is:
	com.sun.mail.smtp.SMTPAddressFailedException: 554 RCPT (jian.song@jwis.cn) dosn't exist

	at org.springframework.mail.javamail.JavaMailSenderImpl.doSend(JavaMailSenderImpl.java:488)
	at org.springframework.mail.javamail.JavaMailSenderImpl.send(JavaMailSenderImpl.java:359)
	at org.springframework.mail.javamail.JavaMailSenderImpl.send(JavaMailSenderImpl.java:354)
	at cn.jwis.qualityworkflow.util.EmailService.sendHtmlMail(EmailService.java:76)
	at cn.jwis.qualityworkflow.modules.linequalify.service.imp.LineQualifyServiceImpl.sendEmailTohandler(LineQualifyServiceImpl.java:617)
	at cn.jwis.qualityworkflow.modules.linequalify.service.imp.LineQualifyServiceImpl.sendOverTimeMail(LineQualifyServiceImpl.java:594)
	at cn.jwis.qualityworkflow.modules.linequalify.service.imp.LineQualifyServiceImpl$$FastClassBySpringCGLIB$$4ca6f597.invoke(<generated>)
	at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:684)
	at cn.jwis.qualityworkflow.modules.linequalify.service.imp.LineQualifyServiceImpl$$EnhancerBySpringCGLIB$$c381cc9a.sendOverTimeMail(<generated>)
	at cn.jwis.qualityworkflow.modules.linequalify.job.LineQualifyMailJob.sendOverTimeMail(LineQualifyMailJob.java:30)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.springframework.scheduling.support.ScheduledMethodRunnable.run(ScheduledMethodRunnable.java:84)
	at org.springframework.scheduling.support.DelegatingErrorHandlingRunnable.run(DelegatingErrorHandlingRunnable.java:54)
	at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:511)
	at java.util.concurrent.FutureTask.runAndReset(FutureTask.java:308)
	at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.access$301(ScheduledThreadPoolExecutor.java:180)
	at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:294)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)
 Unexpected error occurred in scheduled task.
2020-11-21 14:42:32.201 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  <==      Total: 1
2020-11-21 14:42:32.204 DEBUG c.j.q.dao.TaskRecordMapper.getOverTimeTaskRecord[145]  ==>  Preparing: SELECT *, HOUR(timediff(now() , create_date)) overTimeNum FROM task_record WHERE template_key = ? AND task_state IS NULL AND task_name = ? AND HOUR(timediff(now() , create_date)) >= ? 
2020-11-21 14:42:32.205 DEBUG c.j.q.dao.TaskRecordMapper.getOverTimeTaskRecord[145]  ==> Parameters: Line Qualify(String), 文件收集(String), 2(Integer)
2020-11-21 14:42:32.220 INFO  cn.jwis.qualityworkflow.util.EmailService[142]  qualityadmin email is 
2020-11-21 14:42:32.221 DEBUG cn.jwis.qualityworkflow.dao.UserMapper.getSuperior[145]  ==>  Preparing: select superior from department_mapping where user_account = ? and type = ? limit 0,1 
2020-11-21 14:42:32.221 DEBUG cn.jwis.qualityworkflow.dao.UserMapper.getSuperior[145]  ==> Parameters: qualityadmin(String), COMMON(String)
2020-11-21 14:42:32.228 ERROR o.s.s.support.TaskUtils$LoggingErrorHandler[96] org.springframework.mail.MailSendException: Failed messages: javax.mail.SendFailedException: Invalid Addresses;
  nested exception is:
	com.sun.mail.smtp.SMTPAddressFailedException: 554 RCPT (test@jwis.cn) dosn't exist

	at org.springframework.mail.javamail.JavaMailSenderImpl.doSend(JavaMailSenderImpl.java:488)
	at org.springframework.mail.javamail.JavaMailSenderImpl.send(JavaMailSenderImpl.java:359)
	at org.springframework.mail.javamail.JavaMailSenderImpl.send(JavaMailSenderImpl.java:354)
	at cn.jwis.qualityworkflow.util.EmailService.sendHtmlMail(EmailService.java:76)
	at cn.jwis.qualityworkflow.modules.qims.service.imp.QimsSendMailServiceImpl.sendEmailTohandler(QimsSendMailServiceImpl.java:161)
	at cn.jwis.qualityworkflow.modules.qims.service.imp.QimsSendMailServiceImpl.qimsSendMail(QimsSendMailServiceImpl.java:90)
	at cn.jwis.qualityworkflow.modules.qims.job.qimsMailJob.qimsSendMail(qimsMailJob.java:49)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.springframework.scheduling.support.ScheduledMethodRunnable.run(ScheduledMethodRunnable.java:84)
	at org.springframework.scheduling.support.DelegatingErrorHandlingRunnable.run(DelegatingErrorHandlingRunnable.java:54)
	at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:511)
	at java.util.concurrent.FutureTask.runAndReset(FutureTask.java:308)
	at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.access$301(ScheduledThreadPoolExecutor.java:180)
	at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:294)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)
 Unexpected error occurred in scheduled task.
2020-11-21 14:42:32.234 DEBUG c.j.q.m.qims.dao.BlackDashBoardMapper.getHoliday[145]  ==>  Preparing: SELECT DISTINCT date FROM holiday_maintenance WHERE type = '节假日' 
2020-11-21 14:42:32.235 DEBUG c.j.q.m.qims.dao.BlackDashBoardMapper.getHoliday[145]  ==> Parameters: 
2020-11-21 14:42:32.292 DEBUG cn.jwis.qualityworkflow.dao.UserMapper.getSuperior[145]  <==      Total: 1
2020-11-21 14:42:32.292 DEBUG c.j.q.m.qims.dao.BlackDashBoardMapper.getHoliday[145]  <==      Total: 6
2020-11-21 14:42:32.292 DEBUG c.j.q.m.q.d.B.getWorkOvertimeList[145]  ==>  Preparing: SELECT DISTINCT date FROM holiday_maintenance WHERE type = '补班' 
2020-11-21 14:42:32.292 DEBUG c.j.q.m.q.d.B.getWorkOvertimeList[145]  ==> Parameters: 
2020-11-21 14:42:32.295 DEBUG c.j.q.dao.TaskRecordMapper.getOverTimeTaskRecord[145]  <==      Total: 8
2020-11-21 14:42:32.295 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==>  Preparing: select time from email_history_info where id =? 
2020-11-21 14:42:32.295 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==> Parameters: 1294123945645047808(String)
2020-11-21 14:42:32.306 DEBUG c.j.q.m.q.d.B.getWorkOvertimeList[145]  <==      Total: 4
2020-11-21 14:42:32.307 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getLtStandard[145]  ==>  Preparing: select * from qims_lt_standard_info 
2020-11-21 14:42:32.307 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getLtStandard[145]  ==> Parameters: 
2020-11-21 14:42:32.309 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  <==      Total: 1
2020-11-21 14:42:32.315 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getLtStandard[145]  <==      Total: 8
2020-11-21 14:42:32.316 INFO  c.j.qualityworkflow.modules.qims.job.qimsMailJob[47]  查询黑色问题超过LT的信息
2020-11-21 14:42:32.316 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getBlackList[145]  ==>  Preparing: select * from task_record where task_name in('初步原因分析','根本原因分析','根本原因审核') and task_state is null and template_key='QIMSBLACK' 
2020-11-21 14:42:32.316 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getBlackList[145]  ==> Parameters: 
2020-11-21 14:42:32.319 INFO  cn.jwis.qualityworkflow.util.EmailService[142]  qualityadmin email is 
2020-11-21 14:42:32.320 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==>  Preparing: select time from email_history_info where id =? 
2020-11-21 14:42:32.320 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==> Parameters: 1308013113928318976(String)
2020-11-21 14:42:32.330 INFO  cn.jwis.qualityworkflow.util.EmailService[142]  dz_gyb1 email is test@jwis.cn
2020-11-21 14:42:32.331 DEBUG cn.jwis.qualityworkflow.dao.UserMapper.getSuperior[145]  ==>  Preparing: select superior from department_mapping where user_account = ? and type = ? limit 0,1 
2020-11-21 14:42:32.331 DEBUG cn.jwis.qualityworkflow.dao.UserMapper.getSuperior[145]  ==> Parameters: dz_gyb1(String), COMMON(String)
2020-11-21 14:42:32.421 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  <==      Total: 1
2020-11-21 14:42:32.421 DEBUG cn.jwis.qualityworkflow.dao.UserMapper.getSuperior[145]  <==      Total: 1
2020-11-21 14:42:32.426 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getBlackList[145]  <==      Total: 16
2020-11-21 14:42:32.428 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==>  Preparing: select time from email_history_info where id =? 
2020-11-21 14:42:32.428 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==> Parameters: 1286902446076985344(String)
2020-11-21 14:42:32.434 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  <==      Total: 1
2020-11-21 14:42:32.445 INFO  cn.jwis.qualityworkflow.util.EmailService[142]  qualityadmin email is 
2020-11-21 14:42:32.445 INFO  cn.jwis.qualityworkflow.util.EmailService[142]  dz_gyb2 email is jian.song@jwis.cn
2020-11-21 14:42:32.445 DEBUG cn.jwis.qualityworkflow.dao.UserMapper.getSuperior[145]  ==>  Preparing: select superior from department_mapping where user_account = ? and type = ? limit 0,1 
2020-11-21 14:42:32.445 DEBUG c.j.qualityworkflow.dao.CommonMapper.getKeyToName[145]  ==>  Preparing: SELECT * FROM key_to_name 
2020-11-21 14:42:32.445 DEBUG c.j.qualityworkflow.dao.CommonMapper.getKeyToName[145]  ==> Parameters: 
2020-11-21 14:42:32.445 DEBUG cn.jwis.qualityworkflow.dao.UserMapper.getSuperior[145]  ==> Parameters: qualityadmin(String), COMMON(String)
2020-11-21 14:42:32.451 INFO  cn.jwis.qualityworkflow.util.EmailService[142]  hualanlan email is test@jwis.cn
2020-11-21 14:42:32.452 DEBUG cn.jwis.qualityworkflow.dao.UserMapper.getSuperior[145]  ==>  Preparing: select superior from department_mapping where user_account = ? and type = ? limit 0,1 
2020-11-21 14:42:32.452 DEBUG cn.jwis.qualityworkflow.dao.UserMapper.getSuperior[145]  ==> Parameters: hualanlan(String), QIMS(String)
2020-11-21 14:42:32.454 DEBUG c.j.qualityworkflow.dao.CommonMapper.getKeyToName[145]  <==      Total: 8
2020-11-21 14:42:32.455 DEBUG cn.jwis.qualityworkflow.dao.UserMapper.getSuperior[145]  <==      Total: 1
2020-11-21 14:42:32.455 DEBUG c.j.q.m.l.d.L.getLineQualifyDetailednessInfo[145]  ==>  Preparing: SELECT q.*,ar.processInstanceId ,ar.taskId,ar.assignee,ar.taskState,ar.taskName FROM line_qualify_info q,(SELECT workflow_business_id, process_instance_id as processInstanceId,task_id as taskId,assignee,task_state as taskState,task_name taskName FROM task_record WHERE task_id=?) ar where q.id=ar.workflow_business_id 
2020-11-21 14:42:32.455 DEBUG c.j.q.m.l.d.L.getLineQualifyDetailednessInfo[145]  ==> Parameters: 5490632(String)
2020-11-21 14:42:32.460 DEBUG cn.jwis.qualityworkflow.dao.UserMapper.getSuperior[145]  <==      Total: 1
2020-11-21 14:42:32.460 DEBUG c.j.q.dao.UserMapper.getSuperiorManagerByUser[145]  ==>  Preparing: select superior_manager from department_mapping where user_account = ? and type = ? limit 0,1 
2020-11-21 14:42:32.460 DEBUG c.j.q.dao.UserMapper.getSuperiorManagerByUser[145]  ==> Parameters: hualanlan(String), QIMS(String)
2020-11-21 14:42:32.467 DEBUG c.j.q.m.l.d.L.getLineQualifyDetailednessInfo[145]  <==      Total: 1
2020-11-21 14:42:32.467 DEBUG c.j.q.dao.UserMapper.getSuperiorManagerByUser[145]  <==      Total: 1
2020-11-21 14:42:32.468 INFO  cn.jwis.qualityworkflow.util.EmailService[69]  haomiao.liu@jwis.cn send a Mail to test@jwis.cn and make a copy for [jian.song@jwis.cn]
2020-11-21 14:42:32.472 INFO  cn.jwis.qualityworkflow.util.EmailService[142]  qualityadmin email is 
2020-11-21 14:42:32.473 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==>  Preparing: select time from email_history_info where id =? 
2020-11-21 14:42:32.473 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==> Parameters: 1308013116927246336(String)
2020-11-21 14:42:32.480 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  <==      Total: 0
2020-11-21 14:42:32.486 INFO  cn.jwis.qualityworkflow.util.EmailService[142]  workflow3 email is null
2020-11-21 14:42:32.502 INFO  cn.jwis.qualityworkflow.util.EmailService[142]  kiween email is 
2020-11-21 14:42:32.502 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==>  Preparing: select time from email_history_info where id =? 
2020-11-21 14:42:32.502 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==> Parameters: 1309046852858937344(String)
2020-11-21 14:42:32.505 INFO  cn.jwis.qualityworkflow.util.EmailService[142]  zhouxianling email is 
2020-11-21 14:42:32.505 DEBUG c.j.qualityworkflow.dao.TaskRecordMapper.getById[145]  ==>  Preparing: SELECT * from task_record WHERE id = ? 
2020-11-21 14:42:32.506 DEBUG c.j.qualityworkflow.dao.TaskRecordMapper.getById[145]  ==> Parameters: 1286902446076985344(String)
2020-11-21 14:42:32.512 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  <==      Total: 0
2020-11-21 14:42:32.515 DEBUG c.j.qualityworkflow.dao.TaskRecordMapper.getById[145]  <==      Total: 1
2020-11-21 14:42:32.516 DEBUG c.j.qualityworkflow.dao.CommonMapper.getKeyToName[145]  ==>  Preparing: SELECT * FROM key_to_name 
2020-11-21 14:42:32.516 DEBUG c.j.qualityworkflow.dao.CommonMapper.getKeyToName[145]  ==> Parameters: 
2020-11-21 14:42:32.525 DEBUG c.j.qualityworkflow.dao.CommonMapper.getKeyToName[145]  <==      Total: 8
2020-11-21 14:42:32.526 INFO  cn.jwis.qualityworkflow.util.EmailService[71]  haomiao.liu@jwis.cn send a Mail to test@jwis.cn
2020-11-21 14:42:32.534 INFO  cn.jwis.qualityworkflow.util.EmailService[142]  codisan email is kelvin@jwis.cn
2020-11-21 14:42:32.535 DEBUG c.j.qualityworkflow.dao.CommonMapper.getKeyToName[145]  ==>  Preparing: SELECT * FROM key_to_name 
2020-11-21 14:42:32.535 DEBUG c.j.qualityworkflow.dao.CommonMapper.getKeyToName[145]  ==> Parameters: 
2020-11-21 14:42:32.543 DEBUG c.j.qualityworkflow.dao.CommonMapper.getKeyToName[145]  <==      Total: 8
2020-11-21 14:42:32.544 INFO  cn.jwis.qualityworkflow.util.EmailService[74]  haomiao.liu@jwis.cn send a Mail to kelvin@jwis.cn fail, because null
2020-11-21 14:42:33.107 ERROR o.s.s.support.TaskUtils$LoggingErrorHandler[96] org.springframework.mail.MailSendException: Failed messages: javax.mail.SendFailedException: Invalid Addresses;
  nested exception is:
	com.sun.mail.smtp.SMTPAddressFailedException: 554 RCPT (test@jwis.cn) dosn't exist

	at org.springframework.mail.javamail.JavaMailSenderImpl.doSend(JavaMailSenderImpl.java:488)
	at org.springframework.mail.javamail.JavaMailSenderImpl.send(JavaMailSenderImpl.java:359)
	at org.springframework.mail.javamail.JavaMailSenderImpl.send(JavaMailSenderImpl.java:354)
	at cn.jwis.qualityworkflow.util.EmailService.sendHtmlMail(EmailService.java:76)
	at cn.jwis.qualityworkflow.modules.qims.service.imp.QimsSendMailServiceImpl.sendEmailTohandler(QimsSendMailServiceImpl.java:161)
	at cn.jwis.qualityworkflow.modules.qims.service.imp.QimsSendMailServiceImpl.qimsSendMail(QimsSendMailServiceImpl.java:90)
	at cn.jwis.qualityworkflow.modules.qims.job.qimsMailJob.qimsSendMail(qimsMailJob.java:49)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.springframework.scheduling.support.ScheduledMethodRunnable.run(ScheduledMethodRunnable.java:84)
	at org.springframework.scheduling.support.DelegatingErrorHandlingRunnable.run(DelegatingErrorHandlingRunnable.java:54)
	at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:511)
	at java.util.concurrent.FutureTask.runAndReset(FutureTask.java:308)
	at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.access$301(ScheduledThreadPoolExecutor.java:180)
	at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:294)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)
 Unexpected error occurred in scheduled task.
2020-11-21 14:42:33.110 ERROR o.s.s.support.TaskUtils$LoggingErrorHandler[96] org.springframework.mail.MailSendException: Failed messages: javax.mail.SendFailedException: Invalid Addresses;
  nested exception is:
	com.sun.mail.smtp.SMTPAddressFailedException: 554 RCPT (test@jwis.cn) dosn't exist
;
  nested exception is:
	com.sun.mail.smtp.SMTPAddressFailedException: 554 RCPT (jian.song@jwis.cn) dosn't exist

	at org.springframework.mail.javamail.JavaMailSenderImpl.doSend(JavaMailSenderImpl.java:488)
	at org.springframework.mail.javamail.JavaMailSenderImpl.send(JavaMailSenderImpl.java:359)
	at org.springframework.mail.javamail.JavaMailSenderImpl.send(JavaMailSenderImpl.java:354)
	at cn.jwis.qualityworkflow.util.EmailService.sendHtmlMail(EmailService.java:76)
	at cn.jwis.qualityworkflow.modules.linequalify.service.imp.LineQualifyServiceImpl.sendEmailTohandler(LineQualifyServiceImpl.java:617)
	at cn.jwis.qualityworkflow.modules.linequalify.service.imp.LineQualifyServiceImpl.sendOverTimeMail(LineQualifyServiceImpl.java:594)
	at cn.jwis.qualityworkflow.modules.linequalify.service.imp.LineQualifyServiceImpl$$FastClassBySpringCGLIB$$4ca6f597.invoke(<generated>)
	at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:684)
	at cn.jwis.qualityworkflow.modules.linequalify.service.imp.LineQualifyServiceImpl$$EnhancerBySpringCGLIB$$c381cc9a.sendOverTimeMail(<generated>)
	at cn.jwis.qualityworkflow.modules.linequalify.job.LineQualifyMailJob.sendOverTimeMail(LineQualifyMailJob.java:30)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.springframework.scheduling.support.ScheduledMethodRunnable.run(ScheduledMethodRunnable.java:84)
	at org.springframework.scheduling.support.DelegatingErrorHandlingRunnable.run(DelegatingErrorHandlingRunnable.java:54)
	at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:511)
	at java.util.concurrent.FutureTask.runAndReset(FutureTask.java:308)
	at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.access$301(ScheduledThreadPoolExecutor.java:180)
	at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:294)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)
 Unexpected error occurred in scheduled task.
2020-11-21 14:42:33.166 ERROR o.s.s.support.TaskUtils$LoggingErrorHandler[96] org.springframework.mail.MailSendException: Failed messages: javax.mail.SendFailedException: Invalid Addresses;
  nested exception is:
	com.sun.mail.smtp.SMTPAddressFailedException: 554 RCPT (kelvin@jwis.cn) dosn't exist

	at org.springframework.mail.javamail.JavaMailSenderImpl.doSend(JavaMailSenderImpl.java:488)
	at org.springframework.mail.javamail.JavaMailSenderImpl.send(JavaMailSenderImpl.java:359)
	at org.springframework.mail.javamail.JavaMailSenderImpl.send(JavaMailSenderImpl.java:354)
	at cn.jwis.qualityworkflow.util.EmailService.sendHtmlMail(EmailService.java:76)
	at cn.jwis.qualityworkflow.modules.qims.service.imp.QimsSendMailServiceImpl.sendEmailTohandler(QimsSendMailServiceImpl.java:161)
	at cn.jwis.qualityworkflow.modules.ipqc.service.imp.AuditQualityProblemServiceImpl.qimsSendMail(AuditQualityProblemServiceImpl.java:321)
	at cn.jwis.qualityworkflow.modules.ipqc.service.imp.AuditQualityProblemServiceImpl$$FastClassBySpringCGLIB$$15ff325f.invoke(<generated>)
	at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:684)
	at cn.jwis.qualityworkflow.modules.ipqc.service.imp.AuditQualityProblemServiceImpl$$EnhancerBySpringCGLIB$$7c12bff2.qimsSendMail(<generated>)
	at cn.jwis.qualityworkflow.modules.ipqc.job.ipqcMailJob.qimsSendMail(ipqcMailJob.java:28)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.springframework.scheduling.support.ScheduledMethodRunnable.run(ScheduledMethodRunnable.java:84)
	at org.springframework.scheduling.support.DelegatingErrorHandlingRunnable.run(DelegatingErrorHandlingRunnable.java:54)
	at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:511)
	at java.util.concurrent.FutureTask.runAndReset(FutureTask.java:308)
	at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.access$301(ScheduledThreadPoolExecutor.java:180)
	at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:294)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)
 Unexpected error occurred in scheduled task.
2020-11-21 14:42:33.166 INFO  c.j.qualityworkflow.modules.ipqc.job.ipqcMailJob[27]  查询IPQC超时任务
2020-11-21 14:42:33.176 DEBUG c.j.q.dao.TaskRecordMapper.getOverTimeTaskRecord2[145]  ==>  Preparing: SELECT *, HOUR(timediff(now() , create_date)) overTimeNum FROM task_record WHERE template_key = ? AND task_state IS NULL AND HOUR(timediff(now() , create_date)) >= ? 
2020-11-21 14:42:33.176 DEBUG c.j.q.dao.TaskRecordMapper.getOverTimeTaskRecord2[145]  ==> Parameters: IPQCAuditProcess(String), 24(Integer)
2020-11-21 14:42:33.186 DEBUG c.j.q.dao.TaskRecordMapper.getOverTimeTaskRecord2[145]  <==      Total: 18
2020-11-21 14:42:33.186 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==>  Preparing: select time from email_history_info where id =? 
2020-11-21 14:42:33.186 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==> Parameters: 1303868320843300864(String)
2020-11-21 14:42:33.192 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  <==      Total: 1
2020-11-21 14:42:33.193 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==>  Preparing: select time from email_history_info where id =? 
2020-11-21 14:42:33.193 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==> Parameters: 1303868347422605312(String)
2020-11-21 14:42:33.199 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  <==      Total: 1
2020-11-21 14:42:33.200 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==>  Preparing: select time from email_history_info where id =? 
2020-11-21 14:42:33.200 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==> Parameters: 1303868393815801856(String)
2020-11-21 14:42:33.205 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  <==      Total: 1
2020-11-21 14:42:33.206 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==>  Preparing: select time from email_history_info where id =? 
2020-11-21 14:42:33.206 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==> Parameters: 1303937438065885184(String)
2020-11-21 14:42:33.216 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  <==      Total: 1
2020-11-21 14:42:33.216 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==>  Preparing: select time from email_history_info where id =? 
2020-11-21 14:42:33.216 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==> Parameters: 1303939538460082176(String)
2020-11-21 14:42:33.225 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  <==      Total: 1
2020-11-21 14:42:33.225 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==>  Preparing: select time from email_history_info where id =? 
2020-11-21 14:42:33.226 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==> Parameters: 1303939599889858560(String)
2020-11-21 14:42:33.239 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  <==      Total: 1
2020-11-21 14:42:33.239 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==>  Preparing: select time from email_history_info where id =? 
2020-11-21 14:42:33.239 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==> Parameters: 1306059696263659520(String)
2020-11-21 14:42:33.245 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  <==      Total: 1
2020-11-21 14:42:33.246 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==>  Preparing: select time from email_history_info where id =? 
2020-11-21 14:42:33.246 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==> Parameters: 1306155886347026432(String)
2020-11-21 14:42:33.252 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  <==      Total: 1
2020-11-21 14:42:33.253 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==>  Preparing: select time from email_history_info where id =? 
2020-11-21 14:42:33.253 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==> Parameters: 1306201167000240128(String)
2020-11-21 14:42:33.258 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  <==      Total: 1
2020-11-21 14:42:33.258 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==>  Preparing: select time from email_history_info where id =? 
2020-11-21 14:42:33.259 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==> Parameters: 1308013106458263552(String)
2020-11-21 14:42:33.269 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  <==      Total: 0
2020-11-21 14:42:33.292 INFO  cn.jwis.qualityworkflow.util.EmailService[142]  kiween email is 
2020-11-21 14:42:33.293 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==>  Preparing: select time from email_history_info where id =? 
2020-11-21 14:42:33.294 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==> Parameters: 1308013110702899200(String)
2020-11-21 14:42:33.305 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  <==      Total: 1
2020-11-21 14:42:33.328 INFO  cn.jwis.qualityworkflow.util.EmailService[142]  qualityadmin email is 
2020-11-21 14:42:33.328 DEBUG cn.jwis.qualityworkflow.dao.UserMapper.getSuperior[145]  ==>  Preparing: select superior from department_mapping where user_account = ? and type = ? limit 0,1 
2020-11-21 14:42:33.329 DEBUG cn.jwis.qualityworkflow.dao.UserMapper.getSuperior[145]  ==> Parameters: qualityadmin(String), COMMON(String)
2020-11-21 14:42:33.339 DEBUG cn.jwis.qualityworkflow.dao.UserMapper.getSuperior[145]  <==      Total: 1
2020-11-21 14:42:33.359 INFO  cn.jwis.qualityworkflow.util.EmailService[142]  qualityadmin email is 
2020-11-21 14:42:33.359 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==>  Preparing: select time from email_history_info where id =? 
2020-11-21 14:42:33.359 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==> Parameters: 1308013113928318976(String)
2020-11-21 14:42:33.368 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  <==      Total: 1
2020-11-21 14:42:33.386 INFO  cn.jwis.qualityworkflow.util.EmailService[142]  qualityadmin email is 
2020-11-21 14:42:33.386 DEBUG cn.jwis.qualityworkflow.dao.UserMapper.getSuperior[145]  ==>  Preparing: select superior from department_mapping where user_account = ? and type = ? limit 0,1 
2020-11-21 14:42:33.387 DEBUG cn.jwis.qualityworkflow.dao.UserMapper.getSuperior[145]  ==> Parameters: qualityadmin(String), COMMON(String)
2020-11-21 14:42:33.393 DEBUG cn.jwis.qualityworkflow.dao.UserMapper.getSuperior[145]  <==      Total: 1
2020-11-21 14:42:33.413 INFO  cn.jwis.qualityworkflow.util.EmailService[142]  qualityadmin email is 
2020-11-21 14:42:33.414 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==>  Preparing: select time from email_history_info where id =? 
2020-11-21 14:42:33.414 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==> Parameters: 1308013116927246336(String)
2020-11-21 14:42:33.425 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  <==      Total: 0
2020-11-21 14:42:33.444 INFO  cn.jwis.qualityworkflow.util.EmailService[142]  kiween email is 
2020-11-21 14:42:33.445 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==>  Preparing: select time from email_history_info where id =? 
2020-11-21 14:42:33.445 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==> Parameters: 1309046852858937344(String)
2020-11-21 14:42:33.451 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  <==      Total: 0
2020-11-21 14:42:33.472 INFO  cn.jwis.qualityworkflow.util.EmailService[142]  codisan email is kelvin@jwis.cn
2020-11-21 14:42:33.472 DEBUG c.j.qualityworkflow.dao.CommonMapper.getKeyToName[145]  ==>  Preparing: SELECT * FROM key_to_name 
2020-11-21 14:42:33.472 DEBUG c.j.qualityworkflow.dao.CommonMapper.getKeyToName[145]  ==> Parameters: 
2020-11-21 14:42:33.486 DEBUG c.j.qualityworkflow.dao.CommonMapper.getKeyToName[145]  <==      Total: 8
2020-11-21 14:42:33.487 INFO  cn.jwis.qualityworkflow.util.EmailService[74]  haomiao.liu@jwis.cn send a Mail to kelvin@jwis.cn fail, because null
2020-11-21 14:42:34.154 ERROR o.s.s.support.TaskUtils$LoggingErrorHandler[96] org.springframework.mail.MailSendException: Failed messages: javax.mail.SendFailedException: Invalid Addresses;
  nested exception is:
	com.sun.mail.smtp.SMTPAddressFailedException: 554 RCPT (kelvin@jwis.cn) dosn't exist

	at org.springframework.mail.javamail.JavaMailSenderImpl.doSend(JavaMailSenderImpl.java:488)
	at org.springframework.mail.javamail.JavaMailSenderImpl.send(JavaMailSenderImpl.java:359)
	at org.springframework.mail.javamail.JavaMailSenderImpl.send(JavaMailSenderImpl.java:354)
	at cn.jwis.qualityworkflow.util.EmailService.sendHtmlMail(EmailService.java:76)
	at cn.jwis.qualityworkflow.modules.qims.service.imp.QimsSendMailServiceImpl.sendEmailTohandler(QimsSendMailServiceImpl.java:161)
	at cn.jwis.qualityworkflow.modules.ipqc.service.imp.AuditQualityProblemServiceImpl.qimsSendMail(AuditQualityProblemServiceImpl.java:321)
	at cn.jwis.qualityworkflow.modules.ipqc.service.imp.AuditQualityProblemServiceImpl$$FastClassBySpringCGLIB$$15ff325f.invoke(<generated>)
	at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:684)
	at cn.jwis.qualityworkflow.modules.ipqc.service.imp.AuditQualityProblemServiceImpl$$EnhancerBySpringCGLIB$$7c12bff2.qimsSendMail(<generated>)
	at cn.jwis.qualityworkflow.modules.ipqc.job.ipqcMailJob.qimsSendMail(ipqcMailJob.java:28)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.springframework.scheduling.support.ScheduledMethodRunnable.run(ScheduledMethodRunnable.java:84)
	at org.springframework.scheduling.support.DelegatingErrorHandlingRunnable.run(DelegatingErrorHandlingRunnable.java:54)
	at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:511)
	at java.util.concurrent.FutureTask.runAndReset(FutureTask.java:308)
	at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.access$301(ScheduledThreadPoolExecutor.java:180)
	at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:294)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)
 Unexpected error occurred in scheduled task.
2020-11-21 14:42:34.155 INFO  c.j.qualityworkflow.modules.ipqc.job.ipqcMailJob[27]  查询IPQC超时任务
2020-11-21 14:42:34.162 DEBUG c.j.q.dao.TaskRecordMapper.getOverTimeTaskRecord2[145]  ==>  Preparing: SELECT *, HOUR(timediff(now() , create_date)) overTimeNum FROM task_record WHERE template_key = ? AND task_state IS NULL AND HOUR(timediff(now() , create_date)) >= ? 
2020-11-21 14:42:34.162 DEBUG c.j.q.dao.TaskRecordMapper.getOverTimeTaskRecord2[145]  ==> Parameters: IPQCAuditProcess(String), 24(Integer)
2020-11-21 14:42:34.174 DEBUG c.j.q.dao.TaskRecordMapper.getOverTimeTaskRecord2[145]  <==      Total: 18
2020-11-21 14:42:34.176 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==>  Preparing: select time from email_history_info where id =? 
2020-11-21 14:42:34.176 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==> Parameters: 1303868320843300864(String)
2020-11-21 14:42:34.183 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  <==      Total: 1
2020-11-21 14:42:34.184 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==>  Preparing: select time from email_history_info where id =? 
2020-11-21 14:42:34.184 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==> Parameters: 1303868347422605312(String)
2020-11-21 14:42:34.195 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  <==      Total: 1
2020-11-21 14:42:34.195 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==>  Preparing: select time from email_history_info where id =? 
2020-11-21 14:42:34.195 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==> Parameters: 1303868393815801856(String)
2020-11-21 14:42:34.208 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  <==      Total: 1
2020-11-21 14:42:34.209 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==>  Preparing: select time from email_history_info where id =? 
2020-11-21 14:42:34.209 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==> Parameters: 1303937438065885184(String)
2020-11-21 14:42:34.215 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  <==      Total: 1
2020-11-21 14:42:34.216 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==>  Preparing: select time from email_history_info where id =? 
2020-11-21 14:42:34.216 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==> Parameters: 1303939538460082176(String)
2020-11-21 14:42:34.223 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  <==      Total: 1
2020-11-21 14:42:34.224 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==>  Preparing: select time from email_history_info where id =? 
2020-11-21 14:42:34.225 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==> Parameters: 1303939599889858560(String)
2020-11-21 14:42:34.232 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  <==      Total: 1
2020-11-21 14:42:34.233 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==>  Preparing: select time from email_history_info where id =? 
2020-11-21 14:42:34.233 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==> Parameters: 1306059696263659520(String)
2020-11-21 14:42:34.246 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  <==      Total: 1
2020-11-21 14:42:34.247 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==>  Preparing: select time from email_history_info where id =? 
2020-11-21 14:42:34.247 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==> Parameters: 1306155886347026432(String)
2020-11-21 14:42:34.252 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  <==      Total: 1
2020-11-21 14:42:34.253 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==>  Preparing: select time from email_history_info where id =? 
2020-11-21 14:42:34.253 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==> Parameters: 1306201167000240128(String)
2020-11-21 14:42:34.260 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  <==      Total: 1
2020-11-21 14:42:34.261 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==>  Preparing: select time from email_history_info where id =? 
2020-11-21 14:42:34.261 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==> Parameters: 1308013106458263552(String)
2020-11-21 14:42:34.267 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  <==      Total: 0
2020-11-21 14:42:34.288 INFO  cn.jwis.qualityworkflow.util.EmailService[142]  kiween email is 
2020-11-21 14:42:34.289 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==>  Preparing: select time from email_history_info where id =? 
2020-11-21 14:42:34.290 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==> Parameters: 1308013110702899200(String)
2020-11-21 14:42:34.295 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  <==      Total: 1
2020-11-21 14:42:34.318 INFO  cn.jwis.qualityworkflow.util.EmailService[142]  qualityadmin email is 
2020-11-21 14:42:34.318 DEBUG cn.jwis.qualityworkflow.dao.UserMapper.getSuperior[145]  ==>  Preparing: select superior from department_mapping where user_account = ? and type = ? limit 0,1 
2020-11-21 14:42:34.319 DEBUG cn.jwis.qualityworkflow.dao.UserMapper.getSuperior[145]  ==> Parameters: qualityadmin(String), COMMON(String)
2020-11-21 14:42:34.328 DEBUG cn.jwis.qualityworkflow.dao.UserMapper.getSuperior[145]  <==      Total: 1
2020-11-21 14:42:34.346 INFO  cn.jwis.qualityworkflow.util.EmailService[142]  qualityadmin email is 
2020-11-21 14:42:34.347 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==>  Preparing: select time from email_history_info where id =? 
2020-11-21 14:42:34.347 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==> Parameters: 1308013113928318976(String)
2020-11-21 14:42:34.355 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  <==      Total: 1
2020-11-21 14:42:34.397 INFO  cn.jwis.qualityworkflow.util.EmailService[142]  qualityadmin email is 
2020-11-21 14:42:34.397 DEBUG cn.jwis.qualityworkflow.dao.UserMapper.getSuperior[145]  ==>  Preparing: select superior from department_mapping where user_account = ? and type = ? limit 0,1 
2020-11-21 14:42:34.397 DEBUG cn.jwis.qualityworkflow.dao.UserMapper.getSuperior[145]  ==> Parameters: qualityadmin(String), COMMON(String)
2020-11-21 14:42:34.404 DEBUG cn.jwis.qualityworkflow.dao.UserMapper.getSuperior[145]  <==      Total: 1
2020-11-21 14:42:34.427 INFO  cn.jwis.qualityworkflow.util.EmailService[142]  qualityadmin email is 
2020-11-21 14:42:34.427 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==>  Preparing: select time from email_history_info where id =? 
2020-11-21 14:42:34.427 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==> Parameters: 1308013116927246336(String)
2020-11-21 14:42:34.434 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  <==      Total: 0
2020-11-21 14:42:34.454 INFO  cn.jwis.qualityworkflow.util.EmailService[142]  kiween email is 
2020-11-21 14:42:34.455 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==>  Preparing: select time from email_history_info where id =? 
2020-11-21 14:42:34.455 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==> Parameters: 1309046852858937344(String)
2020-11-21 14:42:34.463 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  <==      Total: 0
2020-11-21 14:42:34.486 INFO  cn.jwis.qualityworkflow.util.EmailService[142]  codisan email is kelvin@jwis.cn
2020-11-21 14:42:34.486 DEBUG c.j.qualityworkflow.dao.CommonMapper.getKeyToName[145]  ==>  Preparing: SELECT * FROM key_to_name 
2020-11-21 14:42:34.486 DEBUG c.j.qualityworkflow.dao.CommonMapper.getKeyToName[145]  ==> Parameters: 
2020-11-21 14:42:34.493 DEBUG c.j.qualityworkflow.dao.CommonMapper.getKeyToName[145]  <==      Total: 8
2020-11-21 14:42:34.494 INFO  cn.jwis.qualityworkflow.util.EmailService[74]  haomiao.liu@jwis.cn send a Mail to kelvin@jwis.cn fail, because null
2020-11-21 14:42:35.095 ERROR o.s.s.support.TaskUtils$LoggingErrorHandler[96] org.springframework.mail.MailSendException: Failed messages: javax.mail.SendFailedException: Invalid Addresses;
  nested exception is:
	com.sun.mail.smtp.SMTPAddressFailedException: 554 RCPT (kelvin@jwis.cn) dosn't exist

	at org.springframework.mail.javamail.JavaMailSenderImpl.doSend(JavaMailSenderImpl.java:488)
	at org.springframework.mail.javamail.JavaMailSenderImpl.send(JavaMailSenderImpl.java:359)
	at org.springframework.mail.javamail.JavaMailSenderImpl.send(JavaMailSenderImpl.java:354)
	at cn.jwis.qualityworkflow.util.EmailService.sendHtmlMail(EmailService.java:76)
	at cn.jwis.qualityworkflow.modules.qims.service.imp.QimsSendMailServiceImpl.sendEmailTohandler(QimsSendMailServiceImpl.java:161)
	at cn.jwis.qualityworkflow.modules.ipqc.service.imp.AuditQualityProblemServiceImpl.qimsSendMail(AuditQualityProblemServiceImpl.java:321)
	at cn.jwis.qualityworkflow.modules.ipqc.service.imp.AuditQualityProblemServiceImpl$$FastClassBySpringCGLIB$$15ff325f.invoke(<generated>)
	at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:684)
	at cn.jwis.qualityworkflow.modules.ipqc.service.imp.AuditQualityProblemServiceImpl$$EnhancerBySpringCGLIB$$7c12bff2.qimsSendMail(<generated>)
	at cn.jwis.qualityworkflow.modules.ipqc.job.ipqcMailJob.qimsSendMail(ipqcMailJob.java:28)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.springframework.scheduling.support.ScheduledMethodRunnable.run(ScheduledMethodRunnable.java:84)
	at org.springframework.scheduling.support.DelegatingErrorHandlingRunnable.run(DelegatingErrorHandlingRunnable.java:54)
	at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:511)
	at java.util.concurrent.FutureTask.runAndReset(FutureTask.java:308)
	at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.access$301(ScheduledThreadPoolExecutor.java:180)
	at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:294)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)
 Unexpected error occurred in scheduled task.
2020-11-21 14:42:43.804 DEBUG c.j.q.dao.TaskRecordMapper.getProcessAgent[145]  ==>  Preparing: select * from (SELECT * FROM task_record UNION ALL SELECT id, "PCN" template_key, processInstanceId process_instance_id, assignee, pcnId workflow_business_id, taskState task_state, state, taskName task_name, taskId task_id, null department, createDate create_date, updateDate update_date, theme, item_number, creator FROM pcn_task_record) ar where 1=1 and ((ar.create_date >= ? and ar.create_date <= ?) or (ar.update_date >= ? and ar.update_date <= ?)) and (ar.task_state is null or ar.task_state = 'OnGoing') and ar.assignee =? order by ar.create_date desc limit ?,? 
2020-11-21 14:42:43.805 DEBUG c.j.q.dao.TaskRecordMapper.getProcessAgent[145]  ==> Parameters: 2020-10-22(String), 2020-11-22(String), 2020-10-22(String), 2020-11-22(String), hualanlan(String), 0(Integer), 15(Integer)
2020-11-21 14:42:43.840 DEBUG c.j.q.dao.TaskRecordMapper.getProcessAgent[145]  <==      Total: 3
2020-11-21 14:42:43.841 DEBUG c.j.q.dao.TaskRecordMapper.getProcessAgentCount[145]  ==>  Preparing: select count(1) from (SELECT * FROM task_record UNION ALL SELECT id, "PCN" template_key, processInstanceId process_instance_id, assignee, pcnId workflow_business_id, taskState task_state, state, taskName task_name, taskId task_id, null department, createDate create_date, updateDate update_date, theme, item_number, creator FROM pcn_task_record) ar where 1=1 and ((ar.create_date >= ? and ar.create_date <= ?) or (ar.update_date >= ? and ar.update_date <= ?)) and (ar.task_state is null or ar.task_state = 'OnGoing') and ar.assignee =? 
2020-11-21 14:42:43.842 DEBUG c.j.q.dao.TaskRecordMapper.getProcessAgentCount[145]  ==> Parameters: 2020-10-22(String), 2020-11-22(String), 2020-10-22(String), 2020-11-22(String), hualanlan(String)
2020-11-21 14:42:43.879 DEBUG c.j.q.dao.TaskRecordMapper.getProcessAgentCount[145]  <==      Total: 1
2020-11-21 14:42:44.027 DEBUG c.j.q.dao.UserMapper.getDepartmentList[145]  ==>  Preparing: select DISTINCT department from department_mapping where type = ? and department is not null 
2020-11-21 14:42:44.027 DEBUG c.j.q.dao.UserMapper.getDepartmentList[145]  ==> Parameters: COMMON(String)
2020-11-21 14:42:44.075 DEBUG c.j.q.dao.UserMapper.getDepartmentList[145]  <==      Total: 21
2020-11-21 14:42:44.080 DEBUG c.j.q.dao.UserMapper.getDepartmentList[145]  ==>  Preparing: select DISTINCT department from department_mapping where type = ? and department is not null 
2020-11-21 14:42:44.081 DEBUG c.j.q.dao.UserMapper.getDepartmentList[145]  ==> Parameters: COMMON(String)
2020-11-21 14:42:44.089 DEBUG c.j.q.dao.UserMapper.getDepartmentList[145]  <==      Total: 21
2020-11-21 14:43:04.394 DEBUG c.j.q.dao.UserMapper.getUserListByDepartment[145]  ==>  Preparing: select DISTINCT user_account from department_mapping where department = ? and type = ? and user_account is not null and position is null 
2020-11-21 14:43:04.395 DEBUG c.j.q.dao.UserMapper.getUserListByDepartment[145]  ==> Parameters: SMT ENG(String), COMMON(String)
2020-11-21 14:43:04.408 DEBUG c.j.q.dao.UserMapper.getUserListByDepartment[145]  <==      Total: 1
2020-11-21 14:43:19.402 DEBUG c.j.q.d.WorkflowVariableReflectMapper.getVariables[145]  ==>  Preparing: SELECT variable from workflow_variable_reflect where template_key = ? and node = ? 
2020-11-21 14:43:19.403 DEBUG c.j.q.d.WorkflowVariableReflectMapper.getVariables[145]  ==> Parameters: QMSEcnProcess(String), Apply(String)
2020-11-21 14:43:19.409 DEBUG c.j.q.d.WorkflowVariableReflectMapper.getVariables[145]  <==      Total: 3
2020-11-21 14:43:19.410 DEBUG c.j.q.modules.ecn.dao.EcnInfoMapper.getItemNumber[145]  ==>  Preparing: SELECT ecn_number_generator() 
2020-11-21 14:43:19.410 DEBUG c.j.q.modules.ecn.dao.EcnInfoMapper.getItemNumber[145]  ==> Parameters: 
2020-11-21 14:43:19.418 DEBUG c.j.q.modules.ecn.dao.EcnInfoMapper.getItemNumber[145]  <==      Total: 1
2020-11-21 14:43:19.419 DEBUG c.j.q.modules.ecn.dao.EcnInfoMapper.insert[145]  ==>  Preparing: insert into ecn_info (id, item_number, item_type, file_name, file_oid, sender_side, document_originator, model_name, change_type, posting_time, works_section, works_head, quality_head, status, involved_area, change_import_scheme, change_import_time, change_import_mode, ipqc_handler, ipqc_verification_results, ipqc_verification_reason, ipqc_verifier, ipqc_verification_time, project_approval_result, project_approval_opinion, project_approver, project_approver_time, odm_approval_result, odm_approval_opinion, odm_approver, odm_approver_time, sqe_approval_result, sqe_approval_opinion, sqe_approver, sqe_approver_time, file_address, assignee, remark, creator, create_date, update_date ) values (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ? ) 
2020-11-21 14:43:19.421 DEBUG c.j.q.modules.ecn.dao.EcnInfoMapper.insert[145]  ==> Parameters: 1330039068083355648(String), 20201121001(String), ECN(String), LCFC-logo.jpg(String), 1330038908052828160(String), HQ(String), 444(String), 444(String), BOM,软件(String), 2020-11-21 00:00:00.0(Timestamp), SMT ENG(String), hualanlan(String), hualanlan(String), Apply(String), null, null, null, null, hualanlan(String), null, null, null, null, null, null, null, null, null, null, hualanlan(String), null, null, null, hualanlan(String), null, 444(String), null, (String), hualanlan(String), null, null
2020-11-21 14:43:19.434 DEBUG c.j.q.modules.ecn.dao.EcnInfoMapper.insert[145]  <==    Updates: 1
2020-11-21 14:47:20.293 WARN  com.zaxxer.hikari.pool.HikariPool[766]  HikariPool-1 - Thread starvation or clock leap detected (housekeeper delta=4m2s117ms22µs829ns).
2020-11-21 14:47:20.294 DEBUG c.j.q.m.ecn.dao.EcnInfoMapper.selectByPrimaryKey[145]  ==>  Preparing: select id, item_number, item_type, file_name, file_oid, sender_side, document_originator, model_name, change_type, posting_time, works_section, works_head, quality_head, status, involved_area, change_import_scheme, change_import_time, change_import_mode, ipqc_handler, ipqc_verification_results, ipqc_verification_reason, ipqc_verifier, ipqc_verification_time, project_approval_result, project_approval_opinion, project_approver, project_approver_time, odm_approval_result, odm_approval_opinion, odm_approver, odm_approver_time, sqe_approval_result, sqe_approval_opinion, sqe_approver, sqe_approver_time, file_address, assignee, remark, creator, create_date, update_date from ecn_info where id = ? 
2020-11-21 14:47:20.293 INFO  c.j.qualityworkflow.modules.ipqc.job.ipqcMailJob[27]  查询IPQC超时任务
2020-11-21 14:47:20.300 DEBUG c.j.q.m.ecn.dao.EcnInfoMapper.selectByPrimaryKey[145]  ==> Parameters: 1330039068083355648(String)
2020-11-21 14:47:20.304 DEBUG c.j.q.dao.TaskRecordMapper.getOverTimeTaskRecord[145]  ==>  Preparing: SELECT *, HOUR(timediff(now() , create_date)) overTimeNum FROM task_record WHERE template_key = ? AND task_state IS NULL AND task_name = ? AND HOUR(timediff(now() , create_date)) >= ? 
2020-11-21 14:47:20.305 DEBUG c.j.q.dao.TaskRecordMapper.getOverTimeTaskRecord[145]  ==> Parameters: Line Qualify(String), 文件收集(String), 2(Integer)
2020-11-21 14:47:20.313 DEBUG c.j.q.dao.TaskRecordMapper.getOverTimeTaskRecord[145]  ==>  Preparing: SELECT *, HOUR(timediff(now() , create_date)) overTimeNum FROM task_record WHERE template_key = ? AND task_state IS NULL AND task_name = ? AND HOUR(timediff(now() , create_date)) >= ? 
2020-11-21 14:47:20.313 DEBUG c.j.q.m.qims.dao.BlackDashBoardMapper.getHoliday[145]  ==>  Preparing: SELECT DISTINCT date FROM holiday_maintenance WHERE type = '节假日' 
2020-11-21 14:47:20.314 DEBUG c.j.q.dao.TaskRecordMapper.getOverTimeTaskRecord[145]  ==> Parameters: FactoryAuditProcess(String), 部门审核(String), 24(Integer)
2020-11-21 14:47:20.314 DEBUG c.j.q.m.qims.dao.BlackDashBoardMapper.getHoliday[145]  ==> Parameters: 
2020-11-21 14:47:20.316 DEBUG c.j.q.dao.TaskRecordMapper.getOverTimeTaskRecord2[145]  ==>  Preparing: SELECT *, HOUR(timediff(now() , create_date)) overTimeNum FROM task_record WHERE template_key = ? AND task_state IS NULL AND HOUR(timediff(now() , create_date)) >= ? 
2020-11-21 14:47:20.316 DEBUG c.j.q.dao.UserMapper.getDepartmentList[145]  ==>  Preparing: select DISTINCT department from department_mapping where type = ? and department is not null 
2020-11-21 14:47:20.316 DEBUG c.j.q.dao.TaskRecordMapper.getOverTimeTaskRecord2[145]  ==> Parameters: IPQCAuditProcess(String), 24(Integer)
2020-11-21 14:47:20.317 DEBUG c.j.q.dao.UserMapper.getDepartmentList[145]  ==> Parameters: COMMON(String)
2020-11-21 14:47:20.320 DEBUG c.j.q.dao.TaskRecordMapper.getOverTimeTaskRecord[145]  <==      Total: 8
2020-11-21 14:47:20.321 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==>  Preparing: select time from email_history_info where id =? 
2020-11-21 14:47:20.321 DEBUG c.j.q.m.ecn.dao.EcnInfoMapper.selectByPrimaryKey[145]  <==      Total: 1
2020-11-21 14:47:20.321 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==> Parameters: 1294123945645047808(String)
2020-11-21 14:47:20.322 DEBUG c.j.q.d.H.deleteApplyRecord[145]  ==>  Preparing: DELETE from history_process_record where workflow_type = ? and creator = ? and type = 'SAVE' and workflow_node = 'Apply' and workflow_businessId is NULL 
2020-11-21 14:47:20.322 DEBUG c.j.q.d.H.deleteApplyRecord[145]  ==> Parameters: QMSEcnProcess(String), hualanlan(String)
2020-11-21 14:47:20.325 DEBUG c.j.q.m.qims.dao.BlackDashBoardMapper.getHoliday[145]  <==      Total: 6
2020-11-21 14:47:20.325 DEBUG c.j.q.m.q.d.B.getWorkOvertimeList[145]  ==>  Preparing: SELECT DISTINCT date FROM holiday_maintenance WHERE type = '补班' 
2020-11-21 14:47:20.326 DEBUG c.j.q.m.q.d.B.getWorkOvertimeList[145]  ==> Parameters: 
2020-11-21 14:47:20.326 DEBUG c.j.q.dao.TaskRecordMapper.getOverTimeTaskRecord[145]  <==      Total: 3
2020-11-21 14:47:20.326 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==>  Preparing: select time from email_history_info where id =? 
2020-11-21 14:47:20.327 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==> Parameters: 1295192540470837248(String)
2020-11-21 14:47:20.330 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  <==      Total: 1
2020-11-21 14:47:20.330 DEBUG c.j.q.dao.UserMapper.getDepartmentList[145]  <==      Total: 21
2020-11-21 14:47:20.331 DEBUG c.j.q.dao.TaskRecordMapper.getOverTimeTaskRecord2[145]  <==      Total: 18
2020-11-21 14:47:20.331 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==>  Preparing: select time from email_history_info where id =? 
2020-11-21 14:47:20.332 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==> Parameters: 1303868320843300864(String)
2020-11-21 14:47:20.339 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  <==      Total: 1
2020-11-21 14:47:20.340 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==>  Preparing: select time from email_history_info where id =? 
2020-11-21 14:47:20.340 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==> Parameters: 1295192619508301824(String)
2020-11-21 14:47:20.345 DEBUG c.j.q.m.q.d.B.getWorkOvertimeList[145]  <==      Total: 4
2020-11-21 14:47:20.346 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getLtStandard[145]  ==>  Preparing: select * from qims_lt_standard_info 
2020-11-21 14:47:20.346 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  <==      Total: 1
2020-11-21 14:47:20.346 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==>  Preparing: select time from email_history_info where id =? 
2020-11-21 14:47:20.346 DEBUG c.j.q.dao.TaskRecordMapper.getProcessAgent[145]  ==>  Preparing: select * from (SELECT * FROM task_record UNION ALL SELECT id, "PCN" template_key, processInstanceId process_instance_id, assignee, pcnId workflow_business_id, taskState task_state, state, taskName task_name, taskId task_id, null department, createDate create_date, updateDate update_date, theme, item_number, creator FROM pcn_task_record) ar where 1=1 and ((ar.create_date >= ? and ar.create_date <= ?) or (ar.update_date >= ? and ar.update_date <= ?)) and (ar.task_state is null or ar.task_state = 'OnGoing') and ar.assignee =? order by ar.create_date desc limit ?,? 
2020-11-21 14:47:20.349 DEBUG c.j.q.dao.TaskRecordMapper.getProcessAgent[145]  ==> Parameters: 2020-10-22(String), 2020-11-22(String), 2020-10-22(String), 2020-11-22(String), hualanlan(String), 0(Integer), 15(Integer)
2020-11-21 14:47:20.349 DEBUG c.j.q.m.e.d.E.getPullDownValue[145]  ==>  Preparing: SELECT distinct file_name from external_document where file_name is not null 
2020-11-21 14:47:20.350 DEBUG c.j.q.m.e.d.E.getPullDownValue[145]  ==> Parameters: 
2020-11-21 14:47:20.347 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getLtStandard[145]  ==> Parameters: 
2020-11-21 14:47:20.348 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==> Parameters: 1303868347422605312(String)
2020-11-21 14:47:20.355 DEBUG c.j.q.d.H.deleteApplyRecord[145]  <==    Updates: 0
2020-11-21 14:47:20.348 DEBUG c.j.q.m.e.d.E.getPullDownValue[145]  ==>  Preparing: SELECT distinct model_name from external_document where model_name is not null 
2020-11-21 14:47:20.357 DEBUG c.j.q.m.e.d.E.getPullDownValue[145]  ==> Parameters: 
2020-11-21 14:47:20.357 DEBUG c.j.q.d.W.getWorkflowMapping[145]  ==>  Preparing: SELECT * from workflow_handle_mapping where workflow_type = ? and workflow_node = ? limit 1 
2020-11-21 14:47:20.358 DEBUG c.j.q.d.W.getWorkflowMapping[145]  ==> Parameters: QMSEcnProcess(String), Apply(String)
2020-11-21 14:47:20.366 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  <==      Total: 1
2020-11-21 14:47:20.367 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==>  Preparing: select time from email_history_info where id =? 
2020-11-21 14:47:20.367 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==> Parameters: 1299240419787276288(String)
2020-11-21 14:47:20.387 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  <==      Total: 1
2020-11-21 14:47:20.387 DEBUG c.j.q.m.e.d.E.getPullDownValue[145]  <==      Total: 5
2020-11-21 14:47:20.387 DEBUG c.j.q.m.e.d.E.getPullDownValue[145]  <==      Total: 8
2020-11-21 14:47:20.387 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getLtStandard[145]  <==      Total: 8
2020-11-21 14:47:20.387 INFO  c.j.qualityworkflow.modules.qims.job.qimsMailJob[47]  查询黑色问题超过LT的信息
2020-11-21 14:47:20.387 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==>  Preparing: select time from email_history_info where id =? 
2020-11-21 14:47:20.388 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==> Parameters: 1303868393815801856(String)
2020-11-21 14:47:20.388 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getBlackList[145]  ==>  Preparing: select * from task_record where task_name in('初步原因分析','根本原因分析','根本原因审核') and task_state is null and template_key='QIMSBLACK' 
2020-11-21 14:47:20.388 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getBlackList[145]  ==> Parameters: 
2020-11-21 14:47:20.390 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  <==      Total: 1
2020-11-21 14:47:20.390 DEBUG c.j.q.d.W.getWorkflowMapping[145]  <==      Total: 0
2020-11-21 14:47:20.390 DEBUG c.j.q.dao.HistoryProcessRecordMapper.insert[145]  ==>  Preparing: insert into history_process_record (id, workflow_type, workflow_node, workflow_businessId, type, creator, create_date, update_date, department, handle_opinion, reject_reason, content ) values (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ? ) 
2020-11-21 14:47:20.391 DEBUG c.j.q.dao.HistoryProcessRecordMapper.insert[145]  ==> Parameters: 1330040078788984832(String), QMSEcnProcess(String), Apply(String), 1330039068083355648(String), COMMIT(String), hualanlan(String), null, null, null, null, null, java.io.StringReader@2819ee74(StringReader)
2020-11-21 14:47:20.410 DEBUG c.j.q.dao.TaskRecordMapper.getProcessAgent[145]  <==      Total: 3
2020-11-21 14:47:20.411 DEBUG c.j.q.dao.TaskRecordMapper.getProcessAgentCount[145]  ==>  Preparing: select count(1) from (SELECT * FROM task_record UNION ALL SELECT id, "PCN" template_key, processInstanceId process_instance_id, assignee, pcnId workflow_business_id, taskState task_state, state, taskName task_name, taskId task_id, null department, createDate create_date, updateDate update_date, theme, item_number, creator FROM pcn_task_record) ar where 1=1 and ((ar.create_date >= ? and ar.create_date <= ?) or (ar.update_date >= ? and ar.update_date <= ?)) and (ar.task_state is null or ar.task_state = 'OnGoing') and ar.assignee =? 
2020-11-21 14:47:20.411 DEBUG c.j.q.dao.TaskRecordMapper.getProcessAgentCount[145]  ==> Parameters: 2020-10-22(String), 2020-11-22(String), 2020-10-22(String), 2020-11-22(String), hualanlan(String)
2020-11-21 14:47:20.416 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  <==      Total: 1
2020-11-21 14:47:20.417 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==>  Preparing: select time from email_history_info where id =? 
2020-11-21 14:47:20.417 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==> Parameters: 1303937438065885184(String)
2020-11-21 14:47:20.421 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getBlackList[145]  <==      Total: 16
2020-11-21 14:47:20.423 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==>  Preparing: select time from email_history_info where id =? 
2020-11-21 14:47:20.423 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==> Parameters: 1286902446076985344(String)
2020-11-21 14:47:20.430 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  <==      Total: 1
2020-11-21 14:47:20.430 DEBUG c.j.q.dao.HistoryProcessRecordMapper.insert[145]  <==    Updates: 1
2020-11-21 14:47:20.431 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==>  Preparing: select time from email_history_info where id =? 
2020-11-21 14:47:20.431 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==> Parameters: 1303939538460082176(String)
2020-11-21 14:47:20.434 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  <==      Total: 1
2020-11-21 14:47:20.440 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  <==      Total: 1
2020-11-21 14:47:20.441 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==>  Preparing: select time from email_history_info where id =? 
2020-11-21 14:47:20.441 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==> Parameters: 1303939599889858560(String)
2020-11-21 14:47:20.448 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  <==      Total: 1
2020-11-21 14:47:20.448 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==>  Preparing: select time from email_history_info where id =? 
2020-11-21 14:47:20.449 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==> Parameters: 1306059696263659520(String)
2020-11-21 14:47:20.457 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  <==      Total: 1
2020-11-21 14:47:20.458 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==>  Preparing: select time from email_history_info where id =? 
2020-11-21 14:47:20.458 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==> Parameters: 1306155886347026432(String)
2020-11-21 14:47:20.468 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  <==      Total: 1
2020-11-21 14:47:20.468 DEBUG c.j.q.dao.TaskRecordMapper.getProcessAgentCount[145]  <==      Total: 1
2020-11-21 14:47:20.469 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==>  Preparing: select time from email_history_info where id =? 
2020-11-21 14:47:20.469 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==> Parameters: 1306201167000240128(String)
2020-11-21 14:47:20.475 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  <==      Total: 1
2020-11-21 14:47:20.476 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==>  Preparing: select time from email_history_info where id =? 
2020-11-21 14:47:20.476 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==> Parameters: 1308013106458263552(String)
2020-11-21 14:47:20.484 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  <==      Total: 0
2020-11-21 14:47:25.388 DEBUG cn.jwis.qualityworkflow.util.EmailService[144]  get handler mail from http://gateway.dev.jwis.io/platform/sys/user/internal-read?name=dz_gyb1 happen error cause:I/O error on GET request for "http://gateway.dev.jwis.io/platform/sys/user/internal-read": connect timed out; nested exception is java.net.SocketTimeoutException: connect timed out
2020-11-21 14:47:25.392 DEBUG cn.jwis.qualityworkflow.util.EmailService[144]  get handler mail from http://gateway.dev.jwis.io/platform/sys/user/internal-read?name=qualityadmin happen error cause:I/O error on GET request for "http://gateway.dev.jwis.io/platform/sys/user/internal-read": connect timed out; nested exception is java.net.SocketTimeoutException: connect timed out
2020-11-21 14:47:25.398 DEBUG cn.jwis.qualityworkflow.dao.UserMapper.getSuperior[145]  ==>  Preparing: select superior from department_mapping where user_account = ? and type = ? limit 0,1 
2020-11-21 14:47:25.399 DEBUG cn.jwis.qualityworkflow.dao.UserMapper.getSuperior[145]  ==> Parameters: dz_gyb1(String), COMMON(String)
2020-11-21 14:47:25.402 DEBUG cn.jwis.qualityworkflow.dao.UserMapper.getSuperior[145]  ==>  Preparing: select superior from department_mapping where user_account = ? and type = ? limit 0,1 
2020-11-21 14:47:25.402 DEBUG cn.jwis.qualityworkflow.dao.UserMapper.getSuperior[145]  ==> Parameters: qualityadmin(String), COMMON(String)
2020-11-21 14:47:25.413 DEBUG cn.jwis.qualityworkflow.dao.UserMapper.getSuperior[145]  <==      Total: 1
2020-11-21 14:47:25.414 DEBUG cn.jwis.qualityworkflow.dao.UserMapper.getSuperior[145]  <==      Total: 1
2020-11-21 14:47:25.436 DEBUG cn.jwis.qualityworkflow.util.EmailService[144]  get handler mail from http://gateway.dev.jwis.io/platform/sys/user/internal-read?name=hualanlan happen error cause:I/O error on GET request for "http://gateway.dev.jwis.io/platform/sys/user/internal-read": connect timed out; nested exception is java.net.SocketTimeoutException: connect timed out
2020-11-21 14:47:25.447 DEBUG cn.jwis.qualityworkflow.dao.UserMapper.getSuperior[145]  ==>  Preparing: select superior from department_mapping where user_account = ? and type = ? limit 0,1 
2020-11-21 14:47:25.447 DEBUG cn.jwis.qualityworkflow.dao.UserMapper.getSuperior[145]  ==> Parameters: hualanlan(String), QIMS(String)
2020-11-21 14:47:25.468 DEBUG cn.jwis.qualityworkflow.dao.UserMapper.getSuperior[145]  <==      Total: 1
2020-11-21 14:47:25.469 INFO  cn.jwis.qualityworkflow.util.EmailService[142]  dz_gyb2 email is jian.song@jwis.cn
2020-11-21 14:47:25.470 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==>  Preparing: select time from email_history_info where id =? 
2020-11-21 14:47:25.470 DEBUG c.j.q.dao.UserMapper.getSuperiorManagerByUser[145]  ==>  Preparing: select superior_manager from department_mapping where user_account = ? and type = ? limit 0,1 
2020-11-21 14:47:25.470 DEBUG c.j.q.dao.UserMapper.getSuperiorManagerByUser[145]  ==> Parameters: hualanlan(String), QIMS(String)
2020-11-21 14:47:25.470 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==> Parameters: 1294123945682796544(String)
2020-11-21 14:47:25.471 INFO  cn.jwis.qualityworkflow.util.EmailService[142]  qualityadmin email is 
2020-11-21 14:47:25.471 INFO  c.j.q.m.factoryaudit.job.AuditQuestionMailJob[31]  邮件下发结束
2020-11-21 14:47:25.480 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  <==      Total: 1
2020-11-21 14:47:25.480 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==>  Preparing: select time from email_history_info where id =? 
2020-11-21 14:47:25.481 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==> Parameters: 1294123945716350976(String)
2020-11-21 14:47:25.481 DEBUG c.j.q.dao.UserMapper.getSuperiorManagerByUser[145]  <==      Total: 1
2020-11-21 14:47:25.486 DEBUG cn.jwis.qualityworkflow.util.EmailService[144]  get handler mail from http://gateway.dev.jwis.io/platform/sys/user/internal-read?name=kiween happen error cause:I/O error on GET request for "http://gateway.dev.jwis.io/platform/sys/user/internal-read": connect timed out; nested exception is java.net.SocketTimeoutException: connect timed out
2020-11-21 14:47:25.490 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  <==      Total: 1
2020-11-21 14:47:25.505 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==>  Preparing: select time from email_history_info where id =? 
2020-11-21 14:47:25.505 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==> Parameters: 1308013110702899200(String)
2020-11-21 14:47:25.506 INFO  cn.jwis.qualityworkflow.util.EmailService[142]  workflow3 email is null
2020-11-21 14:47:25.529 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  <==      Total: 1
2020-11-21 14:47:25.529 INFO  cn.jwis.qualityworkflow.util.EmailService[142]  xujinbiao email is 
2020-11-21 14:47:25.530 DEBUG cn.jwis.qualityworkflow.dao.UserMapper.getSuperior[145]  ==>  Preparing: select superior from department_mapping where user_account = ? and type = ? limit 0,1 
2020-11-21 14:47:25.530 DEBUG cn.jwis.qualityworkflow.dao.UserMapper.getSuperior[145]  ==> Parameters: xujinbiao(String), COMMON(String)
2020-11-21 14:47:25.547 INFO  cn.jwis.qualityworkflow.util.EmailService[142]  zhouxianling email is 
2020-11-21 14:47:25.549 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==>  Preparing: select time from email_history_info where id =? 
2020-11-21 14:47:25.549 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==> Parameters: 1286904434760089600(String)
2020-11-21 14:47:25.551 DEBUG cn.jwis.qualityworkflow.dao.UserMapper.getSuperior[145]  <==      Total: 1
2020-11-21 14:47:25.560 INFO  cn.jwis.qualityworkflow.util.EmailService[142]  qualityadmin email is 
2020-11-21 14:47:25.560 DEBUG cn.jwis.qualityworkflow.dao.UserMapper.getSuperior[145]  ==>  Preparing: select superior from department_mapping where user_account = ? and type = ? limit 0,1 
2020-11-21 14:47:25.560 DEBUG cn.jwis.qualityworkflow.dao.UserMapper.getSuperior[145]  ==> Parameters: qualityadmin(String), COMMON(String)
2020-11-21 14:47:25.568 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  <==      Total: 1
2020-11-21 14:47:25.571 DEBUG cn.jwis.qualityworkflow.dao.UserMapper.getSuperior[145]  <==      Total: 1
2020-11-21 14:47:25.574 INFO  cn.jwis.qualityworkflow.util.EmailService[142]  hualanlan email is test@jwis.cn
2020-11-21 14:47:25.575 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==>  Preparing: select time from email_history_info where id =? 
2020-11-21 14:47:25.575 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==> Parameters: 1295193219738370048(String)
2020-11-21 14:47:25.590 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  <==      Total: 1
2020-11-21 14:47:25.591 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==>  Preparing: select time from email_history_info where id =? 
2020-11-21 14:47:25.591 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==> Parameters: 1295193220166189056(String)
2020-11-21 14:47:25.596 INFO  cn.jwis.qualityworkflow.util.EmailService[142]  gupp2 email is null
2020-11-21 14:47:25.597 DEBUG cn.jwis.qualityworkflow.dao.UserMapper.getSuperior[145]  ==>  Preparing: select superior from department_mapping where user_account = ? and type = ? limit 0,1 
2020-11-21 14:47:25.597 DEBUG cn.jwis.qualityworkflow.dao.UserMapper.getSuperior[145]  ==> Parameters: gupp2(String), QIMS(String)
2020-11-21 14:47:25.607 INFO  cn.jwis.qualityworkflow.util.EmailService[142]  qualityadmin email is 
2020-11-21 14:47:25.608 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==>  Preparing: select time from email_history_info where id =? 
2020-11-21 14:47:25.608 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==> Parameters: 1308013113928318976(String)
2020-11-21 14:47:25.609 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  <==      Total: 1
2020-11-21 14:47:25.612 DEBUG cn.jwis.qualityworkflow.dao.UserMapper.getSuperior[145]  <==      Total: 0
2020-11-21 14:47:25.612 DEBUG c.j.q.dao.UserMapper.getSuperiorManagerByUser[145]  ==>  Preparing: select superior_manager from department_mapping where user_account = ? and type = ? limit 0,1 
2020-11-21 14:47:25.612 DEBUG c.j.q.dao.UserMapper.getSuperiorManagerByUser[145]  ==> Parameters: gupp2(String), QIMS(String)
2020-11-21 14:47:25.636 DEBUG c.j.q.dao.UserMapper.getSuperiorManagerByUser[145]  <==      Total: 0
2020-11-21 14:47:25.636 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  <==      Total: 1
2020-11-21 14:47:25.638 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==>  Preparing: select time from email_history_info where id =? 
2020-11-21 14:47:25.638 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==> Parameters: 1286916730144161792(String)
2020-11-21 14:47:25.650 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  <==      Total: 1
2020-11-21 14:47:25.657 INFO  cn.jwis.qualityworkflow.util.EmailService[142]  xujinbiao email is 
2020-11-21 14:47:25.658 DEBUG cn.jwis.qualityworkflow.dao.UserMapper.getSuperior[145]  ==>  Preparing: select superior from department_mapping where user_account = ? and type = ? limit 0,1 
2020-11-21 14:47:25.658 DEBUG cn.jwis.qualityworkflow.dao.UserMapper.getSuperior[145]  ==> Parameters: xujinbiao(String), COMMON(String)
2020-11-21 14:47:25.667 DEBUG cn.jwis.qualityworkflow.dao.UserMapper.getSuperior[145]  <==      Total: 1
2020-11-21 14:47:25.674 INFO  cn.jwis.qualityworkflow.util.EmailService[142]  qualityadmin email is 
2020-11-21 14:47:25.674 DEBUG cn.jwis.qualityworkflow.dao.UserMapper.getSuperior[145]  ==>  Preparing: select superior from department_mapping where user_account = ? and type = ? limit 0,1 
2020-11-21 14:47:25.674 INFO  cn.jwis.qualityworkflow.util.EmailService[142]  gupp2 email is null
2020-11-21 14:47:25.675 DEBUG cn.jwis.qualityworkflow.dao.UserMapper.getSuperior[145]  ==> Parameters: qualityadmin(String), COMMON(String)
2020-11-21 14:47:25.675 DEBUG cn.jwis.qualityworkflow.dao.UserMapper.getSuperior[145]  ==>  Preparing: select superior from department_mapping where user_account = ? and type = ? limit 0,1 
2020-11-21 14:47:25.675 DEBUG cn.jwis.qualityworkflow.dao.UserMapper.getSuperior[145]  ==> Parameters: gupp2(String), QIMS(String)
2020-11-21 14:47:25.687 DEBUG cn.jwis.qualityworkflow.dao.UserMapper.getSuperior[145]  <==      Total: 1
2020-11-21 14:47:25.687 DEBUG cn.jwis.qualityworkflow.dao.UserMapper.getSuperior[145]  <==      Total: 0
2020-11-21 14:47:25.687 DEBUG c.j.q.dao.UserMapper.getSuperiorManagerByUser[145]  ==>  Preparing: select superior_manager from department_mapping where user_account = ? and type = ? limit 0,1 
2020-11-21 14:47:25.688 DEBUG c.j.q.dao.UserMapper.getSuperiorManagerByUser[145]  ==> Parameters: gupp2(String), QIMS(String)
2020-11-21 14:47:25.698 INFO  cn.jwis.qualityworkflow.util.EmailService[142]  hualanlan email is test@jwis.cn
2020-11-21 14:47:25.698 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==>  Preparing: select time from email_history_info where id =? 
2020-11-21 14:47:25.698 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==> Parameters: 1295193707351375872(String)
2020-11-21 14:47:25.701 DEBUG c.j.q.dao.UserMapper.getSuperiorManagerByUser[145]  <==      Total: 0
2020-11-21 14:47:25.703 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==>  Preparing: select time from email_history_info where id =? 
2020-11-21 14:47:25.703 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==> Parameters: 1287933861786812416(String)
2020-11-21 14:47:25.717 INFO  cn.jwis.qualityworkflow.util.EmailService[142]  qualityadmin email is 
2020-11-21 14:47:25.718 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==>  Preparing: select time from email_history_info where id =? 
2020-11-21 14:47:25.718 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==> Parameters: 1308013116927246336(String)
2020-11-21 14:47:25.720 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  <==      Total: 1
2020-11-21 14:47:25.720 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  <==      Total: 1
2020-11-21 14:47:25.720 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==>  Preparing: select time from email_history_info where id =? 
2020-11-21 14:47:25.720 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==> Parameters: 1295193707376541696(String)
2020-11-21 14:47:25.737 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  <==      Total: 0
2020-11-21 14:47:25.742 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  <==      Total: 1
2020-11-21 14:47:25.752 INFO  cn.jwis.qualityworkflow.util.EmailService[142]  hualanlan email is test@jwis.cn
2020-11-21 14:47:25.753 DEBUG cn.jwis.qualityworkflow.dao.UserMapper.getSuperior[145]  ==>  Preparing: select superior from department_mapping where user_account = ? and type = ? limit 0,1 
2020-11-21 14:47:25.753 DEBUG cn.jwis.qualityworkflow.dao.UserMapper.getSuperior[145]  ==> Parameters: hualanlan(String), QIMS(String)
2020-11-21 14:47:25.759 INFO  cn.jwis.qualityworkflow.util.EmailService[142]  kiween email is 
2020-11-21 14:47:25.759 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==>  Preparing: select time from email_history_info where id =? 
2020-11-21 14:47:25.759 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==> Parameters: 1309046852858937344(String)
2020-11-21 14:47:25.760 INFO  cn.jwis.qualityworkflow.util.EmailService[142]  xujinbiao email is 
2020-11-21 14:47:25.760 DEBUG cn.jwis.qualityworkflow.dao.UserMapper.getSuperior[145]  ==>  Preparing: select superior from department_mapping where user_account = ? and type = ? limit 0,1 
2020-11-21 14:47:25.760 DEBUG cn.jwis.qualityworkflow.dao.UserMapper.getSuperior[145]  ==> Parameters: xujinbiao(String), COMMON(String)
2020-11-21 14:47:25.808 DEBUG cn.jwis.qualityworkflow.dao.UserMapper.getSuperior[145]  <==      Total: 1
2020-11-21 14:47:25.808 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  <==      Total: 0
2020-11-21 14:47:25.808 DEBUG c.j.q.dao.UserMapper.getSuperiorManagerByUser[145]  ==>  Preparing: select superior_manager from department_mapping where user_account = ? and type = ? limit 0,1 
2020-11-21 14:47:25.808 DEBUG c.j.q.dao.UserMapper.getSuperiorManagerByUser[145]  ==> Parameters: hualanlan(String), QIMS(String)
2020-11-21 14:47:25.809 DEBUG cn.jwis.qualityworkflow.dao.UserMapper.getSuperior[145]  <==      Total: 1
2020-11-21 14:47:25.941 DEBUG c.j.q.dao.UserMapper.getSuperiorManagerByUser[145]  <==      Total: 1
2020-11-21 14:47:25.942 INFO  cn.jwis.qualityworkflow.util.EmailService[142]  hualanlan email is test@jwis.cn
2020-11-21 14:47:25.942 INFO  cn.jwis.qualityworkflow.util.EmailService[142]  codisan email is kelvin@jwis.cn
2020-11-21 14:47:25.942 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==>  Preparing: select time from email_history_info where id =? 
2020-11-21 14:47:25.943 DEBUG c.j.qualityworkflow.dao.CommonMapper.getKeyToName[145]  ==>  Preparing: SELECT * FROM key_to_name 
2020-11-21 14:47:25.943 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==> Parameters: 1315248790789160960(String)
2020-11-21 14:47:25.943 DEBUG c.j.qualityworkflow.dao.CommonMapper.getKeyToName[145]  ==> Parameters: 
2020-11-21 14:47:26.031 DEBUG c.j.qualityworkflow.dao.CommonMapper.getKeyToName[145]  <==      Total: 8
2020-11-21 14:47:26.031 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  <==      Total: 1
2020-11-21 14:47:26.031 INFO  cn.jwis.qualityworkflow.util.EmailService[142]  workflow3 email is null
2020-11-21 14:47:26.032 INFO  cn.jwis.qualityworkflow.util.EmailService[74]  haomiao.liu@jwis.cn send a Mail to kelvin@jwis.cn fail, because null
2020-11-21 14:47:26.068 INFO  cn.jwis.qualityworkflow.util.EmailService[142]  zhouxianling email is 
2020-11-21 14:47:26.068 DEBUG c.j.qualityworkflow.dao.TaskRecordMapper.getById[145]  ==>  Preparing: SELECT * from task_record WHERE id = ? 
2020-11-21 14:47:26.068 INFO  cn.jwis.qualityworkflow.util.EmailService[142]  dz_gyb1 email is test@jwis.cn
2020-11-21 14:47:26.068 DEBUG c.j.qualityworkflow.dao.TaskRecordMapper.getById[145]  ==> Parameters: 1287933861786812416(String)
2020-11-21 14:47:26.068 DEBUG cn.jwis.qualityworkflow.dao.UserMapper.getSuperior[145]  ==>  Preparing: select superior from department_mapping where user_account = ? and type = ? limit 0,1 
2020-11-21 14:47:26.069 DEBUG cn.jwis.qualityworkflow.dao.UserMapper.getSuperior[145]  ==> Parameters: dz_gyb1(String), COMMON(String)
2020-11-21 14:47:26.098 DEBUG c.j.qualityworkflow.dao.TaskRecordMapper.getById[145]  <==      Total: 1
2020-11-21 14:47:26.098 DEBUG c.j.qualityworkflow.dao.CommonMapper.getKeyToName[145]  ==>  Preparing: SELECT * FROM key_to_name 
2020-11-21 14:47:26.099 DEBUG c.j.qualityworkflow.dao.CommonMapper.getKeyToName[145]  ==> Parameters: 
2020-11-21 14:47:26.177 DEBUG cn.jwis.qualityworkflow.dao.UserMapper.getSuperior[145]  <==      Total: 1
2020-11-21 14:47:26.187 DEBUG c.j.qualityworkflow.dao.CommonMapper.getKeyToName[145]  <==      Total: 8
2020-11-21 14:47:26.188 INFO  cn.jwis.qualityworkflow.util.EmailService[71]  haomiao.liu@jwis.cn send a Mail to test@jwis.cn
2020-11-21 14:47:26.219 INFO  cn.jwis.qualityworkflow.util.EmailService[142]  dz_gyb2 email is jian.song@jwis.cn
2020-11-21 14:47:26.220 DEBUG c.j.qualityworkflow.dao.CommonMapper.getKeyToName[145]  ==>  Preparing: SELECT * FROM key_to_name 
2020-11-21 14:47:26.220 DEBUG c.j.qualityworkflow.dao.CommonMapper.getKeyToName[145]  ==> Parameters: 
2020-11-21 14:47:26.248 DEBUG c.j.qualityworkflow.dao.CommonMapper.getKeyToName[145]  <==      Total: 8
2020-11-21 14:47:26.248 DEBUG c.j.q.m.l.d.L.getLineQualifyDetailednessInfo[145]  ==>  Preparing: SELECT q.*,ar.processInstanceId ,ar.taskId,ar.assignee,ar.taskState,ar.taskName FROM line_qualify_info q,(SELECT workflow_business_id, process_instance_id as processInstanceId,task_id as taskId,assignee,task_state as taskState,task_name taskName FROM task_record WHERE task_id=?) ar where q.id=ar.workflow_business_id 
2020-11-21 14:47:26.248 DEBUG c.j.q.m.l.d.L.getLineQualifyDetailednessInfo[145]  ==> Parameters: 5506556(String)
2020-11-21 14:47:26.283 DEBUG c.j.q.m.l.d.L.getLineQualifyDetailednessInfo[145]  <==      Total: 1
2020-11-21 14:47:26.284 INFO  cn.jwis.qualityworkflow.util.EmailService[69]  haomiao.liu@jwis.cn send a Mail to test@jwis.cn and make a copy for [jian.song@jwis.cn]
2020-11-21 14:47:26.798 ERROR o.s.s.support.TaskUtils$LoggingErrorHandler[96] org.springframework.mail.MailSendException: Failed messages: javax.mail.SendFailedException: Invalid Addresses;
  nested exception is:
	com.sun.mail.smtp.SMTPAddressFailedException: 554 RCPT (kelvin@jwis.cn) dosn't exist

	at org.springframework.mail.javamail.JavaMailSenderImpl.doSend(JavaMailSenderImpl.java:488)
	at org.springframework.mail.javamail.JavaMailSenderImpl.send(JavaMailSenderImpl.java:359)
	at org.springframework.mail.javamail.JavaMailSenderImpl.send(JavaMailSenderImpl.java:354)
	at cn.jwis.qualityworkflow.util.EmailService.sendHtmlMail(EmailService.java:76)
	at cn.jwis.qualityworkflow.modules.qims.service.imp.QimsSendMailServiceImpl.sendEmailTohandler(QimsSendMailServiceImpl.java:161)
	at cn.jwis.qualityworkflow.modules.ipqc.service.imp.AuditQualityProblemServiceImpl.qimsSendMail(AuditQualityProblemServiceImpl.java:321)
	at cn.jwis.qualityworkflow.modules.ipqc.service.imp.AuditQualityProblemServiceImpl$$FastClassBySpringCGLIB$$15ff325f.invoke(<generated>)
	at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:684)
	at cn.jwis.qualityworkflow.modules.ipqc.service.imp.AuditQualityProblemServiceImpl$$EnhancerBySpringCGLIB$$7c12bff2.qimsSendMail(<generated>)
	at cn.jwis.qualityworkflow.modules.ipqc.job.ipqcMailJob.qimsSendMail(ipqcMailJob.java:28)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.springframework.scheduling.support.ScheduledMethodRunnable.run(ScheduledMethodRunnable.java:84)
	at org.springframework.scheduling.support.DelegatingErrorHandlingRunnable.run(DelegatingErrorHandlingRunnable.java:54)
	at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:511)
	at java.util.concurrent.FutureTask.runAndReset(FutureTask.java:308)
	at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.access$301(ScheduledThreadPoolExecutor.java:180)
	at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:294)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)
 Unexpected error occurred in scheduled task.
2020-11-21 14:47:26.852 ERROR o.s.s.support.TaskUtils$LoggingErrorHandler[96] org.springframework.mail.MailSendException: Failed messages: javax.mail.SendFailedException: Invalid Addresses;
  nested exception is:
	com.sun.mail.smtp.SMTPAddressFailedException: 554 RCPT (test@jwis.cn) dosn't exist

	at org.springframework.mail.javamail.JavaMailSenderImpl.doSend(JavaMailSenderImpl.java:488)
	at org.springframework.mail.javamail.JavaMailSenderImpl.send(JavaMailSenderImpl.java:359)
	at org.springframework.mail.javamail.JavaMailSenderImpl.send(JavaMailSenderImpl.java:354)
	at cn.jwis.qualityworkflow.util.EmailService.sendHtmlMail(EmailService.java:76)
	at cn.jwis.qualityworkflow.modules.qims.service.imp.QimsSendMailServiceImpl.sendEmailTohandler(QimsSendMailServiceImpl.java:161)
	at cn.jwis.qualityworkflow.modules.qims.service.imp.QimsSendMailServiceImpl.qimsSendMail(QimsSendMailServiceImpl.java:90)
	at cn.jwis.qualityworkflow.modules.qims.job.qimsMailJob.qimsSendMail(qimsMailJob.java:49)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.springframework.scheduling.support.ScheduledMethodRunnable.run(ScheduledMethodRunnable.java:84)
	at org.springframework.scheduling.support.DelegatingErrorHandlingRunnable.run(DelegatingErrorHandlingRunnable.java:54)
	at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:511)
	at java.util.concurrent.FutureTask.runAndReset(FutureTask.java:308)
	at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.access$301(ScheduledThreadPoolExecutor.java:180)
	at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:294)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)
 Unexpected error occurred in scheduled task.
2020-11-21 14:47:26.974 ERROR o.s.s.support.TaskUtils$LoggingErrorHandler[96] org.springframework.mail.MailSendException: Failed messages: javax.mail.SendFailedException: Invalid Addresses;
  nested exception is:
	com.sun.mail.smtp.SMTPAddressFailedException: 554 RCPT (test@jwis.cn) dosn't exist
;
  nested exception is:
	com.sun.mail.smtp.SMTPAddressFailedException: 554 RCPT (jian.song@jwis.cn) dosn't exist

	at org.springframework.mail.javamail.JavaMailSenderImpl.doSend(JavaMailSenderImpl.java:488)
	at org.springframework.mail.javamail.JavaMailSenderImpl.send(JavaMailSenderImpl.java:359)
	at org.springframework.mail.javamail.JavaMailSenderImpl.send(JavaMailSenderImpl.java:354)
	at cn.jwis.qualityworkflow.util.EmailService.sendHtmlMail(EmailService.java:76)
	at cn.jwis.qualityworkflow.modules.linequalify.service.imp.LineQualifyServiceImpl.sendEmailTohandler(LineQualifyServiceImpl.java:617)
	at cn.jwis.qualityworkflow.modules.linequalify.service.imp.LineQualifyServiceImpl.sendOverTimeMail(LineQualifyServiceImpl.java:594)
	at cn.jwis.qualityworkflow.modules.linequalify.service.imp.LineQualifyServiceImpl$$FastClassBySpringCGLIB$$4ca6f597.invoke(<generated>)
	at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:684)
	at cn.jwis.qualityworkflow.modules.linequalify.service.imp.LineQualifyServiceImpl$$EnhancerBySpringCGLIB$$c381cc9a.sendOverTimeMail(<generated>)
	at cn.jwis.qualityworkflow.modules.linequalify.job.LineQualifyMailJob.sendOverTimeMail(LineQualifyMailJob.java:30)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.springframework.scheduling.support.ScheduledMethodRunnable.run(ScheduledMethodRunnable.java:84)
	at org.springframework.scheduling.support.DelegatingErrorHandlingRunnable.run(DelegatingErrorHandlingRunnable.java:54)
	at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:511)
	at java.util.concurrent.FutureTask.runAndReset(FutureTask.java:308)
	at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.access$301(ScheduledThreadPoolExecutor.java:180)
	at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:294)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)
 Unexpected error occurred in scheduled task.
2020-11-21 14:48:13.742 INFO  cn.jwis.configration.clientUtil.ConfigCenterHelper[40]  Loading config by :http://10.159.65.221:14200/configCenter/findConfig?side=server&serviceName=pqm-quality-workflow-service&env=dev&configType=properties
2020-11-21 14:48:13.746 INFO  cn.jwis.configration.clientUtil.HttpClientUtil[51]  Http Request:http://10.159.65.221:14200/configCenter/findConfig?side=server&serviceName=pqm-quality-workflow-service&env=dev&configType=properties
2020-11-21 14:48:29.411 ERROR cn.jwis.configration.clientUtil.HttpClientUtil[77]  send Http Request to:http://10.159.65.221:14200/configCenter/findConfig?side=server&serviceName=pqm-quality-workflow-service&env=dev&configType=properties ,has errors:Connect to 10.159.65.221:14200 [/10.159.65.221] failed: connect timed out
2020-11-21 14:48:29.412 INFO  cn.jwis.configration.clientUtil.ConfigCenterHelper[43]  Get config :
2020-11-21 14:48:29.454 ERROR cn.jwis.configration.clientUtil.ConfigCenterHelper[56]  null
2020-11-21 14:48:29.767 INFO  cn.jwis.qualityworkflow.Application[50]  Starting Application on THINK-Lx with PID 8536 (C:\Users\THINK\Desktop\QMS-Server\quality-workflow-service\target\classes started by THINK in C:\Users\THINK\Desktop\QMS-Server\quality-workflow-service)
2020-11-21 14:48:29.768 DEBUG cn.jwis.qualityworkflow.Application[53]  Running with Spring Boot v2.1.0.RELEASE, Spring v5.1.2.RELEASE
2020-11-21 14:48:29.769 INFO  cn.jwis.qualityworkflow.Application[679]  The following profiles are active: dev
2020-11-21 14:48:31.276 INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker[330]  Bean 'org.springframework.amqp.rabbit.annotation.RabbitBootstrapConfiguration' of type [org.springframework.amqp.rabbit.annotation.RabbitBootstrapConfiguration$$EnhancerBySpringCGLIB$$c249397c] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2020-11-21 14:48:31.350 INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker[330]  Bean 'org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration' of type [org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration$$EnhancerBySpringCGLIB$$fbdd7b4e] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2020-11-21 14:48:31.893 INFO  o.s.boot.web.embedded.tomcat.TomcatWebServer[90]  Tomcat initialized with port(s): 8115 (http)
2020-11-21 14:48:31.906 INFO  org.apache.coyote.http11.Http11NioProtocol[173]  Initializing ProtocolHandler ["http-nio-8115"]
2020-11-21 14:48:31.911 INFO  org.apache.catalina.core.StandardService[173]  Starting service [Tomcat]
2020-11-21 14:48:31.912 INFO  org.apache.catalina.core.StandardEngine[173]  Starting Servlet Engine: Apache Tomcat/9.0.12
2020-11-21 14:48:31.918 INFO  org.apache.catalina.core.AprLifecycleListener[173]  The APR based Apache Tomcat Native library which allows optimal performance in production environments was not found on the java.library.path: [C:\Program Files\Java\jdk1.8.0_192\bin;C:\Windows\Sun\Java\bin;C:\Windows\system32;C:\Windows;C:\Program Files\Java\jdk1.8.0_192\bin;C:\Program Files\Java\jdk1.8.0_192\jre\bin;D:\java\apache-maven-3.6.0\bin;C:\Program Files (x86)\Common Files\Oracle\Java\javapath;C:\Windows\system32;C:\Windows;C:\Windows\System32\Wbem;C:\Windows\System32\WindowsPowerShell\v1.0\;D:\job\Git\cmd;C:\Program Files\TortoiseGit\bin;C:\Program Files\nodejs\;D:\java\mysql\mysql-5.7.11-winx64\bin;D:\job\Microsoft VS Code\bin;C:\Program Files\Microsoft VS Code\bin;C:\Users\THINK\AppData\Roaming\npm;.]
2020-11-21 14:48:32.021 INFO  o.a.c.core.ContainerBase.[Tomcat].[localhost].[/][173]  Initializing Spring embedded WebApplicationContext
2020-11-21 14:48:32.022 INFO  org.springframework.web.context.ContextLoader[285]  Root WebApplicationContext: initialization completed in 2215 ms
2020-11-21 14:48:32.060 INFO  o.s.boot.web.servlet.ServletRegistrationBean[186]  Servlet dispatcherServlet mapped to [/]
2020-11-21 14:48:32.064 INFO  o.s.boot.web.servlet.FilterRegistrationBean[248]  Mapping filter: 'characterEncodingFilter' to: [/*]
2020-11-21 14:48:32.065 INFO  o.s.boot.web.servlet.FilterRegistrationBean[248]  Mapping filter: 'hiddenHttpMethodFilter' to: [/*]
2020-11-21 14:48:32.065 INFO  o.s.boot.web.servlet.FilterRegistrationBean[248]  Mapping filter: 'formContentFilter' to: [/*]
2020-11-21 14:48:32.066 INFO  o.s.boot.web.servlet.FilterRegistrationBean[248]  Mapping filter: 'requestContextFilter' to: [/*]
2020-11-21 14:48:34.411 INFO  o.s.scheduling.concurrent.ThreadPoolTaskExecutor[171]  Initializing ExecutorService 'applicationTaskExecutor'
2020-11-21 14:48:34.899 INFO  s.d.s.web.plugins.DocumentationPluginsBootstrapper[120]  Context refreshed
2020-11-21 14:48:34.913 INFO  s.d.s.web.plugins.DocumentationPluginsBootstrapper[123]  Found 1 custom documentation plugin(s)
2020-11-21 14:48:34.930 INFO  s.d.spring.web.scanners.ApiListingReferenceScanner[41]  Scanning for api listing references
2020-11-21 14:48:35.315 INFO  s.d.s.w.r.operation.CachingOperationNameGenerator[40]  Generating unique operation named: confirmUsingPOST_1
2020-11-21 14:48:35.709 INFO  s.d.s.w.r.operation.CachingOperationNameGenerator[40]  Generating unique operation named: exportUnseasonalBolaUsingGET_1
2020-11-21 14:48:35.715 INFO  s.d.s.w.r.operation.CachingOperationNameGenerator[40]  Generating unique operation named: exportUnseasonalListUsingPOST_1
2020-11-21 14:48:35.723 INFO  s.d.s.w.r.operation.CachingOperationNameGenerator[40]  Generating unique operation named: getAllAndCloseUsingPOST_1
2020-11-21 14:48:35.729 INFO  s.d.s.w.r.operation.CachingOperationNameGenerator[40]  Generating unique operation named: getAllDataUsingPOST_1
2020-11-21 14:48:35.736 INFO  s.d.s.w.r.operation.CachingOperationNameGenerator[40]  Generating unique operation named: getBlackDetailsUsingPOST_1
2020-11-21 14:48:35.743 INFO  s.d.s.w.r.operation.CachingOperationNameGenerator[40]  Generating unique operation named: getDashBoardCloseUsingPOST_1
2020-11-21 14:48:35.751 INFO  s.d.s.w.r.operation.CachingOperationNameGenerator[40]  Generating unique operation named: getDashBoardNotCloseUsingPOST_1
2020-11-21 14:48:35.757 INFO  s.d.s.w.r.operation.CachingOperationNameGenerator[40]  Generating unique operation named: getOverdueUsingPOST_1
2020-11-21 14:48:35.764 INFO  s.d.s.w.r.operation.CachingOperationNameGenerator[40]  Generating unique operation named: getUnseasonalBolaUsingGET_1
2020-11-21 14:48:35.770 INFO  s.d.s.w.r.operation.CachingOperationNameGenerator[40]  Generating unique operation named: getUnseasonalListUsingPOST_1
2020-11-21 14:48:35.778 INFO  s.d.s.w.r.operation.CachingOperationNameGenerator[40]  Generating unique operation named: confirmUsingPOST_2
2020-11-21 14:48:35.816 INFO  s.d.s.w.r.operation.CachingOperationNameGenerator[40]  Generating unique operation named: getLatestRecordContentUsingGET_1
2020-11-21 14:48:35.836 INFO  s.d.s.w.r.operation.CachingOperationNameGenerator[40]  Generating unique operation named: saveRecordContentUsingPOST_1
2020-11-21 14:48:35.859 INFO  s.d.s.w.r.operation.CachingOperationNameGenerator[40]  Generating unique operation named: getDropdownValueUsingGET_1
2020-11-21 14:48:35.880 INFO  s.d.s.w.r.operation.CachingOperationNameGenerator[40]  Generating unique operation named: confirmUsingPOST_3
2020-11-21 14:48:35.889 INFO  s.d.s.w.r.operation.CachingOperationNameGenerator[40]  Generating unique operation named: getDropdownValueUsingGET_2
2020-11-21 14:48:35.897 INFO  s.d.s.w.r.operation.CachingOperationNameGenerator[40]  Generating unique operation named: getLatestRecordContentUsingGET_2
2020-11-21 14:48:35.913 INFO  s.d.s.w.r.operation.CachingOperationNameGenerator[40]  Generating unique operation named: exportEsdAdministrationUsingPOST_1
2020-11-21 14:48:35.946 INFO  s.d.s.w.r.operation.CachingOperationNameGenerator[40]  Generating unique operation named: getDropdownValueUsingGET_3
2020-11-21 14:48:36.013 INFO  s.d.s.w.r.operation.CachingOperationNameGenerator[40]  Generating unique operation named: confirmUsingPOST_4
2020-11-21 14:48:36.029 INFO  s.d.s.w.r.operation.CachingOperationNameGenerator[40]  Generating unique operation named: getDropdownValueUsingGET_4
2020-11-21 14:48:36.054 INFO  s.d.s.w.r.operation.CachingOperationNameGenerator[40]  Generating unique operation named: getLatestRecordContentUsingGET_3
2020-11-21 14:48:36.128 INFO  s.d.s.w.r.operation.CachingOperationNameGenerator[40]  Generating unique operation named: exportEsdInStanInfoTemplateUsingGET_1
2020-11-21 14:48:36.252 INFO  s.d.s.w.r.operation.CachingOperationNameGenerator[40]  Generating unique operation named: confirmUsingPOST_5
2020-11-21 14:48:36.262 INFO  s.d.s.w.r.operation.CachingOperationNameGenerator[40]  Generating unique operation named: getDropdownValueUsingGET_5
2020-11-21 14:48:36.295 INFO  s.d.s.w.r.operation.CachingOperationNameGenerator[40]  Generating unique operation named: confirmUsingPOST_6
2020-11-21 14:48:36.314 INFO  s.d.s.w.r.operation.CachingOperationNameGenerator[40]  Generating unique operation named: findTableNameBySampleNameUsingGET_1
2020-11-21 14:48:36.354 INFO  s.d.s.w.r.operation.CachingOperationNameGenerator[40]  Generating unique operation named: commonExportTemplateUsingPOST_1
2020-11-21 14:48:36.374 INFO  s.d.s.w.r.operation.CachingOperationNameGenerator[40]  Generating unique operation named: confirmUsingPOST_7
2020-11-21 14:48:36.383 INFO  s.d.s.w.r.operation.CachingOperationNameGenerator[40]  Generating unique operation named: exportEcnInfoUsingPOST_1
2020-11-21 14:48:36.386 INFO  s.d.s.w.r.operation.CachingOperationNameGenerator[40]  Generating unique operation named: getDetailednessInfoUsingPOST_1
2020-11-21 14:48:36.388 INFO  s.d.s.w.r.operation.CachingOperationNameGenerator[40]  Generating unique operation named: getLatestRecordContentUsingGET_4
2020-11-21 14:48:36.394 INFO  s.d.s.w.r.operation.CachingOperationNameGenerator[40]  Generating unique operation named: getPullDownValueUsingGET_1
2020-11-21 14:48:36.397 INFO  s.d.s.w.r.operation.CachingOperationNameGenerator[40]  Generating unique operation named: saveRecordContentUsingPOST_2
2020-11-21 14:48:36.414 INFO  s.d.s.w.r.operation.CachingOperationNameGenerator[40]  Generating unique operation named: exportDetailsUsingPOST_1
2020-11-21 14:48:36.420 INFO  s.d.s.w.r.operation.CachingOperationNameGenerator[40]  Generating unique operation named: exportUnseasonalBolaUsingGET_2
2020-11-21 14:48:36.427 INFO  s.d.s.w.r.operation.CachingOperationNameGenerator[40]  Generating unique operation named: exportUnseasonalListUsingPOST_2
2020-11-21 14:48:36.433 INFO  s.d.s.w.r.operation.CachingOperationNameGenerator[40]  Generating unique operation named: getAllAndCloseUsingPOST_2
2020-11-21 14:48:36.439 INFO  s.d.s.w.r.operation.CachingOperationNameGenerator[40]  Generating unique operation named: getAllDataUsingPOST_2
2020-11-21 14:48:36.445 INFO  s.d.s.w.r.operation.CachingOperationNameGenerator[40]  Generating unique operation named: getDashBoardCloseUsingPOST_2
2020-11-21 14:48:36.452 INFO  s.d.s.w.r.operation.CachingOperationNameGenerator[40]  Generating unique operation named: getDashBoardNotCloseUsingPOST_2
2020-11-21 14:48:36.465 INFO  s.d.s.w.r.operation.CachingOperationNameGenerator[40]  Generating unique operation named: getOverdueUsingPOST_2
2020-11-21 14:48:36.472 INFO  s.d.s.w.r.operation.CachingOperationNameGenerator[40]  Generating unique operation named: getUnseasonalBolaUsingGET_2
2020-11-21 14:48:36.478 INFO  s.d.s.w.r.operation.CachingOperationNameGenerator[40]  Generating unique operation named: getUnseasonalListUsingPOST_2
2020-11-21 14:48:36.497 INFO  s.d.s.w.r.operation.CachingOperationNameGenerator[40]  Generating unique operation named: getDropdownValueUsingGET_6
2020-11-21 14:48:36.544 INFO  s.d.s.w.r.operation.CachingOperationNameGenerator[40]  Generating unique operation named: confirmUsingPOST_8
2020-11-21 14:48:36.572 INFO  s.d.s.w.r.operation.CachingOperationNameGenerator[40]  Generating unique operation named: getDropdownValueUsingGET_7
2020-11-21 14:48:36.611 INFO  s.d.s.w.r.operation.CachingOperationNameGenerator[40]  Generating unique operation named: exportInfoUsingPOST_1
2020-11-21 14:48:36.617 INFO  s.d.s.w.r.operation.CachingOperationNameGenerator[40]  Generating unique operation named: getAddCountUsingPOST_1
2020-11-21 14:48:36.625 INFO  s.d.s.w.r.operation.CachingOperationNameGenerator[40]  Generating unique operation named: getDashBoardCountUsingPOST_1
2020-11-21 14:48:36.636 INFO  s.d.s.w.r.operation.CachingOperationNameGenerator[40]  Generating unique operation named: getInfoListUsingPOST_1
2020-11-21 14:48:36.639 INFO  s.d.s.w.r.operation.CachingOperationNameGenerator[40]  Generating unique operation named: getLatestRecordContentUsingGET_5
2020-11-21 14:48:36.648 INFO  s.d.s.w.r.operation.CachingOperationNameGenerator[40]  Generating unique operation named: getOverdueCountUsingPOST_1
2020-11-21 14:48:36.652 INFO  s.d.s.w.r.operation.CachingOperationNameGenerator[40]  Generating unique operation named: getProcessingCountUsingPOST_1
2020-11-21 14:48:36.656 INFO  s.d.s.w.r.operation.CachingOperationNameGenerator[40]  Generating unique operation named: getPullDownValueUsingGET_2
2020-11-21 14:48:36.669 INFO  s.d.s.w.r.operation.CachingOperationNameGenerator[40]  Generating unique operation named: insertUsingPOST_1
2020-11-21 14:48:36.673 INFO  s.d.s.w.r.operation.CachingOperationNameGenerator[40]  Generating unique operation named: saveRecordContentUsingPOST_3
2020-11-21 14:48:36.708 INFO  s.d.s.w.r.operation.CachingOperationNameGenerator[40]  Generating unique operation named: getInfoListUsingPOST_2
2020-11-21 14:48:36.715 INFO  s.d.s.w.r.operation.CachingOperationNameGenerator[40]  Generating unique operation named: getPullDownValueUsingGET_3
2020-11-21 14:48:36.724 INFO  s.d.s.w.r.operation.CachingOperationNameGenerator[40]  Generating unique operation named: insertUsingPOST_2
2020-11-21 14:48:36.738 INFO  s.d.s.w.r.operation.CachingOperationNameGenerator[40]  Generating unique operation named: getAuditListInfoByIdUsingPOST_1
2020-11-21 14:48:36.769 INFO  s.d.s.w.r.operation.CachingOperationNameGenerator[40]  Generating unique operation named: confirmUsingPOST_9
2020-11-21 14:48:36.783 INFO  s.d.s.w.r.operation.CachingOperationNameGenerator[40]  Generating unique operation named: getLatestRecordContentUsingPOST_1
2020-11-21 14:48:36.809 INFO  s.d.s.w.r.operation.CachingOperationNameGenerator[40]  Generating unique operation named: saveRecordContentUsingPOST_4
2020-11-21 14:48:36.818 INFO  s.d.s.w.r.operation.CachingOperationNameGenerator[40]  Generating unique operation named: confirmUsingPOST_10
2020-11-21 14:48:36.849 INFO  s.d.s.w.r.operation.CachingOperationNameGenerator[40]  Generating unique operation named: getDropdownValueUsingGET_8
2020-11-21 14:48:36.854 INFO  s.d.s.w.r.operation.CachingOperationNameGenerator[40]  Generating unique operation named: getLatestRecordContentUsingGET_6
2020-11-21 14:48:36.951 INFO  s.d.s.w.r.operation.CachingOperationNameGenerator[40]  Generating unique operation named: confirmUsingPOST_11
2020-11-21 14:48:36.978 INFO  s.d.s.w.r.operation.CachingOperationNameGenerator[40]  Generating unique operation named: getDropdownValueUsingGET_9
2020-11-21 14:48:36.984 INFO  s.d.s.w.r.operation.CachingOperationNameGenerator[40]  Generating unique operation named: getLatestRecordContentUsingGET_7
2020-11-21 14:48:37.004 INFO  s.d.s.w.r.operation.CachingOperationNameGenerator[40]  Generating unique operation named: getSuperiorUsingGET_1
2020-11-21 14:48:37.044 INFO  s.d.s.w.r.operation.CachingOperationNameGenerator[40]  Generating unique operation named: confirmUsingPOST_12
2020-11-21 14:48:37.078 INFO  s.d.s.w.r.operation.CachingOperationNameGenerator[40]  Generating unique operation named: getDetailednessInfoUsingPOST_2
2020-11-21 14:48:37.082 INFO  s.d.s.w.r.operation.CachingOperationNameGenerator[40]  Generating unique operation named: getLatestRecordContentUsingGET_8
2020-11-21 14:48:37.098 INFO  s.d.s.w.r.operation.CachingOperationNameGenerator[40]  Generating unique operation named: getPullDownValueUsingGET_4
2020-11-21 14:48:37.123 INFO  s.d.s.w.r.operation.CachingOperationNameGenerator[40]  Generating unique operation named: saveRecordContentUsingPOST_5
2020-11-21 14:48:37.146 INFO  s.d.s.w.r.operation.CachingOperationNameGenerator[40]  Generating unique operation named: confirmUsingPOST_13
2020-11-21 14:48:37.158 INFO  s.d.s.w.r.operation.CachingOperationNameGenerator[40]  Generating unique operation named: exportInfoUsingPOST_2
2020-11-21 14:48:37.162 INFO  s.d.s.w.r.operation.CachingOperationNameGenerator[40]  Generating unique operation named: getDetailednessInfoUsingPOST_3
2020-11-21 14:48:37.170 INFO  s.d.s.w.r.operation.CachingOperationNameGenerator[40]  Generating unique operation named: getInfoListUsingPOST_3
2020-11-21 14:48:37.175 INFO  s.d.s.w.r.operation.CachingOperationNameGenerator[40]  Generating unique operation named: getPullDownValueUsingGET_5
2020-11-21 14:48:37.179 INFO  s.d.s.w.r.operation.CachingOperationNameGenerator[40]  Generating unique operation named: saveRecordContentUsingPOST_6
2020-11-21 14:48:37.189 INFO  s.d.s.w.r.operation.CachingOperationNameGenerator[40]  Generating unique operation named: getProgressUsingGET_1
2020-11-21 14:48:37.313 INFO  s.d.s.w.r.operation.CachingOperationNameGenerator[40]  Generating unique operation named: exportTraceablityManUsingPOST_1
2020-11-21 14:48:37.373 INFO  s.d.s.w.r.operation.CachingOperationNameGenerator[40]  Generating unique operation named: getSuperiorUsingGET_2
2020-11-21 14:48:37.444 INFO  o.s.scheduling.concurrent.ThreadPoolTaskScheduler[171]  Initializing ExecutorService
2020-11-21 14:48:37.448 INFO  c.j.qualityworkflow.modules.ipqc.job.ipqcMailJob[27]  查询IPQC超时任务
2020-11-21 14:48:37.453 INFO  org.apache.coyote.http11.Http11NioProtocol[173]  Starting ProtocolHandler ["http-nio-8115"]
2020-11-21 14:48:37.465 INFO  org.apache.tomcat.util.net.NioSelectorPool[173]  Using a shared selector for servlet write/read
2020-11-21 14:48:37.473 INFO  com.zaxxer.hikari.HikariDataSource[110]  HikariPool-1 - Starting...
2020-11-21 14:48:37.476 WARN  com.zaxxer.hikari.util.DriverDataSource[68]  Registered driver with driverClassName=com.mysql.jdbc.Driver was not found, trying direct instantiation.
2020-11-21 14:48:37.485 INFO  o.s.boot.web.embedded.tomcat.TomcatWebServer[204]  Tomcat started on port(s): 8115 (http) with context path ''
2020-11-21 14:48:37.489 INFO  cn.jwis.qualityworkflow.Application[59]  Started Application in 8.033 seconds (JVM running for 24.818)
2020-11-21 14:48:37.715 INFO  com.zaxxer.hikari.HikariDataSource[123]  HikariPool-1 - Start completed.
2020-11-21 14:48:37.723 DEBUG c.j.q.dao.TaskRecordMapper.getOverTimeTaskRecord[145]  ==>  Preparing: SELECT *, HOUR(timediff(now() , create_date)) overTimeNum FROM task_record WHERE template_key = ? AND task_state IS NULL AND task_name = ? AND HOUR(timediff(now() , create_date)) >= ? 
2020-11-21 14:48:37.748 DEBUG c.j.q.dao.TaskRecordMapper.getOverTimeTaskRecord[145]  ==> Parameters: Line Qualify(String), 文件收集(String), 2(Integer)
2020-11-21 14:48:37.788 DEBUG c.j.q.dao.TaskRecordMapper.getOverTimeTaskRecord[145]  <==      Total: 8
2020-11-21 14:48:37.790 DEBUG c.j.q.m.qims.dao.BlackDashBoardMapper.getHoliday[145]  ==>  Preparing: SELECT DISTINCT date FROM holiday_maintenance WHERE type = '节假日' 
2020-11-21 14:48:37.790 DEBUG c.j.q.dao.TaskRecordMapper.getOverTimeTaskRecord2[145]  ==>  Preparing: SELECT *, HOUR(timediff(now() , create_date)) overTimeNum FROM task_record WHERE template_key = ? AND task_state IS NULL AND HOUR(timediff(now() , create_date)) >= ? 
2020-11-21 14:48:37.791 DEBUG c.j.q.dao.TaskRecordMapper.getOverTimeTaskRecord2[145]  ==> Parameters: IPQCAuditProcess(String), 24(Integer)
2020-11-21 14:48:37.791 DEBUG c.j.q.m.qims.dao.BlackDashBoardMapper.getHoliday[145]  ==> Parameters: 
2020-11-21 14:48:37.803 DEBUG c.j.q.m.qims.dao.BlackDashBoardMapper.getHoliday[145]  <==      Total: 6
2020-11-21 14:48:37.804 DEBUG c.j.q.dao.TaskRecordMapper.getOverTimeTaskRecord[145]  ==>  Preparing: SELECT *, HOUR(timediff(now() , create_date)) overTimeNum FROM task_record WHERE template_key = ? AND task_state IS NULL AND task_name = ? AND HOUR(timediff(now() , create_date)) >= ? 
2020-11-21 14:48:37.804 DEBUG c.j.q.dao.TaskRecordMapper.getOverTimeTaskRecord[145]  ==> Parameters: FactoryAuditProcess(String), 部门审核(String), 24(Integer)
2020-11-21 14:48:37.813 DEBUG c.j.q.dao.TaskRecordMapper.getOverTimeTaskRecord2[145]  <==      Total: 18
2020-11-21 14:48:37.814 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==>  Preparing: select time from email_history_info where id =? 
2020-11-21 14:48:37.814 DEBUG c.j.q.dao.TaskRecordMapper.getOverTimeTaskRecord[145]  <==      Total: 3
2020-11-21 14:48:37.815 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==> Parameters: 1294123945645047808(String)
2020-11-21 14:48:37.815 DEBUG c.j.q.m.q.d.B.getWorkOvertimeList[145]  ==>  Preparing: SELECT DISTINCT date FROM holiday_maintenance WHERE type = '补班' 
2020-11-21 14:48:37.815 DEBUG c.j.q.m.q.d.B.getWorkOvertimeList[145]  ==> Parameters: 
2020-11-21 14:48:37.823 DEBUG c.j.q.m.q.d.B.getWorkOvertimeList[145]  <==      Total: 4
2020-11-21 14:48:37.823 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==>  Preparing: select time from email_history_info where id =? 
2020-11-21 14:48:37.823 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  <==      Total: 1
2020-11-21 14:48:37.824 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==> Parameters: 1303868320843300864(String)
2020-11-21 14:48:37.824 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==>  Preparing: select time from email_history_info where id =? 
2020-11-21 14:48:37.824 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==> Parameters: 1295192540470837248(String)
2020-11-21 14:48:37.829 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  <==      Total: 1
2020-11-21 14:48:37.830 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getLtStandard[145]  ==>  Preparing: select * from qims_lt_standard_info 
2020-11-21 14:48:37.830 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getLtStandard[145]  ==> Parameters: 
2020-11-21 14:48:37.833 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  <==      Total: 1
2020-11-21 14:48:37.834 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==>  Preparing: select time from email_history_info where id =? 
2020-11-21 14:48:37.835 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==> Parameters: 1303868347422605312(String)
2020-11-21 14:48:37.842 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getLtStandard[145]  <==      Total: 8
2020-11-21 14:48:37.842 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==>  Preparing: select time from email_history_info where id =? 
2020-11-21 14:48:37.843 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==> Parameters: 1295192619508301824(String)
2020-11-21 14:48:37.848 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  <==      Total: 1
2020-11-21 14:48:37.849 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==>  Preparing: select time from email_history_info where id =? 
2020-11-21 14:48:37.850 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==> Parameters: 1303868393815801856(String)
2020-11-21 14:48:37.850 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  <==      Total: 1
2020-11-21 14:48:37.851 INFO  c.j.qualityworkflow.modules.qims.job.qimsMailJob[47]  查询黑色问题超过LT的信息
2020-11-21 14:48:37.851 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==>  Preparing: select time from email_history_info where id =? 
2020-11-21 14:48:37.852 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==> Parameters: 1299240419787276288(String)
2020-11-21 14:48:37.891 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  <==      Total: 1
2020-11-21 14:48:37.892 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  <==      Total: 1
2020-11-21 14:48:37.892 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getBlackList[145]  ==>  Preparing: select * from task_record where task_name in('初步原因分析','根本原因分析','根本原因审核') and task_state is null and template_key='QIMSBLACK' 
2020-11-21 14:48:37.892 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getBlackList[145]  ==> Parameters: 
2020-11-21 14:48:37.893 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==>  Preparing: select time from email_history_info where id =? 
2020-11-21 14:48:37.893 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==> Parameters: 1303937438065885184(String)
2020-11-21 14:48:37.904 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  <==      Total: 1
2020-11-21 14:48:37.905 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==>  Preparing: select time from email_history_info where id =? 
2020-11-21 14:48:37.905 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==> Parameters: 1303939538460082176(String)
2020-11-21 14:48:37.908 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getBlackList[145]  <==      Total: 16
2020-11-21 14:48:37.917 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  <==      Total: 1
2020-11-21 14:48:37.918 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==>  Preparing: select time from email_history_info where id =? 
2020-11-21 14:48:37.919 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==> Parameters: 1303939599889858560(String)
2020-11-21 14:48:37.921 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==>  Preparing: select time from email_history_info where id =? 
2020-11-21 14:48:37.922 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==> Parameters: 1286902446076985344(String)
2020-11-21 14:48:37.928 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  <==      Total: 1
2020-11-21 14:48:37.929 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==>  Preparing: select time from email_history_info where id =? 
2020-11-21 14:48:37.930 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==> Parameters: 1306059696263659520(String)
2020-11-21 14:48:37.930 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  <==      Total: 1
2020-11-21 14:48:37.936 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  <==      Total: 1
2020-11-21 14:48:37.937 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==>  Preparing: select time from email_history_info where id =? 
2020-11-21 14:48:37.937 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==> Parameters: 1306155886347026432(String)
2020-11-21 14:48:37.945 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  <==      Total: 1
2020-11-21 14:48:37.946 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==>  Preparing: select time from email_history_info where id =? 
2020-11-21 14:48:37.946 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==> Parameters: 1306201167000240128(String)
2020-11-21 14:48:37.953 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  <==      Total: 1
2020-11-21 14:48:37.953 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==>  Preparing: select time from email_history_info where id =? 
2020-11-21 14:48:37.954 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==> Parameters: 1308013106458263552(String)
2020-11-21 14:48:37.967 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  <==      Total: 0
2020-11-21 14:48:42.907 DEBUG cn.jwis.qualityworkflow.util.EmailService[144]  get handler mail from http://gateway.dev.jwis.io/platform/sys/user/internal-read?name=dz_gyb1 happen error cause:I/O error on GET request for "http://gateway.dev.jwis.io/platform/sys/user/internal-read": connect timed out; nested exception is java.net.SocketTimeoutException: connect timed out
2020-11-21 14:48:42.907 DEBUG cn.jwis.qualityworkflow.util.EmailService[144]  get handler mail from http://gateway.dev.jwis.io/platform/sys/user/internal-read?name=qualityadmin happen error cause:I/O error on GET request for "http://gateway.dev.jwis.io/platform/sys/user/internal-read": connect timed out; nested exception is java.net.SocketTimeoutException: connect timed out
2020-11-21 14:48:42.926 DEBUG cn.jwis.qualityworkflow.dao.UserMapper.getSuperior[145]  ==>  Preparing: select superior from department_mapping where user_account = ? and type = ? limit 0,1 
2020-11-21 14:48:42.926 DEBUG cn.jwis.qualityworkflow.dao.UserMapper.getSuperior[145]  ==>  Preparing: select superior from department_mapping where user_account = ? and type = ? limit 0,1 
2020-11-21 14:48:42.927 DEBUG cn.jwis.qualityworkflow.dao.UserMapper.getSuperior[145]  ==> Parameters: qualityadmin(String), COMMON(String)
2020-11-21 14:48:42.927 DEBUG cn.jwis.qualityworkflow.dao.UserMapper.getSuperior[145]  ==> Parameters: dz_gyb1(String), COMMON(String)
2020-11-21 14:48:42.931 DEBUG cn.jwis.qualityworkflow.util.EmailService[144]  get handler mail from http://gateway.dev.jwis.io/platform/sys/user/internal-read?name=hualanlan happen error cause:I/O error on GET request for "http://gateway.dev.jwis.io/platform/sys/user/internal-read": connect timed out; nested exception is java.net.SocketTimeoutException: connect timed out
2020-11-21 14:48:42.935 DEBUG cn.jwis.qualityworkflow.dao.UserMapper.getSuperior[145]  <==      Total: 1
2020-11-21 14:48:42.935 DEBUG cn.jwis.qualityworkflow.dao.UserMapper.getSuperior[145]  <==      Total: 1
2020-11-21 14:48:42.942 DEBUG cn.jwis.qualityworkflow.dao.UserMapper.getSuperior[145]  ==>  Preparing: select superior from department_mapping where user_account = ? and type = ? limit 0,1 
2020-11-21 14:48:42.942 DEBUG cn.jwis.qualityworkflow.dao.UserMapper.getSuperior[145]  ==> Parameters: hualanlan(String), QIMS(String)
2020-11-21 14:48:42.952 DEBUG cn.jwis.qualityworkflow.dao.UserMapper.getSuperior[145]  <==      Total: 1
2020-11-21 14:48:42.952 DEBUG c.j.q.dao.UserMapper.getSuperiorManagerByUser[145]  ==>  Preparing: select superior_manager from department_mapping where user_account = ? and type = ? limit 0,1 
2020-11-21 14:48:42.953 DEBUG c.j.q.dao.UserMapper.getSuperiorManagerByUser[145]  ==> Parameters: hualanlan(String), QIMS(String)
2020-11-21 14:48:42.960 DEBUG c.j.q.dao.UserMapper.getSuperiorManagerByUser[145]  <==      Total: 1
2020-11-21 14:48:42.968 DEBUG cn.jwis.qualityworkflow.util.EmailService[144]  get handler mail from http://gateway.dev.jwis.io/platform/sys/user/internal-read?name=kiween happen error cause:I/O error on GET request for "http://gateway.dev.jwis.io/platform/sys/user/internal-read": connect timed out; nested exception is java.net.SocketTimeoutException: connect timed out
2020-11-21 14:48:42.968 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==>  Preparing: select time from email_history_info where id =? 
2020-11-21 14:48:42.969 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==> Parameters: 1308013110702899200(String)
2020-11-21 14:48:42.991 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  <==      Total: 1
2020-11-21 14:48:43.012 INFO  cn.jwis.qualityworkflow.util.EmailService[142]  qualityadmin email is 
2020-11-21 14:48:43.012 INFO  cn.jwis.qualityworkflow.util.EmailService[142]  workflow3 email is null
2020-11-21 14:48:43.012 INFO  cn.jwis.qualityworkflow.util.EmailService[142]  dz_gyb2 email is jian.song@jwis.cn
2020-11-21 14:48:43.012 INFO  c.j.q.m.factoryaudit.job.AuditQuestionMailJob[31]  邮件下发结束
2020-11-21 14:48:43.012 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==>  Preparing: select time from email_history_info where id =? 
2020-11-21 14:48:43.013 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==> Parameters: 1294123945682796544(String)
2020-11-21 14:48:43.021 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  <==      Total: 1
2020-11-21 14:48:43.021 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==>  Preparing: select time from email_history_info where id =? 
2020-11-21 14:48:43.021 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==> Parameters: 1294123945716350976(String)
2020-11-21 14:48:43.028 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  <==      Total: 1
2020-11-21 14:48:43.031 INFO  cn.jwis.qualityworkflow.util.EmailService[142]  qualityadmin email is 
2020-11-21 14:48:43.031 DEBUG cn.jwis.qualityworkflow.dao.UserMapper.getSuperior[145]  ==>  Preparing: select superior from department_mapping where user_account = ? and type = ? limit 0,1 
2020-11-21 14:48:43.032 DEBUG cn.jwis.qualityworkflow.dao.UserMapper.getSuperior[145]  ==> Parameters: qualityadmin(String), COMMON(String)
2020-11-21 14:48:43.032 INFO  cn.jwis.qualityworkflow.util.EmailService[142]  zhouxianling email is 
2020-11-21 14:48:43.038 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==>  Preparing: select time from email_history_info where id =? 
2020-11-21 14:48:43.039 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==> Parameters: 1286904434760089600(String)
2020-11-21 14:48:43.039 DEBUG cn.jwis.qualityworkflow.dao.UserMapper.getSuperior[145]  <==      Total: 1
2020-11-21 14:48:43.048 INFO  cn.jwis.qualityworkflow.util.EmailService[142]  xujinbiao email is 
2020-11-21 14:48:43.049 DEBUG cn.jwis.qualityworkflow.dao.UserMapper.getSuperior[145]  ==>  Preparing: select superior from department_mapping where user_account = ? and type = ? limit 0,1 
2020-11-21 14:48:43.049 DEBUG cn.jwis.qualityworkflow.dao.UserMapper.getSuperior[145]  ==> Parameters: xujinbiao(String), COMMON(String)
2020-11-21 14:48:43.050 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  <==      Total: 1
2020-11-21 14:48:43.062 DEBUG cn.jwis.qualityworkflow.dao.UserMapper.getSuperior[145]  <==      Total: 1
2020-11-21 14:48:43.073 INFO  cn.jwis.qualityworkflow.util.EmailService[142]  qualityadmin email is 
2020-11-21 14:48:43.074 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==>  Preparing: select time from email_history_info where id =? 
2020-11-21 14:48:43.074 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==> Parameters: 1308013113928318976(String)
2020-11-21 14:48:43.081 INFO  cn.jwis.qualityworkflow.util.EmailService[142]  hualanlan email is test@jwis.cn
2020-11-21 14:48:43.082 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==>  Preparing: select time from email_history_info where id =? 
2020-11-21 14:48:43.082 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==> Parameters: 1295193219738370048(String)
2020-11-21 14:48:43.087 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  <==      Total: 1
2020-11-21 14:48:43.087 INFO  cn.jwis.qualityworkflow.util.EmailService[142]  gupp2 email is null
2020-11-21 14:48:43.087 DEBUG cn.jwis.qualityworkflow.dao.UserMapper.getSuperior[145]  ==>  Preparing: select superior from department_mapping where user_account = ? and type = ? limit 0,1 
2020-11-21 14:48:43.088 DEBUG cn.jwis.qualityworkflow.dao.UserMapper.getSuperior[145]  ==> Parameters: gupp2(String), QIMS(String)
2020-11-21 14:48:43.094 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  <==      Total: 1
2020-11-21 14:48:43.094 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==>  Preparing: select time from email_history_info where id =? 
2020-11-21 14:48:43.094 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==> Parameters: 1295193220166189056(String)
2020-11-21 14:48:43.096 DEBUG cn.jwis.qualityworkflow.dao.UserMapper.getSuperior[145]  <==      Total: 0
2020-11-21 14:48:43.096 DEBUG c.j.q.dao.UserMapper.getSuperiorManagerByUser[145]  ==>  Preparing: select superior_manager from department_mapping where user_account = ? and type = ? limit 0,1 
2020-11-21 14:48:43.097 DEBUG c.j.q.dao.UserMapper.getSuperiorManagerByUser[145]  ==> Parameters: gupp2(String), QIMS(String)
2020-11-21 14:48:43.102 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  <==      Total: 1
2020-11-21 14:48:43.103 DEBUG c.j.q.dao.UserMapper.getSuperiorManagerByUser[145]  <==      Total: 0
2020-11-21 14:48:43.106 INFO  cn.jwis.qualityworkflow.util.EmailService[142]  qualityadmin email is 
2020-11-21 14:48:43.106 DEBUG cn.jwis.qualityworkflow.dao.UserMapper.getSuperior[145]  ==>  Preparing: select superior from department_mapping where user_account = ? and type = ? limit 0,1 
2020-11-21 14:48:43.107 DEBUG cn.jwis.qualityworkflow.dao.UserMapper.getSuperior[145]  ==> Parameters: qualityadmin(String), COMMON(String)
2020-11-21 14:48:43.108 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==>  Preparing: select time from email_history_info where id =? 
2020-11-21 14:48:43.109 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==> Parameters: 1286916730144161792(String)
2020-11-21 14:48:43.113 DEBUG cn.jwis.qualityworkflow.dao.UserMapper.getSuperior[145]  <==      Total: 1
2020-11-21 14:48:43.117 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  <==      Total: 1
2020-11-21 14:48:43.119 INFO  cn.jwis.qualityworkflow.util.EmailService[142]  xujinbiao email is 
2020-11-21 14:48:43.120 DEBUG cn.jwis.qualityworkflow.dao.UserMapper.getSuperior[145]  ==>  Preparing: select superior from department_mapping where user_account = ? and type = ? limit 0,1 
2020-11-21 14:48:43.120 DEBUG cn.jwis.qualityworkflow.dao.UserMapper.getSuperior[145]  ==> Parameters: xujinbiao(String), COMMON(String)
2020-11-21 14:48:43.129 DEBUG cn.jwis.qualityworkflow.dao.UserMapper.getSuperior[145]  <==      Total: 1
2020-11-21 14:48:43.136 INFO  cn.jwis.qualityworkflow.util.EmailService[142]  qualityadmin email is 
2020-11-21 14:48:43.136 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==>  Preparing: select time from email_history_info where id =? 
2020-11-21 14:48:43.136 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==> Parameters: 1308013116927246336(String)
2020-11-21 14:48:43.143 INFO  cn.jwis.qualityworkflow.util.EmailService[142]  gupp2 email is null
2020-11-21 14:48:43.144 DEBUG cn.jwis.qualityworkflow.dao.UserMapper.getSuperior[145]  ==>  Preparing: select superior from department_mapping where user_account = ? and type = ? limit 0,1 
2020-11-21 14:48:43.144 DEBUG cn.jwis.qualityworkflow.dao.UserMapper.getSuperior[145]  ==> Parameters: gupp2(String), QIMS(String)
2020-11-21 14:48:43.147 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  <==      Total: 0
2020-11-21 14:48:43.153 DEBUG cn.jwis.qualityworkflow.dao.UserMapper.getSuperior[145]  <==      Total: 0
2020-11-21 14:48:43.154 DEBUG c.j.q.dao.UserMapper.getSuperiorManagerByUser[145]  ==>  Preparing: select superior_manager from department_mapping where user_account = ? and type = ? limit 0,1 
2020-11-21 14:48:43.154 DEBUG c.j.q.dao.UserMapper.getSuperiorManagerByUser[145]  ==> Parameters: gupp2(String), QIMS(String)
2020-11-21 14:48:43.157 INFO  cn.jwis.qualityworkflow.util.EmailService[142]  hualanlan email is test@jwis.cn
2020-11-21 14:48:43.157 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==>  Preparing: select time from email_history_info where id =? 
2020-11-21 14:48:43.157 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==> Parameters: 1295193707351375872(String)
2020-11-21 14:48:43.161 DEBUG c.j.q.dao.UserMapper.getSuperiorManagerByUser[145]  <==      Total: 0
2020-11-21 14:48:43.163 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  <==      Total: 1
2020-11-21 14:48:43.164 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==>  Preparing: select time from email_history_info where id =? 
2020-11-21 14:48:43.164 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==> Parameters: 1295193707376541696(String)
2020-11-21 14:48:43.166 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==>  Preparing: select time from email_history_info where id =? 
2020-11-21 14:48:43.167 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==> Parameters: 1287933861786812416(String)
2020-11-21 14:48:43.169 INFO  cn.jwis.qualityworkflow.util.EmailService[142]  kiween email is 
2020-11-21 14:48:43.169 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==>  Preparing: select time from email_history_info where id =? 
2020-11-21 14:48:43.170 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==> Parameters: 1309046852858937344(String)
2020-11-21 14:48:43.170 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  <==      Total: 1
2020-11-21 14:48:43.173 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  <==      Total: 1
2020-11-21 14:48:43.179 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  <==      Total: 0
2020-11-21 14:48:43.190 INFO  cn.jwis.qualityworkflow.util.EmailService[142]  xujinbiao email is 
2020-11-21 14:48:43.191 DEBUG cn.jwis.qualityworkflow.dao.UserMapper.getSuperior[145]  ==>  Preparing: select superior from department_mapping where user_account = ? and type = ? limit 0,1 
2020-11-21 14:48:43.191 DEBUG cn.jwis.qualityworkflow.dao.UserMapper.getSuperior[145]  ==> Parameters: xujinbiao(String), COMMON(String)
2020-11-21 14:48:43.195 INFO  cn.jwis.qualityworkflow.util.EmailService[142]  hualanlan email is test@jwis.cn
2020-11-21 14:48:43.196 DEBUG cn.jwis.qualityworkflow.dao.UserMapper.getSuperior[145]  ==>  Preparing: select superior from department_mapping where user_account = ? and type = ? limit 0,1 
2020-11-21 14:48:43.196 DEBUG cn.jwis.qualityworkflow.dao.UserMapper.getSuperior[145]  ==> Parameters: hualanlan(String), QIMS(String)
2020-11-21 14:48:43.198 DEBUG cn.jwis.qualityworkflow.dao.UserMapper.getSuperior[145]  <==      Total: 1
2020-11-21 14:48:43.206 INFO  cn.jwis.qualityworkflow.util.EmailService[142]  codisan email is kelvin@jwis.cn
2020-11-21 14:48:43.206 DEBUG cn.jwis.qualityworkflow.dao.UserMapper.getSuperior[145]  <==      Total: 1
2020-11-21 14:48:43.206 DEBUG c.j.q.dao.UserMapper.getSuperiorManagerByUser[145]  ==>  Preparing: select superior_manager from department_mapping where user_account = ? and type = ? limit 0,1 
2020-11-21 14:48:43.206 DEBUG c.j.qualityworkflow.dao.CommonMapper.getKeyToName[145]  ==>  Preparing: SELECT * FROM key_to_name 
2020-11-21 14:48:43.206 DEBUG c.j.qualityworkflow.dao.CommonMapper.getKeyToName[145]  ==> Parameters: 
2020-11-21 14:48:43.206 DEBUG c.j.q.dao.UserMapper.getSuperiorManagerByUser[145]  ==> Parameters: hualanlan(String), QIMS(String)
2020-11-21 14:48:43.214 DEBUG c.j.q.dao.UserMapper.getSuperiorManagerByUser[145]  <==      Total: 1
2020-11-21 14:48:43.214 DEBUG c.j.qualityworkflow.dao.CommonMapper.getKeyToName[145]  <==      Total: 8
2020-11-21 14:48:43.408 INFO  cn.jwis.qualityworkflow.util.EmailService[142]  workflow3 email is null
2020-11-21 14:48:43.408 INFO  cn.jwis.qualityworkflow.util.EmailService[142]  hualanlan email is test@jwis.cn
2020-11-21 14:48:43.409 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==>  Preparing: select time from email_history_info where id =? 
2020-11-21 14:48:43.409 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==> Parameters: 1315248790789160960(String)
2020-11-21 14:48:43.522 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  <==      Total: 1
2020-11-21 14:48:43.522 INFO  cn.jwis.qualityworkflow.util.EmailService[142]  zhouxianling email is 
2020-11-21 14:48:43.527 DEBUG c.j.qualityworkflow.dao.TaskRecordMapper.getById[145]  ==>  Preparing: SELECT * from task_record WHERE id = ? 
2020-11-21 14:48:43.527 DEBUG c.j.qualityworkflow.dao.TaskRecordMapper.getById[145]  ==> Parameters: 1287933861786812416(String)
2020-11-21 14:48:43.550 DEBUG c.j.qualityworkflow.dao.TaskRecordMapper.getById[145]  <==      Total: 1
2020-11-21 14:48:43.551 DEBUG c.j.qualityworkflow.dao.CommonMapper.getKeyToName[145]  ==>  Preparing: SELECT * FROM key_to_name 
2020-11-21 14:48:43.551 DEBUG c.j.qualityworkflow.dao.CommonMapper.getKeyToName[145]  ==> Parameters: 
2020-11-21 14:48:43.563 INFO  cn.jwis.qualityworkflow.util.EmailService[142]  dz_gyb1 email is test@jwis.cn
2020-11-21 14:48:43.564 DEBUG cn.jwis.qualityworkflow.dao.UserMapper.getSuperior[145]  ==>  Preparing: select superior from department_mapping where user_account = ? and type = ? limit 0,1 
2020-11-21 14:48:43.564 DEBUG cn.jwis.qualityworkflow.dao.UserMapper.getSuperior[145]  ==> Parameters: dz_gyb1(String), COMMON(String)
2020-11-21 14:48:43.568 DEBUG c.j.qualityworkflow.dao.CommonMapper.getKeyToName[145]  <==      Total: 8
2020-11-21 14:48:43.573 DEBUG cn.jwis.qualityworkflow.dao.UserMapper.getSuperior[145]  <==      Total: 1
2020-11-21 14:48:43.611 INFO  cn.jwis.qualityworkflow.util.EmailService[142]  dz_gyb2 email is jian.song@jwis.cn
2020-11-21 14:48:43.612 DEBUG c.j.qualityworkflow.dao.CommonMapper.getKeyToName[145]  ==>  Preparing: SELECT * FROM key_to_name 
2020-11-21 14:48:43.612 DEBUG c.j.qualityworkflow.dao.CommonMapper.getKeyToName[145]  ==> Parameters: 
2020-11-21 14:48:43.621 DEBUG c.j.qualityworkflow.dao.CommonMapper.getKeyToName[145]  <==      Total: 8
2020-11-21 14:48:43.622 DEBUG c.j.q.m.l.d.L.getLineQualifyDetailednessInfo[145]  ==>  Preparing: SELECT q.*,ar.processInstanceId ,ar.taskId,ar.assignee,ar.taskState,ar.taskName FROM line_qualify_info q,(SELECT workflow_business_id, process_instance_id as processInstanceId,task_id as taskId,assignee,task_state as taskState,task_name taskName FROM task_record WHERE task_id=?) ar where q.id=ar.workflow_business_id 
2020-11-21 14:48:43.623 DEBUG c.j.q.m.l.d.L.getLineQualifyDetailednessInfo[145]  ==> Parameters: 5506556(String)
2020-11-21 14:48:43.659 DEBUG c.j.q.m.l.d.L.getLineQualifyDetailednessInfo[145]  <==      Total: 1
2020-11-21 14:48:43.696 INFO  cn.jwis.qualityworkflow.util.EmailService[69]  haomiao.liu@jwis.cn send a Mail to test@jwis.cn and make a copy for [jian.song@jwis.cn]
2020-11-21 14:48:43.696 INFO  cn.jwis.qualityworkflow.util.EmailService[74]  haomiao.liu@jwis.cn send a Mail to kelvin@jwis.cn fail, because null
2020-11-21 14:48:43.696 INFO  cn.jwis.qualityworkflow.util.EmailService[71]  haomiao.liu@jwis.cn send a Mail to test@jwis.cn
2020-11-21 14:48:44.494 ERROR o.s.s.support.TaskUtils$LoggingErrorHandler[96] org.springframework.mail.MailSendException: Failed messages: javax.mail.SendFailedException: Invalid Addresses;
  nested exception is:
	com.sun.mail.smtp.SMTPAddressFailedException: 554 RCPT (kelvin@jwis.cn) dosn't exist

	at org.springframework.mail.javamail.JavaMailSenderImpl.doSend(JavaMailSenderImpl.java:488)
	at org.springframework.mail.javamail.JavaMailSenderImpl.send(JavaMailSenderImpl.java:359)
	at org.springframework.mail.javamail.JavaMailSenderImpl.send(JavaMailSenderImpl.java:354)
	at cn.jwis.qualityworkflow.util.EmailService.sendHtmlMail(EmailService.java:76)
	at cn.jwis.qualityworkflow.modules.qims.service.imp.QimsSendMailServiceImpl.sendEmailTohandler(QimsSendMailServiceImpl.java:161)
	at cn.jwis.qualityworkflow.modules.ipqc.service.imp.AuditQualityProblemServiceImpl.qimsSendMail(AuditQualityProblemServiceImpl.java:321)
	at cn.jwis.qualityworkflow.modules.ipqc.service.imp.AuditQualityProblemServiceImpl$$FastClassBySpringCGLIB$$15ff325f.invoke(<generated>)
	at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:684)
	at cn.jwis.qualityworkflow.modules.ipqc.service.imp.AuditQualityProblemServiceImpl$$EnhancerBySpringCGLIB$$246edba8.qimsSendMail(<generated>)
	at cn.jwis.qualityworkflow.modules.ipqc.job.ipqcMailJob.qimsSendMail(ipqcMailJob.java:28)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.springframework.scheduling.support.ScheduledMethodRunnable.run(ScheduledMethodRunnable.java:84)
	at org.springframework.scheduling.support.DelegatingErrorHandlingRunnable.run(DelegatingErrorHandlingRunnable.java:54)
	at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:511)
	at java.util.concurrent.FutureTask.runAndReset(FutureTask.java:308)
	at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.access$301(ScheduledThreadPoolExecutor.java:180)
	at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:294)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)
 Unexpected error occurred in scheduled task.
2020-11-21 14:48:44.511 ERROR o.s.s.support.TaskUtils$LoggingErrorHandler[96] org.springframework.mail.MailSendException: Failed messages: javax.mail.SendFailedException: Invalid Addresses;
  nested exception is:
	com.sun.mail.smtp.SMTPAddressFailedException: 554 RCPT (test@jwis.cn) dosn't exist

	at org.springframework.mail.javamail.JavaMailSenderImpl.doSend(JavaMailSenderImpl.java:488)
	at org.springframework.mail.javamail.JavaMailSenderImpl.send(JavaMailSenderImpl.java:359)
	at org.springframework.mail.javamail.JavaMailSenderImpl.send(JavaMailSenderImpl.java:354)
	at cn.jwis.qualityworkflow.util.EmailService.sendHtmlMail(EmailService.java:76)
	at cn.jwis.qualityworkflow.modules.qims.service.imp.QimsSendMailServiceImpl.sendEmailTohandler(QimsSendMailServiceImpl.java:161)
	at cn.jwis.qualityworkflow.modules.qims.service.imp.QimsSendMailServiceImpl.qimsSendMail(QimsSendMailServiceImpl.java:90)
	at cn.jwis.qualityworkflow.modules.qims.job.qimsMailJob.qimsSendMail(qimsMailJob.java:49)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.springframework.scheduling.support.ScheduledMethodRunnable.run(ScheduledMethodRunnable.java:84)
	at org.springframework.scheduling.support.DelegatingErrorHandlingRunnable.run(DelegatingErrorHandlingRunnable.java:54)
	at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:511)
	at java.util.concurrent.FutureTask.runAndReset(FutureTask.java:308)
	at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.access$301(ScheduledThreadPoolExecutor.java:180)
	at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:294)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)
 Unexpected error occurred in scheduled task.
2020-11-21 14:48:44.535 ERROR o.s.s.support.TaskUtils$LoggingErrorHandler[96] org.springframework.mail.MailSendException: Failed messages: javax.mail.SendFailedException: Invalid Addresses;
  nested exception is:
	com.sun.mail.smtp.SMTPAddressFailedException: 554 RCPT (test@jwis.cn) dosn't exist
;
  nested exception is:
	com.sun.mail.smtp.SMTPAddressFailedException: 554 RCPT (jian.song@jwis.cn) dosn't exist

	at org.springframework.mail.javamail.JavaMailSenderImpl.doSend(JavaMailSenderImpl.java:488)
	at org.springframework.mail.javamail.JavaMailSenderImpl.send(JavaMailSenderImpl.java:359)
	at org.springframework.mail.javamail.JavaMailSenderImpl.send(JavaMailSenderImpl.java:354)
	at cn.jwis.qualityworkflow.util.EmailService.sendHtmlMail(EmailService.java:76)
	at cn.jwis.qualityworkflow.modules.linequalify.service.imp.LineQualifyServiceImpl.sendEmailTohandler(LineQualifyServiceImpl.java:617)
	at cn.jwis.qualityworkflow.modules.linequalify.service.imp.LineQualifyServiceImpl.sendOverTimeMail(LineQualifyServiceImpl.java:594)
	at cn.jwis.qualityworkflow.modules.linequalify.service.imp.LineQualifyServiceImpl$$FastClassBySpringCGLIB$$4ca6f597.invoke(<generated>)
	at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:684)
	at cn.jwis.qualityworkflow.modules.linequalify.service.imp.LineQualifyServiceImpl$$EnhancerBySpringCGLIB$$6bdde850.sendOverTimeMail(<generated>)
	at cn.jwis.qualityworkflow.modules.linequalify.job.LineQualifyMailJob.sendOverTimeMail(LineQualifyMailJob.java:30)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.springframework.scheduling.support.ScheduledMethodRunnable.run(ScheduledMethodRunnable.java:84)
	at org.springframework.scheduling.support.DelegatingErrorHandlingRunnable.run(DelegatingErrorHandlingRunnable.java:54)
	at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:511)
	at java.util.concurrent.FutureTask.runAndReset(FutureTask.java:308)
	at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.access$301(ScheduledThreadPoolExecutor.java:180)
	at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:294)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)
 Unexpected error occurred in scheduled task.
2020-11-21 14:48:45.281 INFO  o.a.c.core.ContainerBase.[Tomcat].[localhost].[/][173]  Initializing Spring DispatcherServlet 'dispatcherServlet'
2020-11-21 14:48:45.281 INFO  org.springframework.web.servlet.DispatcherServlet[521]  Initializing Servlet 'dispatcherServlet'
2020-11-21 14:48:45.293 INFO  org.springframework.web.servlet.DispatcherServlet[543]  Completed initialization in 12 ms
2020-11-21 14:48:45.363 DEBUG c.j.q.dao.TaskRecordMapper.getProcessAgent[145]  ==>  Preparing: select * from (SELECT * FROM task_record UNION ALL SELECT id, "PCN" template_key, processInstanceId process_instance_id, assignee, pcnId workflow_business_id, taskState task_state, state, taskName task_name, taskId task_id, null department, createDate create_date, updateDate update_date, theme, item_number, creator FROM pcn_task_record) ar where 1=1 and ((ar.create_date >= ? and ar.create_date <= ?) or (ar.update_date >= ? and ar.update_date <= ?)) and (ar.task_state is null or ar.task_state = 'OnGoing') and ar.assignee =? order by ar.create_date desc limit ?,? 
2020-11-21 14:48:45.365 DEBUG c.j.q.dao.TaskRecordMapper.getProcessAgent[145]  ==> Parameters: 2020-10-22(String), 2020-11-22(String), 2020-10-22(String), 2020-11-22(String), hualanlan(String), 0(Integer), 15(Integer)
2020-11-21 14:48:45.400 DEBUG c.j.q.dao.TaskRecordMapper.getProcessAgent[145]  <==      Total: 3
2020-11-21 14:48:45.406 DEBUG c.j.q.dao.TaskRecordMapper.getProcessAgentCount[145]  ==>  Preparing: select count(1) from (SELECT * FROM task_record UNION ALL SELECT id, "PCN" template_key, processInstanceId process_instance_id, assignee, pcnId workflow_business_id, taskState task_state, state, taskName task_name, taskId task_id, null department, createDate create_date, updateDate update_date, theme, item_number, creator FROM pcn_task_record) ar where 1=1 and ((ar.create_date >= ? and ar.create_date <= ?) or (ar.update_date >= ? and ar.update_date <= ?)) and (ar.task_state is null or ar.task_state = 'OnGoing') and ar.assignee =? 
2020-11-21 14:48:45.407 DEBUG c.j.q.dao.TaskRecordMapper.getProcessAgentCount[145]  ==> Parameters: 2020-10-22(String), 2020-11-22(String), 2020-10-22(String), 2020-11-22(String), hualanlan(String)
2020-11-21 14:48:45.460 DEBUG c.j.q.dao.TaskRecordMapper.getProcessAgentCount[145]  <==      Total: 1
2020-11-21 14:48:45.482 DEBUG c.j.q.dao.UserMapper.getDepartmentList[145]  ==>  Preparing: select DISTINCT department from department_mapping where type = ? and department is not null 
2020-11-21 14:48:45.483 DEBUG c.j.q.dao.UserMapper.getDepartmentList[145]  ==> Parameters: COMMON(String)
2020-11-21 14:48:45.567 DEBUG c.j.q.dao.UserMapper.getDepartmentList[145]  <==      Total: 21
2020-11-21 14:48:45.574 DEBUG c.j.q.dao.UserMapper.getDepartmentList[145]  ==>  Preparing: select DISTINCT department from department_mapping where type = ? and department is not null 
2020-11-21 14:48:45.575 DEBUG c.j.q.dao.UserMapper.getDepartmentList[145]  ==> Parameters: COMMON(String)
2020-11-21 14:48:45.584 DEBUG c.j.q.dao.UserMapper.getDepartmentList[145]  <==      Total: 21
2020-11-21 14:49:03.888 DEBUG c.j.q.dao.UserMapper.getUserListByDepartment[145]  ==>  Preparing: select DISTINCT user_account from department_mapping where department = ? and type = ? and user_account is not null and position is null 
2020-11-21 14:49:03.891 DEBUG c.j.q.dao.UserMapper.getUserListByDepartment[145]  ==> Parameters: EFC ENG(String), COMMON(String)
2020-11-21 14:49:03.898 DEBUG c.j.q.dao.UserMapper.getUserListByDepartment[145]  <==      Total: 2
2020-11-21 14:49:08.585 DEBUG c.j.q.dao.UserMapper.getUserListByDepartment[145]  ==>  Preparing: select DISTINCT user_account from department_mapping where department = ? and type = ? and user_account is not null and position is null 
2020-11-21 14:49:08.586 DEBUG c.j.q.dao.UserMapper.getUserListByDepartment[145]  ==> Parameters: SMT ENG(String), COMMON(String)
2020-11-21 14:49:08.597 DEBUG c.j.q.dao.UserMapper.getUserListByDepartment[145]  <==      Total: 1
2020-11-21 14:49:26.579 DEBUG c.j.q.d.WorkflowVariableReflectMapper.getVariables[145]  ==>  Preparing: SELECT variable from workflow_variable_reflect where template_key = ? and node = ? 
2020-11-21 14:49:26.581 DEBUG c.j.q.d.WorkflowVariableReflectMapper.getVariables[145]  ==> Parameters: QMSEcnProcess(String), Apply(String)
2020-11-21 14:49:26.589 DEBUG c.j.q.d.WorkflowVariableReflectMapper.getVariables[145]  <==      Total: 3
2020-11-21 14:49:26.596 DEBUG c.j.q.modules.ecn.dao.EcnInfoMapper.getItemNumber[145]  ==>  Preparing: SELECT ecn_number_generator() 
2020-11-21 14:49:26.597 DEBUG c.j.q.modules.ecn.dao.EcnInfoMapper.getItemNumber[145]  ==> Parameters: 
2020-11-21 14:49:26.607 DEBUG c.j.q.modules.ecn.dao.EcnInfoMapper.getItemNumber[145]  <==      Total: 1
2020-11-21 14:49:26.608 DEBUG c.j.q.modules.ecn.dao.EcnInfoMapper.insert[145]  ==>  Preparing: insert into ecn_info (id, item_number, item_type, file_name, file_oid, sender_side, document_originator, model_name, change_type, posting_time, works_section, works_head, quality_head, status, involved_area, change_import_scheme, change_import_time, change_import_mode, ipqc_handler, ipqc_verification_results, ipqc_verification_reason, ipqc_verifier, ipqc_verification_time, project_approval_result, project_approval_opinion, project_approver, project_approver_time, odm_approval_result, odm_approval_opinion, odm_approver, odm_approver_time, sqe_approval_result, sqe_approval_opinion, sqe_approver, sqe_approver_time, file_address, assignee, remark, creator, create_date, update_date ) values (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ? ) 
2020-11-21 14:49:26.614 DEBUG c.j.q.modules.ecn.dao.EcnInfoMapper.insert[145]  ==> Parameters: 1330040608185647104(String), 20201121001(String), ECN(String), LCFC-logo.jpg(String), 1330040418371366912(String), HQ(String), 111(String), 111(String), BOM,软件(String), 2020-11-21 00:00:00.0(Timestamp), SMT ENG(String), hualanlan(String), hualanlan(String), Apply(String), null, null, null, null, hualanlan(String), null, null, null, null, null, null, null, null, null, null, hualanlan(String), null, null, null, hualanlan(String), null, 111(String), null, 111(String), hualanlan(String), null, null
2020-11-21 14:49:26.635 DEBUG c.j.q.modules.ecn.dao.EcnInfoMapper.insert[145]  <==    Updates: 1
2020-11-21 14:49:26.851 DEBUG c.j.q.m.ecn.dao.EcnInfoMapper.selectByPrimaryKey[145]  ==>  Preparing: select id, item_number, item_type, file_name, file_oid, sender_side, document_originator, model_name, change_type, posting_time, works_section, works_head, quality_head, status, involved_area, change_import_scheme, change_import_time, change_import_mode, ipqc_handler, ipqc_verification_results, ipqc_verification_reason, ipqc_verifier, ipqc_verification_time, project_approval_result, project_approval_opinion, project_approver, project_approver_time, odm_approval_result, odm_approval_opinion, odm_approver, odm_approver_time, sqe_approval_result, sqe_approval_opinion, sqe_approver, sqe_approver_time, file_address, assignee, remark, creator, create_date, update_date from ecn_info where id = ? 
2020-11-21 14:49:26.852 DEBUG c.j.q.m.ecn.dao.EcnInfoMapper.selectByPrimaryKey[145]  ==> Parameters: 1330040608185647104(String)
2020-11-21 14:49:26.874 DEBUG c.j.q.m.ecn.dao.EcnInfoMapper.selectByPrimaryKey[145]  <==      Total: 1
2020-11-21 14:49:46.798 DEBUG c.j.q.dao.TaskRecordMapper.getProcessAgent[145]  ==>  Preparing: select * from (SELECT * FROM task_record UNION ALL SELECT id, "PCN" template_key, processInstanceId process_instance_id, assignee, pcnId workflow_business_id, taskState task_state, state, taskName task_name, taskId task_id, null department, createDate create_date, updateDate update_date, theme, item_number, creator FROM pcn_task_record) ar where 1=1 and ((ar.create_date >= ? and ar.create_date <= ?) or (ar.update_date >= ? and ar.update_date <= ?)) and (ar.task_state is null or ar.task_state = 'OnGoing') and ar.assignee =? order by ar.create_date desc limit ?,? 
2020-11-21 14:49:46.799 DEBUG c.j.q.dao.TaskRecordMapper.getProcessAgent[145]  ==> Parameters: 2020-10-22(String), 2020-11-22(String), 2020-10-22(String), 2020-11-22(String), hualanlan(String), 0(Integer), 15(Integer)
2020-11-21 14:49:46.835 DEBUG c.j.q.dao.TaskRecordMapper.getProcessAgent[145]  <==      Total: 3
2020-11-21 14:49:46.837 DEBUG c.j.q.dao.TaskRecordMapper.getProcessAgentCount[145]  ==>  Preparing: select count(1) from (SELECT * FROM task_record UNION ALL SELECT id, "PCN" template_key, processInstanceId process_instance_id, assignee, pcnId workflow_business_id, taskState task_state, state, taskName task_name, taskId task_id, null department, createDate create_date, updateDate update_date, theme, item_number, creator FROM pcn_task_record) ar where 1=1 and ((ar.create_date >= ? and ar.create_date <= ?) or (ar.update_date >= ? and ar.update_date <= ?)) and (ar.task_state is null or ar.task_state = 'OnGoing') and ar.assignee =? 
2020-11-21 14:49:46.838 DEBUG c.j.q.dao.TaskRecordMapper.getProcessAgentCount[145]  ==> Parameters: 2020-10-22(String), 2020-11-22(String), 2020-10-22(String), 2020-11-22(String), hualanlan(String)
2020-11-21 14:49:46.887 DEBUG c.j.q.dao.TaskRecordMapper.getProcessAgentCount[145]  <==      Total: 1
2020-11-21 14:49:47.094 DEBUG c.j.q.m.e.d.E.getPullDownValue[145]  ==>  Preparing: SELECT distinct model_name from external_document where model_name is not null 
2020-11-21 14:49:47.094 DEBUG c.j.q.m.e.d.E.getPullDownValue[145]  ==> Parameters: 
2020-11-21 14:49:47.107 DEBUG c.j.q.m.e.d.E.getPullDownValue[145]  ==>  Preparing: SELECT distinct file_name from external_document where file_name is not null 
2020-11-21 14:49:47.107 DEBUG c.j.q.m.e.d.E.getPullDownValue[145]  <==      Total: 8
2020-11-21 14:49:47.108 DEBUG c.j.q.m.e.d.E.getPullDownValue[145]  ==> Parameters: 
2020-11-21 14:49:47.116 DEBUG c.j.q.m.e.d.E.getPullDownValue[145]  <==      Total: 5
2020-11-21 14:49:47.182 DEBUG c.j.q.m.e.dao.ExternalDocumentMapper.getInfo_COUNT[145]  ==>  Preparing: SELECT count(0) FROM external_document e, (SELECT t1.process_instance_id, t1.task_id, t1.task_state, t1.workflow_business_id FROM task_record t1 INNER JOIN (SELECT process_instance_id, max(task_id) AS task_id, assignee FROM task_record WHERE template_key = 'QMSExternalDocuments' GROUP BY process_instance_id) t2 ON t1.process_instance_id = t2.process_instance_id AND t1.task_id = t2.task_id) ar WHERE e.id = ar.workflow_business_id AND posting_time >= DATE_FORMAT(?, '%Y-%m-%d ') AND posting_time <= DATE_FORMAT(?, '%Y-%m-%d ') 
2020-11-21 14:49:47.183 DEBUG c.j.q.m.e.dao.ExternalDocumentMapper.getInfo_COUNT[145]  ==> Parameters: 2019-11-22(String), 2020-11-22(String)
2020-11-21 14:49:47.207 DEBUG c.j.q.m.e.dao.ExternalDocumentMapper.getInfo_COUNT[145]  <==      Total: 1
2020-11-21 14:49:47.223 DEBUG c.j.q.m.ecn.dao.ExternalDocumentMapper.getInfo[145]  ==>  Preparing: SELECT e.*, ar.process_instance_id, ar.task_id FROM external_document e, (SELECT t1.process_instance_id, t1.task_id, t1.task_state, t1.workflow_business_id FROM task_record t1 INNER JOIN (SELECT process_instance_id, max(task_id) AS task_id, assignee FROM task_record WHERE template_key = 'QMSExternalDocuments' GROUP BY process_instance_id) t2 ON t1.process_instance_id = t2.process_instance_id AND t1.task_id = t2.task_id) ar WHERE e.id = ar.workflow_business_id AND posting_time >= DATE_FORMAT(?, '%Y-%m-%d ') AND posting_time <= DATE_FORMAT(?, '%Y-%m-%d ') order by create_date DESC LIMIT ? 
2020-11-21 14:49:47.225 DEBUG c.j.q.m.ecn.dao.ExternalDocumentMapper.getInfo[145]  ==> Parameters: 2019-11-22(String), 2020-11-22(String), 10(Integer)
2020-11-21 14:49:47.246 DEBUG c.j.q.m.ecn.dao.ExternalDocumentMapper.getInfo[145]  <==      Total: 8
2020-11-21 14:49:47.288 DEBUG c.j.q.dao.CommonMapper.getTransferParameter[145]  ==>  Preparing: select * from import_export_parameter_mapping b where b.table_name = ? and update_time = (SELECT max( update_time ) FROM import_export_parameter_mapping a where a.table_name = b.table_name AND a.parameter = b.parameter AND a.db_data= b.db_data) 
2020-11-21 14:49:47.288 DEBUG c.j.q.dao.CommonMapper.getTransferParameter[145]  ==> Parameters: external_document(String)
2020-11-21 14:49:47.309 DEBUG c.j.q.dao.CommonMapper.getTransferParameter[145]  <==      Total: 7
2020-11-21 14:49:48.068 DEBUG c.j.q.d.HistoryProcessRecordMapper.selectByExample[145]  ==>  Preparing: select id, workflow_type, workflow_node, workflow_businessId, type, creator, create_date, update_date, department, handle_opinion, reject_reason , content from history_process_record WHERE ( type = ? and workflow_type = ? and workflow_businessId is null and workflow_node = ? and creator = ? ) 
2020-11-21 14:49:48.068 DEBUG c.j.q.d.HistoryProcessRecordMapper.selectByExample[145]  ==> Parameters: SAVE(String), QMSExternalDocuments(String), Apply(String), hualanlan(String)
2020-11-21 14:49:48.084 DEBUG c.j.q.d.HistoryProcessRecordMapper.selectByExample[145]  <==      Total: 0
2020-11-21 14:50:00.003 INFO  c.j.q.m.t.T.TraceabilityMachineTimerManager[50]  设备定时任务开启
2020-11-21 14:50:00.014 DEBUG c.j.q.m.t.d.T.getTraceabilityMachineList[145]  ==>  Preparing: select table_name from traceability_machine_data group by table_name 
2020-11-21 14:50:00.015 DEBUG c.j.q.m.t.d.T.getTraceabilityMachineList[145]  ==> Parameters: 
2020-11-21 14:50:00.023 DEBUG c.j.q.m.t.d.T.getTraceabilityMachineList[145]  <==      Total: 5
2020-11-21 14:50:00.024 DEBUG c.j.q.m.t.d.T.getTraceabilityMachineFiledName[145]  ==>  Preparing: select filed_name from traceability_machine_data where table_name=? 
2020-11-21 14:50:00.025 DEBUG c.j.q.m.t.d.T.getTraceabilityMachineFiledName[145]  ==> Parameters: dust_free_shed(String)
2020-11-21 14:50:00.032 DEBUG c.j.q.m.t.d.T.getTraceabilityMachineFiledName[145]  <==      Total: 11
2020-11-21 14:50:00.032 DEBUG c.j.q.m.t.d.T.getMaxCreateTime[145]  ==>  Preparing: select max(createtime) from dust_free_shed 
2020-11-21 14:50:00.033 DEBUG c.j.q.m.t.d.T.getMaxCreateTime[145]  ==> Parameters: 
2020-11-21 14:50:00.107 DEBUG c.j.q.m.t.d.T.getMaxCreateTime[145]  <==      Total: 1
2020-11-21 14:50:00.143 ERROR o.s.s.support.TaskUtils$LoggingErrorHandler[96] java.lang.NullPointerException: null
	at cn.jwis.qualityworkflow.modules.traceablity.TimerManager.TraceabilityMachineTimerManager.getLenovoMachineData(TraceabilityMachineTimerManager.java:105)
	at cn.jwis.qualityworkflow.modules.traceablity.TimerManager.TraceabilityMachineTimerManager.MachineTimerManager(TraceabilityMachineTimerManager.java:57)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.springframework.scheduling.support.ScheduledMethodRunnable.run(ScheduledMethodRunnable.java:84)
	at org.springframework.scheduling.support.DelegatingErrorHandlingRunnable.run(DelegatingErrorHandlingRunnable.java:54)
	at org.springframework.scheduling.concurrent.ReschedulingRunnable.run(ReschedulingRunnable.java:93)
	at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:511)
	at java.util.concurrent.FutureTask.run(FutureTask.java:266)
	at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.access$201(ScheduledThreadPoolExecutor.java:180)
	at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:293)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)
 Unexpected error occurred in scheduled task.
2020-11-21 14:50:03.731 DEBUG c.j.q.m.ecn.dao.EcnInfoMapper.getPullDownValue[145]  ==>  Preparing: SELECT distinct file_name from ecn_info where file_name is not null 
2020-11-21 14:50:03.732 DEBUG c.j.q.m.ecn.dao.EcnInfoMapper.getPullDownValue[145]  ==> Parameters: 
2020-11-21 14:50:03.735 DEBUG c.j.q.m.ecn.dao.EcnInfoMapper.getPullDownValue[145]  ==>  Preparing: SELECT distinct sender_side from ecn_info where sender_side is not null 
2020-11-21 14:50:03.736 DEBUG c.j.q.m.ecn.dao.EcnInfoMapper.getPullDownValue[145]  ==> Parameters: 
2020-11-21 14:50:03.741 DEBUG c.j.q.m.ecn.dao.EcnInfoMapper.getPullDownValue[145]  ==>  Preparing: SELECT distinct document_originator from ecn_info where document_originator is not null 
2020-11-21 14:50:03.741 DEBUG c.j.q.m.ecn.dao.EcnInfoMapper.getPullDownValue[145]  ==> Parameters: 
2020-11-21 14:50:03.742 DEBUG c.j.q.m.ecn.dao.EcnInfoMapper.getPullDownValue[145]  <==      Total: 31
2020-11-21 14:50:03.745 DEBUG c.j.q.m.ecn.dao.EcnInfoMapper.getPullDownValue[145]  ==>  Preparing: SELECT distinct model_name from ecn_info where model_name is not null 
2020-11-21 14:50:03.745 DEBUG c.j.q.m.ecn.dao.EcnInfoMapper.getPullDownValue[145]  <==      Total: 7
2020-11-21 14:50:03.746 DEBUG c.j.q.m.ecn.dao.EcnInfoMapper.getPullDownValue[145]  ==> Parameters: 
2020-11-21 14:50:03.752 DEBUG c.j.q.m.ecn.dao.EcnInfoMapper.getPullDownValue[145]  <==      Total: 32
2020-11-21 14:50:03.754 DEBUG c.j.q.m.ecn.dao.EcnInfoMapper.getPullDownValue[145]  <==      Total: 30
2020-11-21 14:50:03.804 DEBUG c.j.q.m.ecn.dao.EcnInfoMapper.getEcnInfo_COUNT[145]  ==>  Preparing: SELECT count(0) FROM ecn_info e, (SELECT t1.process_instance_id, t1.task_id, t1.task_state, t1.workflow_business_id FROM task_record t1 INNER JOIN ((SELECT process_instance_id, max(task_id) AS task_id, assignee FROM task_record WHERE template_key = 'QMSEcnProcess' AND assignee = ? GROUP BY process_instance_id) UNION (SELECT process_instance_id, max(task_id) AS task_id, assignee FROM task_record WHERE template_key = 'QMSEcnProcess' AND process_instance_id NOT IN (SELECT process_instance_id FROM task_record WHERE template_key = 'QMSEcnProcess' AND assignee = ? GROUP BY process_instance_id) GROUP BY process_instance_id)) t2 ON t1.process_instance_id = t2.process_instance_id AND t1.task_id = t2.task_id) ar WHERE e.id = ar.workflow_business_id AND posting_time >= DATE_FORMAT(?, '%Y-%m-%d') AND posting_time <= DATE_FORMAT(?, '%Y-%m-%d') 
2020-11-21 14:50:03.805 DEBUG c.j.q.m.ecn.dao.EcnInfoMapper.getEcnInfo_COUNT[145]  ==> Parameters: hualanlan(String), hualanlan(String), 2019-11-22(String), 2020-11-22(String)
2020-11-21 14:50:03.833 DEBUG c.j.q.m.ecn.dao.EcnInfoMapper.getEcnInfo_COUNT[145]  <==      Total: 1
2020-11-21 14:50:03.839 DEBUG c.j.q.modules.ecn.dao.EcnInfoMapper.getEcnInfo[145]  ==>  Preparing: SELECT e.*, ar.process_instance_id, ar.task_id, ar.task_state FROM ecn_info e, (SELECT t1.process_instance_id, t1.task_id, t1.task_state, t1.workflow_business_id FROM task_record t1 INNER JOIN ((SELECT process_instance_id, max(task_id) AS task_id, assignee FROM task_record WHERE template_key = 'QMSEcnProcess' AND assignee = ? GROUP BY process_instance_id) UNION (SELECT process_instance_id, max(task_id) AS task_id, assignee FROM task_record WHERE template_key = 'QMSEcnProcess' AND process_instance_id NOT IN (SELECT process_instance_id FROM task_record WHERE template_key = 'QMSEcnProcess' AND assignee = ? GROUP BY process_instance_id) GROUP BY process_instance_id)) t2 ON t1.process_instance_id = t2.process_instance_id AND t1.task_id = t2.task_id) ar WHERE e.id = ar.workflow_business_id AND posting_time >= DATE_FORMAT(?, '%Y-%m-%d') AND posting_time <= DATE_FORMAT(?, '%Y-%m-%d') order by create_date DESC LIMIT ? 
2020-11-21 14:50:03.841 DEBUG c.j.q.modules.ecn.dao.EcnInfoMapper.getEcnInfo[145]  ==> Parameters: hualanlan(String), hualanlan(String), 2019-11-22(String), 2020-11-22(String), 10(Integer)
2020-11-21 14:50:03.877 DEBUG c.j.q.modules.ecn.dao.EcnInfoMapper.getEcnInfo[145]  <==      Total: 10
2020-11-21 14:50:03.890 DEBUG c.j.q.dao.CommonMapper.getTransferParameter[145]  ==>  Preparing: select * from import_export_parameter_mapping b where b.table_name = ? and update_time = (SELECT max( update_time ) FROM import_export_parameter_mapping a where a.table_name = b.table_name AND a.parameter = b.parameter AND a.db_data= b.db_data) 
2020-11-21 14:50:03.891 DEBUG c.j.q.dao.CommonMapper.getTransferParameter[145]  ==> Parameters: ecn_info(String)
2020-11-21 14:50:03.907 DEBUG c.j.q.dao.CommonMapper.getTransferParameter[145]  <==      Total: 9
2020-11-21 14:50:04.881 DEBUG c.j.q.d.HistoryProcessRecordMapper.selectByExample[145]  ==>  Preparing: select id, workflow_type, workflow_node, workflow_businessId, type, creator, create_date, update_date, department, handle_opinion, reject_reason , content from history_process_record WHERE ( type = ? and workflow_type = ? and workflow_businessId is null and workflow_node = ? and creator = ? ) 
2020-11-21 14:50:04.883 DEBUG c.j.q.d.HistoryProcessRecordMapper.selectByExample[145]  ==> Parameters: SAVE(String), QMSEcnProcess(String), Apply(String), hualanlan(String)
2020-11-21 14:50:04.954 DEBUG c.j.q.d.HistoryProcessRecordMapper.selectByExample[145]  <==      Total: 0
2020-11-21 14:50:05.687 DEBUG c.j.q.dao.UserMapper.getDepartmentList[145]  ==>  Preparing: select DISTINCT department from department_mapping where type = ? and department is not null 
2020-11-21 14:50:05.689 DEBUG c.j.q.dao.UserMapper.getDepartmentList[145]  ==> Parameters: COMMON(String)
2020-11-21 14:50:05.699 DEBUG c.j.q.dao.UserMapper.getDepartmentList[145]  <==      Total: 21
2020-11-21 14:50:05.702 DEBUG c.j.q.dao.UserMapper.getDepartmentList[145]  ==>  Preparing: select DISTINCT department from department_mapping where type = ? and department is not null 
2020-11-21 14:50:05.704 DEBUG c.j.q.dao.UserMapper.getDepartmentList[145]  ==> Parameters: COMMON(String)
2020-11-21 14:50:05.717 DEBUG c.j.q.dao.UserMapper.getDepartmentList[145]  <==      Total: 21
2020-11-21 14:50:20.006 DEBUG c.j.q.dao.UserMapper.getUserListByDepartment[145]  ==>  Preparing: select DISTINCT user_account from department_mapping where department = ? and type = ? and user_account is not null and position is null 
2020-11-21 14:50:20.007 DEBUG c.j.q.dao.UserMapper.getUserListByDepartment[145]  ==> Parameters: SMT ENG(String), COMMON(String)
2020-11-21 14:50:20.017 DEBUG c.j.q.dao.UserMapper.getUserListByDepartment[145]  <==      Total: 1
2020-11-21 14:50:31.543 DEBUG c.j.q.d.WorkflowVariableReflectMapper.getVariables[145]  ==>  Preparing: SELECT variable from workflow_variable_reflect where template_key = ? and node = ? 
2020-11-21 14:50:31.544 DEBUG c.j.q.d.WorkflowVariableReflectMapper.getVariables[145]  ==> Parameters: QMSEcnProcess(String), Apply(String)
2020-11-21 14:50:31.558 DEBUG c.j.q.d.WorkflowVariableReflectMapper.getVariables[145]  <==      Total: 3
2020-11-21 14:50:51.734 DEBUG c.j.q.dao.TaskRecordMapper.getProcessAgent[145]  ==>  Preparing: select * from (SELECT * FROM task_record UNION ALL SELECT id, "PCN" template_key, processInstanceId process_instance_id, assignee, pcnId workflow_business_id, taskState task_state, state, taskName task_name, taskId task_id, null department, createDate create_date, updateDate update_date, theme, item_number, creator FROM pcn_task_record) ar where 1=1 and ((ar.create_date >= ? and ar.create_date <= ?) or (ar.update_date >= ? and ar.update_date <= ?)) and (ar.task_state is null or ar.task_state = 'OnGoing') and ar.assignee =? order by ar.create_date desc limit ?,? 
2020-11-21 14:50:51.736 DEBUG c.j.q.dao.TaskRecordMapper.getProcessAgent[145]  ==> Parameters: 2020-10-22(String), 2020-11-22(String), 2020-10-22(String), 2020-11-22(String), hualanlan(String), 0(Integer), 15(Integer)
2020-11-21 14:50:51.772 DEBUG c.j.q.dao.TaskRecordMapper.getProcessAgent[145]  <==      Total: 3
2020-11-21 14:50:51.774 DEBUG c.j.q.dao.TaskRecordMapper.getProcessAgentCount[145]  ==>  Preparing: select count(1) from (SELECT * FROM task_record UNION ALL SELECT id, "PCN" template_key, processInstanceId process_instance_id, assignee, pcnId workflow_business_id, taskState task_state, state, taskName task_name, taskId task_id, null department, createDate create_date, updateDate update_date, theme, item_number, creator FROM pcn_task_record) ar where 1=1 and ((ar.create_date >= ? and ar.create_date <= ?) or (ar.update_date >= ? and ar.update_date <= ?)) and (ar.task_state is null or ar.task_state = 'OnGoing') and ar.assignee =? 
2020-11-21 14:50:51.775 DEBUG c.j.q.dao.TaskRecordMapper.getProcessAgentCount[145]  ==> Parameters: 2020-10-22(String), 2020-11-22(String), 2020-10-22(String), 2020-11-22(String), hualanlan(String)
2020-11-21 14:50:51.829 DEBUG c.j.q.dao.TaskRecordMapper.getProcessAgentCount[145]  <==      Total: 1
2020-11-21 14:50:51.953 DEBUG c.j.q.dao.UserMapper.getDepartmentList[145]  ==>  Preparing: select DISTINCT department from department_mapping where type = ? and department is not null 
2020-11-21 14:50:51.954 DEBUG c.j.q.dao.UserMapper.getDepartmentList[145]  ==> Parameters: COMMON(String)
2020-11-21 14:50:51.967 DEBUG c.j.q.dao.UserMapper.getDepartmentList[145]  <==      Total: 21
2020-11-21 14:50:51.982 DEBUG c.j.q.dao.UserMapper.getDepartmentList[145]  ==>  Preparing: select DISTINCT department from department_mapping where type = ? and department is not null 
2020-11-21 14:50:51.983 DEBUG c.j.q.dao.UserMapper.getDepartmentList[145]  ==> Parameters: COMMON(String)
2020-11-21 14:50:51.992 DEBUG c.j.q.dao.UserMapper.getDepartmentList[145]  <==      Total: 21
2020-11-21 14:50:55.210 DEBUG c.j.q.dao.TaskRecordMapper.getProcessAgent[145]  ==>  Preparing: select * from (SELECT * FROM task_record UNION ALL SELECT id, "PCN" template_key, processInstanceId process_instance_id, assignee, pcnId workflow_business_id, taskState task_state, state, taskName task_name, taskId task_id, null department, createDate create_date, updateDate update_date, theme, item_number, creator FROM pcn_task_record) ar where 1=1 and ((ar.create_date >= ? and ar.create_date <= ?) or (ar.update_date >= ? and ar.update_date <= ?)) and (ar.task_state is null or ar.task_state = 'OnGoing') and ar.assignee =? order by ar.create_date desc limit ?,? 
2020-11-21 14:50:55.212 DEBUG c.j.q.dao.TaskRecordMapper.getProcessAgent[145]  ==> Parameters: 2020-10-22(String), 2020-11-22(String), 2020-10-22(String), 2020-11-22(String), hualanlan(String), 0(Integer), 15(Integer)
2020-11-21 14:50:55.282 DEBUG c.j.q.dao.TaskRecordMapper.getProcessAgent[145]  <==      Total: 3
2020-11-21 14:50:55.283 DEBUG c.j.q.dao.TaskRecordMapper.getProcessAgentCount[145]  ==>  Preparing: select count(1) from (SELECT * FROM task_record UNION ALL SELECT id, "PCN" template_key, processInstanceId process_instance_id, assignee, pcnId workflow_business_id, taskState task_state, state, taskName task_name, taskId task_id, null department, createDate create_date, updateDate update_date, theme, item_number, creator FROM pcn_task_record) ar where 1=1 and ((ar.create_date >= ? and ar.create_date <= ?) or (ar.update_date >= ? and ar.update_date <= ?)) and (ar.task_state is null or ar.task_state = 'OnGoing') and ar.assignee =? 
2020-11-21 14:50:55.284 DEBUG c.j.q.dao.TaskRecordMapper.getProcessAgentCount[145]  ==> Parameters: 2020-10-22(String), 2020-11-22(String), 2020-10-22(String), 2020-11-22(String), hualanlan(String)
2020-11-21 14:50:55.330 DEBUG c.j.q.dao.TaskRecordMapper.getProcessAgentCount[145]  <==      Total: 1
2020-11-21 14:50:55.365 DEBUG c.j.q.dao.UserMapper.getDepartmentList[145]  ==>  Preparing: select DISTINCT department from department_mapping where type = ? and department is not null 
2020-11-21 14:50:55.365 DEBUG c.j.q.dao.UserMapper.getDepartmentList[145]  ==> Parameters: COMMON(String)
2020-11-21 14:50:55.377 DEBUG c.j.q.dao.UserMapper.getDepartmentList[145]  <==      Total: 21
2020-11-21 14:50:55.381 DEBUG c.j.q.dao.UserMapper.getDepartmentList[145]  ==>  Preparing: select DISTINCT department from department_mapping where type = ? and department is not null 
2020-11-21 14:50:55.383 DEBUG c.j.q.dao.UserMapper.getDepartmentList[145]  ==> Parameters: COMMON(String)
2020-11-21 14:50:55.399 DEBUG c.j.q.dao.UserMapper.getDepartmentList[145]  <==      Total: 21
2020-11-21 15:29:10.963 INFO  cn.jwis.configration.clientUtil.ConfigCenterHelper[40]  Loading config by :http://10.159.65.221:14200/configCenter/findConfig?side=server&serviceName=pqm-quality-workflow-service&env=dev&configType=properties
2020-11-21 15:29:10.968 INFO  cn.jwis.configration.clientUtil.HttpClientUtil[51]  Http Request:http://10.159.65.221:14200/configCenter/findConfig?side=server&serviceName=pqm-quality-workflow-service&env=dev&configType=properties
2020-11-21 15:29:26.642 ERROR cn.jwis.configration.clientUtil.HttpClientUtil[77]  send Http Request to:http://10.159.65.221:14200/configCenter/findConfig?side=server&serviceName=pqm-quality-workflow-service&env=dev&configType=properties ,has errors:Connect to 10.159.65.221:14200 [/10.159.65.221] failed: connect timed out
2020-11-21 15:29:26.643 INFO  cn.jwis.configration.clientUtil.ConfigCenterHelper[43]  Get config :
2020-11-21 15:29:26.683 ERROR cn.jwis.configration.clientUtil.ConfigCenterHelper[56]  null
2020-11-21 15:29:27.003 INFO  cn.jwis.qualityworkflow.Application[50]  Starting Application on THINK-Lx with PID 10244 (C:\Users\THINK\Desktop\QMS-Server\quality-workflow-service\target\classes started by THINK in C:\Users\THINK\Desktop\QMS-Server\quality-workflow-service)
2020-11-21 15:29:27.004 DEBUG cn.jwis.qualityworkflow.Application[53]  Running with Spring Boot v2.1.0.RELEASE, Spring v5.1.2.RELEASE
2020-11-21 15:29:27.005 INFO  cn.jwis.qualityworkflow.Application[679]  The following profiles are active: dev
2020-11-21 15:29:28.527 INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker[330]  Bean 'org.springframework.amqp.rabbit.annotation.RabbitBootstrapConfiguration' of type [org.springframework.amqp.rabbit.annotation.RabbitBootstrapConfiguration$$EnhancerBySpringCGLIB$$b0bcfacf] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2020-11-21 15:29:28.599 INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker[330]  Bean 'org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration' of type [org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration$$EnhancerBySpringCGLIB$$ea513ca1] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2020-11-21 15:29:29.126 INFO  o.s.boot.web.embedded.tomcat.TomcatWebServer[90]  Tomcat initialized with port(s): 8115 (http)
2020-11-21 15:29:29.138 INFO  org.apache.coyote.http11.Http11NioProtocol[173]  Initializing ProtocolHandler ["http-nio-8115"]
2020-11-21 15:29:29.143 INFO  org.apache.catalina.core.StandardService[173]  Starting service [Tomcat]
2020-11-21 15:29:29.144 INFO  org.apache.catalina.core.StandardEngine[173]  Starting Servlet Engine: Apache Tomcat/9.0.12
2020-11-21 15:29:29.150 INFO  org.apache.catalina.core.AprLifecycleListener[173]  The APR based Apache Tomcat Native library which allows optimal performance in production environments was not found on the java.library.path: [C:\Program Files\Java\jdk1.8.0_192\bin;C:\Windows\Sun\Java\bin;C:\Windows\system32;C:\Windows;C:\Program Files\Java\jdk1.8.0_192\bin;C:\Program Files\Java\jdk1.8.0_192\jre\bin;D:\java\apache-maven-3.6.0\bin;C:\Program Files (x86)\Common Files\Oracle\Java\javapath;C:\Windows\system32;C:\Windows;C:\Windows\System32\Wbem;C:\Windows\System32\WindowsPowerShell\v1.0\;D:\job\Git\cmd;C:\Program Files\TortoiseGit\bin;C:\Program Files\nodejs\;D:\java\mysql\mysql-5.7.11-winx64\bin;D:\job\Microsoft VS Code\bin;C:\Program Files\Microsoft VS Code\bin;C:\Users\THINK\AppData\Roaming\npm;.]
2020-11-21 15:29:29.251 INFO  o.a.c.core.ContainerBase.[Tomcat].[localhost].[/][173]  Initializing Spring embedded WebApplicationContext
2020-11-21 15:29:29.251 INFO  org.springframework.web.context.ContextLoader[285]  Root WebApplicationContext: initialization completed in 2204 ms
2020-11-21 15:29:29.289 INFO  o.s.boot.web.servlet.ServletRegistrationBean[186]  Servlet dispatcherServlet mapped to [/]
2020-11-21 15:29:29.294 INFO  o.s.boot.web.servlet.FilterRegistrationBean[248]  Mapping filter: 'characterEncodingFilter' to: [/*]
2020-11-21 15:29:29.294 INFO  o.s.boot.web.servlet.FilterRegistrationBean[248]  Mapping filter: 'hiddenHttpMethodFilter' to: [/*]
2020-11-21 15:29:29.294 INFO  o.s.boot.web.servlet.FilterRegistrationBean[248]  Mapping filter: 'formContentFilter' to: [/*]
2020-11-21 15:29:29.295 INFO  o.s.boot.web.servlet.FilterRegistrationBean[248]  Mapping filter: 'requestContextFilter' to: [/*]
2020-11-21 15:29:31.665 INFO  o.s.scheduling.concurrent.ThreadPoolTaskExecutor[171]  Initializing ExecutorService 'applicationTaskExecutor'
2020-11-21 15:29:32.163 INFO  s.d.s.web.plugins.DocumentationPluginsBootstrapper[120]  Context refreshed
2020-11-21 15:29:32.178 INFO  s.d.s.web.plugins.DocumentationPluginsBootstrapper[123]  Found 1 custom documentation plugin(s)
2020-11-21 15:29:32.197 INFO  s.d.spring.web.scanners.ApiListingReferenceScanner[41]  Scanning for api listing references
2020-11-21 15:29:32.555 INFO  s.d.s.w.r.operation.CachingOperationNameGenerator[40]  Generating unique operation named: confirmUsingPOST_1
2020-11-21 15:29:32.973 INFO  s.d.s.w.r.operation.CachingOperationNameGenerator[40]  Generating unique operation named: exportUnseasonalBolaUsingGET_1
2020-11-21 15:29:32.979 INFO  s.d.s.w.r.operation.CachingOperationNameGenerator[40]  Generating unique operation named: exportUnseasonalListUsingPOST_1
2020-11-21 15:29:32.987 INFO  s.d.s.w.r.operation.CachingOperationNameGenerator[40]  Generating unique operation named: getAllAndCloseUsingPOST_1
2020-11-21 15:29:32.992 INFO  s.d.s.w.r.operation.CachingOperationNameGenerator[40]  Generating unique operation named: getAllDataUsingPOST_1
2020-11-21 15:29:33.001 INFO  s.d.s.w.r.operation.CachingOperationNameGenerator[40]  Generating unique operation named: getBlackDetailsUsingPOST_1
2020-11-21 15:29:33.008 INFO  s.d.s.w.r.operation.CachingOperationNameGenerator[40]  Generating unique operation named: getDashBoardCloseUsingPOST_1
2020-11-21 15:29:33.016 INFO  s.d.s.w.r.operation.CachingOperationNameGenerator[40]  Generating unique operation named: getDashBoardNotCloseUsingPOST_1
2020-11-21 15:29:33.022 INFO  s.d.s.w.r.operation.CachingOperationNameGenerator[40]  Generating unique operation named: getOverdueUsingPOST_1
2020-11-21 15:29:33.030 INFO  s.d.s.w.r.operation.CachingOperationNameGenerator[40]  Generating unique operation named: getUnseasonalBolaUsingGET_1
2020-11-21 15:29:33.037 INFO  s.d.s.w.r.operation.CachingOperationNameGenerator[40]  Generating unique operation named: getUnseasonalListUsingPOST_1
2020-11-21 15:29:33.049 INFO  s.d.s.w.r.operation.CachingOperationNameGenerator[40]  Generating unique operation named: confirmUsingPOST_2
2020-11-21 15:29:33.088 INFO  s.d.s.w.r.operation.CachingOperationNameGenerator[40]  Generating unique operation named: getLatestRecordContentUsingGET_1
2020-11-21 15:29:33.108 INFO  s.d.s.w.r.operation.CachingOperationNameGenerator[40]  Generating unique operation named: saveRecordContentUsingPOST_1
2020-11-21 15:29:33.130 INFO  s.d.s.w.r.operation.CachingOperationNameGenerator[40]  Generating unique operation named: getDropdownValueUsingGET_1
2020-11-21 15:29:33.151 INFO  s.d.s.w.r.operation.CachingOperationNameGenerator[40]  Generating unique operation named: confirmUsingPOST_3
2020-11-21 15:29:33.160 INFO  s.d.s.w.r.operation.CachingOperationNameGenerator[40]  Generating unique operation named: getDropdownValueUsingGET_2
2020-11-21 15:29:33.169 INFO  s.d.s.w.r.operation.CachingOperationNameGenerator[40]  Generating unique operation named: getLatestRecordContentUsingGET_2
2020-11-21 15:29:33.185 INFO  s.d.s.w.r.operation.CachingOperationNameGenerator[40]  Generating unique operation named: exportEsdAdministrationUsingPOST_1
2020-11-21 15:29:33.217 INFO  s.d.s.w.r.operation.CachingOperationNameGenerator[40]  Generating unique operation named: getDropdownValueUsingGET_3
2020-11-21 15:29:33.281 INFO  s.d.s.w.r.operation.CachingOperationNameGenerator[40]  Generating unique operation named: confirmUsingPOST_4
2020-11-21 15:29:33.298 INFO  s.d.s.w.r.operation.CachingOperationNameGenerator[40]  Generating unique operation named: getDropdownValueUsingGET_4
2020-11-21 15:29:33.323 INFO  s.d.s.w.r.operation.CachingOperationNameGenerator[40]  Generating unique operation named: getLatestRecordContentUsingGET_3
2020-11-21 15:29:33.395 INFO  s.d.s.w.r.operation.CachingOperationNameGenerator[40]  Generating unique operation named: exportEsdInStanInfoTemplateUsingGET_1
2020-11-21 15:29:33.516 INFO  s.d.s.w.r.operation.CachingOperationNameGenerator[40]  Generating unique operation named: confirmUsingPOST_5
2020-11-21 15:29:33.525 INFO  s.d.s.w.r.operation.CachingOperationNameGenerator[40]  Generating unique operation named: getDropdownValueUsingGET_5
2020-11-21 15:29:33.559 INFO  s.d.s.w.r.operation.CachingOperationNameGenerator[40]  Generating unique operation named: confirmUsingPOST_6
2020-11-21 15:29:33.578 INFO  s.d.s.w.r.operation.CachingOperationNameGenerator[40]  Generating unique operation named: findTableNameBySampleNameUsingGET_1
2020-11-21 15:29:33.618 INFO  s.d.s.w.r.operation.CachingOperationNameGenerator[40]  Generating unique operation named: commonExportTemplateUsingPOST_1
2020-11-21 15:29:33.638 INFO  s.d.s.w.r.operation.CachingOperationNameGenerator[40]  Generating unique operation named: confirmUsingPOST_7
2020-11-21 15:29:33.646 INFO  s.d.s.w.r.operation.CachingOperationNameGenerator[40]  Generating unique operation named: exportEcnInfoUsingPOST_1
2020-11-21 15:29:33.649 INFO  s.d.s.w.r.operation.CachingOperationNameGenerator[40]  Generating unique operation named: getDetailednessInfoUsingPOST_1
2020-11-21 15:29:33.651 INFO  s.d.s.w.r.operation.CachingOperationNameGenerator[40]  Generating unique operation named: getLatestRecordContentUsingGET_4
2020-11-21 15:29:33.657 INFO  s.d.s.w.r.operation.CachingOperationNameGenerator[40]  Generating unique operation named: getPullDownValueUsingGET_1
2020-11-21 15:29:33.660 INFO  s.d.s.w.r.operation.CachingOperationNameGenerator[40]  Generating unique operation named: saveRecordContentUsingPOST_2
2020-11-21 15:29:33.678 INFO  s.d.s.w.r.operation.CachingOperationNameGenerator[40]  Generating unique operation named: exportDetailsUsingPOST_1
2020-11-21 15:29:33.684 INFO  s.d.s.w.r.operation.CachingOperationNameGenerator[40]  Generating unique operation named: exportUnseasonalBolaUsingGET_2
2020-11-21 15:29:33.690 INFO  s.d.s.w.r.operation.CachingOperationNameGenerator[40]  Generating unique operation named: exportUnseasonalListUsingPOST_2
2020-11-21 15:29:33.697 INFO  s.d.s.w.r.operation.CachingOperationNameGenerator[40]  Generating unique operation named: getAllAndCloseUsingPOST_2
2020-11-21 15:29:33.702 INFO  s.d.s.w.r.operation.CachingOperationNameGenerator[40]  Generating unique operation named: getAllDataUsingPOST_2
2020-11-21 15:29:33.709 INFO  s.d.s.w.r.operation.CachingOperationNameGenerator[40]  Generating unique operation named: getDashBoardCloseUsingPOST_2
2020-11-21 15:29:33.715 INFO  s.d.s.w.r.operation.CachingOperationNameGenerator[40]  Generating unique operation named: getDashBoardNotCloseUsingPOST_2
2020-11-21 15:29:33.728 INFO  s.d.s.w.r.operation.CachingOperationNameGenerator[40]  Generating unique operation named: getOverdueUsingPOST_2
2020-11-21 15:29:33.735 INFO  s.d.s.w.r.operation.CachingOperationNameGenerator[40]  Generating unique operation named: getUnseasonalBolaUsingGET_2
2020-11-21 15:29:33.741 INFO  s.d.s.w.r.operation.CachingOperationNameGenerator[40]  Generating unique operation named: getUnseasonalListUsingPOST_2
2020-11-21 15:29:33.760 INFO  s.d.s.w.r.operation.CachingOperationNameGenerator[40]  Generating unique operation named: getDropdownValueUsingGET_6
2020-11-21 15:29:33.807 INFO  s.d.s.w.r.operation.CachingOperationNameGenerator[40]  Generating unique operation named: confirmUsingPOST_8
2020-11-21 15:29:33.834 INFO  s.d.s.w.r.operation.CachingOperationNameGenerator[40]  Generating unique operation named: getDropdownValueUsingGET_7
2020-11-21 15:29:33.873 INFO  s.d.s.w.r.operation.CachingOperationNameGenerator[40]  Generating unique operation named: exportInfoUsingPOST_1
2020-11-21 15:29:33.878 INFO  s.d.s.w.r.operation.CachingOperationNameGenerator[40]  Generating unique operation named: getAddCountUsingPOST_1
2020-11-21 15:29:33.886 INFO  s.d.s.w.r.operation.CachingOperationNameGenerator[40]  Generating unique operation named: getDashBoardCountUsingPOST_1
2020-11-21 15:29:33.897 INFO  s.d.s.w.r.operation.CachingOperationNameGenerator[40]  Generating unique operation named: getInfoListUsingPOST_1
2020-11-21 15:29:33.901 INFO  s.d.s.w.r.operation.CachingOperationNameGenerator[40]  Generating unique operation named: getLatestRecordContentUsingGET_5
2020-11-21 15:29:33.909 INFO  s.d.s.w.r.operation.CachingOperationNameGenerator[40]  Generating unique operation named: getOverdueCountUsingPOST_1
2020-11-21 15:29:33.914 INFO  s.d.s.w.r.operation.CachingOperationNameGenerator[40]  Generating unique operation named: getProcessingCountUsingPOST_1
2020-11-21 15:29:33.918 INFO  s.d.s.w.r.operation.CachingOperationNameGenerator[40]  Generating unique operation named: getPullDownValueUsingGET_2
2020-11-21 15:29:33.931 INFO  s.d.s.w.r.operation.CachingOperationNameGenerator[40]  Generating unique operation named: insertUsingPOST_1
2020-11-21 15:29:33.935 INFO  s.d.s.w.r.operation.CachingOperationNameGenerator[40]  Generating unique operation named: saveRecordContentUsingPOST_3
2020-11-21 15:29:33.950 INFO  s.d.s.w.r.operation.CachingOperationNameGenerator[40]  Generating unique operation named: getInfoListUsingPOST_2
2020-11-21 15:29:33.957 INFO  s.d.s.w.r.operation.CachingOperationNameGenerator[40]  Generating unique operation named: getPullDownValueUsingGET_3
2020-11-21 15:29:33.966 INFO  s.d.s.w.r.operation.CachingOperationNameGenerator[40]  Generating unique operation named: insertUsingPOST_2
2020-11-21 15:29:33.980 INFO  s.d.s.w.r.operation.CachingOperationNameGenerator[40]  Generating unique operation named: getAuditListInfoByIdUsingPOST_1
2020-11-21 15:29:34.012 INFO  s.d.s.w.r.operation.CachingOperationNameGenerator[40]  Generating unique operation named: confirmUsingPOST_9
2020-11-21 15:29:34.026 INFO  s.d.s.w.r.operation.CachingOperationNameGenerator[40]  Generating unique operation named: getLatestRecordContentUsingPOST_1
2020-11-21 15:29:34.047 INFO  s.d.s.w.r.operation.CachingOperationNameGenerator[40]  Generating unique operation named: saveRecordContentUsingPOST_4
2020-11-21 15:29:34.055 INFO  s.d.s.w.r.operation.CachingOperationNameGenerator[40]  Generating unique operation named: confirmUsingPOST_10
2020-11-21 15:29:34.086 INFO  s.d.s.w.r.operation.CachingOperationNameGenerator[40]  Generating unique operation named: getDropdownValueUsingGET_8
2020-11-21 15:29:34.092 INFO  s.d.s.w.r.operation.CachingOperationNameGenerator[40]  Generating unique operation named: getLatestRecordContentUsingGET_6
2020-11-21 15:29:34.207 INFO  s.d.s.w.r.operation.CachingOperationNameGenerator[40]  Generating unique operation named: confirmUsingPOST_11
2020-11-21 15:29:34.235 INFO  s.d.s.w.r.operation.CachingOperationNameGenerator[40]  Generating unique operation named: getDropdownValueUsingGET_9
2020-11-21 15:29:34.241 INFO  s.d.s.w.r.operation.CachingOperationNameGenerator[40]  Generating unique operation named: getLatestRecordContentUsingGET_7
2020-11-21 15:29:34.260 INFO  s.d.s.w.r.operation.CachingOperationNameGenerator[40]  Generating unique operation named: getSuperiorUsingGET_1
2020-11-21 15:29:34.301 INFO  s.d.s.w.r.operation.CachingOperationNameGenerator[40]  Generating unique operation named: confirmUsingPOST_12
2020-11-21 15:29:34.338 INFO  s.d.s.w.r.operation.CachingOperationNameGenerator[40]  Generating unique operation named: getDetailednessInfoUsingPOST_2
2020-11-21 15:29:34.342 INFO  s.d.s.w.r.operation.CachingOperationNameGenerator[40]  Generating unique operation named: getLatestRecordContentUsingGET_8
2020-11-21 15:29:34.358 INFO  s.d.s.w.r.operation.CachingOperationNameGenerator[40]  Generating unique operation named: getPullDownValueUsingGET_4
2020-11-21 15:29:34.382 INFO  s.d.s.w.r.operation.CachingOperationNameGenerator[40]  Generating unique operation named: saveRecordContentUsingPOST_5
2020-11-21 15:29:34.405 INFO  s.d.s.w.r.operation.CachingOperationNameGenerator[40]  Generating unique operation named: confirmUsingPOST_13
2020-11-21 15:29:34.417 INFO  s.d.s.w.r.operation.CachingOperationNameGenerator[40]  Generating unique operation named: exportInfoUsingPOST_2
2020-11-21 15:29:34.421 INFO  s.d.s.w.r.operation.CachingOperationNameGenerator[40]  Generating unique operation named: getDetailednessInfoUsingPOST_3
2020-11-21 15:29:34.429 INFO  s.d.s.w.r.operation.CachingOperationNameGenerator[40]  Generating unique operation named: getInfoListUsingPOST_3
2020-11-21 15:29:34.433 INFO  s.d.s.w.r.operation.CachingOperationNameGenerator[40]  Generating unique operation named: getPullDownValueUsingGET_5
2020-11-21 15:29:34.436 INFO  s.d.s.w.r.operation.CachingOperationNameGenerator[40]  Generating unique operation named: saveRecordContentUsingPOST_6
2020-11-21 15:29:34.446 INFO  s.d.s.w.r.operation.CachingOperationNameGenerator[40]  Generating unique operation named: getProgressUsingGET_1
2020-11-21 15:29:34.567 INFO  s.d.s.w.r.operation.CachingOperationNameGenerator[40]  Generating unique operation named: exportTraceablityManUsingPOST_1
2020-11-21 15:29:34.619 INFO  s.d.s.w.r.operation.CachingOperationNameGenerator[40]  Generating unique operation named: getSuperiorUsingGET_2
2020-11-21 15:29:34.690 INFO  o.s.scheduling.concurrent.ThreadPoolTaskScheduler[171]  Initializing ExecutorService
2020-11-21 15:29:34.694 INFO  c.j.qualityworkflow.modules.ipqc.job.ipqcMailJob[27]  查询IPQC超时任务
2020-11-21 15:29:34.699 INFO  org.apache.coyote.http11.Http11NioProtocol[173]  Starting ProtocolHandler ["http-nio-8115"]
2020-11-21 15:29:34.712 INFO  org.apache.tomcat.util.net.NioSelectorPool[173]  Using a shared selector for servlet write/read
2020-11-21 15:29:34.719 INFO  com.zaxxer.hikari.HikariDataSource[110]  HikariPool-1 - Starting...
2020-11-21 15:29:34.722 WARN  com.zaxxer.hikari.util.DriverDataSource[68]  Registered driver with driverClassName=com.mysql.jdbc.Driver was not found, trying direct instantiation.
2020-11-21 15:29:34.731 INFO  o.s.boot.web.embedded.tomcat.TomcatWebServer[204]  Tomcat started on port(s): 8115 (http) with context path ''
2020-11-21 15:29:34.734 INFO  cn.jwis.qualityworkflow.Application[59]  Started Application in 8.051 seconds (JVM running for 24.886)
2020-11-21 15:29:34.936 INFO  com.zaxxer.hikari.HikariDataSource[123]  HikariPool-1 - Start completed.
2020-11-21 15:29:34.943 DEBUG c.j.q.dao.TaskRecordMapper.getOverTimeTaskRecord[145]  ==>  Preparing: SELECT *, HOUR(timediff(now() , create_date)) overTimeNum FROM task_record WHERE template_key = ? AND task_state IS NULL AND task_name = ? AND HOUR(timediff(now() , create_date)) >= ? 
2020-11-21 15:29:34.965 DEBUG c.j.q.dao.TaskRecordMapper.getOverTimeTaskRecord[145]  ==> Parameters: Line Qualify(String), 文件收集(String), 2(Integer)
2020-11-21 15:29:34.996 DEBUG c.j.q.dao.TaskRecordMapper.getOverTimeTaskRecord2[145]  ==>  Preparing: SELECT *, HOUR(timediff(now() , create_date)) overTimeNum FROM task_record WHERE template_key = ? AND task_state IS NULL AND HOUR(timediff(now() , create_date)) >= ? 
2020-11-21 15:29:34.997 DEBUG c.j.q.dao.TaskRecordMapper.getOverTimeTaskRecord2[145]  ==> Parameters: IPQCAuditProcess(String), 24(Integer)
2020-11-21 15:29:35.002 DEBUG c.j.q.dao.TaskRecordMapper.getOverTimeTaskRecord[145]  <==      Total: 8
2020-11-21 15:29:35.004 DEBUG c.j.q.dao.TaskRecordMapper.getOverTimeTaskRecord[145]  ==>  Preparing: SELECT *, HOUR(timediff(now() , create_date)) overTimeNum FROM task_record WHERE template_key = ? AND task_state IS NULL AND task_name = ? AND HOUR(timediff(now() , create_date)) >= ? 
2020-11-21 15:29:35.004 DEBUG c.j.q.dao.TaskRecordMapper.getOverTimeTaskRecord[145]  ==> Parameters: FactoryAuditProcess(String), 部门审核(String), 24(Integer)
2020-11-21 15:29:35.016 DEBUG c.j.q.dao.TaskRecordMapper.getOverTimeTaskRecord2[145]  <==      Total: 18
2020-11-21 15:29:35.016 DEBUG c.j.q.m.qims.dao.BlackDashBoardMapper.getHoliday[145]  ==>  Preparing: SELECT DISTINCT date FROM holiday_maintenance WHERE type = '节假日' 
2020-11-21 15:29:35.016 DEBUG c.j.q.m.qims.dao.BlackDashBoardMapper.getHoliday[145]  ==> Parameters: 
2020-11-21 15:29:35.016 DEBUG c.j.q.dao.TaskRecordMapper.getOverTimeTaskRecord[145]  <==      Total: 3
2020-11-21 15:29:35.017 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==>  Preparing: select time from email_history_info where id =? 
2020-11-21 15:29:35.018 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==> Parameters: 1294123945645047808(String)
2020-11-21 15:29:35.024 DEBUG c.j.q.m.qims.dao.BlackDashBoardMapper.getHoliday[145]  <==      Total: 6
2020-11-21 15:29:35.024 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==>  Preparing: select time from email_history_info where id =? 
2020-11-21 15:29:35.024 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  <==      Total: 1
2020-11-21 15:29:35.025 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==> Parameters: 1303868320843300864(String)
2020-11-21 15:29:35.025 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==>  Preparing: select time from email_history_info where id =? 
2020-11-21 15:29:35.025 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==> Parameters: 1295192540470837248(String)
2020-11-21 15:29:35.032 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  <==      Total: 1
2020-11-21 15:29:35.033 DEBUG c.j.q.m.q.d.B.getWorkOvertimeList[145]  ==>  Preparing: SELECT DISTINCT date FROM holiday_maintenance WHERE type = '补班' 
2020-11-21 15:29:35.033 DEBUG c.j.q.m.q.d.B.getWorkOvertimeList[145]  ==> Parameters: 
2020-11-21 15:29:35.038 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  <==      Total: 1
2020-11-21 15:29:35.038 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==>  Preparing: select time from email_history_info where id =? 
2020-11-21 15:29:35.039 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==> Parameters: 1303868347422605312(String)
2020-11-21 15:29:35.043 DEBUG c.j.q.m.q.d.B.getWorkOvertimeList[145]  <==      Total: 4
2020-11-21 15:29:35.045 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==>  Preparing: select time from email_history_info where id =? 
2020-11-21 15:29:35.045 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==> Parameters: 1295192619508301824(String)
2020-11-21 15:29:35.046 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  <==      Total: 1
2020-11-21 15:29:35.047 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getLtStandard[145]  ==>  Preparing: select * from qims_lt_standard_info 
2020-11-21 15:29:35.048 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getLtStandard[145]  ==> Parameters: 
2020-11-21 15:29:35.054 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  <==      Total: 1
2020-11-21 15:29:35.055 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==>  Preparing: select time from email_history_info where id =? 
2020-11-21 15:29:35.055 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==> Parameters: 1299240419787276288(String)
2020-11-21 15:29:35.055 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getLtStandard[145]  <==      Total: 8
2020-11-21 15:29:35.056 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==>  Preparing: select time from email_history_info where id =? 
2020-11-21 15:29:35.056 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==> Parameters: 1303868393815801856(String)
2020-11-21 15:29:35.064 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  <==      Total: 1
2020-11-21 15:29:35.064 INFO  c.j.qualityworkflow.modules.qims.job.qimsMailJob[47]  查询黑色问题超过LT的信息
2020-11-21 15:29:35.065 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getBlackList[145]  ==>  Preparing: select * from task_record where task_name in('初步原因分析','根本原因分析','根本原因审核') and task_state is null and template_key='QIMSBLACK' 
2020-11-21 15:29:35.065 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  <==      Total: 1
2020-11-21 15:29:35.066 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getBlackList[145]  ==> Parameters: 
2020-11-21 15:29:35.066 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==>  Preparing: select time from email_history_info where id =? 
2020-11-21 15:29:35.067 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==> Parameters: 1303937438065885184(String)
2020-11-21 15:29:35.075 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  <==      Total: 1
2020-11-21 15:29:35.076 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==>  Preparing: select time from email_history_info where id =? 
2020-11-21 15:29:35.077 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==> Parameters: 1303939538460082176(String)
2020-11-21 15:29:35.078 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getBlackList[145]  <==      Total: 16
2020-11-21 15:29:35.084 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  <==      Total: 1
2020-11-21 15:29:35.086 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==>  Preparing: select time from email_history_info where id =? 
2020-11-21 15:29:35.086 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==> Parameters: 1303939599889858560(String)
2020-11-21 15:29:35.093 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==>  Preparing: select time from email_history_info where id =? 
2020-11-21 15:29:35.094 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==> Parameters: 1286902446076985344(String)
2020-11-21 15:29:35.094 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  <==      Total: 1
2020-11-21 15:29:35.095 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==>  Preparing: select time from email_history_info where id =? 
2020-11-21 15:29:35.095 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==> Parameters: 1306059696263659520(String)
2020-11-21 15:29:35.103 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  <==      Total: 1
2020-11-21 15:29:35.103 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  <==      Total: 1
2020-11-21 15:29:35.104 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==>  Preparing: select time from email_history_info where id =? 
2020-11-21 15:29:35.104 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==> Parameters: 1306155886347026432(String)
2020-11-21 15:29:35.109 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  <==      Total: 1
2020-11-21 15:29:35.110 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==>  Preparing: select time from email_history_info where id =? 
2020-11-21 15:29:35.110 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==> Parameters: 1306201167000240128(String)
2020-11-21 15:29:35.119 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  <==      Total: 1
2020-11-21 15:29:35.119 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==>  Preparing: select time from email_history_info where id =? 
2020-11-21 15:29:35.120 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==> Parameters: 1308013106458263552(String)
2020-11-21 15:29:35.130 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  <==      Total: 0
2020-11-21 15:29:40.333 DEBUG cn.jwis.qualityworkflow.util.EmailService[144]  get handler mail from http://gateway.dev.jwis.io/platform/sys/user/internal-read?name=qualityadmin happen error cause:I/O error on GET request for "http://gateway.dev.jwis.io/platform/sys/user/internal-read": connect timed out; nested exception is java.net.SocketTimeoutException: connect timed out
2020-11-21 15:29:40.333 DEBUG cn.jwis.qualityworkflow.util.EmailService[144]  get handler mail from http://gateway.dev.jwis.io/platform/sys/user/internal-read?name=kiween happen error cause:I/O error on GET request for "http://gateway.dev.jwis.io/platform/sys/user/internal-read": connect timed out; nested exception is java.net.SocketTimeoutException: connect timed out
2020-11-21 15:29:40.333 DEBUG cn.jwis.qualityworkflow.util.EmailService[144]  get handler mail from http://gateway.dev.jwis.io/platform/sys/user/internal-read?name=hualanlan happen error cause:I/O error on GET request for "http://gateway.dev.jwis.io/platform/sys/user/internal-read": connect timed out; nested exception is java.net.SocketTimeoutException: connect timed out
2020-11-21 15:29:40.333 DEBUG cn.jwis.qualityworkflow.util.EmailService[144]  get handler mail from http://gateway.dev.jwis.io/platform/sys/user/internal-read?name=dz_gyb1 happen error cause:I/O error on GET request for "http://gateway.dev.jwis.io/platform/sys/user/internal-read": connect timed out; nested exception is java.net.SocketTimeoutException: connect timed out
2020-11-21 15:29:40.397 DEBUG cn.jwis.qualityworkflow.dao.UserMapper.getSuperior[145]  ==>  Preparing: select superior from department_mapping where user_account = ? and type = ? limit 0,1 
2020-11-21 15:29:40.397 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==>  Preparing: select time from email_history_info where id =? 
2020-11-21 15:29:40.397 DEBUG cn.jwis.qualityworkflow.dao.UserMapper.getSuperior[145]  ==>  Preparing: select superior from department_mapping where user_account = ? and type = ? limit 0,1 
2020-11-21 15:29:40.397 DEBUG cn.jwis.qualityworkflow.dao.UserMapper.getSuperior[145]  ==>  Preparing: select superior from department_mapping where user_account = ? and type = ? limit 0,1 
2020-11-21 15:29:40.398 DEBUG cn.jwis.qualityworkflow.dao.UserMapper.getSuperior[145]  ==> Parameters: dz_gyb1(String), COMMON(String)
2020-11-21 15:29:40.398 DEBUG cn.jwis.qualityworkflow.dao.UserMapper.getSuperior[145]  ==> Parameters: qualityadmin(String), COMMON(String)
2020-11-21 15:29:40.398 DEBUG cn.jwis.qualityworkflow.dao.UserMapper.getSuperior[145]  ==> Parameters: hualanlan(String), QIMS(String)
2020-11-21 15:29:40.398 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==> Parameters: 1308013110702899200(String)
2020-11-21 15:29:40.406 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  <==      Total: 1
2020-11-21 15:29:40.407 DEBUG cn.jwis.qualityworkflow.dao.UserMapper.getSuperior[145]  <==      Total: 1
2020-11-21 15:29:40.407 DEBUG cn.jwis.qualityworkflow.dao.UserMapper.getSuperior[145]  <==      Total: 1
2020-11-21 15:29:40.407 DEBUG cn.jwis.qualityworkflow.dao.UserMapper.getSuperior[145]  <==      Total: 1
2020-11-21 15:29:40.408 DEBUG c.j.q.dao.UserMapper.getSuperiorManagerByUser[145]  ==>  Preparing: select superior_manager from department_mapping where user_account = ? and type = ? limit 0,1 
2020-11-21 15:29:40.408 DEBUG c.j.q.dao.UserMapper.getSuperiorManagerByUser[145]  ==> Parameters: hualanlan(String), QIMS(String)
2020-11-21 15:29:40.420 DEBUG c.j.q.dao.UserMapper.getSuperiorManagerByUser[145]  <==      Total: 1
2020-11-21 15:29:40.476 INFO  cn.jwis.qualityworkflow.util.EmailService[142]  workflow3 email is null
2020-11-21 15:29:40.476 INFO  cn.jwis.qualityworkflow.util.EmailService[142]  dz_gyb2 email is jian.song@jwis.cn
2020-11-21 15:29:40.476 INFO  cn.jwis.qualityworkflow.util.EmailService[142]  qualityadmin email is 
2020-11-21 15:29:40.476 INFO  cn.jwis.qualityworkflow.util.EmailService[142]  qualityadmin email is 
2020-11-21 15:29:40.476 INFO  c.j.q.m.factoryaudit.job.AuditQuestionMailJob[31]  邮件下发结束
2020-11-21 15:29:40.476 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==>  Preparing: select time from email_history_info where id =? 
2020-11-21 15:29:40.476 DEBUG cn.jwis.qualityworkflow.dao.UserMapper.getSuperior[145]  ==>  Preparing: select superior from department_mapping where user_account = ? and type = ? limit 0,1 
2020-11-21 15:29:40.477 DEBUG cn.jwis.qualityworkflow.dao.UserMapper.getSuperior[145]  ==> Parameters: qualityadmin(String), COMMON(String)
2020-11-21 15:29:40.477 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==> Parameters: 1294123945682796544(String)
2020-11-21 15:29:40.486 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  <==      Total: 1
2020-11-21 15:29:40.486 DEBUG cn.jwis.qualityworkflow.dao.UserMapper.getSuperior[145]  <==      Total: 1
2020-11-21 15:29:40.487 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==>  Preparing: select time from email_history_info where id =? 
2020-11-21 15:29:40.487 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==> Parameters: 1294123945716350976(String)
2020-11-21 15:29:40.497 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  <==      Total: 1
2020-11-21 15:29:40.498 INFO  cn.jwis.qualityworkflow.util.EmailService[142]  zhouxianling email is 
2020-11-21 15:29:40.504 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==>  Preparing: select time from email_history_info where id =? 
2020-11-21 15:29:40.505 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==> Parameters: 1286904434760089600(String)
2020-11-21 15:29:40.511 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  <==      Total: 1
2020-11-21 15:29:40.514 INFO  cn.jwis.qualityworkflow.util.EmailService[142]  qualityadmin email is 
2020-11-21 15:29:40.514 INFO  cn.jwis.qualityworkflow.util.EmailService[142]  xujinbiao email is 
2020-11-21 15:29:40.515 DEBUG cn.jwis.qualityworkflow.dao.UserMapper.getSuperior[145]  ==>  Preparing: select superior from department_mapping where user_account = ? and type = ? limit 0,1 
2020-11-21 15:29:40.515 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==>  Preparing: select time from email_history_info where id =? 
2020-11-21 15:29:40.515 DEBUG cn.jwis.qualityworkflow.dao.UserMapper.getSuperior[145]  ==> Parameters: xujinbiao(String), COMMON(String)
2020-11-21 15:29:40.516 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==> Parameters: 1308013113928318976(String)
2020-11-21 15:29:40.522 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  <==      Total: 1
2020-11-21 15:29:40.522 DEBUG cn.jwis.qualityworkflow.dao.UserMapper.getSuperior[145]  <==      Total: 1
2020-11-21 15:29:40.543 INFO  cn.jwis.qualityworkflow.util.EmailService[142]  gupp2 email is null
2020-11-21 15:29:40.544 DEBUG cn.jwis.qualityworkflow.dao.UserMapper.getSuperior[145]  ==>  Preparing: select superior from department_mapping where user_account = ? and type = ? limit 0,1 
2020-11-21 15:29:40.544 DEBUG cn.jwis.qualityworkflow.dao.UserMapper.getSuperior[145]  ==> Parameters: gupp2(String), QIMS(String)
2020-11-21 15:29:40.547 INFO  cn.jwis.qualityworkflow.util.EmailService[142]  hualanlan email is test@jwis.cn
2020-11-21 15:29:40.547 INFO  cn.jwis.qualityworkflow.util.EmailService[142]  qualityadmin email is 
2020-11-21 15:29:40.548 DEBUG cn.jwis.qualityworkflow.dao.UserMapper.getSuperior[145]  ==>  Preparing: select superior from department_mapping where user_account = ? and type = ? limit 0,1 
2020-11-21 15:29:40.548 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==>  Preparing: select time from email_history_info where id =? 
2020-11-21 15:29:40.548 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==> Parameters: 1295193219738370048(String)
2020-11-21 15:29:40.548 DEBUG cn.jwis.qualityworkflow.dao.UserMapper.getSuperior[145]  ==> Parameters: qualityadmin(String), COMMON(String)
2020-11-21 15:29:40.551 DEBUG cn.jwis.qualityworkflow.dao.UserMapper.getSuperior[145]  <==      Total: 0
2020-11-21 15:29:40.552 DEBUG c.j.q.dao.UserMapper.getSuperiorManagerByUser[145]  ==>  Preparing: select superior_manager from department_mapping where user_account = ? and type = ? limit 0,1 
2020-11-21 15:29:40.552 DEBUG c.j.q.dao.UserMapper.getSuperiorManagerByUser[145]  ==> Parameters: gupp2(String), QIMS(String)
2020-11-21 15:29:40.557 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  <==      Total: 1
2020-11-21 15:29:40.557 DEBUG cn.jwis.qualityworkflow.dao.UserMapper.getSuperior[145]  <==      Total: 1
2020-11-21 15:29:40.558 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==>  Preparing: select time from email_history_info where id =? 
2020-11-21 15:29:40.558 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==> Parameters: 1295193220166189056(String)
2020-11-21 15:29:40.562 DEBUG c.j.q.dao.UserMapper.getSuperiorManagerByUser[145]  <==      Total: 0
2020-11-21 15:29:40.787 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  <==      Total: 1
2020-11-21 15:29:40.788 INFO  cn.jwis.qualityworkflow.util.EmailService[142]  qualityadmin email is 
2020-11-21 15:29:40.788 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==>  Preparing: select time from email_history_info where id =? 
2020-11-21 15:29:40.789 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==> Parameters: 1308013116927246336(String)
2020-11-21 15:29:40.790 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==>  Preparing: select time from email_history_info where id =? 
2020-11-21 15:29:40.790 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==> Parameters: 1286916730144161792(String)
2020-11-21 15:29:40.797 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  <==      Total: 0
2020-11-21 15:29:40.799 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  <==      Total: 1
2020-11-21 15:29:40.809 INFO  cn.jwis.qualityworkflow.util.EmailService[142]  xujinbiao email is 
2020-11-21 15:29:40.810 DEBUG cn.jwis.qualityworkflow.dao.UserMapper.getSuperior[145]  ==>  Preparing: select superior from department_mapping where user_account = ? and type = ? limit 0,1 
2020-11-21 15:29:40.810 DEBUG cn.jwis.qualityworkflow.dao.UserMapper.getSuperior[145]  ==> Parameters: xujinbiao(String), COMMON(String)
2020-11-21 15:29:40.823 INFO  cn.jwis.qualityworkflow.util.EmailService[142]  kiween email is 
2020-11-21 15:29:40.823 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==>  Preparing: select time from email_history_info where id =? 
2020-11-21 15:29:40.824 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==> Parameters: 1309046852858937344(String)
2020-11-21 15:29:40.826 DEBUG cn.jwis.qualityworkflow.dao.UserMapper.getSuperior[145]  <==      Total: 1
2020-11-21 15:29:40.829 INFO  cn.jwis.qualityworkflow.util.EmailService[142]  gupp2 email is null
2020-11-21 15:29:40.829 DEBUG cn.jwis.qualityworkflow.dao.UserMapper.getSuperior[145]  ==>  Preparing: select superior from department_mapping where user_account = ? and type = ? limit 0,1 
2020-11-21 15:29:40.830 DEBUG cn.jwis.qualityworkflow.dao.UserMapper.getSuperior[145]  ==> Parameters: gupp2(String), QIMS(String)
2020-11-21 15:29:40.831 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  <==      Total: 0
2020-11-21 15:29:40.839 DEBUG cn.jwis.qualityworkflow.dao.UserMapper.getSuperior[145]  <==      Total: 0
2020-11-21 15:29:40.839 DEBUG c.j.q.dao.UserMapper.getSuperiorManagerByUser[145]  ==>  Preparing: select superior_manager from department_mapping where user_account = ? and type = ? limit 0,1 
2020-11-21 15:29:40.840 DEBUG c.j.q.dao.UserMapper.getSuperiorManagerByUser[145]  ==> Parameters: gupp2(String), QIMS(String)
2020-11-21 15:29:40.847 DEBUG c.j.q.dao.UserMapper.getSuperiorManagerByUser[145]  <==      Total: 0
2020-11-21 15:29:40.847 INFO  cn.jwis.qualityworkflow.util.EmailService[142]  hualanlan email is test@jwis.cn
2020-11-21 15:29:40.848 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==>  Preparing: select time from email_history_info where id =? 
2020-11-21 15:29:40.848 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==> Parameters: 1295193707351375872(String)
2020-11-21 15:29:40.851 INFO  cn.jwis.qualityworkflow.util.EmailService[142]  codisan email is kelvin@jwis.cn
2020-11-21 15:29:40.852 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==>  Preparing: select time from email_history_info where id =? 
2020-11-21 15:29:40.852 DEBUG c.j.qualityworkflow.dao.CommonMapper.getKeyToName[145]  ==>  Preparing: SELECT * FROM key_to_name 
2020-11-21 15:29:40.852 DEBUG c.j.qualityworkflow.dao.CommonMapper.getKeyToName[145]  ==> Parameters: 
2020-11-21 15:29:40.852 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==> Parameters: 1287933861786812416(String)
2020-11-21 15:29:40.860 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  <==      Total: 1
2020-11-21 15:29:40.860 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==>  Preparing: select time from email_history_info where id =? 
2020-11-21 15:29:40.861 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  <==      Total: 1
2020-11-21 15:29:40.861 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==> Parameters: 1295193707376541696(String)
2020-11-21 15:29:40.861 DEBUG c.j.qualityworkflow.dao.CommonMapper.getKeyToName[145]  <==      Total: 8
2020-11-21 15:29:40.869 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  <==      Total: 1
2020-11-21 15:29:40.881 INFO  cn.jwis.qualityworkflow.util.EmailService[142]  hualanlan email is test@jwis.cn
2020-11-21 15:29:40.881 DEBUG cn.jwis.qualityworkflow.dao.UserMapper.getSuperior[145]  ==>  Preparing: select superior from department_mapping where user_account = ? and type = ? limit 0,1 
2020-11-21 15:29:40.882 DEBUG cn.jwis.qualityworkflow.dao.UserMapper.getSuperior[145]  ==> Parameters: hualanlan(String), QIMS(String)
2020-11-21 15:29:40.889 DEBUG cn.jwis.qualityworkflow.dao.UserMapper.getSuperior[145]  <==      Total: 1
2020-11-21 15:29:40.889 DEBUG c.j.q.dao.UserMapper.getSuperiorManagerByUser[145]  ==>  Preparing: select superior_manager from department_mapping where user_account = ? and type = ? limit 0,1 
2020-11-21 15:29:40.890 DEBUG c.j.q.dao.UserMapper.getSuperiorManagerByUser[145]  ==> Parameters: hualanlan(String), QIMS(String)
2020-11-21 15:29:40.891 INFO  cn.jwis.qualityworkflow.util.EmailService[142]  xujinbiao email is 
2020-11-21 15:29:40.891 DEBUG cn.jwis.qualityworkflow.dao.UserMapper.getSuperior[145]  ==>  Preparing: select superior from department_mapping where user_account = ? and type = ? limit 0,1 
2020-11-21 15:29:40.892 DEBUG cn.jwis.qualityworkflow.dao.UserMapper.getSuperior[145]  ==> Parameters: xujinbiao(String), COMMON(String)
2020-11-21 15:29:40.898 DEBUG c.j.q.dao.UserMapper.getSuperiorManagerByUser[145]  <==      Total: 1
2020-11-21 15:29:40.905 DEBUG cn.jwis.qualityworkflow.dao.UserMapper.getSuperior[145]  <==      Total: 1
2020-11-21 15:29:40.943 INFO  cn.jwis.qualityworkflow.util.EmailService[142]  workflow3 email is null
2020-11-21 15:29:40.952 INFO  cn.jwis.qualityworkflow.util.EmailService[142]  hualanlan email is test@jwis.cn
2020-11-21 15:29:40.952 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==>  Preparing: select time from email_history_info where id =? 
2020-11-21 15:29:40.953 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==> Parameters: 1315248790789160960(String)
2020-11-21 15:29:40.960 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  <==      Total: 1
2020-11-21 15:29:40.979 INFO  cn.jwis.qualityworkflow.util.EmailService[142]  zhouxianling email is 
2020-11-21 15:29:40.984 DEBUG c.j.qualityworkflow.dao.TaskRecordMapper.getById[145]  ==>  Preparing: SELECT * from task_record WHERE id = ? 
2020-11-21 15:29:40.984 DEBUG c.j.qualityworkflow.dao.TaskRecordMapper.getById[145]  ==> Parameters: 1287933861786812416(String)
2020-11-21 15:29:40.985 INFO  cn.jwis.qualityworkflow.util.EmailService[142]  dz_gyb1 email is test@jwis.cn
2020-11-21 15:29:40.985 DEBUG cn.jwis.qualityworkflow.dao.UserMapper.getSuperior[145]  ==>  Preparing: select superior from department_mapping where user_account = ? and type = ? limit 0,1 
2020-11-21 15:29:40.985 DEBUG cn.jwis.qualityworkflow.dao.UserMapper.getSuperior[145]  ==> Parameters: dz_gyb1(String), COMMON(String)
2020-11-21 15:29:40.995 DEBUG c.j.qualityworkflow.dao.TaskRecordMapper.getById[145]  <==      Total: 1
2020-11-21 15:29:40.995 DEBUG c.j.qualityworkflow.dao.CommonMapper.getKeyToName[145]  ==>  Preparing: SELECT * FROM key_to_name 
2020-11-21 15:29:40.996 DEBUG c.j.qualityworkflow.dao.CommonMapper.getKeyToName[145]  ==> Parameters: 
2020-11-21 15:29:40.998 DEBUG cn.jwis.qualityworkflow.dao.UserMapper.getSuperior[145]  <==      Total: 1
2020-11-21 15:29:41.009 DEBUG c.j.qualityworkflow.dao.CommonMapper.getKeyToName[145]  <==      Total: 8
2020-11-21 15:29:41.021 INFO  cn.jwis.qualityworkflow.util.EmailService[142]  dz_gyb2 email is jian.song@jwis.cn
2020-11-21 15:29:41.022 DEBUG c.j.qualityworkflow.dao.CommonMapper.getKeyToName[145]  ==>  Preparing: SELECT * FROM key_to_name 
2020-11-21 15:29:41.022 DEBUG c.j.qualityworkflow.dao.CommonMapper.getKeyToName[145]  ==> Parameters: 
2020-11-21 15:29:41.031 DEBUG c.j.qualityworkflow.dao.CommonMapper.getKeyToName[145]  <==      Total: 8
2020-11-21 15:29:41.032 DEBUG c.j.q.m.l.d.L.getLineQualifyDetailednessInfo[145]  ==>  Preparing: SELECT q.*,ar.processInstanceId ,ar.taskId,ar.assignee,ar.taskState,ar.taskName FROM line_qualify_info q,(SELECT workflow_business_id, process_instance_id as processInstanceId,task_id as taskId,assignee,task_state as taskState,task_name taskName FROM task_record WHERE task_id=?) ar where q.id=ar.workflow_business_id 
2020-11-21 15:29:41.033 DEBUG c.j.q.m.l.d.L.getLineQualifyDetailednessInfo[145]  ==> Parameters: 5506556(String)
2020-11-21 15:29:41.052 DEBUG c.j.q.m.l.d.L.getLineQualifyDetailednessInfo[145]  <==      Total: 1
2020-11-21 15:29:41.169 INFO  cn.jwis.qualityworkflow.util.EmailService[74]  haomiao.liu@jwis.cn send a Mail to kelvin@jwis.cn fail, because null
2020-11-21 15:29:41.169 INFO  cn.jwis.qualityworkflow.util.EmailService[71]  haomiao.liu@jwis.cn send a Mail to test@jwis.cn
2020-11-21 15:29:41.169 INFO  cn.jwis.qualityworkflow.util.EmailService[69]  haomiao.liu@jwis.cn send a Mail to test@jwis.cn and make a copy for [jian.song@jwis.cn]
2020-11-21 15:29:41.895 ERROR o.s.s.support.TaskUtils$LoggingErrorHandler[96] org.springframework.mail.MailSendException: Failed messages: javax.mail.SendFailedException: Invalid Addresses;
  nested exception is:
	com.sun.mail.smtp.SMTPAddressFailedException: 554 RCPT (test@jwis.cn) dosn't exist

	at org.springframework.mail.javamail.JavaMailSenderImpl.doSend(JavaMailSenderImpl.java:488)
	at org.springframework.mail.javamail.JavaMailSenderImpl.send(JavaMailSenderImpl.java:359)
	at org.springframework.mail.javamail.JavaMailSenderImpl.send(JavaMailSenderImpl.java:354)
	at cn.jwis.qualityworkflow.util.EmailService.sendHtmlMail(EmailService.java:76)
	at cn.jwis.qualityworkflow.modules.qims.service.imp.QimsSendMailServiceImpl.sendEmailTohandler(QimsSendMailServiceImpl.java:161)
	at cn.jwis.qualityworkflow.modules.qims.service.imp.QimsSendMailServiceImpl.qimsSendMail(QimsSendMailServiceImpl.java:90)
	at cn.jwis.qualityworkflow.modules.qims.job.qimsMailJob.qimsSendMail(qimsMailJob.java:49)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.springframework.scheduling.support.ScheduledMethodRunnable.run(ScheduledMethodRunnable.java:84)
	at org.springframework.scheduling.support.DelegatingErrorHandlingRunnable.run(DelegatingErrorHandlingRunnable.java:54)
	at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:511)
	at java.util.concurrent.FutureTask.runAndReset(FutureTask.java:308)
	at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.access$301(ScheduledThreadPoolExecutor.java:180)
	at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:294)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)
 Unexpected error occurred in scheduled task.
2020-11-21 15:29:41.895 ERROR o.s.s.support.TaskUtils$LoggingErrorHandler[96] org.springframework.mail.MailSendException: Failed messages: javax.mail.SendFailedException: Invalid Addresses;
  nested exception is:
	com.sun.mail.smtp.SMTPAddressFailedException: 554 RCPT (kelvin@jwis.cn) dosn't exist

	at org.springframework.mail.javamail.JavaMailSenderImpl.doSend(JavaMailSenderImpl.java:488)
	at org.springframework.mail.javamail.JavaMailSenderImpl.send(JavaMailSenderImpl.java:359)
	at org.springframework.mail.javamail.JavaMailSenderImpl.send(JavaMailSenderImpl.java:354)
	at cn.jwis.qualityworkflow.util.EmailService.sendHtmlMail(EmailService.java:76)
	at cn.jwis.qualityworkflow.modules.qims.service.imp.QimsSendMailServiceImpl.sendEmailTohandler(QimsSendMailServiceImpl.java:161)
	at cn.jwis.qualityworkflow.modules.ipqc.service.imp.AuditQualityProblemServiceImpl.qimsSendMail(AuditQualityProblemServiceImpl.java:321)
	at cn.jwis.qualityworkflow.modules.ipqc.service.imp.AuditQualityProblemServiceImpl$$FastClassBySpringCGLIB$$15ff325f.invoke(<generated>)
	at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:684)
	at cn.jwis.qualityworkflow.modules.ipqc.service.imp.AuditQualityProblemServiceImpl$$EnhancerBySpringCGLIB$$db22c41d.qimsSendMail(<generated>)
	at cn.jwis.qualityworkflow.modules.ipqc.job.ipqcMailJob.qimsSendMail(ipqcMailJob.java:28)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.springframework.scheduling.support.ScheduledMethodRunnable.run(ScheduledMethodRunnable.java:84)
	at org.springframework.scheduling.support.DelegatingErrorHandlingRunnable.run(DelegatingErrorHandlingRunnable.java:54)
	at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:511)
	at java.util.concurrent.FutureTask.runAndReset(FutureTask.java:308)
	at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.access$301(ScheduledThreadPoolExecutor.java:180)
	at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:294)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)
 Unexpected error occurred in scheduled task.
2020-11-21 15:29:41.944 ERROR o.s.s.support.TaskUtils$LoggingErrorHandler[96] org.springframework.mail.MailSendException: Failed messages: javax.mail.SendFailedException: Invalid Addresses;
  nested exception is:
	com.sun.mail.smtp.SMTPAddressFailedException: 554 RCPT (test@jwis.cn) dosn't exist
;
  nested exception is:
	com.sun.mail.smtp.SMTPAddressFailedException: 554 RCPT (jian.song@jwis.cn) dosn't exist

	at org.springframework.mail.javamail.JavaMailSenderImpl.doSend(JavaMailSenderImpl.java:488)
	at org.springframework.mail.javamail.JavaMailSenderImpl.send(JavaMailSenderImpl.java:359)
	at org.springframework.mail.javamail.JavaMailSenderImpl.send(JavaMailSenderImpl.java:354)
	at cn.jwis.qualityworkflow.util.EmailService.sendHtmlMail(EmailService.java:76)
	at cn.jwis.qualityworkflow.modules.linequalify.service.imp.LineQualifyServiceImpl.sendEmailTohandler(LineQualifyServiceImpl.java:617)
	at cn.jwis.qualityworkflow.modules.linequalify.service.imp.LineQualifyServiceImpl.sendOverTimeMail(LineQualifyServiceImpl.java:594)
	at cn.jwis.qualityworkflow.modules.linequalify.service.imp.LineQualifyServiceImpl$$FastClassBySpringCGLIB$$4ca6f597.invoke(<generated>)
	at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:684)
	at cn.jwis.qualityworkflow.modules.linequalify.service.imp.LineQualifyServiceImpl$$EnhancerBySpringCGLIB$$2291d0c5.sendOverTimeMail(<generated>)
	at cn.jwis.qualityworkflow.modules.linequalify.job.LineQualifyMailJob.sendOverTimeMail(LineQualifyMailJob.java:30)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.springframework.scheduling.support.ScheduledMethodRunnable.run(ScheduledMethodRunnable.java:84)
	at org.springframework.scheduling.support.DelegatingErrorHandlingRunnable.run(DelegatingErrorHandlingRunnable.java:54)
	at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:511)
	at java.util.concurrent.FutureTask.runAndReset(FutureTask.java:308)
	at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.access$301(ScheduledThreadPoolExecutor.java:180)
	at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:294)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)
 Unexpected error occurred in scheduled task.
2020-11-21 15:29:47.531 INFO  o.a.c.core.ContainerBase.[Tomcat].[localhost].[/][173]  Initializing Spring DispatcherServlet 'dispatcherServlet'
2020-11-21 15:29:47.532 INFO  org.springframework.web.servlet.DispatcherServlet[521]  Initializing Servlet 'dispatcherServlet'
2020-11-21 15:29:47.547 INFO  org.springframework.web.servlet.DispatcherServlet[543]  Completed initialization in 15 ms
2020-11-21 15:29:47.635 DEBUG c.j.q.dao.TaskRecordMapper.getProcessAgent[145]  ==>  Preparing: select * from (SELECT * FROM task_record UNION ALL SELECT id, "PCN" template_key, processInstanceId process_instance_id, assignee, pcnId workflow_business_id, taskState task_state, state, taskName task_name, taskId task_id, null department, createDate create_date, updateDate update_date, theme, item_number, creator FROM pcn_task_record) ar where 1=1 and ((ar.create_date >= ? and ar.create_date <= ?) or (ar.update_date >= ? and ar.update_date <= ?)) and (ar.task_state is null or ar.task_state = 'OnGoing') and ar.assignee =? order by ar.create_date desc limit ?,? 
2020-11-21 15:29:47.636 DEBUG c.j.q.dao.TaskRecordMapper.getProcessAgent[145]  ==> Parameters: 2020-10-22(String), 2020-11-22(String), 2020-10-22(String), 2020-11-22(String), hualanlan(String), 0(Integer), 15(Integer)
2020-11-21 15:29:47.698 DEBUG c.j.q.dao.TaskRecordMapper.getProcessAgent[145]  <==      Total: 3
2020-11-21 15:29:47.704 DEBUG c.j.q.dao.TaskRecordMapper.getProcessAgentCount[145]  ==>  Preparing: select count(1) from (SELECT * FROM task_record UNION ALL SELECT id, "PCN" template_key, processInstanceId process_instance_id, assignee, pcnId workflow_business_id, taskState task_state, state, taskName task_name, taskId task_id, null department, createDate create_date, updateDate update_date, theme, item_number, creator FROM pcn_task_record) ar where 1=1 and ((ar.create_date >= ? and ar.create_date <= ?) or (ar.update_date >= ? and ar.update_date <= ?)) and (ar.task_state is null or ar.task_state = 'OnGoing') and ar.assignee =? 
2020-11-21 15:29:47.704 DEBUG c.j.q.dao.TaskRecordMapper.getProcessAgentCount[145]  ==> Parameters: 2020-10-22(String), 2020-11-22(String), 2020-10-22(String), 2020-11-22(String), hualanlan(String)
2020-11-21 15:29:47.731 DEBUG c.j.q.dao.UserMapper.getDepartmentList[145]  ==>  Preparing: select DISTINCT department from department_mapping where type = ? and department is not null 
2020-11-21 15:29:47.731 DEBUG c.j.q.dao.UserMapper.getDepartmentList[145]  ==> Parameters: COMMON(String)
2020-11-21 15:29:47.743 DEBUG c.j.q.dao.UserMapper.getDepartmentList[145]  <==      Total: 21
2020-11-21 15:29:47.780 DEBUG c.j.q.dao.TaskRecordMapper.getProcessAgentCount[145]  <==      Total: 1
2020-11-21 15:29:47.902 DEBUG c.j.q.dao.UserMapper.getDepartmentList[145]  ==>  Preparing: select DISTINCT department from department_mapping where type = ? and department is not null 
2020-11-21 15:29:47.903 DEBUG c.j.q.dao.UserMapper.getDepartmentList[145]  ==> Parameters: COMMON(String)
2020-11-21 15:29:47.912 DEBUG c.j.q.dao.UserMapper.getDepartmentList[145]  <==      Total: 21
2020-11-21 15:30:00.002 INFO  c.j.q.m.t.T.TraceabilityMachineTimerManager[50]  设备定时任务开启
2020-11-21 15:30:00.013 DEBUG c.j.q.m.t.d.T.getTraceabilityMachineList[145]  ==>  Preparing: select table_name from traceability_machine_data group by table_name 
2020-11-21 15:30:00.013 DEBUG c.j.q.m.t.d.T.getTraceabilityMachineList[145]  ==> Parameters: 
2020-11-21 15:30:00.024 DEBUG c.j.q.m.t.d.T.getTraceabilityMachineList[145]  <==      Total: 5
2020-11-21 15:30:00.025 DEBUG c.j.q.m.t.d.T.getTraceabilityMachineFiledName[145]  ==>  Preparing: select filed_name from traceability_machine_data where table_name=? 
2020-11-21 15:30:00.025 DEBUG c.j.q.m.t.d.T.getTraceabilityMachineFiledName[145]  ==> Parameters: dust_free_shed(String)
2020-11-21 15:30:00.032 DEBUG c.j.q.m.t.d.T.getTraceabilityMachineFiledName[145]  <==      Total: 11
2020-11-21 15:30:00.034 DEBUG c.j.q.m.t.d.T.getMaxCreateTime[145]  ==>  Preparing: select max(createtime) from dust_free_shed 
2020-11-21 15:30:00.034 DEBUG c.j.q.m.t.d.T.getMaxCreateTime[145]  ==> Parameters: 
2020-11-21 15:30:00.104 DEBUG c.j.q.m.t.d.T.getMaxCreateTime[145]  <==      Total: 1
2020-11-21 15:30:00.142 ERROR o.s.s.support.TaskUtils$LoggingErrorHandler[96] java.lang.NullPointerException: null
	at cn.jwis.qualityworkflow.modules.traceablity.TimerManager.TraceabilityMachineTimerManager.getLenovoMachineData(TraceabilityMachineTimerManager.java:105)
	at cn.jwis.qualityworkflow.modules.traceablity.TimerManager.TraceabilityMachineTimerManager.MachineTimerManager(TraceabilityMachineTimerManager.java:57)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.springframework.scheduling.support.ScheduledMethodRunnable.run(ScheduledMethodRunnable.java:84)
	at org.springframework.scheduling.support.DelegatingErrorHandlingRunnable.run(DelegatingErrorHandlingRunnable.java:54)
	at org.springframework.scheduling.concurrent.ReschedulingRunnable.run(ReschedulingRunnable.java:93)
	at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:511)
	at java.util.concurrent.FutureTask.run(FutureTask.java:266)
	at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.access$201(ScheduledThreadPoolExecutor.java:180)
	at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:293)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)
 Unexpected error occurred in scheduled task.
2020-11-21 15:30:03.717 DEBUG c.j.q.dao.UserMapper.getUserListByDepartment[145]  ==>  Preparing: select DISTINCT user_account from department_mapping where department = ? and type = ? and user_account is not null and position is null 
2020-11-21 15:30:03.720 DEBUG c.j.q.dao.UserMapper.getUserListByDepartment[145]  ==> Parameters: EFC ENG(String), COMMON(String)
2020-11-21 15:30:03.728 DEBUG c.j.q.dao.UserMapper.getUserListByDepartment[145]  <==      Total: 2
2020-11-21 15:30:07.299 DEBUG c.j.q.dao.UserMapper.getUserListByDepartment[145]  ==>  Preparing: select DISTINCT user_account from department_mapping where department = ? and type = ? and user_account is not null and position is null 
2020-11-21 15:30:07.301 DEBUG c.j.q.dao.UserMapper.getUserListByDepartment[145]  ==> Parameters: SMT ENG(String), COMMON(String)
2020-11-21 15:30:07.312 DEBUG c.j.q.dao.UserMapper.getUserListByDepartment[145]  <==      Total: 1
2020-11-21 15:30:23.748 DEBUG c.j.q.d.WorkflowVariableReflectMapper.getVariables[145]  ==>  Preparing: SELECT variable from workflow_variable_reflect where template_key = ? and node = ? 
2020-11-21 15:30:23.749 DEBUG c.j.q.d.WorkflowVariableReflectMapper.getVariables[145]  ==> Parameters: QMSEcnProcess(String), Apply(String)
2020-11-21 15:30:23.757 DEBUG c.j.q.d.WorkflowVariableReflectMapper.getVariables[145]  <==      Total: 3
2020-11-21 15:30:23.764 DEBUG c.j.q.modules.ecn.dao.EcnInfoMapper.getItemNumber[145]  ==>  Preparing: SELECT ecn_number_generator() 
2020-11-21 15:30:23.765 DEBUG c.j.q.modules.ecn.dao.EcnInfoMapper.getItemNumber[145]  ==> Parameters: 
2020-11-21 15:30:23.773 DEBUG c.j.q.modules.ecn.dao.EcnInfoMapper.getItemNumber[145]  <==      Total: 1
2020-11-21 15:30:23.774 DEBUG c.j.q.modules.ecn.dao.EcnInfoMapper.insert[145]  ==>  Preparing: insert into ecn_info (id, item_number, item_type, file_name, file_oid, sender_side, document_originator, model_name, change_type, posting_time, works_section, works_head, quality_head, status, involved_area, change_import_scheme, change_import_time, change_import_mode, ipqc_handler, ipqc_verification_results, ipqc_verification_reason, ipqc_verifier, ipqc_verification_time, project_approval_result, project_approval_opinion, project_approver, project_approver_time, odm_approval_result, odm_approval_opinion, odm_approver, odm_approver_time, sqe_approval_result, sqe_approval_opinion, sqe_approver, sqe_approver_time, file_address, assignee, remark, creator, create_date, update_date ) values (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ? ) 
2020-11-21 15:30:23.781 DEBUG c.j.q.modules.ecn.dao.EcnInfoMapper.insert[145]  ==> Parameters: 1330050914286829568(String), 20201121001(String), ECN(String), LCFC-logo.jpg(String), 1330050734681485312(String), HQ(String), 111(String), 111(String), BOM,软件(String), 2020-11-21 00:00:00.0(Timestamp), SMT ENG(String), hualanlan(String), hualanlan(String), Apply(String), null, null, null, null, hualanlan(String), null, null, null, null, null, null, null, null, null, null, hualanlan(String), null, null, null, hualanlan(String), null, (String), null, (String), hualanlan(String), null, null
2020-11-21 15:30:23.794 DEBUG c.j.q.modules.ecn.dao.EcnInfoMapper.insert[145]  <==    Updates: 1
2020-11-21 15:32:40.618 WARN  com.zaxxer.hikari.pool.HikariPool[766]  HikariPool-1 - Thread starvation or clock leap detected (housekeeper delta=1m52s418ms833µs291ns).
2020-11-21 15:34:19.034 WARN  com.zaxxer.hikari.pool.HikariPool[766]  HikariPool-1 - Thread starvation or clock leap detected (housekeeper delta=1m38s413ms6µs972ns).
2020-11-21 15:36:24.585 WARN  com.zaxxer.hikari.pool.HikariPool[766]  HikariPool-1 - Thread starvation or clock leap detected (housekeeper delta=2m5s547ms523µs585ns).
2020-11-21 15:36:24.586 INFO  c.j.qualityworkflow.modules.ipqc.job.ipqcMailJob[27]  查询IPQC超时任务
2020-11-21 15:36:24.589 DEBUG c.j.q.d.H.deleteApplyRecord[145]  ==>  Preparing: DELETE from history_process_record where workflow_type = ? and creator = ? and type = 'SAVE' and workflow_node = 'Apply' and workflow_businessId is NULL 
2020-11-21 15:36:24.590 DEBUG c.j.q.d.H.deleteApplyRecord[145]  ==> Parameters: QMSEcnProcess(String), hualanlan(String)
2020-11-21 15:36:24.606 DEBUG c.j.q.dao.TaskRecordMapper.getOverTimeTaskRecord[145]  ==>  Preparing: SELECT *, HOUR(timediff(now() , create_date)) overTimeNum FROM task_record WHERE template_key = ? AND task_state IS NULL AND task_name = ? AND HOUR(timediff(now() , create_date)) >= ? 
2020-11-21 15:36:24.607 DEBUG c.j.q.dao.TaskRecordMapper.getOverTimeTaskRecord[145]  ==> Parameters: Line Qualify(String), 文件收集(String), 2(Integer)
2020-11-21 15:36:24.620 DEBUG c.j.q.dao.TaskRecordMapper.getOverTimeTaskRecord2[145]  ==>  Preparing: SELECT *, HOUR(timediff(now() , create_date)) overTimeNum FROM task_record WHERE template_key = ? AND task_state IS NULL AND HOUR(timediff(now() , create_date)) >= ? 
2020-11-21 15:36:24.621 DEBUG c.j.q.dao.TaskRecordMapper.getOverTimeTaskRecord2[145]  ==> Parameters: IPQCAuditProcess(String), 24(Integer)
2020-11-21 15:36:24.639 DEBUG c.j.q.dao.TaskRecordMapper.getOverTimeTaskRecord[145]  ==>  Preparing: SELECT *, HOUR(timediff(now() , create_date)) overTimeNum FROM task_record WHERE template_key = ? AND task_state IS NULL AND task_name = ? AND HOUR(timediff(now() , create_date)) >= ? 
2020-11-21 15:36:24.640 DEBUG c.j.q.dao.TaskRecordMapper.getOverTimeTaskRecord[145]  ==> Parameters: FactoryAuditProcess(String), 部门审核(String), 24(Integer)
2020-11-21 15:36:24.641 DEBUG c.j.q.m.qims.dao.BlackDashBoardMapper.getHoliday[145]  ==>  Preparing: SELECT DISTINCT date FROM holiday_maintenance WHERE type = '节假日' 
2020-11-21 15:36:24.642 DEBUG c.j.q.m.qims.dao.BlackDashBoardMapper.getHoliday[145]  ==> Parameters: 
2020-11-21 15:36:24.643 DEBUG c.j.q.dao.TaskRecordMapper.getOverTimeTaskRecord[145]  <==      Total: 8
2020-11-21 15:36:24.643 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==>  Preparing: select time from email_history_info where id =? 
2020-11-21 15:36:24.644 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==> Parameters: 1294123945645047808(String)
2020-11-21 15:36:24.644 DEBUG c.j.q.dao.TaskRecordMapper.getOverTimeTaskRecord2[145]  <==      Total: 18
2020-11-21 15:36:24.644 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==>  Preparing: select time from email_history_info where id =? 
2020-11-21 15:36:24.645 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==> Parameters: 1303868320843300864(String)
2020-11-21 15:36:24.648 DEBUG c.j.q.dao.TaskRecordMapper.getOverTimeTaskRecord[145]  <==      Total: 3
2020-11-21 15:36:24.649 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==>  Preparing: select time from email_history_info where id =? 
2020-11-21 15:36:24.650 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==> Parameters: 1295192540470837248(String)
2020-11-21 15:36:24.651 DEBUG c.j.q.m.qims.dao.BlackDashBoardMapper.getHoliday[145]  <==      Total: 6
2020-11-21 15:36:24.651 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  <==      Total: 1
2020-11-21 15:36:24.651 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  <==      Total: 1
2020-11-21 15:36:24.651 DEBUG c.j.q.m.q.d.B.getWorkOvertimeList[145]  ==>  Preparing: SELECT DISTINCT date FROM holiday_maintenance WHERE type = '补班' 
2020-11-21 15:36:24.651 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==>  Preparing: select time from email_history_info where id =? 
2020-11-21 15:36:24.652 DEBUG c.j.q.m.q.d.B.getWorkOvertimeList[145]  ==> Parameters: 
2020-11-21 15:36:24.652 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==> Parameters: 1303868347422605312(String)
2020-11-21 15:36:24.654 DEBUG c.j.q.d.H.deleteApplyRecord[145]  <==    Updates: 0
2020-11-21 15:36:24.655 DEBUG c.j.q.d.W.getWorkflowMapping[145]  ==>  Preparing: SELECT * from workflow_handle_mapping where workflow_type = ? and workflow_node = ? limit 1 
2020-11-21 15:36:24.655 DEBUG c.j.q.d.W.getWorkflowMapping[145]  ==> Parameters: QMSEcnProcess(String), Apply(String)
2020-11-21 15:36:24.657 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  <==      Total: 1
2020-11-21 15:36:24.657 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==>  Preparing: select time from email_history_info where id =? 
2020-11-21 15:36:24.657 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  <==      Total: 1
2020-11-21 15:36:24.658 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==> Parameters: 1295192619508301824(String)
2020-11-21 15:36:24.658 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==>  Preparing: select time from email_history_info where id =? 
2020-11-21 15:36:24.658 DEBUG c.j.q.m.q.d.B.getWorkOvertimeList[145]  <==      Total: 4
2020-11-21 15:36:24.658 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==> Parameters: 1303868393815801856(String)
2020-11-21 15:36:24.658 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getLtStandard[145]  ==>  Preparing: select * from qims_lt_standard_info 
2020-11-21 15:36:24.658 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getLtStandard[145]  ==> Parameters: 
2020-11-21 15:36:24.664 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  <==      Total: 1
2020-11-21 15:36:24.664 DEBUG c.j.q.d.W.getWorkflowMapping[145]  <==      Total: 0
2020-11-21 15:36:24.664 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==>  Preparing: select time from email_history_info where id =? 
2020-11-21 15:36:24.665 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==> Parameters: 1299240419787276288(String)
2020-11-21 15:36:24.666 DEBUG c.j.q.dao.HistoryProcessRecordMapper.insert[145]  ==>  Preparing: insert into history_process_record (id, workflow_type, workflow_node, workflow_businessId, type, creator, create_date, update_date, department, handle_opinion, reject_reason, content ) values (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ? ) 
2020-11-21 15:36:24.667 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  <==      Total: 1
2020-11-21 15:36:24.668 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==>  Preparing: select time from email_history_info where id =? 
2020-11-21 15:36:24.668 DEBUG c.j.q.dao.HistoryProcessRecordMapper.insert[145]  ==> Parameters: 1330052427969200128(String), QMSEcnProcess(String), Apply(String), 1330050914286829568(String), COMMIT(String), hualanlan(String), null, null, null, null, null, java.io.StringReader@6e044f75(StringReader)
2020-11-21 15:36:24.668 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==> Parameters: 1303937438065885184(String)
2020-11-21 15:36:24.669 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getLtStandard[145]  <==      Total: 8
2020-11-21 15:36:24.669 INFO  c.j.qualityworkflow.modules.qims.job.qimsMailJob[47]  查询黑色问题超过LT的信息
2020-11-21 15:36:24.670 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getBlackList[145]  ==>  Preparing: select * from task_record where task_name in('初步原因分析','根本原因分析','根本原因审核') and task_state is null and template_key='QIMSBLACK' 
2020-11-21 15:36:24.670 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getBlackList[145]  ==> Parameters: 
2020-11-21 15:36:24.671 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  <==      Total: 1
2020-11-21 15:36:24.678 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  <==      Total: 1
2020-11-21 15:36:24.679 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==>  Preparing: select time from email_history_info where id =? 
2020-11-21 15:36:24.679 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==> Parameters: 1303939538460082176(String)
2020-11-21 15:36:24.684 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getBlackList[145]  <==      Total: 16
2020-11-21 15:36:24.688 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==>  Preparing: select time from email_history_info where id =? 
2020-11-21 15:36:24.689 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==> Parameters: 1286902446076985344(String)
2020-11-21 15:36:24.695 DEBUG c.j.q.dao.HistoryProcessRecordMapper.insert[145]  <==    Updates: 1
2020-11-21 15:36:24.697 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  <==      Total: 1
2020-11-21 15:36:24.697 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  <==      Total: 1
2020-11-21 15:36:24.697 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==>  Preparing: select time from email_history_info where id =? 
2020-11-21 15:36:24.698 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==> Parameters: 1303939599889858560(String)
2020-11-21 15:36:24.711 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  <==      Total: 1
2020-11-21 15:36:24.712 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==>  Preparing: select time from email_history_info where id =? 
2020-11-21 15:36:24.712 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==> Parameters: 1306059696263659520(String)
2020-11-21 15:36:24.719 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  <==      Total: 1
2020-11-21 15:36:24.720 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==>  Preparing: select time from email_history_info where id =? 
2020-11-21 15:36:24.720 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==> Parameters: 1306155886347026432(String)
2020-11-21 15:36:24.729 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  <==      Total: 1
2020-11-21 15:36:24.730 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==>  Preparing: select time from email_history_info where id =? 
2020-11-21 15:36:24.730 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==> Parameters: 1306201167000240128(String)
2020-11-21 15:36:24.740 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  <==      Total: 1
2020-11-21 15:36:24.741 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==>  Preparing: select time from email_history_info where id =? 
2020-11-21 15:36:24.741 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==> Parameters: 1308013106458263552(String)
2020-11-21 15:36:24.750 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  <==      Total: 0
2020-11-21 15:36:29.672 DEBUG cn.jwis.qualityworkflow.util.EmailService[144]  get handler mail from http://gateway.dev.jwis.io/platform/sys/user/internal-read?name=dz_gyb1 happen error cause:I/O error on GET request for "http://gateway.dev.jwis.io/platform/sys/user/internal-read": connect timed out; nested exception is java.net.SocketTimeoutException: connect timed out
2020-11-21 15:36:29.672 DEBUG cn.jwis.qualityworkflow.util.EmailService[144]  get handler mail from http://gateway.dev.jwis.io/platform/sys/user/internal-read?name=qualityadmin happen error cause:I/O error on GET request for "http://gateway.dev.jwis.io/platform/sys/user/internal-read": connect timed out; nested exception is java.net.SocketTimeoutException: connect timed out
2020-11-21 15:36:29.682 DEBUG cn.jwis.qualityworkflow.dao.UserMapper.getSuperior[145]  ==>  Preparing: select superior from department_mapping where user_account = ? and type = ? limit 0,1 
2020-11-21 15:36:29.683 DEBUG cn.jwis.qualityworkflow.dao.UserMapper.getSuperior[145]  ==> Parameters: dz_gyb1(String), COMMON(String)
2020-11-21 15:36:29.683 DEBUG cn.jwis.qualityworkflow.dao.UserMapper.getSuperior[145]  ==>  Preparing: select superior from department_mapping where user_account = ? and type = ? limit 0,1 
2020-11-21 15:36:29.684 DEBUG cn.jwis.qualityworkflow.dao.UserMapper.getSuperior[145]  ==> Parameters: qualityadmin(String), COMMON(String)
2020-11-21 15:36:29.690 DEBUG cn.jwis.qualityworkflow.dao.UserMapper.getSuperior[145]  <==      Total: 1
2020-11-21 15:36:29.690 DEBUG cn.jwis.qualityworkflow.dao.UserMapper.getSuperior[145]  <==      Total: 1
2020-11-21 15:36:29.698 DEBUG cn.jwis.qualityworkflow.util.EmailService[144]  get handler mail from http://gateway.dev.jwis.io/platform/sys/user/internal-read?name=hualanlan happen error cause:I/O error on GET request for "http://gateway.dev.jwis.io/platform/sys/user/internal-read": connect timed out; nested exception is java.net.SocketTimeoutException: connect timed out
2020-11-21 15:36:29.704 DEBUG cn.jwis.qualityworkflow.dao.UserMapper.getSuperior[145]  ==>  Preparing: select superior from department_mapping where user_account = ? and type = ? limit 0,1 
2020-11-21 15:36:29.705 DEBUG cn.jwis.qualityworkflow.dao.UserMapper.getSuperior[145]  ==> Parameters: hualanlan(String), QIMS(String)
2020-11-21 15:36:29.711 DEBUG cn.jwis.qualityworkflow.dao.UserMapper.getSuperior[145]  <==      Total: 1
2020-11-21 15:36:29.711 DEBUG c.j.q.dao.UserMapper.getSuperiorManagerByUser[145]  ==>  Preparing: select superior_manager from department_mapping where user_account = ? and type = ? limit 0,1 
2020-11-21 15:36:29.711 DEBUG c.j.q.dao.UserMapper.getSuperiorManagerByUser[145]  ==> Parameters: hualanlan(String), QIMS(String)
2020-11-21 15:36:29.718 DEBUG c.j.q.dao.UserMapper.getSuperiorManagerByUser[145]  <==      Total: 1
2020-11-21 15:36:29.731 INFO  cn.jwis.qualityworkflow.util.EmailService[142]  dz_gyb2 email is jian.song@jwis.cn
2020-11-21 15:36:29.731 INFO  cn.jwis.qualityworkflow.util.EmailService[142]  qualityadmin email is 
2020-11-21 15:36:29.731 INFO  c.j.q.m.factoryaudit.job.AuditQuestionMailJob[31]  邮件下发结束
2020-11-21 15:36:29.731 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==>  Preparing: select time from email_history_info where id =? 
2020-11-21 15:36:29.732 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==> Parameters: 1294123945682796544(String)
2020-11-21 15:36:29.739 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  <==      Total: 1
2020-11-21 15:36:29.739 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==>  Preparing: select time from email_history_info where id =? 
2020-11-21 15:36:29.740 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==> Parameters: 1294123945716350976(String)
2020-11-21 15:36:29.745 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  <==      Total: 1
2020-11-21 15:36:29.749 INFO  cn.jwis.qualityworkflow.util.EmailService[142]  workflow3 email is null
2020-11-21 15:36:29.751 DEBUG cn.jwis.qualityworkflow.util.EmailService[144]  get handler mail from http://gateway.dev.jwis.io/platform/sys/user/internal-read?name=kiween happen error cause:I/O error on GET request for "http://gateway.dev.jwis.io/platform/sys/user/internal-read": connect timed out; nested exception is java.net.SocketTimeoutException: connect timed out
2020-11-21 15:36:29.758 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==>  Preparing: select time from email_history_info where id =? 
2020-11-21 15:36:29.759 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==> Parameters: 1308013110702899200(String)
2020-11-21 15:36:29.765 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  <==      Total: 1
2020-11-21 15:36:29.768 INFO  cn.jwis.qualityworkflow.util.EmailService[142]  xujinbiao email is 
2020-11-21 15:36:29.768 DEBUG cn.jwis.qualityworkflow.dao.UserMapper.getSuperior[145]  ==>  Preparing: select superior from department_mapping where user_account = ? and type = ? limit 0,1 
2020-11-21 15:36:29.769 DEBUG cn.jwis.qualityworkflow.dao.UserMapper.getSuperior[145]  ==> Parameters: xujinbiao(String), COMMON(String)
2020-11-21 15:36:29.777 INFO  cn.jwis.qualityworkflow.util.EmailService[142]  zhouxianling email is 
2020-11-21 15:36:29.778 DEBUG cn.jwis.qualityworkflow.dao.UserMapper.getSuperior[145]  <==      Total: 1
2020-11-21 15:36:29.782 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==>  Preparing: select time from email_history_info where id =? 
2020-11-21 15:36:29.782 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==> Parameters: 1286904434760089600(String)
2020-11-21 15:36:29.790 INFO  cn.jwis.qualityworkflow.util.EmailService[142]  qualityadmin email is 
2020-11-21 15:36:29.791 DEBUG cn.jwis.qualityworkflow.dao.UserMapper.getSuperior[145]  ==>  Preparing: select superior from department_mapping where user_account = ? and type = ? limit 0,1 
2020-11-21 15:36:29.791 DEBUG cn.jwis.qualityworkflow.dao.UserMapper.getSuperior[145]  ==> Parameters: qualityadmin(String), COMMON(String)
2020-11-21 15:36:29.791 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  <==      Total: 1
2020-11-21 15:36:29.800 DEBUG cn.jwis.qualityworkflow.dao.UserMapper.getSuperior[145]  <==      Total: 1
2020-11-21 15:36:29.802 INFO  cn.jwis.qualityworkflow.util.EmailService[142]  hualanlan email is test@jwis.cn
2020-11-21 15:36:29.802 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==>  Preparing: select time from email_history_info where id =? 
2020-11-21 15:36:29.802 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==> Parameters: 1295193219738370048(String)
2020-11-21 15:36:29.817 INFO  cn.jwis.qualityworkflow.util.EmailService[142]  gupp2 email is null
2020-11-21 15:36:29.818 DEBUG cn.jwis.qualityworkflow.dao.UserMapper.getSuperior[145]  ==>  Preparing: select superior from department_mapping where user_account = ? and type = ? limit 0,1 
2020-11-21 15:36:29.818 DEBUG cn.jwis.qualityworkflow.dao.UserMapper.getSuperior[145]  ==> Parameters: gupp2(String), QIMS(String)
2020-11-21 15:36:29.818 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  <==      Total: 1
2020-11-21 15:36:29.819 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==>  Preparing: select time from email_history_info where id =? 
2020-11-21 15:36:29.819 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==> Parameters: 1295193220166189056(String)
2020-11-21 15:36:29.828 DEBUG cn.jwis.qualityworkflow.dao.UserMapper.getSuperior[145]  <==      Total: 0
2020-11-21 15:36:29.829 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  <==      Total: 1
2020-11-21 15:36:29.829 INFO  cn.jwis.qualityworkflow.util.EmailService[142]  qualityadmin email is 
2020-11-21 15:36:29.829 DEBUG c.j.q.dao.UserMapper.getSuperiorManagerByUser[145]  ==>  Preparing: select superior_manager from department_mapping where user_account = ? and type = ? limit 0,1 
2020-11-21 15:36:29.829 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==>  Preparing: select time from email_history_info where id =? 
2020-11-21 15:36:29.829 DEBUG c.j.q.dao.UserMapper.getSuperiorManagerByUser[145]  ==> Parameters: gupp2(String), QIMS(String)
2020-11-21 15:36:29.829 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==> Parameters: 1308013113928318976(String)
2020-11-21 15:36:29.849 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  <==      Total: 1
2020-11-21 15:36:29.849 DEBUG c.j.q.dao.UserMapper.getSuperiorManagerByUser[145]  <==      Total: 0
2020-11-21 15:36:29.851 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==>  Preparing: select time from email_history_info where id =? 
2020-11-21 15:36:29.852 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==> Parameters: 1286916730144161792(String)
2020-11-21 15:36:29.861 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  <==      Total: 1
2020-11-21 15:36:29.889 INFO  cn.jwis.qualityworkflow.util.EmailService[142]  xujinbiao email is 
2020-11-21 15:36:29.889 DEBUG cn.jwis.qualityworkflow.dao.UserMapper.getSuperior[145]  ==>  Preparing: select superior from department_mapping where user_account = ? and type = ? limit 0,1 
2020-11-21 15:36:29.890 DEBUG cn.jwis.qualityworkflow.dao.UserMapper.getSuperior[145]  ==> Parameters: xujinbiao(String), COMMON(String)
2020-11-21 15:36:29.894 INFO  cn.jwis.qualityworkflow.util.EmailService[142]  qualityadmin email is 
2020-11-21 15:36:29.895 DEBUG cn.jwis.qualityworkflow.dao.UserMapper.getSuperior[145]  ==>  Preparing: select superior from department_mapping where user_account = ? and type = ? limit 0,1 
2020-11-21 15:36:29.895 DEBUG cn.jwis.qualityworkflow.dao.UserMapper.getSuperior[145]  ==> Parameters: qualityadmin(String), COMMON(String)
2020-11-21 15:36:29.898 INFO  cn.jwis.qualityworkflow.util.EmailService[142]  gupp2 email is null
2020-11-21 15:36:29.900 DEBUG cn.jwis.qualityworkflow.dao.UserMapper.getSuperior[145]  <==      Total: 1
2020-11-21 15:36:29.900 DEBUG cn.jwis.qualityworkflow.dao.UserMapper.getSuperior[145]  ==>  Preparing: select superior from department_mapping where user_account = ? and type = ? limit 0,1 
2020-11-21 15:36:29.900 DEBUG cn.jwis.qualityworkflow.dao.UserMapper.getSuperior[145]  ==> Parameters: gupp2(String), QIMS(String)
2020-11-21 15:36:29.901 DEBUG cn.jwis.qualityworkflow.dao.UserMapper.getSuperior[145]  <==      Total: 1
2020-11-21 15:36:29.908 DEBUG cn.jwis.qualityworkflow.dao.UserMapper.getSuperior[145]  <==      Total: 0
2020-11-21 15:36:29.908 DEBUG c.j.q.dao.UserMapper.getSuperiorManagerByUser[145]  ==>  Preparing: select superior_manager from department_mapping where user_account = ? and type = ? limit 0,1 
2020-11-21 15:36:29.909 DEBUG c.j.q.dao.UserMapper.getSuperiorManagerByUser[145]  ==> Parameters: gupp2(String), QIMS(String)
2020-11-21 15:36:29.914 DEBUG c.j.q.dao.UserMapper.getSuperiorManagerByUser[145]  <==      Total: 0
2020-11-21 15:36:29.916 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==>  Preparing: select time from email_history_info where id =? 
2020-11-21 15:36:29.917 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==> Parameters: 1287933861786812416(String)
2020-11-21 15:36:29.921 INFO  cn.jwis.qualityworkflow.util.EmailService[142]  hualanlan email is test@jwis.cn
2020-11-21 15:36:29.921 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==>  Preparing: select time from email_history_info where id =? 
2020-11-21 15:36:29.921 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==> Parameters: 1295193707351375872(String)
2020-11-21 15:36:29.923 INFO  cn.jwis.qualityworkflow.util.EmailService[142]  qualityadmin email is 
2020-11-21 15:36:29.923 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  <==      Total: 1
2020-11-21 15:36:29.923 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==>  Preparing: select time from email_history_info where id =? 
2020-11-21 15:36:29.923 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==> Parameters: 1308013116927246336(String)
2020-11-21 15:36:29.933 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  <==      Total: 1
2020-11-21 15:36:29.933 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  <==      Total: 0
2020-11-21 15:36:29.933 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==>  Preparing: select time from email_history_info where id =? 
2020-11-21 15:36:29.934 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==> Parameters: 1295193707376541696(String)
2020-11-21 15:36:29.941 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  <==      Total: 1
2020-11-21 15:36:29.981 INFO  cn.jwis.qualityworkflow.util.EmailService[142]  hualanlan email is test@jwis.cn
2020-11-21 15:36:29.982 DEBUG cn.jwis.qualityworkflow.dao.UserMapper.getSuperior[145]  ==>  Preparing: select superior from department_mapping where user_account = ? and type = ? limit 0,1 
2020-11-21 15:36:29.982 DEBUG cn.jwis.qualityworkflow.dao.UserMapper.getSuperior[145]  ==> Parameters: hualanlan(String), QIMS(String)
2020-11-21 15:36:29.984 INFO  cn.jwis.qualityworkflow.util.EmailService[142]  xujinbiao email is 
2020-11-21 15:36:29.984 DEBUG cn.jwis.qualityworkflow.dao.UserMapper.getSuperior[145]  ==>  Preparing: select superior from department_mapping where user_account = ? and type = ? limit 0,1 
2020-11-21 15:36:29.984 DEBUG cn.jwis.qualityworkflow.dao.UserMapper.getSuperior[145]  ==> Parameters: xujinbiao(String), COMMON(String)
2020-11-21 15:36:29.986 INFO  cn.jwis.qualityworkflow.util.EmailService[142]  kiween email is 
2020-11-21 15:36:29.986 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==>  Preparing: select time from email_history_info where id =? 
2020-11-21 15:36:29.986 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==> Parameters: 1309046852858937344(String)
2020-11-21 15:36:29.989 DEBUG cn.jwis.qualityworkflow.dao.UserMapper.getSuperior[145]  <==      Total: 1
2020-11-21 15:36:29.991 DEBUG c.j.q.dao.UserMapper.getSuperiorManagerByUser[145]  ==>  Preparing: select superior_manager from department_mapping where user_account = ? and type = ? limit 0,1 
2020-11-21 15:36:29.991 DEBUG cn.jwis.qualityworkflow.dao.UserMapper.getSuperior[145]  <==      Total: 1
2020-11-21 15:36:29.991 DEBUG c.j.q.dao.UserMapper.getSuperiorManagerByUser[145]  ==> Parameters: hualanlan(String), QIMS(String)
2020-11-21 15:36:29.992 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  <==      Total: 0
2020-11-21 15:36:29.999 DEBUG c.j.q.dao.UserMapper.getSuperiorManagerByUser[145]  <==      Total: 1
2020-11-21 15:36:30.016 INFO  cn.jwis.qualityworkflow.util.EmailService[142]  hualanlan email is test@jwis.cn
2020-11-21 15:36:30.017 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==>  Preparing: select time from email_history_info where id =? 
2020-11-21 15:36:30.017 INFO  cn.jwis.qualityworkflow.util.EmailService[142]  codisan email is kelvin@jwis.cn
2020-11-21 15:36:30.017 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==> Parameters: 1315248790789160960(String)
2020-11-21 15:36:30.017 DEBUG c.j.qualityworkflow.dao.CommonMapper.getKeyToName[145]  ==>  Preparing: SELECT * FROM key_to_name 
2020-11-21 15:36:30.017 DEBUG c.j.qualityworkflow.dao.CommonMapper.getKeyToName[145]  ==> Parameters: 
2020-11-21 15:36:30.024 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  <==      Total: 1
2020-11-21 15:36:30.024 DEBUG c.j.qualityworkflow.dao.CommonMapper.getKeyToName[145]  <==      Total: 8
2020-11-21 15:36:30.026 INFO  cn.jwis.qualityworkflow.util.EmailService[74]  haomiao.liu@jwis.cn send a Mail to kelvin@jwis.cn fail, because null
2020-11-21 15:36:30.075 INFO  cn.jwis.qualityworkflow.util.EmailService[142]  workflow3 email is null
2020-11-21 15:36:30.084 INFO  cn.jwis.qualityworkflow.util.EmailService[142]  dz_gyb1 email is test@jwis.cn
2020-11-21 15:36:30.085 DEBUG cn.jwis.qualityworkflow.dao.UserMapper.getSuperior[145]  ==>  Preparing: select superior from department_mapping where user_account = ? and type = ? limit 0,1 
2020-11-21 15:36:30.085 DEBUG cn.jwis.qualityworkflow.dao.UserMapper.getSuperior[145]  ==> Parameters: dz_gyb1(String), COMMON(String)
2020-11-21 15:36:30.093 DEBUG cn.jwis.qualityworkflow.dao.UserMapper.getSuperior[145]  <==      Total: 1
2020-11-21 15:36:30.099 INFO  cn.jwis.qualityworkflow.util.EmailService[142]  zhouxianling email is 
2020-11-21 15:36:30.099 DEBUG c.j.qualityworkflow.dao.TaskRecordMapper.getById[145]  ==>  Preparing: SELECT * from task_record WHERE id = ? 
2020-11-21 15:36:30.099 DEBUG c.j.qualityworkflow.dao.TaskRecordMapper.getById[145]  ==> Parameters: 1287933861786812416(String)
2020-11-21 15:36:30.108 DEBUG c.j.qualityworkflow.dao.TaskRecordMapper.getById[145]  <==      Total: 1
2020-11-21 15:36:30.109 DEBUG c.j.qualityworkflow.dao.CommonMapper.getKeyToName[145]  ==>  Preparing: SELECT * FROM key_to_name 
2020-11-21 15:36:30.109 DEBUG c.j.qualityworkflow.dao.CommonMapper.getKeyToName[145]  ==> Parameters: 
2020-11-21 15:36:30.113 INFO  cn.jwis.qualityworkflow.util.EmailService[142]  dz_gyb2 email is jian.song@jwis.cn
2020-11-21 15:36:30.113 DEBUG c.j.qualityworkflow.dao.CommonMapper.getKeyToName[145]  ==>  Preparing: SELECT * FROM key_to_name 
2020-11-21 15:36:30.114 DEBUG c.j.qualityworkflow.dao.CommonMapper.getKeyToName[145]  ==> Parameters: 
2020-11-21 15:36:30.116 DEBUG c.j.qualityworkflow.dao.CommonMapper.getKeyToName[145]  <==      Total: 8
2020-11-21 15:36:30.118 INFO  cn.jwis.qualityworkflow.util.EmailService[71]  haomiao.liu@jwis.cn send a Mail to test@jwis.cn
2020-11-21 15:36:30.122 DEBUG c.j.qualityworkflow.dao.CommonMapper.getKeyToName[145]  <==      Total: 8
2020-11-21 15:36:30.122 DEBUG c.j.q.m.l.d.L.getLineQualifyDetailednessInfo[145]  ==>  Preparing: SELECT q.*,ar.processInstanceId ,ar.taskId,ar.assignee,ar.taskState,ar.taskName FROM line_qualify_info q,(SELECT workflow_business_id, process_instance_id as processInstanceId,task_id as taskId,assignee,task_state as taskState,task_name taskName FROM task_record WHERE task_id=?) ar where q.id=ar.workflow_business_id 
2020-11-21 15:36:30.123 DEBUG c.j.q.m.l.d.L.getLineQualifyDetailednessInfo[145]  ==> Parameters: 5506556(String)
2020-11-21 15:36:30.133 DEBUG c.j.q.m.l.d.L.getLineQualifyDetailednessInfo[145]  <==      Total: 1
2020-11-21 15:36:30.134 INFO  cn.jwis.qualityworkflow.util.EmailService[69]  haomiao.liu@jwis.cn send a Mail to test@jwis.cn and make a copy for [jian.song@jwis.cn]
2020-11-21 15:36:30.743 ERROR o.s.s.support.TaskUtils$LoggingErrorHandler[96] org.springframework.mail.MailSendException: Failed messages: javax.mail.SendFailedException: Invalid Addresses;
  nested exception is:
	com.sun.mail.smtp.SMTPAddressFailedException: 554 RCPT (kelvin@jwis.cn) dosn't exist

	at org.springframework.mail.javamail.JavaMailSenderImpl.doSend(JavaMailSenderImpl.java:488)
	at org.springframework.mail.javamail.JavaMailSenderImpl.send(JavaMailSenderImpl.java:359)
	at org.springframework.mail.javamail.JavaMailSenderImpl.send(JavaMailSenderImpl.java:354)
	at cn.jwis.qualityworkflow.util.EmailService.sendHtmlMail(EmailService.java:76)
	at cn.jwis.qualityworkflow.modules.qims.service.imp.QimsSendMailServiceImpl.sendEmailTohandler(QimsSendMailServiceImpl.java:161)
	at cn.jwis.qualityworkflow.modules.ipqc.service.imp.AuditQualityProblemServiceImpl.qimsSendMail(AuditQualityProblemServiceImpl.java:321)
	at cn.jwis.qualityworkflow.modules.ipqc.service.imp.AuditQualityProblemServiceImpl$$FastClassBySpringCGLIB$$15ff325f.invoke(<generated>)
	at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:684)
	at cn.jwis.qualityworkflow.modules.ipqc.service.imp.AuditQualityProblemServiceImpl$$EnhancerBySpringCGLIB$$db22c41d.qimsSendMail(<generated>)
	at cn.jwis.qualityworkflow.modules.ipqc.job.ipqcMailJob.qimsSendMail(ipqcMailJob.java:28)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.springframework.scheduling.support.ScheduledMethodRunnable.run(ScheduledMethodRunnable.java:84)
	at org.springframework.scheduling.support.DelegatingErrorHandlingRunnable.run(DelegatingErrorHandlingRunnable.java:54)
	at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:511)
	at java.util.concurrent.FutureTask.runAndReset(FutureTask.java:308)
	at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.access$301(ScheduledThreadPoolExecutor.java:180)
	at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:294)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)
 Unexpected error occurred in scheduled task.
2020-11-21 15:36:30.778 ERROR o.s.s.support.TaskUtils$LoggingErrorHandler[96] org.springframework.mail.MailSendException: Failed messages: javax.mail.SendFailedException: Invalid Addresses;
  nested exception is:
	com.sun.mail.smtp.SMTPAddressFailedException: 554 RCPT (test@jwis.cn) dosn't exist

	at org.springframework.mail.javamail.JavaMailSenderImpl.doSend(JavaMailSenderImpl.java:488)
	at org.springframework.mail.javamail.JavaMailSenderImpl.send(JavaMailSenderImpl.java:359)
	at org.springframework.mail.javamail.JavaMailSenderImpl.send(JavaMailSenderImpl.java:354)
	at cn.jwis.qualityworkflow.util.EmailService.sendHtmlMail(EmailService.java:76)
	at cn.jwis.qualityworkflow.modules.qims.service.imp.QimsSendMailServiceImpl.sendEmailTohandler(QimsSendMailServiceImpl.java:161)
	at cn.jwis.qualityworkflow.modules.qims.service.imp.QimsSendMailServiceImpl.qimsSendMail(QimsSendMailServiceImpl.java:90)
	at cn.jwis.qualityworkflow.modules.qims.job.qimsMailJob.qimsSendMail(qimsMailJob.java:49)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.springframework.scheduling.support.ScheduledMethodRunnable.run(ScheduledMethodRunnable.java:84)
	at org.springframework.scheduling.support.DelegatingErrorHandlingRunnable.run(DelegatingErrorHandlingRunnable.java:54)
	at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:511)
	at java.util.concurrent.FutureTask.runAndReset(FutureTask.java:308)
	at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.access$301(ScheduledThreadPoolExecutor.java:180)
	at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:294)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)
 Unexpected error occurred in scheduled task.
2020-11-21 15:36:30.791 ERROR o.s.s.support.TaskUtils$LoggingErrorHandler[96] org.springframework.mail.MailSendException: Failed messages: javax.mail.SendFailedException: Invalid Addresses;
  nested exception is:
	com.sun.mail.smtp.SMTPAddressFailedException: 554 RCPT (test@jwis.cn) dosn't exist
;
  nested exception is:
	com.sun.mail.smtp.SMTPAddressFailedException: 554 RCPT (jian.song@jwis.cn) dosn't exist

	at org.springframework.mail.javamail.JavaMailSenderImpl.doSend(JavaMailSenderImpl.java:488)
	at org.springframework.mail.javamail.JavaMailSenderImpl.send(JavaMailSenderImpl.java:359)
	at org.springframework.mail.javamail.JavaMailSenderImpl.send(JavaMailSenderImpl.java:354)
	at cn.jwis.qualityworkflow.util.EmailService.sendHtmlMail(EmailService.java:76)
	at cn.jwis.qualityworkflow.modules.linequalify.service.imp.LineQualifyServiceImpl.sendEmailTohandler(LineQualifyServiceImpl.java:617)
	at cn.jwis.qualityworkflow.modules.linequalify.service.imp.LineQualifyServiceImpl.sendOverTimeMail(LineQualifyServiceImpl.java:594)
	at cn.jwis.qualityworkflow.modules.linequalify.service.imp.LineQualifyServiceImpl$$FastClassBySpringCGLIB$$4ca6f597.invoke(<generated>)
	at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:684)
	at cn.jwis.qualityworkflow.modules.linequalify.service.imp.LineQualifyServiceImpl$$EnhancerBySpringCGLIB$$2291d0c5.sendOverTimeMail(<generated>)
	at cn.jwis.qualityworkflow.modules.linequalify.job.LineQualifyMailJob.sendOverTimeMail(LineQualifyMailJob.java:30)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.springframework.scheduling.support.ScheduledMethodRunnable.run(ScheduledMethodRunnable.java:84)
	at org.springframework.scheduling.support.DelegatingErrorHandlingRunnable.run(DelegatingErrorHandlingRunnable.java:54)
	at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:511)
	at java.util.concurrent.FutureTask.runAndReset(FutureTask.java:308)
	at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.access$301(ScheduledThreadPoolExecutor.java:180)
	at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:294)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)
 Unexpected error occurred in scheduled task.
2020-11-21 15:36:38.981 DEBUG c.j.q.dao.TaskRecordMapper.getProcessAgent[145]  ==>  Preparing: select * from (SELECT * FROM task_record UNION ALL SELECT id, "PCN" template_key, processInstanceId process_instance_id, assignee, pcnId workflow_business_id, taskState task_state, state, taskName task_name, taskId task_id, null department, createDate create_date, updateDate update_date, theme, item_number, creator FROM pcn_task_record) ar where 1=1 and ((ar.create_date >= ? and ar.create_date <= ?) or (ar.update_date >= ? and ar.update_date <= ?)) and (ar.task_state is null or ar.task_state = 'OnGoing') and ar.assignee =? order by ar.create_date desc limit ?,? 
2020-11-21 15:36:38.982 DEBUG c.j.q.dao.TaskRecordMapper.getProcessAgent[145]  ==> Parameters: 2020-10-22(String), 2020-11-22(String), 2020-10-22(String), 2020-11-22(String), hualanlan(String), 0(Integer), 15(Integer)
2020-11-21 15:36:39.062 DEBUG c.j.q.dao.TaskRecordMapper.getProcessAgent[145]  <==      Total: 3
2020-11-21 15:36:39.064 DEBUG c.j.q.dao.TaskRecordMapper.getProcessAgentCount[145]  ==>  Preparing: select count(1) from (SELECT * FROM task_record UNION ALL SELECT id, "PCN" template_key, processInstanceId process_instance_id, assignee, pcnId workflow_business_id, taskState task_state, state, taskName task_name, taskId task_id, null department, createDate create_date, updateDate update_date, theme, item_number, creator FROM pcn_task_record) ar where 1=1 and ((ar.create_date >= ? and ar.create_date <= ?) or (ar.update_date >= ? and ar.update_date <= ?)) and (ar.task_state is null or ar.task_state = 'OnGoing') and ar.assignee =? 
2020-11-21 15:36:39.065 DEBUG c.j.q.dao.TaskRecordMapper.getProcessAgentCount[145]  ==> Parameters: 2020-10-22(String), 2020-11-22(String), 2020-10-22(String), 2020-11-22(String), hualanlan(String)
2020-11-21 15:36:39.116 DEBUG c.j.q.dao.TaskRecordMapper.getProcessAgentCount[145]  <==      Total: 1
2020-11-21 15:36:39.204 DEBUG c.j.q.dao.UserMapper.getDepartmentList[145]  ==>  Preparing: select DISTINCT department from department_mapping where type = ? and department is not null 
2020-11-21 15:36:39.204 DEBUG c.j.q.dao.UserMapper.getDepartmentList[145]  ==> Parameters: COMMON(String)
2020-11-21 15:36:39.214 DEBUG c.j.q.dao.UserMapper.getDepartmentList[145]  <==      Total: 21
2020-11-21 15:36:39.224 DEBUG c.j.q.dao.UserMapper.getDepartmentList[145]  ==>  Preparing: select DISTINCT department from department_mapping where type = ? and department is not null 
2020-11-21 15:36:39.225 DEBUG c.j.q.dao.UserMapper.getDepartmentList[145]  ==> Parameters: COMMON(String)
2020-11-21 15:36:39.242 DEBUG c.j.q.dao.UserMapper.getDepartmentList[145]  <==      Total: 21
2020-11-21 15:37:48.272 INFO  cn.jwis.configration.clientUtil.ConfigCenterHelper[40]  Loading config by :http://10.159.65.221:14200/configCenter/findConfig?side=server&serviceName=pqm-quality-workflow-service&env=dev&configType=properties
2020-11-21 15:37:48.277 INFO  cn.jwis.configration.clientUtil.HttpClientUtil[51]  Http Request:http://10.159.65.221:14200/configCenter/findConfig?side=server&serviceName=pqm-quality-workflow-service&env=dev&configType=properties
2020-11-21 15:38:03.983 ERROR cn.jwis.configration.clientUtil.HttpClientUtil[77]  send Http Request to:http://10.159.65.221:14200/configCenter/findConfig?side=server&serviceName=pqm-quality-workflow-service&env=dev&configType=properties ,has errors:Connect to 10.159.65.221:14200 [/10.159.65.221] failed: connect timed out
2020-11-21 15:38:03.984 INFO  cn.jwis.configration.clientUtil.ConfigCenterHelper[43]  Get config :
2020-11-21 15:38:04.023 ERROR cn.jwis.configration.clientUtil.ConfigCenterHelper[56]  null
2020-11-21 15:38:04.335 INFO  cn.jwis.qualityworkflow.Application[50]  Starting Application on THINK-Lx with PID 9532 (C:\Users\THINK\Desktop\QMS-Server\quality-workflow-service\target\classes started by THINK in C:\Users\THINK\Desktop\QMS-Server\quality-workflow-service)
2020-11-21 15:38:04.336 DEBUG cn.jwis.qualityworkflow.Application[53]  Running with Spring Boot v2.1.0.RELEASE, Spring v5.1.2.RELEASE
2020-11-21 15:38:04.337 INFO  cn.jwis.qualityworkflow.Application[679]  The following profiles are active: dev
2020-11-21 15:38:05.808 INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker[330]  Bean 'org.springframework.amqp.rabbit.annotation.RabbitBootstrapConfiguration' of type [org.springframework.amqp.rabbit.annotation.RabbitBootstrapConfiguration$$EnhancerBySpringCGLIB$$2b1baa1e] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2020-11-21 15:38:05.878 INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker[330]  Bean 'org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration' of type [org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration$$EnhancerBySpringCGLIB$$64afebf0] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2020-11-21 15:38:06.406 INFO  o.s.boot.web.embedded.tomcat.TomcatWebServer[90]  Tomcat initialized with port(s): 8115 (http)
2020-11-21 15:38:06.418 INFO  org.apache.coyote.http11.Http11NioProtocol[173]  Initializing ProtocolHandler ["http-nio-8115"]
2020-11-21 15:38:06.423 INFO  org.apache.catalina.core.StandardService[173]  Starting service [Tomcat]
2020-11-21 15:38:06.424 INFO  org.apache.catalina.core.StandardEngine[173]  Starting Servlet Engine: Apache Tomcat/9.0.12
2020-11-21 15:38:06.430 INFO  org.apache.catalina.core.AprLifecycleListener[173]  The APR based Apache Tomcat Native library which allows optimal performance in production environments was not found on the java.library.path: [C:\Program Files\Java\jdk1.8.0_192\bin;C:\Windows\Sun\Java\bin;C:\Windows\system32;C:\Windows;C:\Program Files\Java\jdk1.8.0_192\bin;C:\Program Files\Java\jdk1.8.0_192\jre\bin;D:\java\apache-maven-3.6.0\bin;C:\Program Files (x86)\Common Files\Oracle\Java\javapath;C:\Windows\system32;C:\Windows;C:\Windows\System32\Wbem;C:\Windows\System32\WindowsPowerShell\v1.0\;D:\job\Git\cmd;C:\Program Files\TortoiseGit\bin;C:\Program Files\nodejs\;D:\java\mysql\mysql-5.7.11-winx64\bin;D:\job\Microsoft VS Code\bin;C:\Program Files\Microsoft VS Code\bin;C:\Users\THINK\AppData\Roaming\npm;.]
2020-11-21 15:38:06.528 INFO  o.a.c.core.ContainerBase.[Tomcat].[localhost].[/][173]  Initializing Spring embedded WebApplicationContext
2020-11-21 15:38:06.528 INFO  org.springframework.web.context.ContextLoader[285]  Root WebApplicationContext: initialization completed in 2155 ms
2020-11-21 15:38:06.567 INFO  o.s.boot.web.servlet.ServletRegistrationBean[186]  Servlet dispatcherServlet mapped to [/]
2020-11-21 15:38:06.572 INFO  o.s.boot.web.servlet.FilterRegistrationBean[248]  Mapping filter: 'characterEncodingFilter' to: [/*]
2020-11-21 15:38:06.572 INFO  o.s.boot.web.servlet.FilterRegistrationBean[248]  Mapping filter: 'hiddenHttpMethodFilter' to: [/*]
2020-11-21 15:38:06.572 INFO  o.s.boot.web.servlet.FilterRegistrationBean[248]  Mapping filter: 'formContentFilter' to: [/*]
2020-11-21 15:38:06.573 INFO  o.s.boot.web.servlet.FilterRegistrationBean[248]  Mapping filter: 'requestContextFilter' to: [/*]
2020-11-21 15:38:08.871 INFO  o.s.scheduling.concurrent.ThreadPoolTaskExecutor[171]  Initializing ExecutorService 'applicationTaskExecutor'
2020-11-21 15:38:09.443 INFO  s.d.s.web.plugins.DocumentationPluginsBootstrapper[120]  Context refreshed
2020-11-21 15:38:09.459 INFO  s.d.s.web.plugins.DocumentationPluginsBootstrapper[123]  Found 1 custom documentation plugin(s)
2020-11-21 15:38:09.480 INFO  s.d.spring.web.scanners.ApiListingReferenceScanner[41]  Scanning for api listing references
2020-11-21 15:38:09.880 INFO  s.d.s.w.r.operation.CachingOperationNameGenerator[40]  Generating unique operation named: confirmUsingPOST_1
2020-11-21 15:38:10.256 INFO  s.d.s.w.r.operation.CachingOperationNameGenerator[40]  Generating unique operation named: exportUnseasonalBolaUsingGET_1
2020-11-21 15:38:10.262 INFO  s.d.s.w.r.operation.CachingOperationNameGenerator[40]  Generating unique operation named: exportUnseasonalListUsingPOST_1
2020-11-21 15:38:10.269 INFO  s.d.s.w.r.operation.CachingOperationNameGenerator[40]  Generating unique operation named: getAllAndCloseUsingPOST_1
2020-11-21 15:38:10.275 INFO  s.d.s.w.r.operation.CachingOperationNameGenerator[40]  Generating unique operation named: getAllDataUsingPOST_1
2020-11-21 15:38:10.282 INFO  s.d.s.w.r.operation.CachingOperationNameGenerator[40]  Generating unique operation named: getBlackDetailsUsingPOST_1
2020-11-21 15:38:10.289 INFO  s.d.s.w.r.operation.CachingOperationNameGenerator[40]  Generating unique operation named: getDashBoardCloseUsingPOST_1
2020-11-21 15:38:10.296 INFO  s.d.s.w.r.operation.CachingOperationNameGenerator[40]  Generating unique operation named: getDashBoardNotCloseUsingPOST_1
2020-11-21 15:38:10.302 INFO  s.d.s.w.r.operation.CachingOperationNameGenerator[40]  Generating unique operation named: getOverdueUsingPOST_1
2020-11-21 15:38:10.308 INFO  s.d.s.w.r.operation.CachingOperationNameGenerator[40]  Generating unique operation named: getUnseasonalBolaUsingGET_1
2020-11-21 15:38:10.315 INFO  s.d.s.w.r.operation.CachingOperationNameGenerator[40]  Generating unique operation named: getUnseasonalListUsingPOST_1
2020-11-21 15:38:10.322 INFO  s.d.s.w.r.operation.CachingOperationNameGenerator[40]  Generating unique operation named: confirmUsingPOST_2
2020-11-21 15:38:10.359 INFO  s.d.s.w.r.operation.CachingOperationNameGenerator[40]  Generating unique operation named: getLatestRecordContentUsingGET_1
2020-11-21 15:38:10.378 INFO  s.d.s.w.r.operation.CachingOperationNameGenerator[40]  Generating unique operation named: saveRecordContentUsingPOST_1
2020-11-21 15:38:10.401 INFO  s.d.s.w.r.operation.CachingOperationNameGenerator[40]  Generating unique operation named: getDropdownValueUsingGET_1
2020-11-21 15:38:10.422 INFO  s.d.s.w.r.operation.CachingOperationNameGenerator[40]  Generating unique operation named: confirmUsingPOST_3
2020-11-21 15:38:10.430 INFO  s.d.s.w.r.operation.CachingOperationNameGenerator[40]  Generating unique operation named: getDropdownValueUsingGET_2
2020-11-21 15:38:10.438 INFO  s.d.s.w.r.operation.CachingOperationNameGenerator[40]  Generating unique operation named: getLatestRecordContentUsingGET_2
2020-11-21 15:38:10.454 INFO  s.d.s.w.r.operation.CachingOperationNameGenerator[40]  Generating unique operation named: exportEsdAdministrationUsingPOST_1
2020-11-21 15:38:10.487 INFO  s.d.s.w.r.operation.CachingOperationNameGenerator[40]  Generating unique operation named: getDropdownValueUsingGET_3
2020-11-21 15:38:10.552 INFO  s.d.s.w.r.operation.CachingOperationNameGenerator[40]  Generating unique operation named: confirmUsingPOST_4
2020-11-21 15:38:10.569 INFO  s.d.s.w.r.operation.CachingOperationNameGenerator[40]  Generating unique operation named: getDropdownValueUsingGET_4
2020-11-21 15:38:10.594 INFO  s.d.s.w.r.operation.CachingOperationNameGenerator[40]  Generating unique operation named: getLatestRecordContentUsingGET_3
2020-11-21 15:38:10.664 INFO  s.d.s.w.r.operation.CachingOperationNameGenerator[40]  Generating unique operation named: exportEsdInStanInfoTemplateUsingGET_1
2020-11-21 15:38:10.784 INFO  s.d.s.w.r.operation.CachingOperationNameGenerator[40]  Generating unique operation named: confirmUsingPOST_5
2020-11-21 15:38:10.793 INFO  s.d.s.w.r.operation.CachingOperationNameGenerator[40]  Generating unique operation named: getDropdownValueUsingGET_5
2020-11-21 15:38:10.827 INFO  s.d.s.w.r.operation.CachingOperationNameGenerator[40]  Generating unique operation named: confirmUsingPOST_6
2020-11-21 15:38:10.846 INFO  s.d.s.w.r.operation.CachingOperationNameGenerator[40]  Generating unique operation named: findTableNameBySampleNameUsingGET_1
2020-11-21 15:38:10.883 INFO  s.d.s.w.r.operation.CachingOperationNameGenerator[40]  Generating unique operation named: commonExportTemplateUsingPOST_1
2020-11-21 15:38:10.902 INFO  s.d.s.w.r.operation.CachingOperationNameGenerator[40]  Generating unique operation named: confirmUsingPOST_7
2020-11-21 15:38:10.909 INFO  s.d.s.w.r.operation.CachingOperationNameGenerator[40]  Generating unique operation named: exportEcnInfoUsingPOST_1
2020-11-21 15:38:10.912 INFO  s.d.s.w.r.operation.CachingOperationNameGenerator[40]  Generating unique operation named: getDetailednessInfoUsingPOST_1
2020-11-21 15:38:10.914 INFO  s.d.s.w.r.operation.CachingOperationNameGenerator[40]  Generating unique operation named: getLatestRecordContentUsingGET_4
2020-11-21 15:38:10.919 INFO  s.d.s.w.r.operation.CachingOperationNameGenerator[40]  Generating unique operation named: getPullDownValueUsingGET_1
2020-11-21 15:38:10.922 INFO  s.d.s.w.r.operation.CachingOperationNameGenerator[40]  Generating unique operation named: saveRecordContentUsingPOST_2
2020-11-21 15:38:10.938 INFO  s.d.s.w.r.operation.CachingOperationNameGenerator[40]  Generating unique operation named: exportDetailsUsingPOST_1
2020-11-21 15:38:10.945 INFO  s.d.s.w.r.operation.CachingOperationNameGenerator[40]  Generating unique operation named: exportUnseasonalBolaUsingGET_2
2020-11-21 15:38:10.951 INFO  s.d.s.w.r.operation.CachingOperationNameGenerator[40]  Generating unique operation named: exportUnseasonalListUsingPOST_2
2020-11-21 15:38:10.957 INFO  s.d.s.w.r.operation.CachingOperationNameGenerator[40]  Generating unique operation named: getAllAndCloseUsingPOST_2
2020-11-21 15:38:10.962 INFO  s.d.s.w.r.operation.CachingOperationNameGenerator[40]  Generating unique operation named: getAllDataUsingPOST_2
2020-11-21 15:38:10.968 INFO  s.d.s.w.r.operation.CachingOperationNameGenerator[40]  Generating unique operation named: getDashBoardCloseUsingPOST_2
2020-11-21 15:38:10.975 INFO  s.d.s.w.r.operation.CachingOperationNameGenerator[40]  Generating unique operation named: getDashBoardNotCloseUsingPOST_2
2020-11-21 15:38:10.987 INFO  s.d.s.w.r.operation.CachingOperationNameGenerator[40]  Generating unique operation named: getOverdueUsingPOST_2
2020-11-21 15:38:10.995 INFO  s.d.s.w.r.operation.CachingOperationNameGenerator[40]  Generating unique operation named: getUnseasonalBolaUsingGET_2
2020-11-21 15:38:11.002 INFO  s.d.s.w.r.operation.CachingOperationNameGenerator[40]  Generating unique operation named: getUnseasonalListUsingPOST_2
2020-11-21 15:38:11.033 INFO  s.d.s.w.r.operation.CachingOperationNameGenerator[40]  Generating unique operation named: getDropdownValueUsingGET_6
2020-11-21 15:38:11.084 INFO  s.d.s.w.r.operation.CachingOperationNameGenerator[40]  Generating unique operation named: confirmUsingPOST_8
2020-11-21 15:38:11.112 INFO  s.d.s.w.r.operation.CachingOperationNameGenerator[40]  Generating unique operation named: getDropdownValueUsingGET_7
2020-11-21 15:38:11.149 INFO  s.d.s.w.r.operation.CachingOperationNameGenerator[40]  Generating unique operation named: exportInfoUsingPOST_1
2020-11-21 15:38:11.154 INFO  s.d.s.w.r.operation.CachingOperationNameGenerator[40]  Generating unique operation named: getAddCountUsingPOST_1
2020-11-21 15:38:11.162 INFO  s.d.s.w.r.operation.CachingOperationNameGenerator[40]  Generating unique operation named: getDashBoardCountUsingPOST_1
2020-11-21 15:38:11.194 INFO  s.d.s.w.r.operation.CachingOperationNameGenerator[40]  Generating unique operation named: getInfoListUsingPOST_1
2020-11-21 15:38:11.197 INFO  s.d.s.w.r.operation.CachingOperationNameGenerator[40]  Generating unique operation named: getLatestRecordContentUsingGET_5
2020-11-21 15:38:11.209 INFO  s.d.s.w.r.operation.CachingOperationNameGenerator[40]  Generating unique operation named: getOverdueCountUsingPOST_1
2020-11-21 15:38:11.214 INFO  s.d.s.w.r.operation.CachingOperationNameGenerator[40]  Generating unique operation named: getProcessingCountUsingPOST_1
2020-11-21 15:38:11.218 INFO  s.d.s.w.r.operation.CachingOperationNameGenerator[40]  Generating unique operation named: getPullDownValueUsingGET_2
2020-11-21 15:38:11.237 INFO  s.d.s.w.r.operation.CachingOperationNameGenerator[40]  Generating unique operation named: insertUsingPOST_1
2020-11-21 15:38:11.241 INFO  s.d.s.w.r.operation.CachingOperationNameGenerator[40]  Generating unique operation named: saveRecordContentUsingPOST_3
2020-11-21 15:38:11.258 INFO  s.d.s.w.r.operation.CachingOperationNameGenerator[40]  Generating unique operation named: getInfoListUsingPOST_2
2020-11-21 15:38:11.266 INFO  s.d.s.w.r.operation.CachingOperationNameGenerator[40]  Generating unique operation named: getPullDownValueUsingGET_3
2020-11-21 15:38:11.275 INFO  s.d.s.w.r.operation.CachingOperationNameGenerator[40]  Generating unique operation named: insertUsingPOST_2
2020-11-21 15:38:11.292 INFO  s.d.s.w.r.operation.CachingOperationNameGenerator[40]  Generating unique operation named: getAuditListInfoByIdUsingPOST_1
2020-11-21 15:38:11.323 INFO  s.d.s.w.r.operation.CachingOperationNameGenerator[40]  Generating unique operation named: confirmUsingPOST_9
2020-11-21 15:38:11.337 INFO  s.d.s.w.r.operation.CachingOperationNameGenerator[40]  Generating unique operation named: getLatestRecordContentUsingPOST_1
2020-11-21 15:38:11.356 INFO  s.d.s.w.r.operation.CachingOperationNameGenerator[40]  Generating unique operation named: saveRecordContentUsingPOST_4
2020-11-21 15:38:11.364 INFO  s.d.s.w.r.operation.CachingOperationNameGenerator[40]  Generating unique operation named: confirmUsingPOST_10
2020-11-21 15:38:11.394 INFO  s.d.s.w.r.operation.CachingOperationNameGenerator[40]  Generating unique operation named: getDropdownValueUsingGET_8
2020-11-21 15:38:11.399 INFO  s.d.s.w.r.operation.CachingOperationNameGenerator[40]  Generating unique operation named: getLatestRecordContentUsingGET_6
2020-11-21 15:38:11.502 INFO  s.d.s.w.r.operation.CachingOperationNameGenerator[40]  Generating unique operation named: confirmUsingPOST_11
2020-11-21 15:38:11.531 INFO  s.d.s.w.r.operation.CachingOperationNameGenerator[40]  Generating unique operation named: getDropdownValueUsingGET_9
2020-11-21 15:38:11.537 INFO  s.d.s.w.r.operation.CachingOperationNameGenerator[40]  Generating unique operation named: getLatestRecordContentUsingGET_7
2020-11-21 15:38:11.557 INFO  s.d.s.w.r.operation.CachingOperationNameGenerator[40]  Generating unique operation named: getSuperiorUsingGET_1
2020-11-21 15:38:11.599 INFO  s.d.s.w.r.operation.CachingOperationNameGenerator[40]  Generating unique operation named: confirmUsingPOST_12
2020-11-21 15:38:11.631 INFO  s.d.s.w.r.operation.CachingOperationNameGenerator[40]  Generating unique operation named: getDetailednessInfoUsingPOST_2
2020-11-21 15:38:11.635 INFO  s.d.s.w.r.operation.CachingOperationNameGenerator[40]  Generating unique operation named: getLatestRecordContentUsingGET_8
2020-11-21 15:38:11.651 INFO  s.d.s.w.r.operation.CachingOperationNameGenerator[40]  Generating unique operation named: getPullDownValueUsingGET_4
2020-11-21 15:38:11.676 INFO  s.d.s.w.r.operation.CachingOperationNameGenerator[40]  Generating unique operation named: saveRecordContentUsingPOST_5
2020-11-21 15:38:11.699 INFO  s.d.s.w.r.operation.CachingOperationNameGenerator[40]  Generating unique operation named: confirmUsingPOST_13
2020-11-21 15:38:11.710 INFO  s.d.s.w.r.operation.CachingOperationNameGenerator[40]  Generating unique operation named: exportInfoUsingPOST_2
2020-11-21 15:38:11.714 INFO  s.d.s.w.r.operation.CachingOperationNameGenerator[40]  Generating unique operation named: getDetailednessInfoUsingPOST_3
2020-11-21 15:38:11.722 INFO  s.d.s.w.r.operation.CachingOperationNameGenerator[40]  Generating unique operation named: getInfoListUsingPOST_3
2020-11-21 15:38:11.726 INFO  s.d.s.w.r.operation.CachingOperationNameGenerator[40]  Generating unique operation named: getPullDownValueUsingGET_5
2020-11-21 15:38:11.730 INFO  s.d.s.w.r.operation.CachingOperationNameGenerator[40]  Generating unique operation named: saveRecordContentUsingPOST_6
2020-11-21 15:38:11.739 INFO  s.d.s.w.r.operation.CachingOperationNameGenerator[40]  Generating unique operation named: getProgressUsingGET_1
2020-11-21 15:38:11.853 INFO  s.d.s.w.r.operation.CachingOperationNameGenerator[40]  Generating unique operation named: exportTraceablityManUsingPOST_1
2020-11-21 15:38:11.908 INFO  s.d.s.w.r.operation.CachingOperationNameGenerator[40]  Generating unique operation named: getSuperiorUsingGET_2
2020-11-21 15:38:11.981 INFO  o.s.scheduling.concurrent.ThreadPoolTaskScheduler[171]  Initializing ExecutorService
2020-11-21 15:38:11.985 INFO  c.j.qualityworkflow.modules.ipqc.job.ipqcMailJob[27]  查询IPQC超时任务
2020-11-21 15:38:11.990 INFO  org.apache.coyote.http11.Http11NioProtocol[173]  Starting ProtocolHandler ["http-nio-8115"]
2020-11-21 15:38:12.005 INFO  org.apache.tomcat.util.net.NioSelectorPool[173]  Using a shared selector for servlet write/read
2020-11-21 15:38:12.008 INFO  com.zaxxer.hikari.HikariDataSource[110]  HikariPool-1 - Starting...
2020-11-21 15:38:12.010 WARN  com.zaxxer.hikari.util.DriverDataSource[68]  Registered driver with driverClassName=com.mysql.jdbc.Driver was not found, trying direct instantiation.
2020-11-21 15:38:12.022 INFO  o.s.boot.web.embedded.tomcat.TomcatWebServer[204]  Tomcat started on port(s): 8115 (http) with context path ''
2020-11-21 15:38:12.025 INFO  cn.jwis.qualityworkflow.Application[59]  Started Application in 8.001 seconds (JVM running for 24.883)
2020-11-21 15:38:12.227 INFO  com.zaxxer.hikari.HikariDataSource[123]  HikariPool-1 - Start completed.
2020-11-21 15:38:12.234 DEBUG c.j.q.dao.TaskRecordMapper.getOverTimeTaskRecord[145]  ==>  Preparing: SELECT *, HOUR(timediff(now() , create_date)) overTimeNum FROM task_record WHERE template_key = ? AND task_state IS NULL AND task_name = ? AND HOUR(timediff(now() , create_date)) >= ? 
2020-11-21 15:38:12.255 DEBUG c.j.q.dao.TaskRecordMapper.getOverTimeTaskRecord[145]  ==> Parameters: Line Qualify(String), 文件收集(String), 2(Integer)
2020-11-21 15:38:12.297 DEBUG c.j.q.dao.TaskRecordMapper.getOverTimeTaskRecord[145]  <==      Total: 8
2020-11-21 15:38:12.299 DEBUG c.j.q.dao.TaskRecordMapper.getOverTimeTaskRecord2[145]  ==>  Preparing: SELECT *, HOUR(timediff(now() , create_date)) overTimeNum FROM task_record WHERE template_key = ? AND task_state IS NULL AND HOUR(timediff(now() , create_date)) >= ? 
2020-11-21 15:38:12.299 DEBUG c.j.q.dao.TaskRecordMapper.getOverTimeTaskRecord2[145]  ==> Parameters: IPQCAuditProcess(String), 24(Integer)
2020-11-21 15:38:12.303 DEBUG c.j.q.dao.TaskRecordMapper.getOverTimeTaskRecord[145]  ==>  Preparing: SELECT *, HOUR(timediff(now() , create_date)) overTimeNum FROM task_record WHERE template_key = ? AND task_state IS NULL AND task_name = ? AND HOUR(timediff(now() , create_date)) >= ? 
2020-11-21 15:38:12.304 DEBUG c.j.q.dao.TaskRecordMapper.getOverTimeTaskRecord[145]  ==> Parameters: FactoryAuditProcess(String), 部门审核(String), 24(Integer)
2020-11-21 15:38:12.316 DEBUG c.j.q.dao.TaskRecordMapper.getOverTimeTaskRecord2[145]  <==      Total: 18
2020-11-21 15:38:12.316 DEBUG c.j.q.m.qims.dao.BlackDashBoardMapper.getHoliday[145]  ==>  Preparing: SELECT DISTINCT date FROM holiday_maintenance WHERE type = '节假日' 
2020-11-21 15:38:12.316 DEBUG c.j.q.dao.TaskRecordMapper.getOverTimeTaskRecord[145]  <==      Total: 3
2020-11-21 15:38:12.317 DEBUG c.j.q.m.qims.dao.BlackDashBoardMapper.getHoliday[145]  ==> Parameters: 
2020-11-21 15:38:12.317 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==>  Preparing: select time from email_history_info where id =? 
2020-11-21 15:38:12.318 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==> Parameters: 1294123945645047808(String)
2020-11-21 15:38:12.325 DEBUG c.j.q.m.qims.dao.BlackDashBoardMapper.getHoliday[145]  <==      Total: 6
2020-11-21 15:38:12.325 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  <==      Total: 1
2020-11-21 15:38:12.325 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==>  Preparing: select time from email_history_info where id =? 
2020-11-21 15:38:12.325 DEBUG c.j.q.m.q.d.B.getWorkOvertimeList[145]  ==>  Preparing: SELECT DISTINCT date FROM holiday_maintenance WHERE type = '补班' 
2020-11-21 15:38:12.325 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==> Parameters: 1303868320843300864(String)
2020-11-21 15:38:12.326 DEBUG c.j.q.m.q.d.B.getWorkOvertimeList[145]  ==> Parameters: 
2020-11-21 15:38:12.332 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  <==      Total: 1
2020-11-21 15:38:12.332 DEBUG c.j.q.m.q.d.B.getWorkOvertimeList[145]  <==      Total: 4
2020-11-21 15:38:12.332 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==>  Preparing: select time from email_history_info where id =? 
2020-11-21 15:38:12.333 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==> Parameters: 1295192540470837248(String)
2020-11-21 15:38:12.333 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getLtStandard[145]  ==>  Preparing: select * from qims_lt_standard_info 
2020-11-21 15:38:12.333 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getLtStandard[145]  ==> Parameters: 
2020-11-21 15:38:12.342 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  <==      Total: 1
2020-11-21 15:38:12.342 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==>  Preparing: select time from email_history_info where id =? 
2020-11-21 15:38:12.343 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==> Parameters: 1303868347422605312(String)
2020-11-21 15:38:12.343 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getLtStandard[145]  <==      Total: 8
2020-11-21 15:38:12.344 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==>  Preparing: select time from email_history_info where id =? 
2020-11-21 15:38:12.344 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==> Parameters: 1295192619508301824(String)
2020-11-21 15:38:12.348 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  <==      Total: 1
2020-11-21 15:38:12.349 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==>  Preparing: select time from email_history_info where id =? 
2020-11-21 15:38:12.350 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==> Parameters: 1303868393815801856(String)
2020-11-21 15:38:12.352 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  <==      Total: 1
2020-11-21 15:38:12.352 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==>  Preparing: select time from email_history_info where id =? 
2020-11-21 15:38:12.353 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==> Parameters: 1299240419787276288(String)
2020-11-21 15:38:12.353 INFO  c.j.qualityworkflow.modules.qims.job.qimsMailJob[47]  查询黑色问题超过LT的信息
2020-11-21 15:38:12.356 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  <==      Total: 1
2020-11-21 15:38:12.356 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getBlackList[145]  ==>  Preparing: select * from task_record where task_name in('初步原因分析','根本原因分析','根本原因审核') and task_state is null and template_key='QIMSBLACK' 
2020-11-21 15:38:12.357 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getBlackList[145]  ==> Parameters: 
2020-11-21 15:38:12.361 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  <==      Total: 1
2020-11-21 15:38:12.362 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==>  Preparing: select time from email_history_info where id =? 
2020-11-21 15:38:12.362 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==> Parameters: 1303937438065885184(String)
2020-11-21 15:38:12.370 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  <==      Total: 1
2020-11-21 15:38:12.370 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==>  Preparing: select time from email_history_info where id =? 
2020-11-21 15:38:12.371 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==> Parameters: 1303939538460082176(String)
2020-11-21 15:38:12.371 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getBlackList[145]  <==      Total: 16
2020-11-21 15:38:12.377 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  <==      Total: 1
2020-11-21 15:38:12.379 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==>  Preparing: select time from email_history_info where id =? 
2020-11-21 15:38:12.379 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==> Parameters: 1303939599889858560(String)
2020-11-21 15:38:12.385 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  <==      Total: 1
2020-11-21 15:38:12.385 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==>  Preparing: select time from email_history_info where id =? 
2020-11-21 15:38:12.385 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==>  Preparing: select time from email_history_info where id =? 
2020-11-21 15:38:12.385 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==> Parameters: 1286902446076985344(String)
2020-11-21 15:38:12.386 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==> Parameters: 1306059696263659520(String)
2020-11-21 15:38:12.391 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  <==      Total: 1
2020-11-21 15:38:12.393 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  <==      Total: 1
2020-11-21 15:38:12.393 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==>  Preparing: select time from email_history_info where id =? 
2020-11-21 15:38:12.393 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==> Parameters: 1306155886347026432(String)
2020-11-21 15:38:12.400 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  <==      Total: 1
2020-11-21 15:38:12.401 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==>  Preparing: select time from email_history_info where id =? 
2020-11-21 15:38:12.401 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==> Parameters: 1306201167000240128(String)
2020-11-21 15:38:12.407 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  <==      Total: 1
2020-11-21 15:38:12.407 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==>  Preparing: select time from email_history_info where id =? 
2020-11-21 15:38:12.407 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==> Parameters: 1308013106458263552(String)
2020-11-21 15:38:12.413 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  <==      Total: 0
2020-11-21 15:38:17.440 DEBUG cn.jwis.qualityworkflow.util.EmailService[144]  get handler mail from http://gateway.dev.jwis.io/platform/sys/user/internal-read?name=kiween happen error cause:I/O error on GET request for "http://gateway.dev.jwis.io/platform/sys/user/internal-read": connect timed out; nested exception is java.net.SocketTimeoutException: connect timed out
2020-11-21 15:38:17.440 DEBUG cn.jwis.qualityworkflow.util.EmailService[144]  get handler mail from http://gateway.dev.jwis.io/platform/sys/user/internal-read?name=hualanlan happen error cause:I/O error on GET request for "http://gateway.dev.jwis.io/platform/sys/user/internal-read": connect timed out; nested exception is java.net.SocketTimeoutException: connect timed out
2020-11-21 15:38:17.440 DEBUG cn.jwis.qualityworkflow.util.EmailService[144]  get handler mail from http://gateway.dev.jwis.io/platform/sys/user/internal-read?name=dz_gyb1 happen error cause:I/O error on GET request for "http://gateway.dev.jwis.io/platform/sys/user/internal-read": connect timed out; nested exception is java.net.SocketTimeoutException: connect timed out
2020-11-21 15:38:17.440 DEBUG cn.jwis.qualityworkflow.util.EmailService[144]  get handler mail from http://gateway.dev.jwis.io/platform/sys/user/internal-read?name=qualityadmin happen error cause:I/O error on GET request for "http://gateway.dev.jwis.io/platform/sys/user/internal-read": connect timed out; nested exception is java.net.SocketTimeoutException: connect timed out
2020-11-21 15:38:17.451 DEBUG cn.jwis.qualityworkflow.dao.UserMapper.getSuperior[145]  ==>  Preparing: select superior from department_mapping where user_account = ? and type = ? limit 0,1 
2020-11-21 15:38:17.451 DEBUG cn.jwis.qualityworkflow.dao.UserMapper.getSuperior[145]  ==>  Preparing: select superior from department_mapping where user_account = ? and type = ? limit 0,1 
2020-11-21 15:38:17.451 DEBUG cn.jwis.qualityworkflow.dao.UserMapper.getSuperior[145]  ==>  Preparing: select superior from department_mapping where user_account = ? and type = ? limit 0,1 
2020-11-21 15:38:17.451 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==>  Preparing: select time from email_history_info where id =? 
2020-11-21 15:38:17.451 DEBUG cn.jwis.qualityworkflow.dao.UserMapper.getSuperior[145]  ==> Parameters: qualityadmin(String), COMMON(String)
2020-11-21 15:38:17.451 DEBUG cn.jwis.qualityworkflow.dao.UserMapper.getSuperior[145]  ==> Parameters: hualanlan(String), QIMS(String)
2020-11-21 15:38:17.451 DEBUG cn.jwis.qualityworkflow.dao.UserMapper.getSuperior[145]  ==> Parameters: dz_gyb1(String), COMMON(String)
2020-11-21 15:38:17.452 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==> Parameters: 1308013110702899200(String)
2020-11-21 15:38:17.461 DEBUG cn.jwis.qualityworkflow.dao.UserMapper.getSuperior[145]  <==      Total: 1
2020-11-21 15:38:17.460 DEBUG cn.jwis.qualityworkflow.dao.UserMapper.getSuperior[145]  <==      Total: 1
2020-11-21 15:38:17.462 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  <==      Total: 1
2020-11-21 15:38:17.462 DEBUG cn.jwis.qualityworkflow.dao.UserMapper.getSuperior[145]  <==      Total: 1
2020-11-21 15:38:17.464 DEBUG c.j.q.dao.UserMapper.getSuperiorManagerByUser[145]  ==>  Preparing: select superior_manager from department_mapping where user_account = ? and type = ? limit 0,1 
2020-11-21 15:38:17.464 DEBUG c.j.q.dao.UserMapper.getSuperiorManagerByUser[145]  ==> Parameters: hualanlan(String), QIMS(String)
2020-11-21 15:38:17.474 DEBUG c.j.q.dao.UserMapper.getSuperiorManagerByUser[145]  <==      Total: 1
2020-11-21 15:38:17.526 INFO  cn.jwis.qualityworkflow.util.EmailService[142]  qualityadmin email is 
2020-11-21 15:38:17.526 INFO  cn.jwis.qualityworkflow.util.EmailService[142]  dz_gyb2 email is jian.song@jwis.cn
2020-11-21 15:38:17.526 INFO  cn.jwis.qualityworkflow.util.EmailService[142]  workflow3 email is null
2020-11-21 15:38:17.526 INFO  cn.jwis.qualityworkflow.util.EmailService[142]  qualityadmin email is 
2020-11-21 15:38:17.526 INFO  c.j.q.m.factoryaudit.job.AuditQuestionMailJob[31]  邮件下发结束
2020-11-21 15:38:17.526 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==>  Preparing: select time from email_history_info where id =? 
2020-11-21 15:38:17.526 DEBUG cn.jwis.qualityworkflow.dao.UserMapper.getSuperior[145]  ==>  Preparing: select superior from department_mapping where user_account = ? and type = ? limit 0,1 
2020-11-21 15:38:17.527 DEBUG cn.jwis.qualityworkflow.dao.UserMapper.getSuperior[145]  ==> Parameters: qualityadmin(String), COMMON(String)
2020-11-21 15:38:17.527 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==> Parameters: 1294123945682796544(String)
2020-11-21 15:38:17.536 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  <==      Total: 1
2020-11-21 15:38:17.536 DEBUG cn.jwis.qualityworkflow.dao.UserMapper.getSuperior[145]  <==      Total: 1
2020-11-21 15:38:17.536 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==>  Preparing: select time from email_history_info where id =? 
2020-11-21 15:38:17.537 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==> Parameters: 1294123945716350976(String)
2020-11-21 15:38:17.546 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  <==      Total: 1
2020-11-21 15:38:17.549 INFO  cn.jwis.qualityworkflow.util.EmailService[142]  zhouxianling email is 
2020-11-21 15:38:17.556 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==>  Preparing: select time from email_history_info where id =? 
2020-11-21 15:38:17.557 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==> Parameters: 1286904434760089600(String)
2020-11-21 15:38:17.563 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  <==      Total: 1
2020-11-21 15:38:17.581 INFO  cn.jwis.qualityworkflow.util.EmailService[142]  qualityadmin email is 
2020-11-21 15:38:17.581 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==>  Preparing: select time from email_history_info where id =? 
2020-11-21 15:38:17.582 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==> Parameters: 1308013113928318976(String)
2020-11-21 15:38:17.584 INFO  cn.jwis.qualityworkflow.util.EmailService[142]  xujinbiao email is 
2020-11-21 15:38:17.585 DEBUG cn.jwis.qualityworkflow.dao.UserMapper.getSuperior[145]  ==>  Preparing: select superior from department_mapping where user_account = ? and type = ? limit 0,1 
2020-11-21 15:38:17.586 DEBUG cn.jwis.qualityworkflow.dao.UserMapper.getSuperior[145]  ==> Parameters: xujinbiao(String), COMMON(String)
2020-11-21 15:38:17.588 INFO  cn.jwis.qualityworkflow.util.EmailService[142]  gupp2 email is null
2020-11-21 15:38:17.589 DEBUG cn.jwis.qualityworkflow.dao.UserMapper.getSuperior[145]  ==>  Preparing: select superior from department_mapping where user_account = ? and type = ? limit 0,1 
2020-11-21 15:38:17.589 DEBUG cn.jwis.qualityworkflow.dao.UserMapper.getSuperior[145]  ==> Parameters: gupp2(String), QIMS(String)
2020-11-21 15:38:17.590 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  <==      Total: 1
2020-11-21 15:38:17.594 DEBUG cn.jwis.qualityworkflow.dao.UserMapper.getSuperior[145]  <==      Total: 1
2020-11-21 15:38:17.597 DEBUG cn.jwis.qualityworkflow.dao.UserMapper.getSuperior[145]  <==      Total: 0
2020-11-21 15:38:17.598 DEBUG c.j.q.dao.UserMapper.getSuperiorManagerByUser[145]  ==>  Preparing: select superior_manager from department_mapping where user_account = ? and type = ? limit 0,1 
2020-11-21 15:38:17.598 DEBUG c.j.q.dao.UserMapper.getSuperiorManagerByUser[145]  ==> Parameters: gupp2(String), QIMS(String)
2020-11-21 15:38:17.608 DEBUG c.j.q.dao.UserMapper.getSuperiorManagerByUser[145]  <==      Total: 0
2020-11-21 15:38:17.614 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==>  Preparing: select time from email_history_info where id =? 
2020-11-21 15:38:17.615 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==> Parameters: 1286916730144161792(String)
2020-11-21 15:38:17.615 INFO  cn.jwis.qualityworkflow.util.EmailService[142]  qualityadmin email is 
2020-11-21 15:38:17.615 DEBUG cn.jwis.qualityworkflow.dao.UserMapper.getSuperior[145]  ==>  Preparing: select superior from department_mapping where user_account = ? and type = ? limit 0,1 
2020-11-21 15:38:17.615 DEBUG cn.jwis.qualityworkflow.dao.UserMapper.getSuperior[145]  ==> Parameters: qualityadmin(String), COMMON(String)
2020-11-21 15:38:17.618 INFO  cn.jwis.qualityworkflow.util.EmailService[142]  hualanlan email is test@jwis.cn
2020-11-21 15:38:17.618 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==>  Preparing: select time from email_history_info where id =? 
2020-11-21 15:38:17.618 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==> Parameters: 1295193219738370048(String)
2020-11-21 15:38:17.623 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  <==      Total: 1
2020-11-21 15:38:17.623 DEBUG cn.jwis.qualityworkflow.dao.UserMapper.getSuperior[145]  <==      Total: 1
2020-11-21 15:38:17.625 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  <==      Total: 1
2020-11-21 15:38:17.625 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==>  Preparing: select time from email_history_info where id =? 
2020-11-21 15:38:17.625 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==> Parameters: 1295193220166189056(String)
2020-11-21 15:38:17.633 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  <==      Total: 1
2020-11-21 15:38:17.687 INFO  cn.jwis.qualityworkflow.util.EmailService[142]  qualityadmin email is 
2020-11-21 15:38:17.688 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==>  Preparing: select time from email_history_info where id =? 
2020-11-21 15:38:17.688 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==> Parameters: 1308013116927246336(String)
2020-11-21 15:38:17.689 INFO  cn.jwis.qualityworkflow.util.EmailService[142]  xujinbiao email is 
2020-11-21 15:38:17.689 INFO  cn.jwis.qualityworkflow.util.EmailService[142]  gupp2 email is null
2020-11-21 15:38:17.690 DEBUG cn.jwis.qualityworkflow.dao.UserMapper.getSuperior[145]  ==>  Preparing: select superior from department_mapping where user_account = ? and type = ? limit 0,1 
2020-11-21 15:38:17.690 DEBUG cn.jwis.qualityworkflow.dao.UserMapper.getSuperior[145]  ==>  Preparing: select superior from department_mapping where user_account = ? and type = ? limit 0,1 
2020-11-21 15:38:17.690 DEBUG cn.jwis.qualityworkflow.dao.UserMapper.getSuperior[145]  ==> Parameters: gupp2(String), QIMS(String)
2020-11-21 15:38:17.691 DEBUG cn.jwis.qualityworkflow.dao.UserMapper.getSuperior[145]  ==> Parameters: xujinbiao(String), COMMON(String)
2020-11-21 15:38:17.696 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  <==      Total: 0
2020-11-21 15:38:17.699 DEBUG cn.jwis.qualityworkflow.dao.UserMapper.getSuperior[145]  <==      Total: 1
2020-11-21 15:38:17.699 DEBUG cn.jwis.qualityworkflow.dao.UserMapper.getSuperior[145]  <==      Total: 0
2020-11-21 15:38:17.700 DEBUG c.j.q.dao.UserMapper.getSuperiorManagerByUser[145]  ==>  Preparing: select superior_manager from department_mapping where user_account = ? and type = ? limit 0,1 
2020-11-21 15:38:17.700 DEBUG c.j.q.dao.UserMapper.getSuperiorManagerByUser[145]  ==> Parameters: gupp2(String), QIMS(String)
2020-11-21 15:38:17.710 DEBUG c.j.q.dao.UserMapper.getSuperiorManagerByUser[145]  <==      Total: 0
2020-11-21 15:38:17.714 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==>  Preparing: select time from email_history_info where id =? 
2020-11-21 15:38:17.715 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==> Parameters: 1287933861786812416(String)
2020-11-21 15:38:17.720 INFO  cn.jwis.qualityworkflow.util.EmailService[142]  kiween email is 
2020-11-21 15:38:17.721 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==>  Preparing: select time from email_history_info where id =? 
2020-11-21 15:38:17.721 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==> Parameters: 1309046852858937344(String)
2020-11-21 15:38:17.722 INFO  cn.jwis.qualityworkflow.util.EmailService[142]  hualanlan email is test@jwis.cn
2020-11-21 15:38:17.722 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  <==      Total: 1
2020-11-21 15:38:17.722 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==>  Preparing: select time from email_history_info where id =? 
2020-11-21 15:38:17.722 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==> Parameters: 1295193707351375872(String)
2020-11-21 15:38:17.732 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  <==      Total: 0
2020-11-21 15:38:17.732 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  <==      Total: 1
2020-11-21 15:38:17.732 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==>  Preparing: select time from email_history_info where id =? 
2020-11-21 15:38:17.733 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==> Parameters: 1295193707376541696(String)
2020-11-21 15:38:17.741 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  <==      Total: 1
2020-11-21 15:38:17.750 INFO  cn.jwis.qualityworkflow.util.EmailService[142]  hualanlan email is test@jwis.cn
2020-11-21 15:38:17.750 DEBUG cn.jwis.qualityworkflow.dao.UserMapper.getSuperior[145]  ==>  Preparing: select superior from department_mapping where user_account = ? and type = ? limit 0,1 
2020-11-21 15:38:17.751 DEBUG cn.jwis.qualityworkflow.dao.UserMapper.getSuperior[145]  ==> Parameters: hualanlan(String), QIMS(String)
2020-11-21 15:38:17.760 DEBUG cn.jwis.qualityworkflow.dao.UserMapper.getSuperior[145]  <==      Total: 1
2020-11-21 15:38:17.761 DEBUG c.j.q.dao.UserMapper.getSuperiorManagerByUser[145]  ==>  Preparing: select superior_manager from department_mapping where user_account = ? and type = ? limit 0,1 
2020-11-21 15:38:17.761 DEBUG c.j.q.dao.UserMapper.getSuperiorManagerByUser[145]  ==> Parameters: hualanlan(String), QIMS(String)
2020-11-21 15:38:17.770 DEBUG c.j.q.dao.UserMapper.getSuperiorManagerByUser[145]  <==      Total: 1
2020-11-21 15:38:17.779 INFO  cn.jwis.qualityworkflow.util.EmailService[142]  codisan email is kelvin@jwis.cn
2020-11-21 15:38:17.780 DEBUG c.j.qualityworkflow.dao.CommonMapper.getKeyToName[145]  ==>  Preparing: SELECT * FROM key_to_name 
2020-11-21 15:38:17.780 DEBUG c.j.qualityworkflow.dao.CommonMapper.getKeyToName[145]  ==> Parameters: 
2020-11-21 15:38:17.787 INFO  cn.jwis.qualityworkflow.util.EmailService[142]  xujinbiao email is 
2020-11-21 15:38:17.788 DEBUG cn.jwis.qualityworkflow.dao.UserMapper.getSuperior[145]  ==>  Preparing: select superior from department_mapping where user_account = ? and type = ? limit 0,1 
2020-11-21 15:38:17.788 DEBUG cn.jwis.qualityworkflow.dao.UserMapper.getSuperior[145]  ==> Parameters: xujinbiao(String), COMMON(String)
2020-11-21 15:38:17.791 INFO  cn.jwis.qualityworkflow.util.EmailService[142]  workflow3 email is null
2020-11-21 15:38:17.791 DEBUG c.j.qualityworkflow.dao.CommonMapper.getKeyToName[145]  <==      Total: 8
2020-11-21 15:38:18.034 DEBUG cn.jwis.qualityworkflow.dao.UserMapper.getSuperior[145]  <==      Total: 1
2020-11-21 15:38:18.035 INFO  cn.jwis.qualityworkflow.util.EmailService[142]  zhouxianling email is 
2020-11-21 15:38:18.045 DEBUG c.j.qualityworkflow.dao.TaskRecordMapper.getById[145]  ==>  Preparing: SELECT * from task_record WHERE id = ? 
2020-11-21 15:38:18.045 DEBUG c.j.qualityworkflow.dao.TaskRecordMapper.getById[145]  ==> Parameters: 1287933861786812416(String)
2020-11-21 15:38:18.055 DEBUG c.j.qualityworkflow.dao.TaskRecordMapper.getById[145]  <==      Total: 1
2020-11-21 15:38:18.056 DEBUG c.j.qualityworkflow.dao.CommonMapper.getKeyToName[145]  ==>  Preparing: SELECT * FROM key_to_name 
2020-11-21 15:38:18.056 INFO  cn.jwis.qualityworkflow.util.EmailService[142]  hualanlan email is test@jwis.cn
2020-11-21 15:38:18.056 DEBUG c.j.qualityworkflow.dao.CommonMapper.getKeyToName[145]  ==> Parameters: 
2020-11-21 15:38:18.056 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==>  Preparing: select time from email_history_info where id =? 
2020-11-21 15:38:18.057 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==> Parameters: 1315248790789160960(String)
2020-11-21 15:38:18.065 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  <==      Total: 1
2020-11-21 15:38:18.065 DEBUG c.j.qualityworkflow.dao.CommonMapper.getKeyToName[145]  <==      Total: 8
2020-11-21 15:38:18.096 INFO  cn.jwis.qualityworkflow.util.EmailService[142]  dz_gyb1 email is test@jwis.cn
2020-11-21 15:38:18.097 DEBUG cn.jwis.qualityworkflow.dao.UserMapper.getSuperior[145]  ==>  Preparing: select superior from department_mapping where user_account = ? and type = ? limit 0,1 
2020-11-21 15:38:18.097 DEBUG cn.jwis.qualityworkflow.dao.UserMapper.getSuperior[145]  ==> Parameters: dz_gyb1(String), COMMON(String)
2020-11-21 15:38:18.109 DEBUG cn.jwis.qualityworkflow.dao.UserMapper.getSuperior[145]  <==      Total: 1
2020-11-21 15:38:18.134 INFO  cn.jwis.qualityworkflow.util.EmailService[142]  dz_gyb2 email is jian.song@jwis.cn
2020-11-21 15:38:18.135 DEBUG c.j.qualityworkflow.dao.CommonMapper.getKeyToName[145]  ==>  Preparing: SELECT * FROM key_to_name 
2020-11-21 15:38:18.135 DEBUG c.j.qualityworkflow.dao.CommonMapper.getKeyToName[145]  ==> Parameters: 
2020-11-21 15:38:18.142 DEBUG c.j.qualityworkflow.dao.CommonMapper.getKeyToName[145]  <==      Total: 8
2020-11-21 15:38:18.143 DEBUG c.j.q.m.l.d.L.getLineQualifyDetailednessInfo[145]  ==>  Preparing: SELECT q.*,ar.processInstanceId ,ar.taskId,ar.assignee,ar.taskState,ar.taskName FROM line_qualify_info q,(SELECT workflow_business_id, process_instance_id as processInstanceId,task_id as taskId,assignee,task_state as taskState,task_name taskName FROM task_record WHERE task_id=?) ar where q.id=ar.workflow_business_id 
2020-11-21 15:38:18.143 DEBUG c.j.q.m.l.d.L.getLineQualifyDetailednessInfo[145]  ==> Parameters: 5506556(String)
2020-11-21 15:38:18.156 DEBUG c.j.q.m.l.d.L.getLineQualifyDetailednessInfo[145]  <==      Total: 1
2020-11-21 15:38:18.353 INFO  cn.jwis.qualityworkflow.util.EmailService[74]  haomiao.liu@jwis.cn send a Mail to kelvin@jwis.cn fail, because null
2020-11-21 15:38:18.353 INFO  cn.jwis.qualityworkflow.util.EmailService[69]  haomiao.liu@jwis.cn send a Mail to test@jwis.cn and make a copy for [jian.song@jwis.cn]
2020-11-21 15:38:18.353 INFO  cn.jwis.qualityworkflow.util.EmailService[71]  haomiao.liu@jwis.cn send a Mail to test@jwis.cn
2020-11-21 15:38:19.169 ERROR o.s.s.support.TaskUtils$LoggingErrorHandler[96] org.springframework.mail.MailSendException: Failed messages: javax.mail.SendFailedException: Invalid Addresses;
  nested exception is:
	com.sun.mail.smtp.SMTPAddressFailedException: 554 RCPT (test@jwis.cn) dosn't exist

	at org.springframework.mail.javamail.JavaMailSenderImpl.doSend(JavaMailSenderImpl.java:488)
	at org.springframework.mail.javamail.JavaMailSenderImpl.send(JavaMailSenderImpl.java:359)
	at org.springframework.mail.javamail.JavaMailSenderImpl.send(JavaMailSenderImpl.java:354)
	at cn.jwis.qualityworkflow.util.EmailService.sendHtmlMail(EmailService.java:76)
	at cn.jwis.qualityworkflow.modules.qims.service.imp.QimsSendMailServiceImpl.sendEmailTohandler(QimsSendMailServiceImpl.java:161)
	at cn.jwis.qualityworkflow.modules.qims.service.imp.QimsSendMailServiceImpl.qimsSendMail(QimsSendMailServiceImpl.java:90)
	at cn.jwis.qualityworkflow.modules.qims.job.qimsMailJob.qimsSendMail(qimsMailJob.java:49)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.springframework.scheduling.support.ScheduledMethodRunnable.run(ScheduledMethodRunnable.java:84)
	at org.springframework.scheduling.support.DelegatingErrorHandlingRunnable.run(DelegatingErrorHandlingRunnable.java:54)
	at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:511)
	at java.util.concurrent.FutureTask.runAndReset(FutureTask.java:308)
	at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.access$301(ScheduledThreadPoolExecutor.java:180)
	at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:294)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)
 Unexpected error occurred in scheduled task.
2020-11-21 15:38:19.169 ERROR o.s.s.support.TaskUtils$LoggingErrorHandler[96] org.springframework.mail.MailSendException: Failed messages: javax.mail.SendFailedException: Invalid Addresses;
  nested exception is:
	com.sun.mail.smtp.SMTPAddressFailedException: 554 RCPT (kelvin@jwis.cn) dosn't exist

	at org.springframework.mail.javamail.JavaMailSenderImpl.doSend(JavaMailSenderImpl.java:488)
	at org.springframework.mail.javamail.JavaMailSenderImpl.send(JavaMailSenderImpl.java:359)
	at org.springframework.mail.javamail.JavaMailSenderImpl.send(JavaMailSenderImpl.java:354)
	at cn.jwis.qualityworkflow.util.EmailService.sendHtmlMail(EmailService.java:76)
	at cn.jwis.qualityworkflow.modules.qims.service.imp.QimsSendMailServiceImpl.sendEmailTohandler(QimsSendMailServiceImpl.java:161)
	at cn.jwis.qualityworkflow.modules.ipqc.service.imp.AuditQualityProblemServiceImpl.qimsSendMail(AuditQualityProblemServiceImpl.java:321)
	at cn.jwis.qualityworkflow.modules.ipqc.service.imp.AuditQualityProblemServiceImpl$$FastClassBySpringCGLIB$$15ff325f.invoke(<generated>)
	at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:684)
	at cn.jwis.qualityworkflow.modules.ipqc.service.imp.AuditQualityProblemServiceImpl$$EnhancerBySpringCGLIB$$ce0d09f5.qimsSendMail(<generated>)
	at cn.jwis.qualityworkflow.modules.ipqc.job.ipqcMailJob.qimsSendMail(ipqcMailJob.java:28)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.springframework.scheduling.support.ScheduledMethodRunnable.run(ScheduledMethodRunnable.java:84)
	at org.springframework.scheduling.support.DelegatingErrorHandlingRunnable.run(DelegatingErrorHandlingRunnable.java:54)
	at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:511)
	at java.util.concurrent.FutureTask.runAndReset(FutureTask.java:308)
	at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.access$301(ScheduledThreadPoolExecutor.java:180)
	at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:294)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)
 Unexpected error occurred in scheduled task.
2020-11-21 15:38:19.210 ERROR o.s.s.support.TaskUtils$LoggingErrorHandler[96] org.springframework.mail.MailSendException: Failed messages: javax.mail.SendFailedException: Invalid Addresses;
  nested exception is:
	com.sun.mail.smtp.SMTPAddressFailedException: 554 RCPT (test@jwis.cn) dosn't exist
;
  nested exception is:
	com.sun.mail.smtp.SMTPAddressFailedException: 554 RCPT (jian.song@jwis.cn) dosn't exist

	at org.springframework.mail.javamail.JavaMailSenderImpl.doSend(JavaMailSenderImpl.java:488)
	at org.springframework.mail.javamail.JavaMailSenderImpl.send(JavaMailSenderImpl.java:359)
	at org.springframework.mail.javamail.JavaMailSenderImpl.send(JavaMailSenderImpl.java:354)
	at cn.jwis.qualityworkflow.util.EmailService.sendHtmlMail(EmailService.java:76)
	at cn.jwis.qualityworkflow.modules.linequalify.service.imp.LineQualifyServiceImpl.sendEmailTohandler(LineQualifyServiceImpl.java:617)
	at cn.jwis.qualityworkflow.modules.linequalify.service.imp.LineQualifyServiceImpl.sendOverTimeMail(LineQualifyServiceImpl.java:594)
	at cn.jwis.qualityworkflow.modules.linequalify.service.imp.LineQualifyServiceImpl$$FastClassBySpringCGLIB$$4ca6f597.invoke(<generated>)
	at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:684)
	at cn.jwis.qualityworkflow.modules.linequalify.service.imp.LineQualifyServiceImpl$$EnhancerBySpringCGLIB$$157c169d.sendOverTimeMail(<generated>)
	at cn.jwis.qualityworkflow.modules.linequalify.job.LineQualifyMailJob.sendOverTimeMail(LineQualifyMailJob.java:30)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.springframework.scheduling.support.ScheduledMethodRunnable.run(ScheduledMethodRunnable.java:84)
	at org.springframework.scheduling.support.DelegatingErrorHandlingRunnable.run(DelegatingErrorHandlingRunnable.java:54)
	at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:511)
	at java.util.concurrent.FutureTask.runAndReset(FutureTask.java:308)
	at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.access$301(ScheduledThreadPoolExecutor.java:180)
	at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:294)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)
 Unexpected error occurred in scheduled task.
2020-11-21 15:40:00.004 INFO  c.j.q.m.t.T.TraceabilityMachineTimerManager[50]  设备定时任务开启
2020-11-21 15:40:00.018 DEBUG c.j.q.m.t.d.T.getTraceabilityMachineList[145]  ==>  Preparing: select table_name from traceability_machine_data group by table_name 
2020-11-21 15:40:00.019 DEBUG c.j.q.m.t.d.T.getTraceabilityMachineList[145]  ==> Parameters: 
2020-11-21 15:40:00.026 DEBUG c.j.q.m.t.d.T.getTraceabilityMachineList[145]  <==      Total: 5
2020-11-21 15:40:00.027 DEBUG c.j.q.m.t.d.T.getTraceabilityMachineFiledName[145]  ==>  Preparing: select filed_name from traceability_machine_data where table_name=? 
2020-11-21 15:40:00.027 DEBUG c.j.q.m.t.d.T.getTraceabilityMachineFiledName[145]  ==> Parameters: dust_free_shed(String)
2020-11-21 15:40:00.034 DEBUG c.j.q.m.t.d.T.getTraceabilityMachineFiledName[145]  <==      Total: 11
2020-11-21 15:40:00.035 DEBUG c.j.q.m.t.d.T.getMaxCreateTime[145]  ==>  Preparing: select max(createtime) from dust_free_shed 
2020-11-21 15:40:00.035 DEBUG c.j.q.m.t.d.T.getMaxCreateTime[145]  ==> Parameters: 
2020-11-21 15:40:00.097 DEBUG c.j.q.m.t.d.T.getMaxCreateTime[145]  <==      Total: 1
2020-11-21 15:40:00.132 ERROR o.s.s.support.TaskUtils$LoggingErrorHandler[96] java.lang.NullPointerException: null
	at cn.jwis.qualityworkflow.modules.traceablity.TimerManager.TraceabilityMachineTimerManager.getLenovoMachineData(TraceabilityMachineTimerManager.java:105)
	at cn.jwis.qualityworkflow.modules.traceablity.TimerManager.TraceabilityMachineTimerManager.MachineTimerManager(TraceabilityMachineTimerManager.java:57)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.springframework.scheduling.support.ScheduledMethodRunnable.run(ScheduledMethodRunnable.java:84)
	at org.springframework.scheduling.support.DelegatingErrorHandlingRunnable.run(DelegatingErrorHandlingRunnable.java:54)
	at org.springframework.scheduling.concurrent.ReschedulingRunnable.run(ReschedulingRunnable.java:93)
	at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:511)
	at java.util.concurrent.FutureTask.run(FutureTask.java:266)
	at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.access$201(ScheduledThreadPoolExecutor.java:180)
	at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:293)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)
 Unexpected error occurred in scheduled task.
2020-11-21 15:43:11.995 INFO  c.j.qualityworkflow.modules.ipqc.job.ipqcMailJob[27]  查询IPQC超时任务
2020-11-21 15:43:12.010 DEBUG c.j.q.m.qims.dao.BlackDashBoardMapper.getHoliday[145]  ==>  Preparing: SELECT DISTINCT date FROM holiday_maintenance WHERE type = '节假日' 
2020-11-21 15:43:12.010 DEBUG c.j.q.dao.TaskRecordMapper.getOverTimeTaskRecord[145]  ==>  Preparing: SELECT *, HOUR(timediff(now() , create_date)) overTimeNum FROM task_record WHERE template_key = ? AND task_state IS NULL AND task_name = ? AND HOUR(timediff(now() , create_date)) >= ? 
2020-11-21 15:43:12.011 DEBUG c.j.q.dao.TaskRecordMapper.getOverTimeTaskRecord2[145]  ==>  Preparing: SELECT *, HOUR(timediff(now() , create_date)) overTimeNum FROM task_record WHERE template_key = ? AND task_state IS NULL AND HOUR(timediff(now() , create_date)) >= ? 
2020-11-21 15:43:12.010 DEBUG c.j.q.m.qims.dao.BlackDashBoardMapper.getHoliday[145]  ==> Parameters: 
2020-11-21 15:43:12.011 DEBUG c.j.q.dao.TaskRecordMapper.getOverTimeTaskRecord2[145]  ==> Parameters: IPQCAuditProcess(String), 24(Integer)
2020-11-21 15:43:12.011 DEBUG c.j.q.dao.TaskRecordMapper.getOverTimeTaskRecord[145]  ==> Parameters: FactoryAuditProcess(String), 部门审核(String), 24(Integer)
2020-11-21 15:43:12.018 DEBUG c.j.q.dao.TaskRecordMapper.getOverTimeTaskRecord[145]  ==>  Preparing: SELECT *, HOUR(timediff(now() , create_date)) overTimeNum FROM task_record WHERE template_key = ? AND task_state IS NULL AND task_name = ? AND HOUR(timediff(now() , create_date)) >= ? 
2020-11-21 15:43:12.018 DEBUG c.j.q.dao.TaskRecordMapper.getOverTimeTaskRecord[145]  ==> Parameters: Line Qualify(String), 文件收集(String), 2(Integer)
2020-11-21 15:43:12.038 DEBUG c.j.q.m.qims.dao.BlackDashBoardMapper.getHoliday[145]  <==      Total: 6
2020-11-21 15:43:12.039 DEBUG c.j.q.m.q.d.B.getWorkOvertimeList[145]  ==>  Preparing: SELECT DISTINCT date FROM holiday_maintenance WHERE type = '补班' 
2020-11-21 15:43:12.040 DEBUG c.j.q.dao.TaskRecordMapper.getOverTimeTaskRecord[145]  <==      Total: 3
2020-11-21 15:43:12.040 DEBUG c.j.q.dao.TaskRecordMapper.getOverTimeTaskRecord2[145]  <==      Total: 18
2020-11-21 15:43:12.041 DEBUG c.j.q.m.q.d.B.getWorkOvertimeList[145]  ==> Parameters: 
2020-11-21 15:43:12.041 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==>  Preparing: select time from email_history_info where id =? 
2020-11-21 15:43:12.041 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==>  Preparing: select time from email_history_info where id =? 
2020-11-21 15:43:12.041 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==> Parameters: 1295192540470837248(String)
2020-11-21 15:43:12.041 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==> Parameters: 1303868320843300864(String)
2020-11-21 15:43:12.042 DEBUG c.j.q.dao.TaskRecordMapper.getOverTimeTaskRecord[145]  <==      Total: 8
2020-11-21 15:43:12.043 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==>  Preparing: select time from email_history_info where id =? 
2020-11-21 15:43:12.044 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==> Parameters: 1294123945645047808(String)
2020-11-21 15:43:12.055 DEBUG c.j.q.m.q.d.B.getWorkOvertimeList[145]  <==      Total: 4
2020-11-21 15:43:12.055 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  <==      Total: 1
2020-11-21 15:43:12.055 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  <==      Total: 1
2020-11-21 15:43:12.055 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  <==      Total: 1
2020-11-21 15:43:12.056 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getLtStandard[145]  ==>  Preparing: select * from qims_lt_standard_info 
2020-11-21 15:43:12.056 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==>  Preparing: select time from email_history_info where id =? 
2020-11-21 15:43:12.056 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==>  Preparing: select time from email_history_info where id =? 
2020-11-21 15:43:12.056 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getLtStandard[145]  ==> Parameters: 
2020-11-21 15:43:12.056 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==> Parameters: 1303868347422605312(String)
2020-11-21 15:43:12.056 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==> Parameters: 1295192619508301824(String)
2020-11-21 15:43:12.070 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  <==      Total: 1
2020-11-21 15:43:12.070 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  <==      Total: 1
2020-11-21 15:43:12.070 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getLtStandard[145]  <==      Total: 8
2020-11-21 15:43:12.070 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==>  Preparing: select time from email_history_info where id =? 
2020-11-21 15:43:12.070 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==>  Preparing: select time from email_history_info where id =? 
2020-11-21 15:43:12.070 INFO  c.j.qualityworkflow.modules.qims.job.qimsMailJob[47]  查询黑色问题超过LT的信息
2020-11-21 15:43:12.070 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==> Parameters: 1299240419787276288(String)
2020-11-21 15:43:12.070 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==> Parameters: 1303868393815801856(String)
2020-11-21 15:43:12.071 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getBlackList[145]  ==>  Preparing: select * from task_record where task_name in('初步原因分析','根本原因分析','根本原因审核') and task_state is null and template_key='QIMSBLACK' 
2020-11-21 15:43:12.071 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getBlackList[145]  ==> Parameters: 
2020-11-21 15:43:12.085 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  <==      Total: 1
2020-11-21 15:43:12.085 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  <==      Total: 1
2020-11-21 15:43:12.086 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==>  Preparing: select time from email_history_info where id =? 
2020-11-21 15:43:12.086 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==> Parameters: 1303937438065885184(String)
2020-11-21 15:43:12.088 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getBlackList[145]  <==      Total: 16
2020-11-21 15:43:12.093 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==>  Preparing: select time from email_history_info where id =? 
2020-11-21 15:43:12.093 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==> Parameters: 1286902446076985344(String)
2020-11-21 15:43:12.150 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  <==      Total: 1
2020-11-21 15:43:12.150 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==>  Preparing: select time from email_history_info where id =? 
2020-11-21 15:43:12.150 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==> Parameters: 1303939538460082176(String)
2020-11-21 15:43:12.152 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  <==      Total: 1
2020-11-21 15:43:12.159 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  <==      Total: 1
2020-11-21 15:43:12.159 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==>  Preparing: select time from email_history_info where id =? 
2020-11-21 15:43:12.159 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==> Parameters: 1303939599889858560(String)
2020-11-21 15:43:12.168 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  <==      Total: 1
2020-11-21 15:43:12.169 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==>  Preparing: select time from email_history_info where id =? 
2020-11-21 15:43:12.169 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==> Parameters: 1306059696263659520(String)
2020-11-21 15:43:12.174 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  <==      Total: 1
2020-11-21 15:43:12.175 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==>  Preparing: select time from email_history_info where id =? 
2020-11-21 15:43:12.175 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==> Parameters: 1306155886347026432(String)
2020-11-21 15:43:12.180 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  <==      Total: 1
2020-11-21 15:43:12.181 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==>  Preparing: select time from email_history_info where id =? 
2020-11-21 15:43:12.181 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==> Parameters: 1306201167000240128(String)
2020-11-21 15:43:12.192 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  <==      Total: 1
2020-11-21 15:43:12.193 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==>  Preparing: select time from email_history_info where id =? 
2020-11-21 15:43:12.193 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==> Parameters: 1308013106458263552(String)
2020-11-21 15:43:12.198 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  <==      Total: 0
2020-11-21 15:43:17.088 DEBUG cn.jwis.qualityworkflow.util.EmailService[144]  get handler mail from http://gateway.dev.jwis.io/platform/sys/user/internal-read?name=qualityadmin happen error cause:I/O error on GET request for "http://gateway.dev.jwis.io/platform/sys/user/internal-read": connect timed out; nested exception is java.net.SocketTimeoutException: connect timed out
2020-11-21 15:43:17.088 DEBUG cn.jwis.qualityworkflow.util.EmailService[144]  get handler mail from http://gateway.dev.jwis.io/platform/sys/user/internal-read?name=dz_gyb1 happen error cause:I/O error on GET request for "http://gateway.dev.jwis.io/platform/sys/user/internal-read": connect timed out; nested exception is java.net.SocketTimeoutException: connect timed out
2020-11-21 15:43:17.095 DEBUG cn.jwis.qualityworkflow.dao.UserMapper.getSuperior[145]  ==>  Preparing: select superior from department_mapping where user_account = ? and type = ? limit 0,1 
2020-11-21 15:43:17.096 DEBUG cn.jwis.qualityworkflow.dao.UserMapper.getSuperior[145]  ==>  Preparing: select superior from department_mapping where user_account = ? and type = ? limit 0,1 
2020-11-21 15:43:17.096 DEBUG cn.jwis.qualityworkflow.dao.UserMapper.getSuperior[145]  ==> Parameters: dz_gyb1(String), COMMON(String)
2020-11-21 15:43:17.096 DEBUG cn.jwis.qualityworkflow.dao.UserMapper.getSuperior[145]  ==> Parameters: qualityadmin(String), COMMON(String)
2020-11-21 15:43:17.107 DEBUG cn.jwis.qualityworkflow.dao.UserMapper.getSuperior[145]  <==      Total: 1
2020-11-21 15:43:17.108 DEBUG cn.jwis.qualityworkflow.dao.UserMapper.getSuperior[145]  <==      Total: 1
2020-11-21 15:43:17.153 DEBUG cn.jwis.qualityworkflow.util.EmailService[144]  get handler mail from http://gateway.dev.jwis.io/platform/sys/user/internal-read?name=hualanlan happen error cause:I/O error on GET request for "http://gateway.dev.jwis.io/platform/sys/user/internal-read": connect timed out; nested exception is java.net.SocketTimeoutException: connect timed out
2020-11-21 15:43:17.160 DEBUG cn.jwis.qualityworkflow.dao.UserMapper.getSuperior[145]  ==>  Preparing: select superior from department_mapping where user_account = ? and type = ? limit 0,1 
2020-11-21 15:43:17.160 DEBUG cn.jwis.qualityworkflow.dao.UserMapper.getSuperior[145]  ==> Parameters: hualanlan(String), QIMS(String)
2020-11-21 15:43:17.166 DEBUG cn.jwis.qualityworkflow.dao.UserMapper.getSuperior[145]  <==      Total: 1
2020-11-21 15:43:17.167 DEBUG c.j.q.dao.UserMapper.getSuperiorManagerByUser[145]  ==>  Preparing: select superior_manager from department_mapping where user_account = ? and type = ? limit 0,1 
2020-11-21 15:43:17.167 DEBUG c.j.q.dao.UserMapper.getSuperiorManagerByUser[145]  ==> Parameters: hualanlan(String), QIMS(String)
2020-11-21 15:43:17.174 DEBUG c.j.q.dao.UserMapper.getSuperiorManagerByUser[145]  <==      Total: 1
2020-11-21 15:43:17.183 INFO  cn.jwis.qualityworkflow.util.EmailService[142]  dz_gyb2 email is jian.song@jwis.cn
2020-11-21 15:43:17.184 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==>  Preparing: select time from email_history_info where id =? 
2020-11-21 15:43:17.185 INFO  cn.jwis.qualityworkflow.util.EmailService[142]  qualityadmin email is 
2020-11-21 15:43:17.185 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==> Parameters: 1294123945682796544(String)
2020-11-21 15:43:17.185 INFO  c.j.q.m.factoryaudit.job.AuditQuestionMailJob[31]  邮件下发结束
2020-11-21 15:43:17.193 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  <==      Total: 1
2020-11-21 15:43:17.194 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==>  Preparing: select time from email_history_info where id =? 
2020-11-21 15:43:17.194 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==> Parameters: 1294123945716350976(String)
2020-11-21 15:43:17.199 DEBUG cn.jwis.qualityworkflow.util.EmailService[144]  get handler mail from http://gateway.dev.jwis.io/platform/sys/user/internal-read?name=kiween happen error cause:I/O error on GET request for "http://gateway.dev.jwis.io/platform/sys/user/internal-read": connect timed out; nested exception is java.net.SocketTimeoutException: connect timed out
2020-11-21 15:43:17.204 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  <==      Total: 1
2020-11-21 15:43:17.205 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==>  Preparing: select time from email_history_info where id =? 
2020-11-21 15:43:17.206 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==> Parameters: 1308013110702899200(String)
2020-11-21 15:43:17.207 INFO  cn.jwis.qualityworkflow.util.EmailService[142]  workflow3 email is null
2020-11-21 15:43:17.214 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  <==      Total: 1
2020-11-21 15:43:17.232 INFO  cn.jwis.qualityworkflow.util.EmailService[142]  xujinbiao email is 
2020-11-21 15:43:17.232 INFO  cn.jwis.qualityworkflow.util.EmailService[142]  zhouxianling email is 
2020-11-21 15:43:17.233 DEBUG cn.jwis.qualityworkflow.dao.UserMapper.getSuperior[145]  ==>  Preparing: select superior from department_mapping where user_account = ? and type = ? limit 0,1 
2020-11-21 15:43:17.233 DEBUG cn.jwis.qualityworkflow.dao.UserMapper.getSuperior[145]  ==> Parameters: xujinbiao(String), COMMON(String)
2020-11-21 15:43:17.236 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==>  Preparing: select time from email_history_info where id =? 
2020-11-21 15:43:17.236 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==> Parameters: 1286904434760089600(String)
2020-11-21 15:43:17.237 INFO  cn.jwis.qualityworkflow.util.EmailService[142]  qualityadmin email is 
2020-11-21 15:43:17.237 DEBUG cn.jwis.qualityworkflow.dao.UserMapper.getSuperior[145]  ==>  Preparing: select superior from department_mapping where user_account = ? and type = ? limit 0,1 
2020-11-21 15:43:17.237 DEBUG cn.jwis.qualityworkflow.dao.UserMapper.getSuperior[145]  ==> Parameters: qualityadmin(String), COMMON(String)
2020-11-21 15:43:17.240 DEBUG cn.jwis.qualityworkflow.dao.UserMapper.getSuperior[145]  <==      Total: 1
2020-11-21 15:43:17.242 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  <==      Total: 1
2020-11-21 15:43:17.243 DEBUG cn.jwis.qualityworkflow.dao.UserMapper.getSuperior[145]  <==      Total: 1
2020-11-21 15:43:17.286 INFO  cn.jwis.qualityworkflow.util.EmailService[142]  hualanlan email is test@jwis.cn
2020-11-21 15:43:17.286 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==>  Preparing: select time from email_history_info where id =? 
2020-11-21 15:43:17.287 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==> Parameters: 1295193219738370048(String)
2020-11-21 15:43:17.288 INFO  cn.jwis.qualityworkflow.util.EmailService[142]  qualityadmin email is 
2020-11-21 15:43:17.289 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==>  Preparing: select time from email_history_info where id =? 
2020-11-21 15:43:17.289 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==> Parameters: 1308013113928318976(String)
2020-11-21 15:43:17.292 INFO  cn.jwis.qualityworkflow.util.EmailService[142]  gupp2 email is null
2020-11-21 15:43:17.292 DEBUG cn.jwis.qualityworkflow.dao.UserMapper.getSuperior[145]  ==>  Preparing: select superior from department_mapping where user_account = ? and type = ? limit 0,1 
2020-11-21 15:43:17.293 DEBUG cn.jwis.qualityworkflow.dao.UserMapper.getSuperior[145]  ==> Parameters: gupp2(String), QIMS(String)
2020-11-21 15:43:17.293 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  <==      Total: 1
2020-11-21 15:43:17.294 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==>  Preparing: select time from email_history_info where id =? 
2020-11-21 15:43:17.294 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==> Parameters: 1295193220166189056(String)
2020-11-21 15:43:17.296 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  <==      Total: 1
2020-11-21 15:43:17.299 DEBUG cn.jwis.qualityworkflow.dao.UserMapper.getSuperior[145]  <==      Total: 0
2020-11-21 15:43:17.299 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  <==      Total: 1
2020-11-21 15:43:17.300 DEBUG c.j.q.dao.UserMapper.getSuperiorManagerByUser[145]  ==>  Preparing: select superior_manager from department_mapping where user_account = ? and type = ? limit 0,1 
2020-11-21 15:43:17.300 DEBUG c.j.q.dao.UserMapper.getSuperiorManagerByUser[145]  ==> Parameters: gupp2(String), QIMS(String)
2020-11-21 15:43:17.308 DEBUG c.j.q.dao.UserMapper.getSuperiorManagerByUser[145]  <==      Total: 0
2020-11-21 15:43:17.311 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==>  Preparing: select time from email_history_info where id =? 
2020-11-21 15:43:17.311 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==> Parameters: 1286916730144161792(String)
2020-11-21 15:43:17.318 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  <==      Total: 1
2020-11-21 15:43:17.322 INFO  cn.jwis.qualityworkflow.util.EmailService[142]  qualityadmin email is 
2020-11-21 15:43:17.323 DEBUG cn.jwis.qualityworkflow.dao.UserMapper.getSuperior[145]  ==>  Preparing: select superior from department_mapping where user_account = ? and type = ? limit 0,1 
2020-11-21 15:43:17.323 DEBUG cn.jwis.qualityworkflow.dao.UserMapper.getSuperior[145]  ==> Parameters: qualityadmin(String), COMMON(String)
2020-11-21 15:43:17.323 INFO  cn.jwis.qualityworkflow.util.EmailService[142]  xujinbiao email is 
2020-11-21 15:43:17.323 DEBUG cn.jwis.qualityworkflow.dao.UserMapper.getSuperior[145]  ==>  Preparing: select superior from department_mapping where user_account = ? and type = ? limit 0,1 
2020-11-21 15:43:17.324 DEBUG cn.jwis.qualityworkflow.dao.UserMapper.getSuperior[145]  ==> Parameters: xujinbiao(String), COMMON(String)
2020-11-21 15:43:17.331 DEBUG cn.jwis.qualityworkflow.dao.UserMapper.getSuperior[145]  <==      Total: 1
2020-11-21 15:43:17.332 DEBUG cn.jwis.qualityworkflow.dao.UserMapper.getSuperior[145]  <==      Total: 1
2020-11-21 15:43:17.345 INFO  cn.jwis.qualityworkflow.util.EmailService[142]  gupp2 email is null
2020-11-21 15:43:17.346 DEBUG cn.jwis.qualityworkflow.dao.UserMapper.getSuperior[145]  ==>  Preparing: select superior from department_mapping where user_account = ? and type = ? limit 0,1 
2020-11-21 15:43:17.346 DEBUG cn.jwis.qualityworkflow.dao.UserMapper.getSuperior[145]  ==> Parameters: gupp2(String), QIMS(String)
2020-11-21 15:43:17.354 DEBUG cn.jwis.qualityworkflow.dao.UserMapper.getSuperior[145]  <==      Total: 0
2020-11-21 15:43:17.354 DEBUG c.j.q.dao.UserMapper.getSuperiorManagerByUser[145]  ==>  Preparing: select superior_manager from department_mapping where user_account = ? and type = ? limit 0,1 
2020-11-21 15:43:17.355 DEBUG c.j.q.dao.UserMapper.getSuperiorManagerByUser[145]  ==> Parameters: gupp2(String), QIMS(String)
2020-11-21 15:43:17.362 DEBUG c.j.q.dao.UserMapper.getSuperiorManagerByUser[145]  <==      Total: 0
2020-11-21 15:43:17.365 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==>  Preparing: select time from email_history_info where id =? 
2020-11-21 15:43:17.365 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==> Parameters: 1287933861786812416(String)
2020-11-21 15:43:17.372 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  <==      Total: 1
2020-11-21 15:43:17.383 INFO  cn.jwis.qualityworkflow.util.EmailService[142]  qualityadmin email is 
2020-11-21 15:43:17.384 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==>  Preparing: select time from email_history_info where id =? 
2020-11-21 15:43:17.384 INFO  cn.jwis.qualityworkflow.util.EmailService[142]  hualanlan email is test@jwis.cn
2020-11-21 15:43:17.384 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==> Parameters: 1308013116927246336(String)
2020-11-21 15:43:17.384 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==>  Preparing: select time from email_history_info where id =? 
2020-11-21 15:43:17.384 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==> Parameters: 1295193707351375872(String)
2020-11-21 15:43:17.393 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  <==      Total: 0
2020-11-21 15:43:17.393 INFO  cn.jwis.qualityworkflow.util.EmailService[142]  hualanlan email is test@jwis.cn
2020-11-21 15:43:17.393 DEBUG cn.jwis.qualityworkflow.dao.UserMapper.getSuperior[145]  ==>  Preparing: select superior from department_mapping where user_account = ? and type = ? limit 0,1 
2020-11-21 15:43:17.393 DEBUG cn.jwis.qualityworkflow.dao.UserMapper.getSuperior[145]  ==> Parameters: hualanlan(String), QIMS(String)
2020-11-21 15:43:17.394 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  <==      Total: 1
2020-11-21 15:43:17.394 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==>  Preparing: select time from email_history_info where id =? 
2020-11-21 15:43:17.395 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==> Parameters: 1295193707376541696(String)
2020-11-21 15:43:17.402 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  <==      Total: 1
2020-11-21 15:43:17.402 DEBUG cn.jwis.qualityworkflow.dao.UserMapper.getSuperior[145]  <==      Total: 1
2020-11-21 15:43:17.402 DEBUG c.j.q.dao.UserMapper.getSuperiorManagerByUser[145]  ==>  Preparing: select superior_manager from department_mapping where user_account = ? and type = ? limit 0,1 
2020-11-21 15:43:17.402 DEBUG c.j.q.dao.UserMapper.getSuperiorManagerByUser[145]  ==> Parameters: hualanlan(String), QIMS(String)
2020-11-21 15:43:17.412 DEBUG c.j.q.dao.UserMapper.getSuperiorManagerByUser[145]  <==      Total: 1
2020-11-21 15:43:17.414 INFO  cn.jwis.qualityworkflow.util.EmailService[142]  kiween email is 
2020-11-21 15:43:17.414 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==>  Preparing: select time from email_history_info where id =? 
2020-11-21 15:43:17.414 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==> Parameters: 1309046852858937344(String)
2020-11-21 15:43:17.420 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  <==      Total: 0
2020-11-21 15:43:17.422 INFO  cn.jwis.qualityworkflow.util.EmailService[142]  xujinbiao email is 
2020-11-21 15:43:17.422 DEBUG cn.jwis.qualityworkflow.dao.UserMapper.getSuperior[145]  ==>  Preparing: select superior from department_mapping where user_account = ? and type = ? limit 0,1 
2020-11-21 15:43:17.422 DEBUG cn.jwis.qualityworkflow.dao.UserMapper.getSuperior[145]  ==> Parameters: xujinbiao(String), COMMON(String)
2020-11-21 15:43:17.430 INFO  cn.jwis.qualityworkflow.util.EmailService[142]  workflow3 email is null
2020-11-21 15:43:17.431 DEBUG cn.jwis.qualityworkflow.dao.UserMapper.getSuperior[145]  <==      Total: 1
2020-11-21 15:43:17.447 INFO  cn.jwis.qualityworkflow.util.EmailService[142]  codisan email is kelvin@jwis.cn
2020-11-21 15:43:17.448 DEBUG c.j.qualityworkflow.dao.CommonMapper.getKeyToName[145]  ==>  Preparing: SELECT * FROM key_to_name 
2020-11-21 15:43:17.448 DEBUG c.j.qualityworkflow.dao.CommonMapper.getKeyToName[145]  ==> Parameters: 
2020-11-21 15:43:17.455 DEBUG c.j.qualityworkflow.dao.CommonMapper.getKeyToName[145]  <==      Total: 8
2020-11-21 15:43:17.457 INFO  cn.jwis.qualityworkflow.util.EmailService[74]  haomiao.liu@jwis.cn send a Mail to kelvin@jwis.cn fail, because null
2020-11-21 15:43:17.482 INFO  cn.jwis.qualityworkflow.util.EmailService[142]  zhouxianling email is 
2020-11-21 15:43:17.482 INFO  cn.jwis.qualityworkflow.util.EmailService[142]  hualanlan email is test@jwis.cn
2020-11-21 15:43:17.482 DEBUG c.j.qualityworkflow.dao.TaskRecordMapper.getById[145]  ==>  Preparing: SELECT * from task_record WHERE id = ? 
2020-11-21 15:43:17.482 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==>  Preparing: select time from email_history_info where id =? 
2020-11-21 15:43:17.483 DEBUG c.j.qualityworkflow.dao.TaskRecordMapper.getById[145]  ==> Parameters: 1287933861786812416(String)
2020-11-21 15:43:17.483 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==> Parameters: 1315248790789160960(String)
2020-11-21 15:43:17.490 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  <==      Total: 1
2020-11-21 15:43:17.492 DEBUG c.j.qualityworkflow.dao.TaskRecordMapper.getById[145]  <==      Total: 1
2020-11-21 15:43:17.492 DEBUG c.j.qualityworkflow.dao.CommonMapper.getKeyToName[145]  ==>  Preparing: SELECT * FROM key_to_name 
2020-11-21 15:43:17.492 DEBUG c.j.qualityworkflow.dao.CommonMapper.getKeyToName[145]  ==> Parameters: 
2020-11-21 15:43:17.501 DEBUG c.j.qualityworkflow.dao.CommonMapper.getKeyToName[145]  <==      Total: 8
2020-11-21 15:43:17.503 INFO  cn.jwis.qualityworkflow.util.EmailService[71]  haomiao.liu@jwis.cn send a Mail to test@jwis.cn
2020-11-21 15:43:17.520 INFO  cn.jwis.qualityworkflow.util.EmailService[142]  dz_gyb1 email is test@jwis.cn
2020-11-21 15:43:17.520 DEBUG cn.jwis.qualityworkflow.dao.UserMapper.getSuperior[145]  ==>  Preparing: select superior from department_mapping where user_account = ? and type = ? limit 0,1 
2020-11-21 15:43:17.520 DEBUG cn.jwis.qualityworkflow.dao.UserMapper.getSuperior[145]  ==> Parameters: dz_gyb1(String), COMMON(String)
2020-11-21 15:43:17.528 DEBUG cn.jwis.qualityworkflow.dao.UserMapper.getSuperior[145]  <==      Total: 1
2020-11-21 15:43:17.551 INFO  cn.jwis.qualityworkflow.util.EmailService[142]  dz_gyb2 email is jian.song@jwis.cn
2020-11-21 15:43:17.551 DEBUG c.j.qualityworkflow.dao.CommonMapper.getKeyToName[145]  ==>  Preparing: SELECT * FROM key_to_name 
2020-11-21 15:43:17.552 DEBUG c.j.qualityworkflow.dao.CommonMapper.getKeyToName[145]  ==> Parameters: 
2020-11-21 15:43:17.559 DEBUG c.j.qualityworkflow.dao.CommonMapper.getKeyToName[145]  <==      Total: 8
2020-11-21 15:43:17.559 DEBUG c.j.q.m.l.d.L.getLineQualifyDetailednessInfo[145]  ==>  Preparing: SELECT q.*,ar.processInstanceId ,ar.taskId,ar.assignee,ar.taskState,ar.taskName FROM line_qualify_info q,(SELECT workflow_business_id, process_instance_id as processInstanceId,task_id as taskId,assignee,task_state as taskState,task_name taskName FROM task_record WHERE task_id=?) ar where q.id=ar.workflow_business_id 
2020-11-21 15:43:17.560 DEBUG c.j.q.m.l.d.L.getLineQualifyDetailednessInfo[145]  ==> Parameters: 5506556(String)
2020-11-21 15:43:17.570 DEBUG c.j.q.m.l.d.L.getLineQualifyDetailednessInfo[145]  <==      Total: 1
2020-11-21 15:43:17.571 INFO  cn.jwis.qualityworkflow.util.EmailService[69]  haomiao.liu@jwis.cn send a Mail to test@jwis.cn and make a copy for [jian.song@jwis.cn]
2020-11-21 15:43:18.046 ERROR o.s.s.support.TaskUtils$LoggingErrorHandler[96] org.springframework.mail.MailSendException: Failed messages: javax.mail.SendFailedException: Invalid Addresses;
  nested exception is:
	com.sun.mail.smtp.SMTPAddressFailedException: 554 RCPT (test@jwis.cn) dosn't exist

	at org.springframework.mail.javamail.JavaMailSenderImpl.doSend(JavaMailSenderImpl.java:488)
	at org.springframework.mail.javamail.JavaMailSenderImpl.send(JavaMailSenderImpl.java:359)
	at org.springframework.mail.javamail.JavaMailSenderImpl.send(JavaMailSenderImpl.java:354)
	at cn.jwis.qualityworkflow.util.EmailService.sendHtmlMail(EmailService.java:76)
	at cn.jwis.qualityworkflow.modules.qims.service.imp.QimsSendMailServiceImpl.sendEmailTohandler(QimsSendMailServiceImpl.java:161)
	at cn.jwis.qualityworkflow.modules.qims.service.imp.QimsSendMailServiceImpl.qimsSendMail(QimsSendMailServiceImpl.java:90)
	at cn.jwis.qualityworkflow.modules.qims.job.qimsMailJob.qimsSendMail(qimsMailJob.java:49)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.springframework.scheduling.support.ScheduledMethodRunnable.run(ScheduledMethodRunnable.java:84)
	at org.springframework.scheduling.support.DelegatingErrorHandlingRunnable.run(DelegatingErrorHandlingRunnable.java:54)
	at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:511)
	at java.util.concurrent.FutureTask.runAndReset(FutureTask.java:308)
	at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.access$301(ScheduledThreadPoolExecutor.java:180)
	at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:294)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)
 Unexpected error occurred in scheduled task.
2020-11-21 15:43:18.078 ERROR o.s.s.support.TaskUtils$LoggingErrorHandler[96] org.springframework.mail.MailSendException: Failed messages: javax.mail.SendFailedException: Invalid Addresses;
  nested exception is:
	com.sun.mail.smtp.SMTPAddressFailedException: 554 RCPT (kelvin@jwis.cn) dosn't exist

	at org.springframework.mail.javamail.JavaMailSenderImpl.doSend(JavaMailSenderImpl.java:488)
	at org.springframework.mail.javamail.JavaMailSenderImpl.send(JavaMailSenderImpl.java:359)
	at org.springframework.mail.javamail.JavaMailSenderImpl.send(JavaMailSenderImpl.java:354)
	at cn.jwis.qualityworkflow.util.EmailService.sendHtmlMail(EmailService.java:76)
	at cn.jwis.qualityworkflow.modules.qims.service.imp.QimsSendMailServiceImpl.sendEmailTohandler(QimsSendMailServiceImpl.java:161)
	at cn.jwis.qualityworkflow.modules.ipqc.service.imp.AuditQualityProblemServiceImpl.qimsSendMail(AuditQualityProblemServiceImpl.java:321)
	at cn.jwis.qualityworkflow.modules.ipqc.service.imp.AuditQualityProblemServiceImpl$$FastClassBySpringCGLIB$$15ff325f.invoke(<generated>)
	at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:684)
	at cn.jwis.qualityworkflow.modules.ipqc.service.imp.AuditQualityProblemServiceImpl$$EnhancerBySpringCGLIB$$ce0d09f5.qimsSendMail(<generated>)
	at cn.jwis.qualityworkflow.modules.ipqc.job.ipqcMailJob.qimsSendMail(ipqcMailJob.java:28)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.springframework.scheduling.support.ScheduledMethodRunnable.run(ScheduledMethodRunnable.java:84)
	at org.springframework.scheduling.support.DelegatingErrorHandlingRunnable.run(DelegatingErrorHandlingRunnable.java:54)
	at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:511)
	at java.util.concurrent.FutureTask.runAndReset(FutureTask.java:308)
	at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.access$301(ScheduledThreadPoolExecutor.java:180)
	at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:294)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)
 Unexpected error occurred in scheduled task.
2020-11-21 15:43:18.237 ERROR o.s.s.support.TaskUtils$LoggingErrorHandler[96] org.springframework.mail.MailSendException: Failed messages: javax.mail.SendFailedException: Invalid Addresses;
  nested exception is:
	com.sun.mail.smtp.SMTPAddressFailedException: 554 RCPT (test@jwis.cn) dosn't exist
;
  nested exception is:
	com.sun.mail.smtp.SMTPAddressFailedException: 554 RCPT (jian.song@jwis.cn) dosn't exist

	at org.springframework.mail.javamail.JavaMailSenderImpl.doSend(JavaMailSenderImpl.java:488)
	at org.springframework.mail.javamail.JavaMailSenderImpl.send(JavaMailSenderImpl.java:359)
	at org.springframework.mail.javamail.JavaMailSenderImpl.send(JavaMailSenderImpl.java:354)
	at cn.jwis.qualityworkflow.util.EmailService.sendHtmlMail(EmailService.java:76)
	at cn.jwis.qualityworkflow.modules.linequalify.service.imp.LineQualifyServiceImpl.sendEmailTohandler(LineQualifyServiceImpl.java:617)
	at cn.jwis.qualityworkflow.modules.linequalify.service.imp.LineQualifyServiceImpl.sendOverTimeMail(LineQualifyServiceImpl.java:594)
	at cn.jwis.qualityworkflow.modules.linequalify.service.imp.LineQualifyServiceImpl$$FastClassBySpringCGLIB$$4ca6f597.invoke(<generated>)
	at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:684)
	at cn.jwis.qualityworkflow.modules.linequalify.service.imp.LineQualifyServiceImpl$$EnhancerBySpringCGLIB$$157c169d.sendOverTimeMail(<generated>)
	at cn.jwis.qualityworkflow.modules.linequalify.job.LineQualifyMailJob.sendOverTimeMail(LineQualifyMailJob.java:30)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.springframework.scheduling.support.ScheduledMethodRunnable.run(ScheduledMethodRunnable.java:84)
	at org.springframework.scheduling.support.DelegatingErrorHandlingRunnable.run(DelegatingErrorHandlingRunnable.java:54)
	at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:511)
	at java.util.concurrent.FutureTask.runAndReset(FutureTask.java:308)
	at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.access$301(ScheduledThreadPoolExecutor.java:180)
	at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:294)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)
 Unexpected error occurred in scheduled task.
2020-11-21 15:48:12.003 INFO  c.j.qualityworkflow.modules.ipqc.job.ipqcMailJob[27]  查询IPQC超时任务
2020-11-21 15:48:12.047 DEBUG c.j.q.dao.TaskRecordMapper.getOverTimeTaskRecord[145]  ==>  Preparing: SELECT *, HOUR(timediff(now() , create_date)) overTimeNum FROM task_record WHERE template_key = ? AND task_state IS NULL AND task_name = ? AND HOUR(timediff(now() , create_date)) >= ? 
2020-11-21 15:48:12.047 DEBUG c.j.q.m.qims.dao.BlackDashBoardMapper.getHoliday[145]  ==>  Preparing: SELECT DISTINCT date FROM holiday_maintenance WHERE type = '节假日' 
2020-11-21 15:48:12.047 DEBUG c.j.q.dao.TaskRecordMapper.getOverTimeTaskRecord[145]  ==>  Preparing: SELECT *, HOUR(timediff(now() , create_date)) overTimeNum FROM task_record WHERE template_key = ? AND task_state IS NULL AND task_name = ? AND HOUR(timediff(now() , create_date)) >= ? 
2020-11-21 15:48:12.048 DEBUG c.j.q.dao.TaskRecordMapper.getOverTimeTaskRecord[145]  ==> Parameters: Line Qualify(String), 文件收集(String), 2(Integer)
2020-11-21 15:48:12.047 DEBUG c.j.q.m.qims.dao.BlackDashBoardMapper.getHoliday[145]  ==> Parameters: 
2020-11-21 15:48:12.048 DEBUG c.j.q.dao.TaskRecordMapper.getOverTimeTaskRecord2[145]  ==>  Preparing: SELECT *, HOUR(timediff(now() , create_date)) overTimeNum FROM task_record WHERE template_key = ? AND task_state IS NULL AND HOUR(timediff(now() , create_date)) >= ? 
2020-11-21 15:48:12.048 DEBUG c.j.q.dao.TaskRecordMapper.getOverTimeTaskRecord[145]  ==> Parameters: FactoryAuditProcess(String), 部门审核(String), 24(Integer)
2020-11-21 15:48:12.048 DEBUG c.j.q.dao.TaskRecordMapper.getOverTimeTaskRecord2[145]  ==> Parameters: IPQCAuditProcess(String), 24(Integer)
2020-11-21 15:48:12.141 DEBUG c.j.q.m.qims.dao.BlackDashBoardMapper.getHoliday[145]  <==      Total: 6
2020-11-21 15:48:12.141 DEBUG c.j.q.m.q.d.B.getWorkOvertimeList[145]  ==>  Preparing: SELECT DISTINCT date FROM holiday_maintenance WHERE type = '补班' 
2020-11-21 15:48:12.141 DEBUG c.j.q.m.q.d.B.getWorkOvertimeList[145]  ==> Parameters: 
2020-11-21 15:48:12.142 DEBUG c.j.q.dao.TaskRecordMapper.getOverTimeTaskRecord2[145]  <==      Total: 18
2020-11-21 15:48:12.142 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==>  Preparing: select time from email_history_info where id =? 
2020-11-21 15:48:12.143 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==> Parameters: 1303868320843300864(String)
2020-11-21 15:48:12.144 DEBUG c.j.q.dao.TaskRecordMapper.getOverTimeTaskRecord[145]  <==      Total: 3
2020-11-21 15:48:12.145 DEBUG c.j.q.dao.TaskRecordMapper.getOverTimeTaskRecord[145]  <==      Total: 8
2020-11-21 15:48:12.145 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==>  Preparing: select time from email_history_info where id =? 
2020-11-21 15:48:12.145 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==> Parameters: 1295192540470837248(String)
2020-11-21 15:48:12.145 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==>  Preparing: select time from email_history_info where id =? 
2020-11-21 15:48:12.145 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==> Parameters: 1294123945645047808(String)
2020-11-21 15:48:12.153 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  <==      Total: 1
2020-11-21 15:48:12.153 DEBUG c.j.q.m.q.d.B.getWorkOvertimeList[145]  <==      Total: 4
2020-11-21 15:48:12.154 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==>  Preparing: select time from email_history_info where id =? 
2020-11-21 15:48:12.154 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getLtStandard[145]  ==>  Preparing: select * from qims_lt_standard_info 
2020-11-21 15:48:12.154 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getLtStandard[145]  ==> Parameters: 
2020-11-21 15:48:12.154 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==> Parameters: 1295192619508301824(String)
2020-11-21 15:48:12.159 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  <==      Total: 1
2020-11-21 15:48:12.159 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  <==      Total: 1
2020-11-21 15:48:12.159 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==>  Preparing: select time from email_history_info where id =? 
2020-11-21 15:48:12.159 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==> Parameters: 1303868347422605312(String)
2020-11-21 15:48:12.164 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  <==      Total: 1
2020-11-21 15:48:12.165 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getLtStandard[145]  <==      Total: 8
2020-11-21 15:48:12.165 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==>  Preparing: select time from email_history_info where id =? 
2020-11-21 15:48:12.165 INFO  c.j.qualityworkflow.modules.qims.job.qimsMailJob[47]  查询黑色问题超过LT的信息
2020-11-21 15:48:12.165 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==> Parameters: 1299240419787276288(String)
2020-11-21 15:48:12.165 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getBlackList[145]  ==>  Preparing: select * from task_record where task_name in('初步原因分析','根本原因分析','根本原因审核') and task_state is null and template_key='QIMSBLACK' 
2020-11-21 15:48:12.166 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getBlackList[145]  ==> Parameters: 
2020-11-21 15:48:12.178 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  <==      Total: 1
2020-11-21 15:48:12.178 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==>  Preparing: select time from email_history_info where id =? 
2020-11-21 15:48:12.179 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==> Parameters: 1303868393815801856(String)
2020-11-21 15:48:12.185 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  <==      Total: 1
2020-11-21 15:48:12.236 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  <==      Total: 1
2020-11-21 15:48:12.236 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==>  Preparing: select time from email_history_info where id =? 
2020-11-21 15:48:12.237 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getBlackList[145]  <==      Total: 16
2020-11-21 15:48:12.237 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==> Parameters: 1303937438065885184(String)
2020-11-21 15:48:12.239 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==>  Preparing: select time from email_history_info where id =? 
2020-11-21 15:48:12.239 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==> Parameters: 1286902446076985344(String)
2020-11-21 15:48:12.246 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  <==      Total: 1
2020-11-21 15:48:12.246 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==>  Preparing: select time from email_history_info where id =? 
2020-11-21 15:48:12.247 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==> Parameters: 1303939538460082176(String)
2020-11-21 15:48:12.250 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  <==      Total: 1
2020-11-21 15:48:12.253 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  <==      Total: 1
2020-11-21 15:48:12.254 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==>  Preparing: select time from email_history_info where id =? 
2020-11-21 15:48:12.254 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==> Parameters: 1303939599889858560(String)
2020-11-21 15:48:12.265 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  <==      Total: 1
2020-11-21 15:48:12.266 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==>  Preparing: select time from email_history_info where id =? 
2020-11-21 15:48:12.266 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==> Parameters: 1306059696263659520(String)
2020-11-21 15:48:12.282 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  <==      Total: 1
2020-11-21 15:48:12.283 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==>  Preparing: select time from email_history_info where id =? 
2020-11-21 15:48:12.283 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==> Parameters: 1306155886347026432(String)
2020-11-21 15:48:12.303 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  <==      Total: 1
2020-11-21 15:48:12.303 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==>  Preparing: select time from email_history_info where id =? 
2020-11-21 15:48:12.304 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==> Parameters: 1306201167000240128(String)
2020-11-21 15:48:12.313 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  <==      Total: 1
2020-11-21 15:48:12.313 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==>  Preparing: select time from email_history_info where id =? 
2020-11-21 15:48:12.314 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==> Parameters: 1308013106458263552(String)
2020-11-21 15:48:12.326 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  <==      Total: 0
2020-11-21 15:48:17.236 DEBUG cn.jwis.qualityworkflow.util.EmailService[144]  get handler mail from http://gateway.dev.jwis.io/platform/sys/user/internal-read?name=dz_gyb1 happen error cause:I/O error on GET request for "http://gateway.dev.jwis.io/platform/sys/user/internal-read": connect timed out; nested exception is java.net.SocketTimeoutException: connect timed out
2020-11-21 15:48:17.236 DEBUG cn.jwis.qualityworkflow.util.EmailService[144]  get handler mail from http://gateway.dev.jwis.io/platform/sys/user/internal-read?name=qualityadmin happen error cause:I/O error on GET request for "http://gateway.dev.jwis.io/platform/sys/user/internal-read": connect timed out; nested exception is java.net.SocketTimeoutException: connect timed out
2020-11-21 15:48:17.245 DEBUG cn.jwis.qualityworkflow.dao.UserMapper.getSuperior[145]  ==>  Preparing: select superior from department_mapping where user_account = ? and type = ? limit 0,1 
2020-11-21 15:48:17.246 DEBUG cn.jwis.qualityworkflow.dao.UserMapper.getSuperior[145]  ==> Parameters: dz_gyb1(String), COMMON(String)
2020-11-21 15:48:17.250 DEBUG cn.jwis.qualityworkflow.dao.UserMapper.getSuperior[145]  ==>  Preparing: select superior from department_mapping where user_account = ? and type = ? limit 0,1 
2020-11-21 15:48:17.251 DEBUG cn.jwis.qualityworkflow.util.EmailService[144]  get handler mail from http://gateway.dev.jwis.io/platform/sys/user/internal-read?name=hualanlan happen error cause:I/O error on GET request for "http://gateway.dev.jwis.io/platform/sys/user/internal-read": connect timed out; nested exception is java.net.SocketTimeoutException: connect timed out
2020-11-21 15:48:17.251 DEBUG cn.jwis.qualityworkflow.dao.UserMapper.getSuperior[145]  ==> Parameters: qualityadmin(String), COMMON(String)
2020-11-21 15:48:17.255 DEBUG cn.jwis.qualityworkflow.dao.UserMapper.getSuperior[145]  <==      Total: 1
2020-11-21 15:48:17.257 DEBUG cn.jwis.qualityworkflow.dao.UserMapper.getSuperior[145]  ==>  Preparing: select superior from department_mapping where user_account = ? and type = ? limit 0,1 
2020-11-21 15:48:17.257 DEBUG cn.jwis.qualityworkflow.dao.UserMapper.getSuperior[145]  <==      Total: 1
2020-11-21 15:48:17.258 DEBUG cn.jwis.qualityworkflow.dao.UserMapper.getSuperior[145]  ==> Parameters: hualanlan(String), QIMS(String)
2020-11-21 15:48:17.269 DEBUG cn.jwis.qualityworkflow.dao.UserMapper.getSuperior[145]  <==      Total: 1
2020-11-21 15:48:17.269 DEBUG c.j.q.dao.UserMapper.getSuperiorManagerByUser[145]  ==>  Preparing: select superior_manager from department_mapping where user_account = ? and type = ? limit 0,1 
2020-11-21 15:48:17.269 DEBUG c.j.q.dao.UserMapper.getSuperiorManagerByUser[145]  ==> Parameters: hualanlan(String), QIMS(String)
2020-11-21 15:48:17.277 DEBUG c.j.q.dao.UserMapper.getSuperiorManagerByUser[145]  <==      Total: 1
2020-11-21 15:48:17.293 INFO  cn.jwis.qualityworkflow.util.EmailService[142]  dz_gyb2 email is jian.song@jwis.cn
2020-11-21 15:48:17.294 INFO  cn.jwis.qualityworkflow.util.EmailService[142]  qualityadmin email is 
2020-11-21 15:48:17.295 INFO  c.j.q.m.factoryaudit.job.AuditQuestionMailJob[31]  邮件下发结束
2020-11-21 15:48:17.295 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==>  Preparing: select time from email_history_info where id =? 
2020-11-21 15:48:17.295 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==> Parameters: 1294123945682796544(String)
2020-11-21 15:48:17.302 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  <==      Total: 1
2020-11-21 15:48:17.302 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==>  Preparing: select time from email_history_info where id =? 
2020-11-21 15:48:17.302 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==> Parameters: 1294123945716350976(String)
2020-11-21 15:48:17.310 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  <==      Total: 1
2020-11-21 15:48:17.310 INFO  cn.jwis.qualityworkflow.util.EmailService[142]  workflow3 email is null
2020-11-21 15:48:17.327 DEBUG cn.jwis.qualityworkflow.util.EmailService[144]  get handler mail from http://gateway.dev.jwis.io/platform/sys/user/internal-read?name=kiween happen error cause:I/O error on GET request for "http://gateway.dev.jwis.io/platform/sys/user/internal-read": connect timed out; nested exception is java.net.SocketTimeoutException: connect timed out
2020-11-21 15:48:17.338 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==>  Preparing: select time from email_history_info where id =? 
2020-11-21 15:48:17.338 INFO  cn.jwis.qualityworkflow.util.EmailService[142]  zhouxianling email is 
2020-11-21 15:48:17.338 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==> Parameters: 1308013110702899200(String)
2020-11-21 15:48:17.338 INFO  cn.jwis.qualityworkflow.util.EmailService[142]  xujinbiao email is 
2020-11-21 15:48:17.339 DEBUG cn.jwis.qualityworkflow.dao.UserMapper.getSuperior[145]  ==>  Preparing: select superior from department_mapping where user_account = ? and type = ? limit 0,1 
2020-11-21 15:48:17.339 DEBUG cn.jwis.qualityworkflow.dao.UserMapper.getSuperior[145]  ==> Parameters: xujinbiao(String), COMMON(String)
2020-11-21 15:48:17.340 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==>  Preparing: select time from email_history_info where id =? 
2020-11-21 15:48:17.341 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==> Parameters: 1286904434760089600(String)
2020-11-21 15:48:17.347 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  <==      Total: 1
2020-11-21 15:48:17.347 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  <==      Total: 1
2020-11-21 15:48:17.347 DEBUG cn.jwis.qualityworkflow.dao.UserMapper.getSuperior[145]  <==      Total: 1
2020-11-21 15:48:17.391 INFO  cn.jwis.qualityworkflow.util.EmailService[142]  hualanlan email is test@jwis.cn
2020-11-21 15:48:17.391 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==>  Preparing: select time from email_history_info where id =? 
2020-11-21 15:48:17.392 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==> Parameters: 1295193219738370048(String)
2020-11-21 15:48:17.394 INFO  cn.jwis.qualityworkflow.util.EmailService[142]  qualityadmin email is 
2020-11-21 15:48:17.395 DEBUG cn.jwis.qualityworkflow.dao.UserMapper.getSuperior[145]  ==>  Preparing: select superior from department_mapping where user_account = ? and type = ? limit 0,1 
2020-11-21 15:48:17.395 DEBUG cn.jwis.qualityworkflow.dao.UserMapper.getSuperior[145]  ==> Parameters: qualityadmin(String), COMMON(String)
2020-11-21 15:48:17.398 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  <==      Total: 1
2020-11-21 15:48:17.398 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==>  Preparing: select time from email_history_info where id =? 
2020-11-21 15:48:17.398 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==> Parameters: 1295193220166189056(String)
2020-11-21 15:48:17.399 INFO  cn.jwis.qualityworkflow.util.EmailService[142]  gupp2 email is null
2020-11-21 15:48:17.399 DEBUG cn.jwis.qualityworkflow.dao.UserMapper.getSuperior[145]  ==>  Preparing: select superior from department_mapping where user_account = ? and type = ? limit 0,1 
2020-11-21 15:48:17.399 DEBUG cn.jwis.qualityworkflow.dao.UserMapper.getSuperior[145]  ==> Parameters: gupp2(String), QIMS(String)
2020-11-21 15:48:17.402 DEBUG cn.jwis.qualityworkflow.dao.UserMapper.getSuperior[145]  <==      Total: 1
2020-11-21 15:48:17.404 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  <==      Total: 1
2020-11-21 15:48:17.406 DEBUG cn.jwis.qualityworkflow.dao.UserMapper.getSuperior[145]  <==      Total: 0
2020-11-21 15:48:17.406 DEBUG c.j.q.dao.UserMapper.getSuperiorManagerByUser[145]  ==>  Preparing: select superior_manager from department_mapping where user_account = ? and type = ? limit 0,1 
2020-11-21 15:48:17.407 DEBUG c.j.q.dao.UserMapper.getSuperiorManagerByUser[145]  ==> Parameters: gupp2(String), QIMS(String)
2020-11-21 15:48:17.417 DEBUG c.j.q.dao.UserMapper.getSuperiorManagerByUser[145]  <==      Total: 0
2020-11-21 15:48:17.419 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==>  Preparing: select time from email_history_info where id =? 
2020-11-21 15:48:17.419 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==> Parameters: 1286916730144161792(String)
2020-11-21 15:48:17.425 INFO  cn.jwis.qualityworkflow.util.EmailService[142]  qualityadmin email is 
2020-11-21 15:48:17.426 INFO  cn.jwis.qualityworkflow.util.EmailService[142]  xujinbiao email is 
2020-11-21 15:48:17.426 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==>  Preparing: select time from email_history_info where id =? 
2020-11-21 15:48:17.426 DEBUG cn.jwis.qualityworkflow.dao.UserMapper.getSuperior[145]  ==>  Preparing: select superior from department_mapping where user_account = ? and type = ? limit 0,1 
2020-11-21 15:48:17.426 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==> Parameters: 1308013113928318976(String)
2020-11-21 15:48:17.426 DEBUG cn.jwis.qualityworkflow.dao.UserMapper.getSuperior[145]  ==> Parameters: xujinbiao(String), COMMON(String)
2020-11-21 15:48:17.428 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  <==      Total: 1
2020-11-21 15:48:17.432 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  <==      Total: 1
2020-11-21 15:48:17.437 DEBUG cn.jwis.qualityworkflow.dao.UserMapper.getSuperior[145]  <==      Total: 1
2020-11-21 15:48:17.492 INFO  cn.jwis.qualityworkflow.util.EmailService[142]  gupp2 email is null
2020-11-21 15:48:17.492 INFO  cn.jwis.qualityworkflow.util.EmailService[142]  qualityadmin email is 
2020-11-21 15:48:17.492 INFO  cn.jwis.qualityworkflow.util.EmailService[142]  hualanlan email is test@jwis.cn
2020-11-21 15:48:17.493 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==>  Preparing: select time from email_history_info where id =? 
2020-11-21 15:48:17.493 DEBUG cn.jwis.qualityworkflow.dao.UserMapper.getSuperior[145]  ==>  Preparing: select superior from department_mapping where user_account = ? and type = ? limit 0,1 
2020-11-21 15:48:17.493 DEBUG cn.jwis.qualityworkflow.dao.UserMapper.getSuperior[145]  ==>  Preparing: select superior from department_mapping where user_account = ? and type = ? limit 0,1 
2020-11-21 15:48:17.493 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==> Parameters: 1295193707351375872(String)
2020-11-21 15:48:17.493 DEBUG cn.jwis.qualityworkflow.dao.UserMapper.getSuperior[145]  ==> Parameters: gupp2(String), QIMS(String)
2020-11-21 15:48:17.493 DEBUG cn.jwis.qualityworkflow.dao.UserMapper.getSuperior[145]  ==> Parameters: qualityadmin(String), COMMON(String)
2020-11-21 15:48:17.500 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  <==      Total: 1
2020-11-21 15:48:17.500 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==>  Preparing: select time from email_history_info where id =? 
2020-11-21 15:48:17.500 DEBUG cn.jwis.qualityworkflow.dao.UserMapper.getSuperior[145]  <==      Total: 0
2020-11-21 15:48:17.500 DEBUG cn.jwis.qualityworkflow.dao.UserMapper.getSuperior[145]  <==      Total: 1
2020-11-21 15:48:17.500 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==> Parameters: 1295193707376541696(String)
2020-11-21 15:48:17.501 DEBUG c.j.q.dao.UserMapper.getSuperiorManagerByUser[145]  ==>  Preparing: select superior_manager from department_mapping where user_account = ? and type = ? limit 0,1 
2020-11-21 15:48:17.501 DEBUG c.j.q.dao.UserMapper.getSuperiorManagerByUser[145]  ==> Parameters: gupp2(String), QIMS(String)
2020-11-21 15:48:17.506 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  <==      Total: 1
2020-11-21 15:48:17.507 DEBUG c.j.q.dao.UserMapper.getSuperiorManagerByUser[145]  <==      Total: 0
2020-11-21 15:48:17.509 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==>  Preparing: select time from email_history_info where id =? 
2020-11-21 15:48:17.510 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==> Parameters: 1287933861786812416(String)
2020-11-21 15:48:17.518 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  <==      Total: 1
2020-11-21 15:48:17.524 INFO  cn.jwis.qualityworkflow.util.EmailService[142]  qualityadmin email is 
2020-11-21 15:48:17.525 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==>  Preparing: select time from email_history_info where id =? 
2020-11-21 15:48:17.525 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==> Parameters: 1308013116927246336(String)
2020-11-21 15:48:17.527 INFO  cn.jwis.qualityworkflow.util.EmailService[142]  xujinbiao email is 
2020-11-21 15:48:17.527 DEBUG cn.jwis.qualityworkflow.dao.UserMapper.getSuperior[145]  ==>  Preparing: select superior from department_mapping where user_account = ? and type = ? limit 0,1 
2020-11-21 15:48:17.527 DEBUG cn.jwis.qualityworkflow.dao.UserMapper.getSuperior[145]  ==> Parameters: xujinbiao(String), COMMON(String)
2020-11-21 15:48:17.531 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  <==      Total: 0
2020-11-21 15:48:17.534 DEBUG cn.jwis.qualityworkflow.dao.UserMapper.getSuperior[145]  <==      Total: 1
2020-11-21 15:48:17.536 INFO  cn.jwis.qualityworkflow.util.EmailService[142]  hualanlan email is test@jwis.cn
2020-11-21 15:48:17.538 DEBUG cn.jwis.qualityworkflow.dao.UserMapper.getSuperior[145]  ==>  Preparing: select superior from department_mapping where user_account = ? and type = ? limit 0,1 
2020-11-21 15:48:17.538 DEBUG cn.jwis.qualityworkflow.dao.UserMapper.getSuperior[145]  ==> Parameters: hualanlan(String), QIMS(String)
2020-11-21 15:48:17.546 DEBUG cn.jwis.qualityworkflow.dao.UserMapper.getSuperior[145]  <==      Total: 1
2020-11-21 15:48:17.546 DEBUG c.j.q.dao.UserMapper.getSuperiorManagerByUser[145]  ==>  Preparing: select superior_manager from department_mapping where user_account = ? and type = ? limit 0,1 
2020-11-21 15:48:17.546 DEBUG c.j.q.dao.UserMapper.getSuperiorManagerByUser[145]  ==> Parameters: hualanlan(String), QIMS(String)
2020-11-21 15:48:17.552 INFO  cn.jwis.qualityworkflow.util.EmailService[142]  kiween email is 
2020-11-21 15:48:17.552 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==>  Preparing: select time from email_history_info where id =? 
2020-11-21 15:48:17.553 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==> Parameters: 1309046852858937344(String)
2020-11-21 15:48:17.558 DEBUG c.j.q.dao.UserMapper.getSuperiorManagerByUser[145]  <==      Total: 1
2020-11-21 15:48:17.559 INFO  cn.jwis.qualityworkflow.util.EmailService[142]  hualanlan email is test@jwis.cn
2020-11-21 15:48:17.559 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==>  Preparing: select time from email_history_info where id =? 
2020-11-21 15:48:17.559 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==> Parameters: 1315248790789160960(String)
2020-11-21 15:48:17.561 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  <==      Total: 0
2020-11-21 15:48:17.569 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  <==      Total: 1
2020-11-21 15:48:17.590 INFO  cn.jwis.qualityworkflow.util.EmailService[142]  codisan email is kelvin@jwis.cn
2020-11-21 15:48:17.590 INFO  cn.jwis.qualityworkflow.util.EmailService[142]  workflow3 email is null
2020-11-21 15:48:17.590 DEBUG c.j.qualityworkflow.dao.CommonMapper.getKeyToName[145]  ==>  Preparing: SELECT * FROM key_to_name 
2020-11-21 15:48:17.590 DEBUG c.j.qualityworkflow.dao.CommonMapper.getKeyToName[145]  ==> Parameters: 
2020-11-21 15:48:17.595 INFO  cn.jwis.qualityworkflow.util.EmailService[142]  dz_gyb1 email is test@jwis.cn
2020-11-21 15:48:17.596 DEBUG cn.jwis.qualityworkflow.dao.UserMapper.getSuperior[145]  ==>  Preparing: select superior from department_mapping where user_account = ? and type = ? limit 0,1 
2020-11-21 15:48:17.596 DEBUG cn.jwis.qualityworkflow.dao.UserMapper.getSuperior[145]  ==> Parameters: dz_gyb1(String), COMMON(String)
2020-11-21 15:48:17.603 DEBUG c.j.qualityworkflow.dao.CommonMapper.getKeyToName[145]  <==      Total: 8
2020-11-21 15:48:17.605 INFO  cn.jwis.qualityworkflow.util.EmailService[74]  haomiao.liu@jwis.cn send a Mail to kelvin@jwis.cn fail, because null
2020-11-21 15:48:17.608 DEBUG cn.jwis.qualityworkflow.dao.UserMapper.getSuperior[145]  <==      Total: 1
2020-11-21 15:48:17.616 INFO  cn.jwis.qualityworkflow.util.EmailService[142]  zhouxianling email is 
2020-11-21 15:48:17.616 DEBUG c.j.qualityworkflow.dao.TaskRecordMapper.getById[145]  ==>  Preparing: SELECT * from task_record WHERE id = ? 
2020-11-21 15:48:17.616 DEBUG c.j.qualityworkflow.dao.TaskRecordMapper.getById[145]  ==> Parameters: 1287933861786812416(String)
2020-11-21 15:48:17.627 DEBUG c.j.qualityworkflow.dao.TaskRecordMapper.getById[145]  <==      Total: 1
2020-11-21 15:48:17.628 DEBUG c.j.qualityworkflow.dao.CommonMapper.getKeyToName[145]  ==>  Preparing: SELECT * FROM key_to_name 
2020-11-21 15:48:17.628 DEBUG c.j.qualityworkflow.dao.CommonMapper.getKeyToName[145]  ==> Parameters: 
2020-11-21 15:48:17.635 INFO  cn.jwis.qualityworkflow.util.EmailService[142]  dz_gyb2 email is jian.song@jwis.cn
2020-11-21 15:48:17.635 DEBUG c.j.qualityworkflow.dao.CommonMapper.getKeyToName[145]  ==>  Preparing: SELECT * FROM key_to_name 
2020-11-21 15:48:17.635 DEBUG c.j.qualityworkflow.dao.CommonMapper.getKeyToName[145]  ==> Parameters: 
2020-11-21 15:48:17.636 DEBUG c.j.qualityworkflow.dao.CommonMapper.getKeyToName[145]  <==      Total: 8
2020-11-21 15:48:17.637 INFO  cn.jwis.qualityworkflow.util.EmailService[71]  haomiao.liu@jwis.cn send a Mail to test@jwis.cn
2020-11-21 15:48:17.645 DEBUG c.j.qualityworkflow.dao.CommonMapper.getKeyToName[145]  <==      Total: 8
2020-11-21 15:48:17.645 DEBUG c.j.q.m.l.d.L.getLineQualifyDetailednessInfo[145]  ==>  Preparing: SELECT q.*,ar.processInstanceId ,ar.taskId,ar.assignee,ar.taskState,ar.taskName FROM line_qualify_info q,(SELECT workflow_business_id, process_instance_id as processInstanceId,task_id as taskId,assignee,task_state as taskState,task_name taskName FROM task_record WHERE task_id=?) ar where q.id=ar.workflow_business_id 
2020-11-21 15:48:17.645 DEBUG c.j.q.m.l.d.L.getLineQualifyDetailednessInfo[145]  ==> Parameters: 5506556(String)
2020-11-21 15:48:17.657 DEBUG c.j.q.m.l.d.L.getLineQualifyDetailednessInfo[145]  <==      Total: 1
2020-11-21 15:48:17.658 INFO  cn.jwis.qualityworkflow.util.EmailService[69]  haomiao.liu@jwis.cn send a Mail to test@jwis.cn and make a copy for [jian.song@jwis.cn]
2020-11-21 15:48:18.287 ERROR o.s.s.support.TaskUtils$LoggingErrorHandler[96] org.springframework.mail.MailSendException: Failed messages: javax.mail.SendFailedException: Invalid Addresses;
  nested exception is:
	com.sun.mail.smtp.SMTPAddressFailedException: 554 RCPT (kelvin@jwis.cn) dosn't exist

	at org.springframework.mail.javamail.JavaMailSenderImpl.doSend(JavaMailSenderImpl.java:488)
	at org.springframework.mail.javamail.JavaMailSenderImpl.send(JavaMailSenderImpl.java:359)
	at org.springframework.mail.javamail.JavaMailSenderImpl.send(JavaMailSenderImpl.java:354)
	at cn.jwis.qualityworkflow.util.EmailService.sendHtmlMail(EmailService.java:76)
	at cn.jwis.qualityworkflow.modules.qims.service.imp.QimsSendMailServiceImpl.sendEmailTohandler(QimsSendMailServiceImpl.java:161)
	at cn.jwis.qualityworkflow.modules.ipqc.service.imp.AuditQualityProblemServiceImpl.qimsSendMail(AuditQualityProblemServiceImpl.java:321)
	at cn.jwis.qualityworkflow.modules.ipqc.service.imp.AuditQualityProblemServiceImpl$$FastClassBySpringCGLIB$$15ff325f.invoke(<generated>)
	at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:684)
	at cn.jwis.qualityworkflow.modules.ipqc.service.imp.AuditQualityProblemServiceImpl$$EnhancerBySpringCGLIB$$ce0d09f5.qimsSendMail(<generated>)
	at cn.jwis.qualityworkflow.modules.ipqc.job.ipqcMailJob.qimsSendMail(ipqcMailJob.java:28)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.springframework.scheduling.support.ScheduledMethodRunnable.run(ScheduledMethodRunnable.java:84)
	at org.springframework.scheduling.support.DelegatingErrorHandlingRunnable.run(DelegatingErrorHandlingRunnable.java:54)
	at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:511)
	at java.util.concurrent.FutureTask.runAndReset(FutureTask.java:308)
	at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.access$301(ScheduledThreadPoolExecutor.java:180)
	at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:294)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)
 Unexpected error occurred in scheduled task.
2020-11-21 15:48:18.363 ERROR o.s.s.support.TaskUtils$LoggingErrorHandler[96] org.springframework.mail.MailSendException: Failed messages: javax.mail.SendFailedException: Invalid Addresses;
  nested exception is:
	com.sun.mail.smtp.SMTPAddressFailedException: 554 RCPT (test@jwis.cn) dosn't exist

	at org.springframework.mail.javamail.JavaMailSenderImpl.doSend(JavaMailSenderImpl.java:488)
	at org.springframework.mail.javamail.JavaMailSenderImpl.send(JavaMailSenderImpl.java:359)
	at org.springframework.mail.javamail.JavaMailSenderImpl.send(JavaMailSenderImpl.java:354)
	at cn.jwis.qualityworkflow.util.EmailService.sendHtmlMail(EmailService.java:76)
	at cn.jwis.qualityworkflow.modules.qims.service.imp.QimsSendMailServiceImpl.sendEmailTohandler(QimsSendMailServiceImpl.java:161)
	at cn.jwis.qualityworkflow.modules.qims.service.imp.QimsSendMailServiceImpl.qimsSendMail(QimsSendMailServiceImpl.java:90)
	at cn.jwis.qualityworkflow.modules.qims.job.qimsMailJob.qimsSendMail(qimsMailJob.java:49)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.springframework.scheduling.support.ScheduledMethodRunnable.run(ScheduledMethodRunnable.java:84)
	at org.springframework.scheduling.support.DelegatingErrorHandlingRunnable.run(DelegatingErrorHandlingRunnable.java:54)
	at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:511)
	at java.util.concurrent.FutureTask.runAndReset(FutureTask.java:308)
	at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.access$301(ScheduledThreadPoolExecutor.java:180)
	at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:294)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)
 Unexpected error occurred in scheduled task.
2020-11-21 15:48:18.404 ERROR o.s.s.support.TaskUtils$LoggingErrorHandler[96] org.springframework.mail.MailSendException: Failed messages: javax.mail.SendFailedException: Invalid Addresses;
  nested exception is:
	com.sun.mail.smtp.SMTPAddressFailedException: 554 RCPT (test@jwis.cn) dosn't exist
;
  nested exception is:
	com.sun.mail.smtp.SMTPAddressFailedException: 554 RCPT (jian.song@jwis.cn) dosn't exist

	at org.springframework.mail.javamail.JavaMailSenderImpl.doSend(JavaMailSenderImpl.java:488)
	at org.springframework.mail.javamail.JavaMailSenderImpl.send(JavaMailSenderImpl.java:359)
	at org.springframework.mail.javamail.JavaMailSenderImpl.send(JavaMailSenderImpl.java:354)
	at cn.jwis.qualityworkflow.util.EmailService.sendHtmlMail(EmailService.java:76)
	at cn.jwis.qualityworkflow.modules.linequalify.service.imp.LineQualifyServiceImpl.sendEmailTohandler(LineQualifyServiceImpl.java:617)
	at cn.jwis.qualityworkflow.modules.linequalify.service.imp.LineQualifyServiceImpl.sendOverTimeMail(LineQualifyServiceImpl.java:594)
	at cn.jwis.qualityworkflow.modules.linequalify.service.imp.LineQualifyServiceImpl$$FastClassBySpringCGLIB$$4ca6f597.invoke(<generated>)
	at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:684)
	at cn.jwis.qualityworkflow.modules.linequalify.service.imp.LineQualifyServiceImpl$$EnhancerBySpringCGLIB$$157c169d.sendOverTimeMail(<generated>)
	at cn.jwis.qualityworkflow.modules.linequalify.job.LineQualifyMailJob.sendOverTimeMail(LineQualifyMailJob.java:30)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.springframework.scheduling.support.ScheduledMethodRunnable.run(ScheduledMethodRunnable.java:84)
	at org.springframework.scheduling.support.DelegatingErrorHandlingRunnable.run(DelegatingErrorHandlingRunnable.java:54)
	at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:511)
	at java.util.concurrent.FutureTask.runAndReset(FutureTask.java:308)
	at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.access$301(ScheduledThreadPoolExecutor.java:180)
	at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:294)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)
 Unexpected error occurred in scheduled task.
2020-11-21 15:50:00.018 INFO  c.j.q.m.t.T.TraceabilityMachineTimerManager[50]  设备定时任务开启
2020-11-21 15:50:00.070 DEBUG c.j.q.m.t.d.T.getTraceabilityMachineList[145]  ==>  Preparing: select table_name from traceability_machine_data group by table_name 
2020-11-21 15:50:00.070 DEBUG c.j.q.m.t.d.T.getTraceabilityMachineList[145]  ==> Parameters: 
2020-11-21 15:50:00.079 DEBUG c.j.q.m.t.d.T.getTraceabilityMachineList[145]  <==      Total: 5
2020-11-21 15:50:00.079 DEBUG c.j.q.m.t.d.T.getTraceabilityMachineFiledName[145]  ==>  Preparing: select filed_name from traceability_machine_data where table_name=? 
2020-11-21 15:50:00.080 DEBUG c.j.q.m.t.d.T.getTraceabilityMachineFiledName[145]  ==> Parameters: dust_free_shed(String)
2020-11-21 15:50:00.088 DEBUG c.j.q.m.t.d.T.getTraceabilityMachineFiledName[145]  <==      Total: 11
2020-11-21 15:50:00.088 DEBUG c.j.q.m.t.d.T.getMaxCreateTime[145]  ==>  Preparing: select max(createtime) from dust_free_shed 
2020-11-21 15:50:00.088 DEBUG c.j.q.m.t.d.T.getMaxCreateTime[145]  ==> Parameters: 
2020-11-21 15:50:00.151 DEBUG c.j.q.m.t.d.T.getMaxCreateTime[145]  <==      Total: 1
2020-11-21 15:50:00.156 ERROR o.s.s.support.TaskUtils$LoggingErrorHandler[96] java.lang.NullPointerException: null
	at cn.jwis.qualityworkflow.modules.traceablity.TimerManager.TraceabilityMachineTimerManager.getLenovoMachineData(TraceabilityMachineTimerManager.java:105)
	at cn.jwis.qualityworkflow.modules.traceablity.TimerManager.TraceabilityMachineTimerManager.MachineTimerManager(TraceabilityMachineTimerManager.java:57)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.springframework.scheduling.support.ScheduledMethodRunnable.run(ScheduledMethodRunnable.java:84)
	at org.springframework.scheduling.support.DelegatingErrorHandlingRunnable.run(DelegatingErrorHandlingRunnable.java:54)
	at org.springframework.scheduling.concurrent.ReschedulingRunnable.run(ReschedulingRunnable.java:93)
	at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:511)
	at java.util.concurrent.FutureTask.run(FutureTask.java:266)
	at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.access$201(ScheduledThreadPoolExecutor.java:180)
	at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:293)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)
 Unexpected error occurred in scheduled task.
2020-11-21 15:53:12.012 INFO  c.j.qualityworkflow.modules.ipqc.job.ipqcMailJob[27]  查询IPQC超时任务
2020-11-21 15:53:12.022 DEBUG c.j.q.dao.TaskRecordMapper.getOverTimeTaskRecord[145]  ==>  Preparing: SELECT *, HOUR(timediff(now() , create_date)) overTimeNum FROM task_record WHERE template_key = ? AND task_state IS NULL AND task_name = ? AND HOUR(timediff(now() , create_date)) >= ? 
2020-11-21 15:53:12.022 DEBUG c.j.q.m.qims.dao.BlackDashBoardMapper.getHoliday[145]  ==>  Preparing: SELECT DISTINCT date FROM holiday_maintenance WHERE type = '节假日' 
2020-11-21 15:53:12.022 DEBUG c.j.q.dao.TaskRecordMapper.getOverTimeTaskRecord[145]  ==>  Preparing: SELECT *, HOUR(timediff(now() , create_date)) overTimeNum FROM task_record WHERE template_key = ? AND task_state IS NULL AND task_name = ? AND HOUR(timediff(now() , create_date)) >= ? 
2020-11-21 15:53:12.023 DEBUG c.j.q.dao.TaskRecordMapper.getOverTimeTaskRecord2[145]  ==>  Preparing: SELECT *, HOUR(timediff(now() , create_date)) overTimeNum FROM task_record WHERE template_key = ? AND task_state IS NULL AND HOUR(timediff(now() , create_date)) >= ? 
2020-11-21 15:53:12.023 DEBUG c.j.q.m.qims.dao.BlackDashBoardMapper.getHoliday[145]  ==> Parameters: 
2020-11-21 15:53:12.023 DEBUG c.j.q.dao.TaskRecordMapper.getOverTimeTaskRecord2[145]  ==> Parameters: IPQCAuditProcess(String), 24(Integer)
2020-11-21 15:53:12.023 DEBUG c.j.q.dao.TaskRecordMapper.getOverTimeTaskRecord[145]  ==> Parameters: Line Qualify(String), 文件收集(String), 2(Integer)
2020-11-21 15:53:12.023 DEBUG c.j.q.dao.TaskRecordMapper.getOverTimeTaskRecord[145]  ==> Parameters: FactoryAuditProcess(String), 部门审核(String), 24(Integer)
2020-11-21 15:53:12.032 DEBUG c.j.q.m.qims.dao.BlackDashBoardMapper.getHoliday[145]  <==      Total: 6
2020-11-21 15:53:12.033 DEBUG c.j.q.m.q.d.B.getWorkOvertimeList[145]  ==>  Preparing: SELECT DISTINCT date FROM holiday_maintenance WHERE type = '补班' 
2020-11-21 15:53:12.033 DEBUG c.j.q.m.q.d.B.getWorkOvertimeList[145]  ==> Parameters: 
2020-11-21 15:53:12.035 DEBUG c.j.q.dao.TaskRecordMapper.getOverTimeTaskRecord[145]  <==      Total: 3
2020-11-21 15:53:12.035 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==>  Preparing: select time from email_history_info where id =? 
2020-11-21 15:53:12.035 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==> Parameters: 1295192540470837248(String)
2020-11-21 15:53:12.036 DEBUG c.j.q.dao.TaskRecordMapper.getOverTimeTaskRecord[145]  <==      Total: 8
2020-11-21 15:53:12.037 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==>  Preparing: select time from email_history_info where id =? 
2020-11-21 15:53:12.037 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==> Parameters: 1294123945645047808(String)
2020-11-21 15:53:12.044 DEBUG c.j.q.m.q.d.B.getWorkOvertimeList[145]  <==      Total: 4
2020-11-21 15:53:12.044 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getLtStandard[145]  ==>  Preparing: select * from qims_lt_standard_info 
2020-11-21 15:53:12.044 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getLtStandard[145]  ==> Parameters: 
2020-11-21 15:53:12.044 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  <==      Total: 1
2020-11-21 15:53:12.045 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==>  Preparing: select time from email_history_info where id =? 
2020-11-21 15:53:12.045 DEBUG c.j.q.dao.TaskRecordMapper.getOverTimeTaskRecord2[145]  <==      Total: 18
2020-11-21 15:53:12.045 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==> Parameters: 1295192619508301824(String)
2020-11-21 15:53:12.045 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==>  Preparing: select time from email_history_info where id =? 
2020-11-21 15:53:12.046 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  <==      Total: 1
2020-11-21 15:53:12.046 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==> Parameters: 1303868320843300864(String)
2020-11-21 15:53:12.053 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  <==      Total: 1
2020-11-21 15:53:12.053 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  <==      Total: 1
2020-11-21 15:53:12.053 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==>  Preparing: select time from email_history_info where id =? 
2020-11-21 15:53:12.053 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==>  Preparing: select time from email_history_info where id =? 
2020-11-21 15:53:12.053 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==> Parameters: 1303868347422605312(String)
2020-11-21 15:53:12.053 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==> Parameters: 1299240419787276288(String)
2020-11-21 15:53:12.054 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getLtStandard[145]  <==      Total: 8
2020-11-21 15:53:12.054 INFO  c.j.qualityworkflow.modules.qims.job.qimsMailJob[47]  查询黑色问题超过LT的信息
2020-11-21 15:53:12.054 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getBlackList[145]  ==>  Preparing: select * from task_record where task_name in('初步原因分析','根本原因分析','根本原因审核') and task_state is null and template_key='QIMSBLACK' 
2020-11-21 15:53:12.054 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getBlackList[145]  ==> Parameters: 
2020-11-21 15:53:12.063 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  <==      Total: 1
2020-11-21 15:53:12.063 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  <==      Total: 1
2020-11-21 15:53:12.063 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==>  Preparing: select time from email_history_info where id =? 
2020-11-21 15:53:12.063 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==> Parameters: 1303868393815801856(String)
2020-11-21 15:53:12.067 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getBlackList[145]  <==      Total: 16
2020-11-21 15:53:12.069 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==>  Preparing: select time from email_history_info where id =? 
2020-11-21 15:53:12.069 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==> Parameters: 1286902446076985344(String)
2020-11-21 15:53:12.073 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  <==      Total: 1
2020-11-21 15:53:12.073 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==>  Preparing: select time from email_history_info where id =? 
2020-11-21 15:53:12.073 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==> Parameters: 1303937438065885184(String)
2020-11-21 15:53:12.078 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  <==      Total: 1
2020-11-21 15:53:12.080 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  <==      Total: 1
2020-11-21 15:53:12.081 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==>  Preparing: select time from email_history_info where id =? 
2020-11-21 15:53:12.081 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==> Parameters: 1303939538460082176(String)
2020-11-21 15:53:12.088 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  <==      Total: 1
2020-11-21 15:53:12.088 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==>  Preparing: select time from email_history_info where id =? 
2020-11-21 15:53:12.088 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==> Parameters: 1303939599889858560(String)
2020-11-21 15:53:12.097 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  <==      Total: 1
2020-11-21 15:53:12.097 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==>  Preparing: select time from email_history_info where id =? 
2020-11-21 15:53:12.097 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==> Parameters: 1306059696263659520(String)
2020-11-21 15:53:12.105 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  <==      Total: 1
2020-11-21 15:53:12.106 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==>  Preparing: select time from email_history_info where id =? 
2020-11-21 15:53:12.106 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==> Parameters: 1306155886347026432(String)
2020-11-21 15:53:12.114 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  <==      Total: 1
2020-11-21 15:53:12.115 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==>  Preparing: select time from email_history_info where id =? 
2020-11-21 15:53:12.115 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==> Parameters: 1306201167000240128(String)
2020-11-21 15:53:12.124 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  <==      Total: 1
2020-11-21 15:53:12.125 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==>  Preparing: select time from email_history_info where id =? 
2020-11-21 15:53:12.125 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==> Parameters: 1308013106458263552(String)
2020-11-21 15:53:12.131 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  <==      Total: 0
2020-11-21 15:53:17.074 DEBUG cn.jwis.qualityworkflow.util.EmailService[144]  get handler mail from http://gateway.dev.jwis.io/platform/sys/user/internal-read?name=qualityadmin happen error cause:I/O error on GET request for "http://gateway.dev.jwis.io/platform/sys/user/internal-read": connect timed out; nested exception is java.net.SocketTimeoutException: connect timed out
2020-11-21 15:53:17.074 DEBUG cn.jwis.qualityworkflow.util.EmailService[144]  get handler mail from http://gateway.dev.jwis.io/platform/sys/user/internal-read?name=dz_gyb1 happen error cause:I/O error on GET request for "http://gateway.dev.jwis.io/platform/sys/user/internal-read": connect timed out; nested exception is java.net.SocketTimeoutException: connect timed out
2020-11-21 15:53:17.080 DEBUG cn.jwis.qualityworkflow.util.EmailService[144]  get handler mail from http://gateway.dev.jwis.io/platform/sys/user/internal-read?name=hualanlan happen error cause:I/O error on GET request for "http://gateway.dev.jwis.io/platform/sys/user/internal-read": connect timed out; nested exception is java.net.SocketTimeoutException: connect timed out
2020-11-21 15:53:17.082 DEBUG cn.jwis.qualityworkflow.dao.UserMapper.getSuperior[145]  ==>  Preparing: select superior from department_mapping where user_account = ? and type = ? limit 0,1 
2020-11-21 15:53:17.083 DEBUG cn.jwis.qualityworkflow.dao.UserMapper.getSuperior[145]  ==> Parameters: qualityadmin(String), COMMON(String)
2020-11-21 15:53:17.083 DEBUG cn.jwis.qualityworkflow.dao.UserMapper.getSuperior[145]  ==>  Preparing: select superior from department_mapping where user_account = ? and type = ? limit 0,1 
2020-11-21 15:53:17.083 DEBUG cn.jwis.qualityworkflow.dao.UserMapper.getSuperior[145]  ==> Parameters: dz_gyb1(String), COMMON(String)
2020-11-21 15:53:17.087 DEBUG cn.jwis.qualityworkflow.dao.UserMapper.getSuperior[145]  ==>  Preparing: select superior from department_mapping where user_account = ? and type = ? limit 0,1 
2020-11-21 15:53:17.087 DEBUG cn.jwis.qualityworkflow.dao.UserMapper.getSuperior[145]  ==> Parameters: hualanlan(String), QIMS(String)
2020-11-21 15:53:17.093 DEBUG cn.jwis.qualityworkflow.dao.UserMapper.getSuperior[145]  <==      Total: 1
2020-11-21 15:53:17.093 DEBUG cn.jwis.qualityworkflow.dao.UserMapper.getSuperior[145]  <==      Total: 1
2020-11-21 15:53:17.097 DEBUG cn.jwis.qualityworkflow.dao.UserMapper.getSuperior[145]  <==      Total: 1
2020-11-21 15:53:17.098 DEBUG c.j.q.dao.UserMapper.getSuperiorManagerByUser[145]  ==>  Preparing: select superior_manager from department_mapping where user_account = ? and type = ? limit 0,1 
2020-11-21 15:53:17.098 DEBUG c.j.q.dao.UserMapper.getSuperiorManagerByUser[145]  ==> Parameters: hualanlan(String), QIMS(String)
2020-11-21 15:53:17.106 DEBUG c.j.q.dao.UserMapper.getSuperiorManagerByUser[145]  <==      Total: 1
2020-11-21 15:53:17.133 DEBUG cn.jwis.qualityworkflow.util.EmailService[144]  get handler mail from http://gateway.dev.jwis.io/platform/sys/user/internal-read?name=kiween happen error cause:I/O error on GET request for "http://gateway.dev.jwis.io/platform/sys/user/internal-read": connect timed out; nested exception is java.net.SocketTimeoutException: connect timed out
2020-11-21 15:53:17.138 INFO  cn.jwis.qualityworkflow.util.EmailService[142]  qualityadmin email is 
2020-11-21 15:53:17.138 INFO  cn.jwis.qualityworkflow.util.EmailService[142]  dz_gyb2 email is jian.song@jwis.cn
2020-11-21 15:53:17.138 INFO  c.j.q.m.factoryaudit.job.AuditQuestionMailJob[31]  邮件下发结束
2020-11-21 15:53:17.138 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==>  Preparing: select time from email_history_info where id =? 
2020-11-21 15:53:17.138 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==> Parameters: 1294123945682796544(String)
2020-11-21 15:53:17.140 INFO  cn.jwis.qualityworkflow.util.EmailService[142]  workflow3 email is null
2020-11-21 15:53:17.143 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==>  Preparing: select time from email_history_info where id =? 
2020-11-21 15:53:17.143 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==> Parameters: 1308013110702899200(String)
2020-11-21 15:53:17.150 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  <==      Total: 1
2020-11-21 15:53:17.151 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  <==      Total: 1
2020-11-21 15:53:17.151 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==>  Preparing: select time from email_history_info where id =? 
2020-11-21 15:53:17.151 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==> Parameters: 1294123945716350976(String)
2020-11-21 15:53:17.159 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  <==      Total: 1
2020-11-21 15:53:17.166 INFO  cn.jwis.qualityworkflow.util.EmailService[142]  zhouxianling email is 
2020-11-21 15:53:17.168 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==>  Preparing: select time from email_history_info where id =? 
2020-11-21 15:53:17.168 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==> Parameters: 1286904434760089600(String)
2020-11-21 15:53:17.173 INFO  cn.jwis.qualityworkflow.util.EmailService[142]  qualityadmin email is 
2020-11-21 15:53:17.174 DEBUG cn.jwis.qualityworkflow.dao.UserMapper.getSuperior[145]  ==>  Preparing: select superior from department_mapping where user_account = ? and type = ? limit 0,1 
2020-11-21 15:53:17.174 DEBUG cn.jwis.qualityworkflow.dao.UserMapper.getSuperior[145]  ==> Parameters: qualityadmin(String), COMMON(String)
2020-11-21 15:53:17.176 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  <==      Total: 1
2020-11-21 15:53:17.178 INFO  cn.jwis.qualityworkflow.util.EmailService[142]  xujinbiao email is 
2020-11-21 15:53:17.179 DEBUG cn.jwis.qualityworkflow.dao.UserMapper.getSuperior[145]  ==>  Preparing: select superior from department_mapping where user_account = ? and type = ? limit 0,1 
2020-11-21 15:53:17.180 DEBUG cn.jwis.qualityworkflow.dao.UserMapper.getSuperior[145]  ==> Parameters: xujinbiao(String), COMMON(String)
2020-11-21 15:53:17.184 DEBUG cn.jwis.qualityworkflow.dao.UserMapper.getSuperior[145]  <==      Total: 1
2020-11-21 15:53:17.190 DEBUG cn.jwis.qualityworkflow.dao.UserMapper.getSuperior[145]  <==      Total: 1
2020-11-21 15:53:17.206 INFO  cn.jwis.qualityworkflow.util.EmailService[142]  gupp2 email is null
2020-11-21 15:53:17.206 DEBUG cn.jwis.qualityworkflow.dao.UserMapper.getSuperior[145]  ==>  Preparing: select superior from department_mapping where user_account = ? and type = ? limit 0,1 
2020-11-21 15:53:17.206 DEBUG cn.jwis.qualityworkflow.dao.UserMapper.getSuperior[145]  ==> Parameters: gupp2(String), QIMS(String)
2020-11-21 15:53:17.207 INFO  cn.jwis.qualityworkflow.util.EmailService[142]  qualityadmin email is 
2020-11-21 15:53:17.207 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==>  Preparing: select time from email_history_info where id =? 
2020-11-21 15:53:17.207 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==> Parameters: 1308013113928318976(String)
2020-11-21 15:53:17.211 INFO  cn.jwis.qualityworkflow.util.EmailService[142]  hualanlan email is test@jwis.cn
2020-11-21 15:53:17.211 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==>  Preparing: select time from email_history_info where id =? 
2020-11-21 15:53:17.211 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==> Parameters: 1295193219738370048(String)
2020-11-21 15:53:17.218 DEBUG cn.jwis.qualityworkflow.dao.UserMapper.getSuperior[145]  <==      Total: 0
2020-11-21 15:53:17.218 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  <==      Total: 1
2020-11-21 15:53:17.218 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  <==      Total: 1
2020-11-21 15:53:17.218 DEBUG c.j.q.dao.UserMapper.getSuperiorManagerByUser[145]  ==>  Preparing: select superior_manager from department_mapping where user_account = ? and type = ? limit 0,1 
2020-11-21 15:53:17.218 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==>  Preparing: select time from email_history_info where id =? 
2020-11-21 15:53:17.219 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==> Parameters: 1295193220166189056(String)
2020-11-21 15:53:17.219 DEBUG c.j.q.dao.UserMapper.getSuperiorManagerByUser[145]  ==> Parameters: gupp2(String), QIMS(String)
2020-11-21 15:53:17.227 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  <==      Total: 1
2020-11-21 15:53:17.229 DEBUG c.j.q.dao.UserMapper.getSuperiorManagerByUser[145]  <==      Total: 0
2020-11-21 15:53:17.231 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==>  Preparing: select time from email_history_info where id =? 
2020-11-21 15:53:17.231 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==> Parameters: 1286916730144161792(String)
2020-11-21 15:53:17.241 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  <==      Total: 1
2020-11-21 15:53:17.243 INFO  cn.jwis.qualityworkflow.util.EmailService[142]  qualityadmin email is 
2020-11-21 15:53:17.243 DEBUG cn.jwis.qualityworkflow.dao.UserMapper.getSuperior[145]  ==>  Preparing: select superior from department_mapping where user_account = ? and type = ? limit 0,1 
2020-11-21 15:53:17.244 DEBUG cn.jwis.qualityworkflow.dao.UserMapper.getSuperior[145]  ==> Parameters: qualityadmin(String), COMMON(String)
2020-11-21 15:53:17.247 INFO  cn.jwis.qualityworkflow.util.EmailService[142]  xujinbiao email is 
2020-11-21 15:53:17.248 DEBUG cn.jwis.qualityworkflow.dao.UserMapper.getSuperior[145]  ==>  Preparing: select superior from department_mapping where user_account = ? and type = ? limit 0,1 
2020-11-21 15:53:17.248 DEBUG cn.jwis.qualityworkflow.dao.UserMapper.getSuperior[145]  ==> Parameters: xujinbiao(String), COMMON(String)
2020-11-21 15:53:17.255 DEBUG cn.jwis.qualityworkflow.dao.UserMapper.getSuperior[145]  <==      Total: 1
2020-11-21 15:53:17.255 DEBUG cn.jwis.qualityworkflow.dao.UserMapper.getSuperior[145]  <==      Total: 1
2020-11-21 15:53:17.287 INFO  cn.jwis.qualityworkflow.util.EmailService[142]  gupp2 email is null
2020-11-21 15:53:17.287 DEBUG cn.jwis.qualityworkflow.dao.UserMapper.getSuperior[145]  ==>  Preparing: select superior from department_mapping where user_account = ? and type = ? limit 0,1 
2020-11-21 15:53:17.287 DEBUG cn.jwis.qualityworkflow.dao.UserMapper.getSuperior[145]  ==> Parameters: gupp2(String), QIMS(String)
2020-11-21 15:53:17.291 INFO  cn.jwis.qualityworkflow.util.EmailService[142]  hualanlan email is test@jwis.cn
2020-11-21 15:53:17.292 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==>  Preparing: select time from email_history_info where id =? 
2020-11-21 15:53:17.292 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==> Parameters: 1295193707351375872(String)
2020-11-21 15:53:17.296 INFO  cn.jwis.qualityworkflow.util.EmailService[142]  qualityadmin email is 
2020-11-21 15:53:17.296 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==>  Preparing: select time from email_history_info where id =? 
2020-11-21 15:53:17.296 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==> Parameters: 1308013116927246336(String)
2020-11-21 15:53:17.300 DEBUG cn.jwis.qualityworkflow.dao.UserMapper.getSuperior[145]  <==      Total: 0
2020-11-21 15:53:17.300 DEBUG c.j.q.dao.UserMapper.getSuperiorManagerByUser[145]  ==>  Preparing: select superior_manager from department_mapping where user_account = ? and type = ? limit 0,1 
2020-11-21 15:53:17.300 DEBUG c.j.q.dao.UserMapper.getSuperiorManagerByUser[145]  ==> Parameters: gupp2(String), QIMS(String)
2020-11-21 15:53:17.305 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  <==      Total: 1
2020-11-21 15:53:17.305 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  <==      Total: 0
2020-11-21 15:53:17.306 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==>  Preparing: select time from email_history_info where id =? 
2020-11-21 15:53:17.306 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==> Parameters: 1295193707376541696(String)
2020-11-21 15:53:17.309 DEBUG c.j.q.dao.UserMapper.getSuperiorManagerByUser[145]  <==      Total: 0
2020-11-21 15:53:17.310 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==>  Preparing: select time from email_history_info where id =? 
2020-11-21 15:53:17.311 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==> Parameters: 1287933861786812416(String)
2020-11-21 15:53:17.315 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  <==      Total: 1
2020-11-21 15:53:17.319 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  <==      Total: 1
2020-11-21 15:53:17.342 INFO  cn.jwis.qualityworkflow.util.EmailService[142]  xujinbiao email is 
2020-11-21 15:53:17.342 INFO  cn.jwis.qualityworkflow.util.EmailService[142]  kiween email is 
2020-11-21 15:53:17.342 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==>  Preparing: select time from email_history_info where id =? 
2020-11-21 15:53:17.342 DEBUG cn.jwis.qualityworkflow.dao.UserMapper.getSuperior[145]  ==>  Preparing: select superior from department_mapping where user_account = ? and type = ? limit 0,1 
2020-11-21 15:53:17.342 INFO  cn.jwis.qualityworkflow.util.EmailService[142]  hualanlan email is test@jwis.cn
2020-11-21 15:53:17.342 DEBUG cn.jwis.qualityworkflow.dao.UserMapper.getSuperior[145]  ==> Parameters: xujinbiao(String), COMMON(String)
2020-11-21 15:53:17.342 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==> Parameters: 1309046852858937344(String)
2020-11-21 15:53:17.343 DEBUG cn.jwis.qualityworkflow.dao.UserMapper.getSuperior[145]  ==>  Preparing: select superior from department_mapping where user_account = ? and type = ? limit 0,1 
2020-11-21 15:53:17.343 DEBUG cn.jwis.qualityworkflow.dao.UserMapper.getSuperior[145]  ==> Parameters: hualanlan(String), QIMS(String)
2020-11-21 15:53:17.352 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  <==      Total: 0
2020-11-21 15:53:17.354 DEBUG cn.jwis.qualityworkflow.dao.UserMapper.getSuperior[145]  <==      Total: 1
2020-11-21 15:53:17.354 DEBUG cn.jwis.qualityworkflow.dao.UserMapper.getSuperior[145]  <==      Total: 1
2020-11-21 15:53:17.355 DEBUG c.j.q.dao.UserMapper.getSuperiorManagerByUser[145]  ==>  Preparing: select superior_manager from department_mapping where user_account = ? and type = ? limit 0,1 
2020-11-21 15:53:17.356 DEBUG c.j.q.dao.UserMapper.getSuperiorManagerByUser[145]  ==> Parameters: hualanlan(String), QIMS(String)
2020-11-21 15:53:17.370 DEBUG c.j.q.dao.UserMapper.getSuperiorManagerByUser[145]  <==      Total: 1
2020-11-21 15:53:17.388 INFO  cn.jwis.qualityworkflow.util.EmailService[142]  hualanlan email is test@jwis.cn
2020-11-21 15:53:17.388 INFO  cn.jwis.qualityworkflow.util.EmailService[142]  codisan email is kelvin@jwis.cn
2020-11-21 15:53:17.389 DEBUG c.j.qualityworkflow.dao.CommonMapper.getKeyToName[145]  ==>  Preparing: SELECT * FROM key_to_name 
2020-11-21 15:53:17.389 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==>  Preparing: select time from email_history_info where id =? 
2020-11-21 15:53:17.389 DEBUG c.j.qualityworkflow.dao.CommonMapper.getKeyToName[145]  ==> Parameters: 
2020-11-21 15:53:17.389 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==> Parameters: 1315248790789160960(String)
2020-11-21 15:53:17.408 INFO  cn.jwis.qualityworkflow.util.EmailService[142]  workflow3 email is null
2020-11-21 15:53:17.410 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  <==      Total: 1
2020-11-21 15:53:17.410 DEBUG c.j.qualityworkflow.dao.CommonMapper.getKeyToName[145]  <==      Total: 8
2020-11-21 15:53:17.412 INFO  cn.jwis.qualityworkflow.util.EmailService[74]  haomiao.liu@jwis.cn send a Mail to kelvin@jwis.cn fail, because null
2020-11-21 15:53:17.431 INFO  cn.jwis.qualityworkflow.util.EmailService[142]  zhouxianling email is 
2020-11-21 15:53:17.432 DEBUG c.j.qualityworkflow.dao.TaskRecordMapper.getById[145]  ==>  Preparing: SELECT * from task_record WHERE id = ? 
2020-11-21 15:53:17.432 DEBUG c.j.qualityworkflow.dao.TaskRecordMapper.getById[145]  ==> Parameters: 1287933861786812416(String)
2020-11-21 15:53:17.436 INFO  cn.jwis.qualityworkflow.util.EmailService[142]  dz_gyb1 email is test@jwis.cn
2020-11-21 15:53:17.436 DEBUG cn.jwis.qualityworkflow.dao.UserMapper.getSuperior[145]  ==>  Preparing: select superior from department_mapping where user_account = ? and type = ? limit 0,1 
2020-11-21 15:53:17.436 DEBUG cn.jwis.qualityworkflow.dao.UserMapper.getSuperior[145]  ==> Parameters: dz_gyb1(String), COMMON(String)
2020-11-21 15:53:17.443 DEBUG cn.jwis.qualityworkflow.dao.UserMapper.getSuperior[145]  <==      Total: 1
2020-11-21 15:53:17.443 DEBUG c.j.qualityworkflow.dao.TaskRecordMapper.getById[145]  <==      Total: 1
2020-11-21 15:53:17.444 DEBUG c.j.qualityworkflow.dao.CommonMapper.getKeyToName[145]  ==>  Preparing: SELECT * FROM key_to_name 
2020-11-21 15:53:17.444 DEBUG c.j.qualityworkflow.dao.CommonMapper.getKeyToName[145]  ==> Parameters: 
2020-11-21 15:53:17.453 DEBUG c.j.qualityworkflow.dao.CommonMapper.getKeyToName[145]  <==      Total: 8
2020-11-21 15:53:17.454 INFO  cn.jwis.qualityworkflow.util.EmailService[71]  haomiao.liu@jwis.cn send a Mail to test@jwis.cn
2020-11-21 15:53:17.465 INFO  cn.jwis.qualityworkflow.util.EmailService[142]  dz_gyb2 email is jian.song@jwis.cn
2020-11-21 15:53:17.465 DEBUG c.j.qualityworkflow.dao.CommonMapper.getKeyToName[145]  ==>  Preparing: SELECT * FROM key_to_name 
2020-11-21 15:53:17.465 DEBUG c.j.qualityworkflow.dao.CommonMapper.getKeyToName[145]  ==> Parameters: 
2020-11-21 15:53:17.491 DEBUG c.j.qualityworkflow.dao.CommonMapper.getKeyToName[145]  <==      Total: 8
2020-11-21 15:53:17.492 DEBUG c.j.q.m.l.d.L.getLineQualifyDetailednessInfo[145]  ==>  Preparing: SELECT q.*,ar.processInstanceId ,ar.taskId,ar.assignee,ar.taskState,ar.taskName FROM line_qualify_info q,(SELECT workflow_business_id, process_instance_id as processInstanceId,task_id as taskId,assignee,task_state as taskState,task_name taskName FROM task_record WHERE task_id=?) ar where q.id=ar.workflow_business_id 
2020-11-21 15:53:17.492 DEBUG c.j.q.m.l.d.L.getLineQualifyDetailednessInfo[145]  ==> Parameters: 5506556(String)
2020-11-21 15:53:17.503 DEBUG c.j.q.m.l.d.L.getLineQualifyDetailednessInfo[145]  <==      Total: 1
2020-11-21 15:53:17.504 INFO  cn.jwis.qualityworkflow.util.EmailService[69]  haomiao.liu@jwis.cn send a Mail to test@jwis.cn and make a copy for [jian.song@jwis.cn]
2020-11-21 15:53:18.169 ERROR o.s.s.support.TaskUtils$LoggingErrorHandler[96] org.springframework.mail.MailSendException: Failed messages: javax.mail.SendFailedException: Invalid Addresses;
  nested exception is:
	com.sun.mail.smtp.SMTPAddressFailedException: 554 RCPT (kelvin@jwis.cn) dosn't exist

	at org.springframework.mail.javamail.JavaMailSenderImpl.doSend(JavaMailSenderImpl.java:488)
	at org.springframework.mail.javamail.JavaMailSenderImpl.send(JavaMailSenderImpl.java:359)
	at org.springframework.mail.javamail.JavaMailSenderImpl.send(JavaMailSenderImpl.java:354)
	at cn.jwis.qualityworkflow.util.EmailService.sendHtmlMail(EmailService.java:76)
	at cn.jwis.qualityworkflow.modules.qims.service.imp.QimsSendMailServiceImpl.sendEmailTohandler(QimsSendMailServiceImpl.java:161)
	at cn.jwis.qualityworkflow.modules.ipqc.service.imp.AuditQualityProblemServiceImpl.qimsSendMail(AuditQualityProblemServiceImpl.java:321)
	at cn.jwis.qualityworkflow.modules.ipqc.service.imp.AuditQualityProblemServiceImpl$$FastClassBySpringCGLIB$$15ff325f.invoke(<generated>)
	at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:684)
	at cn.jwis.qualityworkflow.modules.ipqc.service.imp.AuditQualityProblemServiceImpl$$EnhancerBySpringCGLIB$$ce0d09f5.qimsSendMail(<generated>)
	at cn.jwis.qualityworkflow.modules.ipqc.job.ipqcMailJob.qimsSendMail(ipqcMailJob.java:28)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.springframework.scheduling.support.ScheduledMethodRunnable.run(ScheduledMethodRunnable.java:84)
	at org.springframework.scheduling.support.DelegatingErrorHandlingRunnable.run(DelegatingErrorHandlingRunnable.java:54)
	at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:511)
	at java.util.concurrent.FutureTask.runAndReset(FutureTask.java:308)
	at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.access$301(ScheduledThreadPoolExecutor.java:180)
	at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:294)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)
 Unexpected error occurred in scheduled task.
2020-11-21 15:53:18.276 ERROR o.s.s.support.TaskUtils$LoggingErrorHandler[96] org.springframework.mail.MailSendException: Failed messages: javax.mail.SendFailedException: Invalid Addresses;
  nested exception is:
	com.sun.mail.smtp.SMTPAddressFailedException: 554 RCPT (test@jwis.cn) dosn't exist

	at org.springframework.mail.javamail.JavaMailSenderImpl.doSend(JavaMailSenderImpl.java:488)
	at org.springframework.mail.javamail.JavaMailSenderImpl.send(JavaMailSenderImpl.java:359)
	at org.springframework.mail.javamail.JavaMailSenderImpl.send(JavaMailSenderImpl.java:354)
	at cn.jwis.qualityworkflow.util.EmailService.sendHtmlMail(EmailService.java:76)
	at cn.jwis.qualityworkflow.modules.qims.service.imp.QimsSendMailServiceImpl.sendEmailTohandler(QimsSendMailServiceImpl.java:161)
	at cn.jwis.qualityworkflow.modules.qims.service.imp.QimsSendMailServiceImpl.qimsSendMail(QimsSendMailServiceImpl.java:90)
	at cn.jwis.qualityworkflow.modules.qims.job.qimsMailJob.qimsSendMail(qimsMailJob.java:49)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.springframework.scheduling.support.ScheduledMethodRunnable.run(ScheduledMethodRunnable.java:84)
	at org.springframework.scheduling.support.DelegatingErrorHandlingRunnable.run(DelegatingErrorHandlingRunnable.java:54)
	at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:511)
	at java.util.concurrent.FutureTask.runAndReset(FutureTask.java:308)
	at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.access$301(ScheduledThreadPoolExecutor.java:180)
	at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:294)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)
 Unexpected error occurred in scheduled task.
2020-11-21 15:53:18.314 ERROR o.s.s.support.TaskUtils$LoggingErrorHandler[96] org.springframework.mail.MailSendException: Failed messages: javax.mail.SendFailedException: Invalid Addresses;
  nested exception is:
	com.sun.mail.smtp.SMTPAddressFailedException: 554 RCPT (test@jwis.cn) dosn't exist
;
  nested exception is:
	com.sun.mail.smtp.SMTPAddressFailedException: 554 RCPT (jian.song@jwis.cn) dosn't exist

	at org.springframework.mail.javamail.JavaMailSenderImpl.doSend(JavaMailSenderImpl.java:488)
	at org.springframework.mail.javamail.JavaMailSenderImpl.send(JavaMailSenderImpl.java:359)
	at org.springframework.mail.javamail.JavaMailSenderImpl.send(JavaMailSenderImpl.java:354)
	at cn.jwis.qualityworkflow.util.EmailService.sendHtmlMail(EmailService.java:76)
	at cn.jwis.qualityworkflow.modules.linequalify.service.imp.LineQualifyServiceImpl.sendEmailTohandler(LineQualifyServiceImpl.java:617)
	at cn.jwis.qualityworkflow.modules.linequalify.service.imp.LineQualifyServiceImpl.sendOverTimeMail(LineQualifyServiceImpl.java:594)
	at cn.jwis.qualityworkflow.modules.linequalify.service.imp.LineQualifyServiceImpl$$FastClassBySpringCGLIB$$4ca6f597.invoke(<generated>)
	at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:684)
	at cn.jwis.qualityworkflow.modules.linequalify.service.imp.LineQualifyServiceImpl$$EnhancerBySpringCGLIB$$157c169d.sendOverTimeMail(<generated>)
	at cn.jwis.qualityworkflow.modules.linequalify.job.LineQualifyMailJob.sendOverTimeMail(LineQualifyMailJob.java:30)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.springframework.scheduling.support.ScheduledMethodRunnable.run(ScheduledMethodRunnable.java:84)
	at org.springframework.scheduling.support.DelegatingErrorHandlingRunnable.run(DelegatingErrorHandlingRunnable.java:54)
	at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:511)
	at java.util.concurrent.FutureTask.runAndReset(FutureTask.java:308)
	at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.access$301(ScheduledThreadPoolExecutor.java:180)
	at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:294)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)
 Unexpected error occurred in scheduled task.
2020-11-21 15:55:25.581 INFO  o.a.c.core.ContainerBase.[Tomcat].[localhost].[/][173]  Initializing Spring DispatcherServlet 'dispatcherServlet'
2020-11-21 15:55:25.583 INFO  org.springframework.web.servlet.DispatcherServlet[521]  Initializing Servlet 'dispatcherServlet'
2020-11-21 15:55:25.600 INFO  org.springframework.web.servlet.DispatcherServlet[543]  Completed initialization in 17 ms
2020-11-21 15:55:25.695 DEBUG c.j.q.dao.TaskRecordMapper.getProcessAgent[145]  ==>  Preparing: select * from (SELECT * FROM task_record UNION ALL SELECT id, "PCN" template_key, processInstanceId process_instance_id, assignee, pcnId workflow_business_id, taskState task_state, state, taskName task_name, taskId task_id, null department, createDate create_date, updateDate update_date, theme, item_number, creator FROM pcn_task_record) ar where 1=1 and ((ar.create_date >= ? and ar.create_date <= ?) or (ar.update_date >= ? and ar.update_date <= ?)) and (ar.task_state is null or ar.task_state = 'OnGoing') and ar.assignee =? order by ar.create_date desc limit ?,? 
2020-11-21 15:55:25.696 DEBUG c.j.q.dao.TaskRecordMapper.getProcessAgent[145]  ==> Parameters: 2020-10-22(String), 2020-11-22(String), 2020-10-22(String), 2020-11-22(String), hualanlan(String), 0(Integer), 15(Integer)
2020-11-21 15:55:25.731 DEBUG c.j.q.dao.TaskRecordMapper.getProcessAgent[145]  <==      Total: 3
2020-11-21 15:55:25.736 DEBUG c.j.q.dao.TaskRecordMapper.getProcessAgentCount[145]  ==>  Preparing: select count(1) from (SELECT * FROM task_record UNION ALL SELECT id, "PCN" template_key, processInstanceId process_instance_id, assignee, pcnId workflow_business_id, taskState task_state, state, taskName task_name, taskId task_id, null department, createDate create_date, updateDate update_date, theme, item_number, creator FROM pcn_task_record) ar where 1=1 and ((ar.create_date >= ? and ar.create_date <= ?) or (ar.update_date >= ? and ar.update_date <= ?)) and (ar.task_state is null or ar.task_state = 'OnGoing') and ar.assignee =? 
2020-11-21 15:55:25.737 DEBUG c.j.q.dao.TaskRecordMapper.getProcessAgentCount[145]  ==> Parameters: 2020-10-22(String), 2020-11-22(String), 2020-10-22(String), 2020-11-22(String), hualanlan(String)
2020-11-21 15:55:25.796 DEBUG c.j.q.dao.TaskRecordMapper.getProcessAgentCount[145]  <==      Total: 1
2020-11-21 15:55:25.812 DEBUG c.j.q.dao.UserMapper.getDepartmentList[145]  ==>  Preparing: select DISTINCT department from department_mapping where type = ? and department is not null 
2020-11-21 15:55:25.812 DEBUG c.j.q.dao.UserMapper.getDepartmentList[145]  ==> Parameters: COMMON(String)
2020-11-21 15:55:25.825 DEBUG c.j.q.dao.UserMapper.getDepartmentList[145]  <==      Total: 21
2020-11-21 15:55:25.857 DEBUG c.j.q.dao.UserMapper.getDepartmentList[145]  ==>  Preparing: select DISTINCT department from department_mapping where type = ? and department is not null 
2020-11-21 15:55:25.858 DEBUG c.j.q.dao.UserMapper.getDepartmentList[145]  ==> Parameters: COMMON(String)
2020-11-21 15:55:25.869 DEBUG c.j.q.dao.UserMapper.getDepartmentList[145]  <==      Total: 21
2020-11-21 15:55:43.062 DEBUG c.j.q.dao.UserMapper.getUserListByDepartment[145]  ==>  Preparing: select DISTINCT user_account from department_mapping where department = ? and type = ? and user_account is not null and position is null 
2020-11-21 15:55:43.064 DEBUG c.j.q.dao.UserMapper.getUserListByDepartment[145]  ==> Parameters: SMT ENG(String), COMMON(String)
2020-11-21 15:55:43.072 DEBUG c.j.q.dao.UserMapper.getUserListByDepartment[145]  <==      Total: 1
2020-11-21 15:55:56.670 DEBUG c.j.q.d.WorkflowVariableReflectMapper.getVariables[145]  ==>  Preparing: SELECT variable from workflow_variable_reflect where template_key = ? and node = ? 
2020-11-21 15:55:56.671 DEBUG c.j.q.d.WorkflowVariableReflectMapper.getVariables[145]  ==> Parameters: QMSEcnProcess(String), Apply(String)
2020-11-21 15:55:56.683 DEBUG c.j.q.d.WorkflowVariableReflectMapper.getVariables[145]  <==      Total: 3
2020-11-21 15:55:56.690 DEBUG c.j.q.modules.ecn.dao.EcnInfoMapper.getItemNumber[145]  ==>  Preparing: SELECT ecn_number_generator() 
2020-11-21 15:55:56.691 DEBUG c.j.q.modules.ecn.dao.EcnInfoMapper.getItemNumber[145]  ==> Parameters: 
2020-11-21 15:55:56.699 DEBUG c.j.q.modules.ecn.dao.EcnInfoMapper.getItemNumber[145]  <==      Total: 1
2020-11-21 15:55:56.700 DEBUG c.j.q.modules.ecn.dao.EcnInfoMapper.insert[145]  ==>  Preparing: insert into ecn_info (id, item_number, item_type, file_name, file_oid, sender_side, document_originator, model_name, change_type, posting_time, works_section, works_head, quality_head, status, involved_area, change_import_scheme, change_import_time, change_import_mode, ipqc_handler, ipqc_verification_results, ipqc_verification_reason, ipqc_verifier, ipqc_verification_time, project_approval_result, project_approval_opinion, project_approver, project_approver_time, odm_approval_result, odm_approval_opinion, odm_approver, odm_approver_time, sqe_approval_result, sqe_approval_opinion, sqe_approver, sqe_approver_time, file_address, assignee, remark, creator, create_date, update_date ) values (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ? ) 
2020-11-21 15:55:56.705 DEBUG c.j.q.modules.ecn.dao.EcnInfoMapper.insert[145]  ==> Parameters: 1330057343840288768(String), 20201121001(String), ECN(String), LCFC-logo.jpg(String), 1330057183507771392(String), HQ(String), 11(String), 11(String), BOM,软件(String), 2020-11-21 00:00:00.0(Timestamp), SMT ENG(String), hualanlan(String), hualanlan(String), Apply(String), null, null, null, null, hualanlan(String), null, null, null, null, null, null, null, null, null, null, hualanlan(String), null, null, null, hualanlan(String), null, (String), null, (String), hualanlan(String), null, null
2020-11-21 15:55:56.724 DEBUG c.j.q.modules.ecn.dao.EcnInfoMapper.insert[145]  <==    Updates: 1
2020-11-21 15:55:56.862 DEBUG c.j.q.d.H.deleteApplyRecord[145]  ==>  Preparing: DELETE from history_process_record where workflow_type = ? and creator = ? and type = 'SAVE' and workflow_node = 'Apply' and workflow_businessId is NULL 
2020-11-21 15:55:56.863 DEBUG c.j.q.d.H.deleteApplyRecord[145]  ==> Parameters: QMSEcnProcess(String), hualanlan(String)
2020-11-21 15:55:56.882 DEBUG c.j.q.d.H.deleteApplyRecord[145]  <==    Updates: 0
2020-11-21 15:55:56.883 DEBUG c.j.q.d.W.getWorkflowMapping[145]  ==>  Preparing: SELECT * from workflow_handle_mapping where workflow_type = ? and workflow_node = ? limit 1 
2020-11-21 15:55:56.883 DEBUG c.j.q.d.W.getWorkflowMapping[145]  ==> Parameters: QMSEcnProcess(String), Apply(String)
2020-11-21 15:55:56.894 DEBUG c.j.q.d.W.getWorkflowMapping[145]  <==      Total: 0
2020-11-21 15:55:56.896 DEBUG c.j.q.dao.HistoryProcessRecordMapper.insert[145]  ==>  Preparing: insert into history_process_record (id, workflow_type, workflow_node, workflow_businessId, type, creator, create_date, update_date, department, handle_opinion, reject_reason, content ) values (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ? ) 
2020-11-21 15:55:56.898 DEBUG c.j.q.dao.HistoryProcessRecordMapper.insert[145]  ==> Parameters: 1330057344662372352(String), QMSEcnProcess(String), Apply(String), 1330057343840288768(String), COMMIT(String), hualanlan(String), null, null, null, null, null, java.io.StringReader@133345d(StringReader)
2020-11-21 15:55:56.921 DEBUG c.j.q.dao.HistoryProcessRecordMapper.insert[145]  <==    Updates: 1
2020-11-21 15:55:57.614 DEBUG c.j.q.m.ecn.dao.EcnInfoMapper.selectByPrimaryKey[145]  ==>  Preparing: select id, item_number, item_type, file_name, file_oid, sender_side, document_originator, model_name, change_type, posting_time, works_section, works_head, quality_head, status, involved_area, change_import_scheme, change_import_time, change_import_mode, ipqc_handler, ipqc_verification_results, ipqc_verification_reason, ipqc_verifier, ipqc_verification_time, project_approval_result, project_approval_opinion, project_approver, project_approver_time, odm_approval_result, odm_approval_opinion, odm_approver, odm_approver_time, sqe_approval_result, sqe_approval_opinion, sqe_approver, sqe_approver_time, file_address, assignee, remark, creator, create_date, update_date from ecn_info where id = ? 
2020-11-21 15:55:57.616 DEBUG c.j.q.m.ecn.dao.EcnInfoMapper.selectByPrimaryKey[145]  ==> Parameters: 1330057343840288768(String)
2020-11-21 15:55:57.629 DEBUG c.j.q.m.ecn.dao.EcnInfoMapper.selectByPrimaryKey[145]  <==      Total: 1
2020-11-21 15:55:57.636 DEBUG c.j.q.dao.TaskRecordMapper.insertSelective[145]  ==>  Preparing: insert into task_record ( id, template_key, process_instance_id, assignee, workflow_business_id, task_state, task_name, task_id, item_number, creator ) values ( ?, ?, ?, ?, ?, ?, ?, ?, ?, ? ) 
2020-11-21 15:55:57.637 DEBUG c.j.q.dao.TaskRecordMapper.insertSelective[145]  ==> Parameters: 1330057347749380096(String), QMSEcnProcess(String), 5507436(String), hualanlan(String), 1330057343840288768(String), Close(String), Apply(String), 5507441(String), 20201121001(String), hualanlan(String)
2020-11-21 15:55:57.650 DEBUG c.j.q.dao.TaskRecordMapper.insertSelective[145]  <==    Updates: 1
2020-11-21 15:55:57.672 DEBUG c.j.q.dao.TaskRecordMapper.getCountByTaskId[145]  ==>  Preparing: SELECT count(*) from task_record where task_id = ? 
2020-11-21 15:55:57.673 DEBUG c.j.q.dao.TaskRecordMapper.getCountByTaskId[145]  ==> Parameters: 5507466(String)
2020-11-21 15:55:57.682 DEBUG c.j.q.dao.TaskRecordMapper.getCountByTaskId[145]  <==      Total: 1
2020-11-21 15:55:57.683 DEBUG c.j.q.dao.TaskRecordMapper.insertSelective[145]  ==>  Preparing: insert into task_record ( id, template_key, process_instance_id, assignee, workflow_business_id, task_state, task_name, task_id, item_number, creator ) values ( ?, ?, ?, ?, ?, ?, ?, ?, ?, ? ) 
2020-11-21 15:55:57.684 DEBUG c.j.q.dao.TaskRecordMapper.insertSelective[145]  ==> Parameters: 1330057347967483904(String), QMSEcnProcess(String), 5507436(String), hualanlan(String), 1330057343840288768(String), OnGoing(String), Plan(String), 5507466(String), 20201121001(String), hualanlan(String)
2020-11-21 15:55:57.698 DEBUG c.j.q.dao.TaskRecordMapper.insertSelective[145]  <==    Updates: 1
2020-11-21 15:55:57.699 DEBUG c.j.q.m.ecn.dao.EcnInfoMapper.updateByPrimaryKey[145]  ==>  Preparing: update ecn_info set item_number = ?, item_type = ?, file_name = ?, file_oid = ?, sender_side = ?, document_originator = ?, model_name = ?, change_type = ?, posting_time = ?, works_section = ?, works_head = ?, quality_head = ?, status = ?, involved_area = ?, change_import_scheme = ?, change_import_time = ?, change_import_mode = ?, ipqc_handler = ?, ipqc_verification_results = ?, ipqc_verification_reason = ?, ipqc_verifier = ?, ipqc_verification_time = ?, project_approval_result = ?, project_approval_opinion = ?, project_approver = ?, project_approver_time = ?, odm_approval_result = ?, odm_approval_opinion = ?, odm_approver = ?, odm_approver_time = ?, sqe_approval_result = ?, sqe_approval_opinion = ?, sqe_approver = ?, sqe_approver_time = ?, file_address = ?, assignee = ?, remark = ?, creator = ?, create_date = ?, update_date = ? where id = ? 
2020-11-21 15:55:57.700 DEBUG c.j.q.m.ecn.dao.EcnInfoMapper.updateByPrimaryKey[145]  ==> Parameters: 20201121001(String), ECN(String), LCFC-logo.jpg(String), 1330057183507771392(String), HQ(String), 11(String), 11(String), BOM,软件(String), 2020-11-21 00:00:00.0(Timestamp), SMT ENG(String), hualanlan(String), hualanlan(String), Plan(String), null, null, null, null, hualanlan(String), null, null, null, null, null, null, null, null, null, null, hualanlan(String), null, null, null, hualanlan(String), null, (String), hualanlan(String), (String), hualanlan(String), null, null, 1330057343840288768(String)
2020-11-21 15:55:57.731 DEBUG c.j.q.m.ecn.dao.EcnInfoMapper.updateByPrimaryKey[145]  <==    Updates: 1
2020-11-21 15:55:57.732 DEBUG c.j.q.dao.TaskRecordMapper.getProcessCurrentState[145]  ==>  Preparing: SELECT DISTINCT task_name from task_record WHERE workflow_business_id = ? and (task_state='OnGoing' or task_state is null) 
2020-11-21 15:55:57.732 DEBUG c.j.q.dao.TaskRecordMapper.getProcessCurrentState[145]  ==> Parameters: 1330057343840288768(String)
2020-11-21 15:55:57.740 DEBUG c.j.q.dao.TaskRecordMapper.getProcessCurrentState[145]  <==      Total: 1
2020-11-21 15:55:57.740 DEBUG c.j.q.d.T.getUncloseTaskByBusinessId[145]  ==>  Preparing: Select * from task_record WHERE workflow_business_id = ? and (task_state='OnGoing' or task_state is null) 
2020-11-21 15:55:57.741 DEBUG c.j.q.d.T.getUncloseTaskByBusinessId[145]  ==> Parameters: 1330057343840288768(String)
2020-11-21 15:55:57.748 DEBUG c.j.q.d.T.getUncloseTaskByBusinessId[145]  <==      Total: 1
2020-11-21 15:55:57.749 DEBUG c.j.q.m.ecn.dao.EcnInfoMapper.selectByPrimaryKey[145]  ==>  Preparing: select id, item_number, item_type, file_name, file_oid, sender_side, document_originator, model_name, change_type, posting_time, works_section, works_head, quality_head, status, involved_area, change_import_scheme, change_import_time, change_import_mode, ipqc_handler, ipqc_verification_results, ipqc_verification_reason, ipqc_verifier, ipqc_verification_time, project_approval_result, project_approval_opinion, project_approver, project_approver_time, odm_approval_result, odm_approval_opinion, odm_approver, odm_approver_time, sqe_approval_result, sqe_approval_opinion, sqe_approver, sqe_approver_time, file_address, assignee, remark, creator, create_date, update_date from ecn_info where id = ? 
2020-11-21 15:55:57.749 DEBUG c.j.q.m.ecn.dao.EcnInfoMapper.selectByPrimaryKey[145]  ==> Parameters: 1330057343840288768(String)
2020-11-21 15:55:57.762 DEBUG c.j.q.m.ecn.dao.EcnInfoMapper.selectByPrimaryKey[145]  <==      Total: 1
2020-11-21 15:55:57.763 DEBUG c.j.q.d.H.getNewlyRecordByIdAndNode[145]  ==>  Preparing: SELECT * from history_process_record where workflow_businessId=? and workflow_node = ? and type ='COMMIT' order by create_date desc limit 1 
2020-11-21 15:55:57.763 DEBUG c.j.q.d.H.getNewlyRecordByIdAndNode[145]  ==> Parameters: 1330057343840288768(String), Apply(String)
2020-11-21 15:55:57.778 DEBUG c.j.q.d.H.getNewlyRecordByIdAndNode[145]  <==      Total: 1
2020-11-21 15:55:58.067 INFO  cn.jwis.qualityworkflow.util.EmailService[142]  hualanlan email is test@jwis.cn
2020-11-21 15:55:58.632 INFO  cn.jwis.qualityworkflow.util.EmailService[74]  haomiao.liu@jwis.cn send a Mail to test@jwis.cn fail, because null
2020-11-21 15:55:59.168 DEBUG c.j.q.m.ecn.dao.EcnInfoMapper.getPullDownValue[145]  ==>  Preparing: SELECT distinct file_name from ecn_info where file_name is not null 
2020-11-21 15:55:59.168 DEBUG c.j.q.m.ecn.dao.EcnInfoMapper.getPullDownValue[145]  ==>  Preparing: SELECT distinct sender_side from ecn_info where sender_side is not null 
2020-11-21 15:55:59.169 DEBUG c.j.q.m.ecn.dao.EcnInfoMapper.getPullDownValue[145]  ==> Parameters: 
2020-11-21 15:55:59.169 DEBUG c.j.q.m.ecn.dao.EcnInfoMapper.getPullDownValue[145]  ==> Parameters: 
2020-11-21 15:55:59.170 DEBUG c.j.q.m.ecn.dao.EcnInfoMapper.getPullDownValue[145]  ==>  Preparing: SELECT distinct document_originator from ecn_info where document_originator is not null 
2020-11-21 15:55:59.170 DEBUG c.j.q.m.ecn.dao.EcnInfoMapper.getPullDownValue[145]  ==> Parameters: 
2020-11-21 15:55:59.171 DEBUG c.j.q.m.ecn.dao.EcnInfoMapper.getPullDownValue[145]  ==>  Preparing: SELECT distinct model_name from ecn_info where model_name is not null 
2020-11-21 15:55:59.171 DEBUG c.j.q.m.ecn.dao.EcnInfoMapper.getPullDownValue[145]  ==> Parameters: 
2020-11-21 15:55:59.180 DEBUG c.j.q.m.ecn.dao.EcnInfoMapper.getPullDownValue[145]  <==      Total: 7
2020-11-21 15:55:59.181 DEBUG c.j.q.m.ecn.dao.EcnInfoMapper.getPullDownValue[145]  <==      Total: 31
2020-11-21 15:55:59.183 DEBUG c.j.q.m.ecn.dao.EcnInfoMapper.getPullDownValue[145]  <==      Total: 30
2020-11-21 15:55:59.183 DEBUG c.j.q.m.ecn.dao.EcnInfoMapper.getPullDownValue[145]  <==      Total: 32
2020-11-21 15:55:59.283 DEBUG c.j.q.m.ecn.dao.EcnInfoMapper.getEcnInfo_COUNT[145]  ==>  Preparing: SELECT count(0) FROM ecn_info e, (SELECT t1.process_instance_id, t1.task_id, t1.task_state, t1.workflow_business_id FROM task_record t1 INNER JOIN ((SELECT process_instance_id, max(task_id) AS task_id, assignee FROM task_record WHERE template_key = 'QMSEcnProcess' AND assignee = ? GROUP BY process_instance_id) UNION (SELECT process_instance_id, max(task_id) AS task_id, assignee FROM task_record WHERE template_key = 'QMSEcnProcess' AND process_instance_id NOT IN (SELECT process_instance_id FROM task_record WHERE template_key = 'QMSEcnProcess' AND assignee = ? GROUP BY process_instance_id) GROUP BY process_instance_id)) t2 ON t1.process_instance_id = t2.process_instance_id AND t1.task_id = t2.task_id) ar WHERE e.id = ar.workflow_business_id AND posting_time >= DATE_FORMAT(?, '%Y-%m-%d') AND posting_time <= DATE_FORMAT(?, '%Y-%m-%d') 
2020-11-21 15:55:59.285 DEBUG c.j.q.m.ecn.dao.EcnInfoMapper.getEcnInfo_COUNT[145]  ==> Parameters: hualanlan(String), hualanlan(String), 2019-11-22(String), 2020-11-22(String)
2020-11-21 15:55:59.328 ERROR cn.jwis.qualityworkflow.util.ReflectUtil[271]  workflow send email fail, cause: Failed messages: javax.mail.SendFailedException: Invalid Addresses;
  nested exception is:
	com.sun.mail.smtp.SMTPAddressFailedException: 554 RCPT (test@jwis.cn) dosn't exist

2020-11-21 15:55:59.328 DEBUG c.j.q.m.ecn.dao.EcnInfoMapper.getEcnInfo_COUNT[145]  <==      Total: 1
2020-11-21 15:55:59.343 DEBUG c.j.q.modules.ecn.dao.EcnInfoMapper.getEcnInfo[145]  ==>  Preparing: SELECT e.*, ar.process_instance_id, ar.task_id, ar.task_state FROM ecn_info e, (SELECT t1.process_instance_id, t1.task_id, t1.task_state, t1.workflow_business_id FROM task_record t1 INNER JOIN ((SELECT process_instance_id, max(task_id) AS task_id, assignee FROM task_record WHERE template_key = 'QMSEcnProcess' AND assignee = ? GROUP BY process_instance_id) UNION (SELECT process_instance_id, max(task_id) AS task_id, assignee FROM task_record WHERE template_key = 'QMSEcnProcess' AND process_instance_id NOT IN (SELECT process_instance_id FROM task_record WHERE template_key = 'QMSEcnProcess' AND assignee = ? GROUP BY process_instance_id) GROUP BY process_instance_id)) t2 ON t1.process_instance_id = t2.process_instance_id AND t1.task_id = t2.task_id) ar WHERE e.id = ar.workflow_business_id AND posting_time >= DATE_FORMAT(?, '%Y-%m-%d') AND posting_time <= DATE_FORMAT(?, '%Y-%m-%d') order by create_date DESC LIMIT ? 
2020-11-21 15:55:59.344 DEBUG c.j.q.modules.ecn.dao.EcnInfoMapper.getEcnInfo[145]  ==> Parameters: hualanlan(String), hualanlan(String), 2019-11-22(String), 2020-11-22(String), 10(Integer)
2020-11-21 15:55:59.389 DEBUG c.j.q.modules.ecn.dao.EcnInfoMapper.getEcnInfo[145]  <==      Total: 10
2020-11-21 15:55:59.423 DEBUG c.j.q.dao.CommonMapper.getTransferParameter[145]  ==>  Preparing: select * from import_export_parameter_mapping b where b.table_name = ? and update_time = (SELECT max( update_time ) FROM import_export_parameter_mapping a where a.table_name = b.table_name AND a.parameter = b.parameter AND a.db_data= b.db_data) 
2020-11-21 15:55:59.424 DEBUG c.j.q.dao.CommonMapper.getTransferParameter[145]  ==> Parameters: ecn_info(String)
2020-11-21 15:55:59.435 DEBUG c.j.q.dao.CommonMapper.getTransferParameter[145]  <==      Total: 9
2020-11-21 15:58:12.021 INFO  c.j.qualityworkflow.modules.ipqc.job.ipqcMailJob[27]  查询IPQC超时任务
2020-11-21 15:58:12.027 DEBUG c.j.q.dao.TaskRecordMapper.getOverTimeTaskRecord[145]  ==>  Preparing: SELECT *, HOUR(timediff(now() , create_date)) overTimeNum FROM task_record WHERE template_key = ? AND task_state IS NULL AND task_name = ? AND HOUR(timediff(now() , create_date)) >= ? 
2020-11-21 15:58:12.028 DEBUG c.j.q.m.qims.dao.BlackDashBoardMapper.getHoliday[145]  ==>  Preparing: SELECT DISTINCT date FROM holiday_maintenance WHERE type = '节假日' 
2020-11-21 15:58:12.028 DEBUG c.j.q.dao.TaskRecordMapper.getOverTimeTaskRecord[145]  ==>  Preparing: SELECT *, HOUR(timediff(now() , create_date)) overTimeNum FROM task_record WHERE template_key = ? AND task_state IS NULL AND task_name = ? AND HOUR(timediff(now() , create_date)) >= ? 
2020-11-21 15:58:12.028 DEBUG c.j.q.dao.TaskRecordMapper.getOverTimeTaskRecord[145]  ==> Parameters: Line Qualify(String), 文件收集(String), 2(Integer)
2020-11-21 15:58:12.028 DEBUG c.j.q.m.qims.dao.BlackDashBoardMapper.getHoliday[145]  ==> Parameters: 
2020-11-21 15:58:12.028 DEBUG c.j.q.dao.TaskRecordMapper.getOverTimeTaskRecord2[145]  ==>  Preparing: SELECT *, HOUR(timediff(now() , create_date)) overTimeNum FROM task_record WHERE template_key = ? AND task_state IS NULL AND HOUR(timediff(now() , create_date)) >= ? 
2020-11-21 15:58:12.029 DEBUG c.j.q.dao.TaskRecordMapper.getOverTimeTaskRecord2[145]  ==> Parameters: IPQCAuditProcess(String), 24(Integer)
2020-11-21 15:58:12.029 DEBUG c.j.q.dao.TaskRecordMapper.getOverTimeTaskRecord[145]  ==> Parameters: FactoryAuditProcess(String), 部门审核(String), 24(Integer)
2020-11-21 15:58:12.042 DEBUG c.j.q.m.qims.dao.BlackDashBoardMapper.getHoliday[145]  <==      Total: 6
2020-11-21 15:58:12.043 DEBUG c.j.q.m.q.d.B.getWorkOvertimeList[145]  ==>  Preparing: SELECT DISTINCT date FROM holiday_maintenance WHERE type = '补班' 
2020-11-21 15:58:12.043 DEBUG c.j.q.m.q.d.B.getWorkOvertimeList[145]  ==> Parameters: 
2020-11-21 15:58:12.048 DEBUG c.j.q.dao.TaskRecordMapper.getOverTimeTaskRecord[145]  <==      Total: 3
2020-11-21 15:58:12.048 DEBUG c.j.q.dao.TaskRecordMapper.getOverTimeTaskRecord[145]  <==      Total: 8
2020-11-21 15:58:12.048 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==>  Preparing: select time from email_history_info where id =? 
2020-11-21 15:58:12.048 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==>  Preparing: select time from email_history_info where id =? 
2020-11-21 15:58:12.048 DEBUG c.j.q.dao.TaskRecordMapper.getOverTimeTaskRecord2[145]  <==      Total: 18
2020-11-21 15:58:12.048 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==> Parameters: 1295192540470837248(String)
2020-11-21 15:58:12.048 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==> Parameters: 1294123945645047808(String)
2020-11-21 15:58:12.049 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==>  Preparing: select time from email_history_info where id =? 
2020-11-21 15:58:12.049 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==> Parameters: 1303868320843300864(String)
2020-11-21 15:58:12.054 DEBUG c.j.q.m.q.d.B.getWorkOvertimeList[145]  <==      Total: 4
2020-11-21 15:58:12.054 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getLtStandard[145]  ==>  Preparing: select * from qims_lt_standard_info 
2020-11-21 15:58:12.054 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getLtStandard[145]  ==> Parameters: 
2020-11-21 15:58:12.077 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  <==      Total: 1
2020-11-21 15:58:12.076 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  <==      Total: 1
2020-11-21 15:58:12.077 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getLtStandard[145]  <==      Total: 8
2020-11-21 15:58:12.077 INFO  c.j.qualityworkflow.modules.qims.job.qimsMailJob[47]  查询黑色问题超过LT的信息
2020-11-21 15:58:12.077 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==>  Preparing: select time from email_history_info where id =? 
2020-11-21 15:58:12.077 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getBlackList[145]  ==>  Preparing: select * from task_record where task_name in('初步原因分析','根本原因分析','根本原因审核') and task_state is null and template_key='QIMSBLACK' 
2020-11-21 15:58:12.077 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==> Parameters: 1295192619508301824(String)
2020-11-21 15:58:12.077 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getBlackList[145]  ==> Parameters: 
2020-11-21 15:58:12.076 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  <==      Total: 1
2020-11-21 15:58:12.078 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==>  Preparing: select time from email_history_info where id =? 
2020-11-21 15:58:12.078 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==> Parameters: 1303868347422605312(String)
2020-11-21 15:58:12.088 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  <==      Total: 1
2020-11-21 15:58:12.089 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==>  Preparing: select time from email_history_info where id =? 
2020-11-21 15:58:12.089 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==> Parameters: 1299240419787276288(String)
2020-11-21 15:58:12.092 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  <==      Total: 1
2020-11-21 15:58:12.092 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==>  Preparing: select time from email_history_info where id =? 
2020-11-21 15:58:12.093 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==> Parameters: 1303868393815801856(String)
2020-11-21 15:58:12.095 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getBlackList[145]  <==      Total: 16
2020-11-21 15:58:12.096 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  <==      Total: 1
2020-11-21 15:58:12.097 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==>  Preparing: select time from email_history_info where id =? 
2020-11-21 15:58:12.097 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==> Parameters: 1286902446076985344(String)
2020-11-21 15:58:12.102 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  <==      Total: 1
2020-11-21 15:58:12.102 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==>  Preparing: select time from email_history_info where id =? 
2020-11-21 15:58:12.103 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==> Parameters: 1303937438065885184(String)
2020-11-21 15:58:12.112 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  <==      Total: 1
2020-11-21 15:58:12.112 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  <==      Total: 1
2020-11-21 15:58:12.113 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==>  Preparing: select time from email_history_info where id =? 
2020-11-21 15:58:12.113 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==> Parameters: 1303939538460082176(String)
2020-11-21 15:58:12.123 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  <==      Total: 1
2020-11-21 15:58:12.123 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==>  Preparing: select time from email_history_info where id =? 
2020-11-21 15:58:12.123 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==> Parameters: 1303939599889858560(String)
2020-11-21 15:58:12.136 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  <==      Total: 1
2020-11-21 15:58:12.137 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==>  Preparing: select time from email_history_info where id =? 
2020-11-21 15:58:12.137 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==> Parameters: 1306059696263659520(String)
2020-11-21 15:58:12.157 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  <==      Total: 1
2020-11-21 15:58:12.158 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==>  Preparing: select time from email_history_info where id =? 
2020-11-21 15:58:12.158 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==> Parameters: 1306155886347026432(String)
2020-11-21 15:58:12.170 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  <==      Total: 1
2020-11-21 15:58:12.170 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==>  Preparing: select time from email_history_info where id =? 
2020-11-21 15:58:12.170 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==> Parameters: 1306201167000240128(String)
2020-11-21 15:58:12.178 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  <==      Total: 1
2020-11-21 15:58:12.178 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==>  Preparing: select time from email_history_info where id =? 
2020-11-21 15:58:12.179 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==> Parameters: 1308013106458263552(String)
2020-11-21 15:58:12.188 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  <==      Total: 0
2020-11-21 15:58:17.103 DEBUG cn.jwis.qualityworkflow.util.EmailService[144]  get handler mail from http://gateway.dev.jwis.io/platform/sys/user/internal-read?name=qualityadmin happen error cause:I/O error on GET request for "http://gateway.dev.jwis.io/platform/sys/user/internal-read": connect timed out; nested exception is java.net.SocketTimeoutException: connect timed out
2020-11-21 15:58:17.103 DEBUG cn.jwis.qualityworkflow.util.EmailService[144]  get handler mail from http://gateway.dev.jwis.io/platform/sys/user/internal-read?name=dz_gyb1 happen error cause:I/O error on GET request for "http://gateway.dev.jwis.io/platform/sys/user/internal-read": connect timed out; nested exception is java.net.SocketTimeoutException: connect timed out
2020-11-21 15:58:17.111 DEBUG cn.jwis.qualityworkflow.dao.UserMapper.getSuperior[145]  ==>  Preparing: select superior from department_mapping where user_account = ? and type = ? limit 0,1 
2020-11-21 15:58:17.111 DEBUG cn.jwis.qualityworkflow.dao.UserMapper.getSuperior[145]  ==>  Preparing: select superior from department_mapping where user_account = ? and type = ? limit 0,1 
2020-11-21 15:58:17.112 DEBUG cn.jwis.qualityworkflow.dao.UserMapper.getSuperior[145]  ==> Parameters: qualityadmin(String), COMMON(String)
2020-11-21 15:58:17.112 DEBUG cn.jwis.qualityworkflow.dao.UserMapper.getSuperior[145]  ==> Parameters: dz_gyb1(String), COMMON(String)
2020-11-21 15:58:17.114 DEBUG cn.jwis.qualityworkflow.util.EmailService[144]  get handler mail from http://gateway.dev.jwis.io/platform/sys/user/internal-read?name=hualanlan happen error cause:I/O error on GET request for "http://gateway.dev.jwis.io/platform/sys/user/internal-read": connect timed out; nested exception is java.net.SocketTimeoutException: connect timed out
2020-11-21 15:58:17.119 DEBUG cn.jwis.qualityworkflow.dao.UserMapper.getSuperior[145]  <==      Total: 1
2020-11-21 15:58:17.120 DEBUG cn.jwis.qualityworkflow.dao.UserMapper.getSuperior[145]  ==>  Preparing: select superior from department_mapping where user_account = ? and type = ? limit 0,1 
2020-11-21 15:58:17.120 DEBUG cn.jwis.qualityworkflow.dao.UserMapper.getSuperior[145]  <==      Total: 1
2020-11-21 15:58:17.120 DEBUG cn.jwis.qualityworkflow.dao.UserMapper.getSuperior[145]  ==> Parameters: hualanlan(String), QIMS(String)
2020-11-21 15:58:17.126 DEBUG cn.jwis.qualityworkflow.dao.UserMapper.getSuperior[145]  <==      Total: 1
2020-11-21 15:58:17.127 DEBUG c.j.q.dao.UserMapper.getSuperiorManagerByUser[145]  ==>  Preparing: select superior_manager from department_mapping where user_account = ? and type = ? limit 0,1 
2020-11-21 15:58:17.127 DEBUG c.j.q.dao.UserMapper.getSuperiorManagerByUser[145]  ==> Parameters: hualanlan(String), QIMS(String)
2020-11-21 15:58:17.134 DEBUG c.j.q.dao.UserMapper.getSuperiorManagerByUser[145]  <==      Total: 1
2020-11-21 15:58:17.157 INFO  cn.jwis.qualityworkflow.util.EmailService[142]  qualityadmin email is 
2020-11-21 15:58:17.157 INFO  cn.jwis.qualityworkflow.util.EmailService[142]  dz_gyb2 email is jian.song@jwis.cn
2020-11-21 15:58:17.158 INFO  c.j.q.m.factoryaudit.job.AuditQuestionMailJob[31]  邮件下发结束
2020-11-21 15:58:17.158 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==>  Preparing: select time from email_history_info where id =? 
2020-11-21 15:58:17.158 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==> Parameters: 1294123945682796544(String)
2020-11-21 15:58:17.162 INFO  cn.jwis.qualityworkflow.util.EmailService[142]  workflow3 email is null
2020-11-21 15:58:17.164 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  <==      Total: 1
2020-11-21 15:58:17.164 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==>  Preparing: select time from email_history_info where id =? 
2020-11-21 15:58:17.165 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==> Parameters: 1294123945716350976(String)
2020-11-21 15:58:17.172 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  <==      Total: 1
2020-11-21 15:58:17.182 INFO  cn.jwis.qualityworkflow.util.EmailService[142]  zhouxianling email is 
2020-11-21 15:58:17.184 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==>  Preparing: select time from email_history_info where id =? 
2020-11-21 15:58:17.184 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==> Parameters: 1286904434760089600(String)
2020-11-21 15:58:17.189 INFO  cn.jwis.qualityworkflow.util.EmailService[142]  xujinbiao email is 
2020-11-21 15:58:17.189 DEBUG cn.jwis.qualityworkflow.dao.UserMapper.getSuperior[145]  ==>  Preparing: select superior from department_mapping where user_account = ? and type = ? limit 0,1 
2020-11-21 15:58:17.190 DEBUG cn.jwis.qualityworkflow.util.EmailService[144]  get handler mail from http://gateway.dev.jwis.io/platform/sys/user/internal-read?name=kiween happen error cause:I/O error on GET request for "http://gateway.dev.jwis.io/platform/sys/user/internal-read": connect timed out; nested exception is java.net.SocketTimeoutException: connect timed out
2020-11-21 15:58:17.190 DEBUG cn.jwis.qualityworkflow.dao.UserMapper.getSuperior[145]  ==> Parameters: xujinbiao(String), COMMON(String)
2020-11-21 15:58:17.190 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  <==      Total: 1
2020-11-21 15:58:17.200 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==>  Preparing: select time from email_history_info where id =? 
2020-11-21 15:58:17.200 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==> Parameters: 1308013110702899200(String)
2020-11-21 15:58:17.203 DEBUG cn.jwis.qualityworkflow.dao.UserMapper.getSuperior[145]  <==      Total: 1
2020-11-21 15:58:17.208 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  <==      Total: 1
2020-11-21 15:58:17.219 INFO  cn.jwis.qualityworkflow.util.EmailService[142]  gupp2 email is null
2020-11-21 15:58:17.219 DEBUG cn.jwis.qualityworkflow.dao.UserMapper.getSuperior[145]  ==>  Preparing: select superior from department_mapping where user_account = ? and type = ? limit 0,1 
2020-11-21 15:58:17.220 DEBUG cn.jwis.qualityworkflow.dao.UserMapper.getSuperior[145]  ==> Parameters: gupp2(String), QIMS(String)
2020-11-21 15:58:17.227 DEBUG cn.jwis.qualityworkflow.dao.UserMapper.getSuperior[145]  <==      Total: 0
2020-11-21 15:58:17.227 INFO  cn.jwis.qualityworkflow.util.EmailService[142]  hualanlan email is test@jwis.cn
2020-11-21 15:58:17.227 DEBUG c.j.q.dao.UserMapper.getSuperiorManagerByUser[145]  ==>  Preparing: select superior_manager from department_mapping where user_account = ? and type = ? limit 0,1 
2020-11-21 15:58:17.227 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==>  Preparing: select time from email_history_info where id =? 
2020-11-21 15:58:17.227 DEBUG c.j.q.dao.UserMapper.getSuperiorManagerByUser[145]  ==> Parameters: gupp2(String), QIMS(String)
2020-11-21 15:58:17.227 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==> Parameters: 1295193219738370048(String)
2020-11-21 15:58:17.230 INFO  cn.jwis.qualityworkflow.util.EmailService[142]  qualityadmin email is 
2020-11-21 15:58:17.230 DEBUG cn.jwis.qualityworkflow.dao.UserMapper.getSuperior[145]  ==>  Preparing: select superior from department_mapping where user_account = ? and type = ? limit 0,1 
2020-11-21 15:58:17.231 DEBUG cn.jwis.qualityworkflow.dao.UserMapper.getSuperior[145]  ==> Parameters: qualityadmin(String), COMMON(String)
2020-11-21 15:58:17.234 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  <==      Total: 1
2020-11-21 15:58:17.234 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==>  Preparing: select time from email_history_info where id =? 
2020-11-21 15:58:17.234 DEBUG c.j.q.dao.UserMapper.getSuperiorManagerByUser[145]  <==      Total: 0
2020-11-21 15:58:17.235 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==> Parameters: 1295193220166189056(String)
2020-11-21 15:58:17.236 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==>  Preparing: select time from email_history_info where id =? 
2020-11-21 15:58:17.237 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==> Parameters: 1286916730144161792(String)
2020-11-21 15:58:17.239 DEBUG cn.jwis.qualityworkflow.dao.UserMapper.getSuperior[145]  <==      Total: 1
2020-11-21 15:58:17.241 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  <==      Total: 1
2020-11-21 15:58:17.244 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  <==      Total: 1
2020-11-21 15:58:17.264 INFO  cn.jwis.qualityworkflow.util.EmailService[142]  qualityadmin email is 
2020-11-21 15:58:17.265 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==>  Preparing: select time from email_history_info where id =? 
2020-11-21 15:58:17.265 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==> Parameters: 1308013113928318976(String)
2020-11-21 15:58:17.272 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  <==      Total: 1
2020-11-21 15:58:17.282 INFO  cn.jwis.qualityworkflow.util.EmailService[142]  xujinbiao email is 
2020-11-21 15:58:17.283 DEBUG cn.jwis.qualityworkflow.dao.UserMapper.getSuperior[145]  ==>  Preparing: select superior from department_mapping where user_account = ? and type = ? limit 0,1 
2020-11-21 15:58:17.283 DEBUG cn.jwis.qualityworkflow.dao.UserMapper.getSuperior[145]  ==> Parameters: xujinbiao(String), COMMON(String)
2020-11-21 15:58:17.289 INFO  cn.jwis.qualityworkflow.util.EmailService[142]  gupp2 email is null
2020-11-21 15:58:17.289 DEBUG cn.jwis.qualityworkflow.dao.UserMapper.getSuperior[145]  ==>  Preparing: select superior from department_mapping where user_account = ? and type = ? limit 0,1 
2020-11-21 15:58:17.289 DEBUG cn.jwis.qualityworkflow.dao.UserMapper.getSuperior[145]  ==> Parameters: gupp2(String), QIMS(String)
2020-11-21 15:58:17.291 DEBUG cn.jwis.qualityworkflow.dao.UserMapper.getSuperior[145]  <==      Total: 1
2020-11-21 15:58:17.298 DEBUG cn.jwis.qualityworkflow.dao.UserMapper.getSuperior[145]  <==      Total: 0
2020-11-21 15:58:17.298 INFO  cn.jwis.qualityworkflow.util.EmailService[142]  qualityadmin email is 
2020-11-21 15:58:17.298 DEBUG c.j.q.dao.UserMapper.getSuperiorManagerByUser[145]  ==>  Preparing: select superior_manager from department_mapping where user_account = ? and type = ? limit 0,1 
2020-11-21 15:58:17.298 DEBUG cn.jwis.qualityworkflow.dao.UserMapper.getSuperior[145]  ==>  Preparing: select superior from department_mapping where user_account = ? and type = ? limit 0,1 
2020-11-21 15:58:17.299 DEBUG c.j.q.dao.UserMapper.getSuperiorManagerByUser[145]  ==> Parameters: gupp2(String), QIMS(String)
2020-11-21 15:58:17.299 DEBUG cn.jwis.qualityworkflow.dao.UserMapper.getSuperior[145]  ==> Parameters: qualityadmin(String), COMMON(String)
2020-11-21 15:58:17.305 DEBUG cn.jwis.qualityworkflow.dao.UserMapper.getSuperior[145]  <==      Total: 1
2020-11-21 15:58:17.306 DEBUG c.j.q.dao.UserMapper.getSuperiorManagerByUser[145]  <==      Total: 0
2020-11-21 15:58:17.307 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==>  Preparing: select time from email_history_info where id =? 
2020-11-21 15:58:17.308 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==> Parameters: 1287933861786812416(String)
2020-11-21 15:58:17.311 INFO  cn.jwis.qualityworkflow.util.EmailService[142]  hualanlan email is test@jwis.cn
2020-11-21 15:58:17.311 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==>  Preparing: select time from email_history_info where id =? 
2020-11-21 15:58:17.312 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==> Parameters: 1295193707351375872(String)
2020-11-21 15:58:17.314 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  <==      Total: 1
2020-11-21 15:58:17.319 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  <==      Total: 1
2020-11-21 15:58:17.320 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==>  Preparing: select time from email_history_info where id =? 
2020-11-21 15:58:17.320 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==> Parameters: 1295193707376541696(String)
2020-11-21 15:58:17.329 INFO  cn.jwis.qualityworkflow.util.EmailService[142]  qualityadmin email is 
2020-11-21 15:58:17.329 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==>  Preparing: select time from email_history_info where id =? 
2020-11-21 15:58:17.330 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==> Parameters: 1308013116927246336(String)
2020-11-21 15:58:17.331 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  <==      Total: 1
2020-11-21 15:58:17.334 INFO  cn.jwis.qualityworkflow.util.EmailService[142]  hualanlan email is test@jwis.cn
2020-11-21 15:58:17.335 DEBUG cn.jwis.qualityworkflow.dao.UserMapper.getSuperior[145]  ==>  Preparing: select superior from department_mapping where user_account = ? and type = ? limit 0,1 
2020-11-21 15:58:17.335 DEBUG cn.jwis.qualityworkflow.dao.UserMapper.getSuperior[145]  ==> Parameters: hualanlan(String), QIMS(String)
2020-11-21 15:58:17.339 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  <==      Total: 0
2020-11-21 15:58:17.344 DEBUG cn.jwis.qualityworkflow.dao.UserMapper.getSuperior[145]  <==      Total: 1
2020-11-21 15:58:17.344 DEBUG c.j.q.dao.UserMapper.getSuperiorManagerByUser[145]  ==>  Preparing: select superior_manager from department_mapping where user_account = ? and type = ? limit 0,1 
2020-11-21 15:58:17.345 DEBUG c.j.q.dao.UserMapper.getSuperiorManagerByUser[145]  ==> Parameters: hualanlan(String), QIMS(String)
2020-11-21 15:58:17.354 DEBUG c.j.q.dao.UserMapper.getSuperiorManagerByUser[145]  <==      Total: 1
2020-11-21 15:58:17.385 INFO  cn.jwis.qualityworkflow.util.EmailService[142]  xujinbiao email is 
2020-11-21 15:58:17.385 DEBUG cn.jwis.qualityworkflow.dao.UserMapper.getSuperior[145]  ==>  Preparing: select superior from department_mapping where user_account = ? and type = ? limit 0,1 
2020-11-21 15:58:17.385 DEBUG cn.jwis.qualityworkflow.dao.UserMapper.getSuperior[145]  ==> Parameters: xujinbiao(String), COMMON(String)
2020-11-21 15:58:17.389 INFO  cn.jwis.qualityworkflow.util.EmailService[142]  kiween email is 
2020-11-21 15:58:17.389 INFO  cn.jwis.qualityworkflow.util.EmailService[142]  workflow3 email is null
2020-11-21 15:58:17.389 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==>  Preparing: select time from email_history_info where id =? 
2020-11-21 15:58:17.390 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==> Parameters: 1309046852858937344(String)
2020-11-21 15:58:17.392 DEBUG cn.jwis.qualityworkflow.dao.UserMapper.getSuperior[145]  <==      Total: 1
2020-11-21 15:58:17.400 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  <==      Total: 0
2020-11-21 15:58:17.415 INFO  cn.jwis.qualityworkflow.util.EmailService[142]  zhouxianling email is 
2020-11-21 15:58:17.416 DEBUG c.j.qualityworkflow.dao.TaskRecordMapper.getById[145]  ==>  Preparing: SELECT * from task_record WHERE id = ? 
2020-11-21 15:58:17.416 DEBUG c.j.qualityworkflow.dao.TaskRecordMapper.getById[145]  ==> Parameters: 1287933861786812416(String)
2020-11-21 15:58:17.419 INFO  cn.jwis.qualityworkflow.util.EmailService[142]  hualanlan email is test@jwis.cn
2020-11-21 15:58:17.419 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==>  Preparing: select time from email_history_info where id =? 
2020-11-21 15:58:17.419 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==> Parameters: 1315248790789160960(String)
2020-11-21 15:58:17.421 INFO  cn.jwis.qualityworkflow.util.EmailService[142]  codisan email is kelvin@jwis.cn
2020-11-21 15:58:17.421 DEBUG c.j.qualityworkflow.dao.CommonMapper.getKeyToName[145]  ==>  Preparing: SELECT * FROM key_to_name 
2020-11-21 15:58:17.421 DEBUG c.j.qualityworkflow.dao.CommonMapper.getKeyToName[145]  ==> Parameters: 
2020-11-21 15:58:17.425 DEBUG c.j.qualityworkflow.dao.TaskRecordMapper.getById[145]  <==      Total: 1
2020-11-21 15:58:17.425 DEBUG c.j.qualityworkflow.dao.CommonMapper.getKeyToName[145]  ==>  Preparing: SELECT * FROM key_to_name 
2020-11-21 15:58:17.425 DEBUG c.j.qualityworkflow.dao.CommonMapper.getKeyToName[145]  ==> Parameters: 
2020-11-21 15:58:17.427 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  <==      Total: 1
2020-11-21 15:58:17.429 DEBUG c.j.qualityworkflow.dao.CommonMapper.getKeyToName[145]  <==      Total: 8
2020-11-21 15:58:17.431 INFO  cn.jwis.qualityworkflow.util.EmailService[74]  haomiao.liu@jwis.cn send a Mail to kelvin@jwis.cn fail, because null
2020-11-21 15:58:17.433 DEBUG c.j.qualityworkflow.dao.CommonMapper.getKeyToName[145]  <==      Total: 8
2020-11-21 15:58:17.434 INFO  cn.jwis.qualityworkflow.util.EmailService[71]  haomiao.liu@jwis.cn send a Mail to test@jwis.cn
2020-11-21 15:58:17.453 INFO  cn.jwis.qualityworkflow.util.EmailService[142]  dz_gyb1 email is test@jwis.cn
2020-11-21 15:58:17.453 DEBUG cn.jwis.qualityworkflow.dao.UserMapper.getSuperior[145]  ==>  Preparing: select superior from department_mapping where user_account = ? and type = ? limit 0,1 
2020-11-21 15:58:17.453 DEBUG cn.jwis.qualityworkflow.dao.UserMapper.getSuperior[145]  ==> Parameters: dz_gyb1(String), COMMON(String)
2020-11-21 15:58:17.534 DEBUG cn.jwis.qualityworkflow.dao.UserMapper.getSuperior[145]  <==      Total: 1
2020-11-21 15:58:17.556 INFO  cn.jwis.qualityworkflow.util.EmailService[142]  dz_gyb2 email is jian.song@jwis.cn
2020-11-21 15:58:17.557 DEBUG c.j.qualityworkflow.dao.CommonMapper.getKeyToName[145]  ==>  Preparing: SELECT * FROM key_to_name 
2020-11-21 15:58:17.557 DEBUG c.j.qualityworkflow.dao.CommonMapper.getKeyToName[145]  ==> Parameters: 
2020-11-21 15:58:17.566 DEBUG c.j.qualityworkflow.dao.CommonMapper.getKeyToName[145]  <==      Total: 8
2020-11-21 15:58:17.566 DEBUG c.j.q.m.l.d.L.getLineQualifyDetailednessInfo[145]  ==>  Preparing: SELECT q.*,ar.processInstanceId ,ar.taskId,ar.assignee,ar.taskState,ar.taskName FROM line_qualify_info q,(SELECT workflow_business_id, process_instance_id as processInstanceId,task_id as taskId,assignee,task_state as taskState,task_name taskName FROM task_record WHERE task_id=?) ar where q.id=ar.workflow_business_id 
2020-11-21 15:58:17.566 DEBUG c.j.q.m.l.d.L.getLineQualifyDetailednessInfo[145]  ==> Parameters: 5506556(String)
2020-11-21 15:58:17.579 DEBUG c.j.q.m.l.d.L.getLineQualifyDetailednessInfo[145]  <==      Total: 1
2020-11-21 15:58:17.581 INFO  cn.jwis.qualityworkflow.util.EmailService[69]  haomiao.liu@jwis.cn send a Mail to test@jwis.cn and make a copy for [jian.song@jwis.cn]
2020-11-21 15:58:18.100 ERROR o.s.s.support.TaskUtils$LoggingErrorHandler[96] org.springframework.mail.MailSendException: Failed messages: javax.mail.SendFailedException: Invalid Addresses;
  nested exception is:
	com.sun.mail.smtp.SMTPAddressFailedException: 554 RCPT (kelvin@jwis.cn) dosn't exist

	at org.springframework.mail.javamail.JavaMailSenderImpl.doSend(JavaMailSenderImpl.java:488)
	at org.springframework.mail.javamail.JavaMailSenderImpl.send(JavaMailSenderImpl.java:359)
	at org.springframework.mail.javamail.JavaMailSenderImpl.send(JavaMailSenderImpl.java:354)
	at cn.jwis.qualityworkflow.util.EmailService.sendHtmlMail(EmailService.java:76)
	at cn.jwis.qualityworkflow.modules.qims.service.imp.QimsSendMailServiceImpl.sendEmailTohandler(QimsSendMailServiceImpl.java:161)
	at cn.jwis.qualityworkflow.modules.ipqc.service.imp.AuditQualityProblemServiceImpl.qimsSendMail(AuditQualityProblemServiceImpl.java:321)
	at cn.jwis.qualityworkflow.modules.ipqc.service.imp.AuditQualityProblemServiceImpl$$FastClassBySpringCGLIB$$15ff325f.invoke(<generated>)
	at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:684)
	at cn.jwis.qualityworkflow.modules.ipqc.service.imp.AuditQualityProblemServiceImpl$$EnhancerBySpringCGLIB$$ce0d09f5.qimsSendMail(<generated>)
	at cn.jwis.qualityworkflow.modules.ipqc.job.ipqcMailJob.qimsSendMail(ipqcMailJob.java:28)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.springframework.scheduling.support.ScheduledMethodRunnable.run(ScheduledMethodRunnable.java:84)
	at org.springframework.scheduling.support.DelegatingErrorHandlingRunnable.run(DelegatingErrorHandlingRunnable.java:54)
	at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:511)
	at java.util.concurrent.FutureTask.runAndReset(FutureTask.java:308)
	at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.access$301(ScheduledThreadPoolExecutor.java:180)
	at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:294)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)
 Unexpected error occurred in scheduled task.
2020-11-21 15:58:18.112 ERROR o.s.s.support.TaskUtils$LoggingErrorHandler[96] org.springframework.mail.MailSendException: Failed messages: javax.mail.SendFailedException: Invalid Addresses;
  nested exception is:
	com.sun.mail.smtp.SMTPAddressFailedException: 554 RCPT (test@jwis.cn) dosn't exist

	at org.springframework.mail.javamail.JavaMailSenderImpl.doSend(JavaMailSenderImpl.java:488)
	at org.springframework.mail.javamail.JavaMailSenderImpl.send(JavaMailSenderImpl.java:359)
	at org.springframework.mail.javamail.JavaMailSenderImpl.send(JavaMailSenderImpl.java:354)
	at cn.jwis.qualityworkflow.util.EmailService.sendHtmlMail(EmailService.java:76)
	at cn.jwis.qualityworkflow.modules.qims.service.imp.QimsSendMailServiceImpl.sendEmailTohandler(QimsSendMailServiceImpl.java:161)
	at cn.jwis.qualityworkflow.modules.qims.service.imp.QimsSendMailServiceImpl.qimsSendMail(QimsSendMailServiceImpl.java:90)
	at cn.jwis.qualityworkflow.modules.qims.job.qimsMailJob.qimsSendMail(qimsMailJob.java:49)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.springframework.scheduling.support.ScheduledMethodRunnable.run(ScheduledMethodRunnable.java:84)
	at org.springframework.scheduling.support.DelegatingErrorHandlingRunnable.run(DelegatingErrorHandlingRunnable.java:54)
	at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:511)
	at java.util.concurrent.FutureTask.runAndReset(FutureTask.java:308)
	at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.access$301(ScheduledThreadPoolExecutor.java:180)
	at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:294)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)
 Unexpected error occurred in scheduled task.
2020-11-21 15:58:18.231 ERROR o.s.s.support.TaskUtils$LoggingErrorHandler[96] org.springframework.mail.MailSendException: Failed messages: javax.mail.SendFailedException: Invalid Addresses;
  nested exception is:
	com.sun.mail.smtp.SMTPAddressFailedException: 554 RCPT (test@jwis.cn) dosn't exist
;
  nested exception is:
	com.sun.mail.smtp.SMTPAddressFailedException: 554 RCPT (jian.song@jwis.cn) dosn't exist

	at org.springframework.mail.javamail.JavaMailSenderImpl.doSend(JavaMailSenderImpl.java:488)
	at org.springframework.mail.javamail.JavaMailSenderImpl.send(JavaMailSenderImpl.java:359)
	at org.springframework.mail.javamail.JavaMailSenderImpl.send(JavaMailSenderImpl.java:354)
	at cn.jwis.qualityworkflow.util.EmailService.sendHtmlMail(EmailService.java:76)
	at cn.jwis.qualityworkflow.modules.linequalify.service.imp.LineQualifyServiceImpl.sendEmailTohandler(LineQualifyServiceImpl.java:617)
	at cn.jwis.qualityworkflow.modules.linequalify.service.imp.LineQualifyServiceImpl.sendOverTimeMail(LineQualifyServiceImpl.java:594)
	at cn.jwis.qualityworkflow.modules.linequalify.service.imp.LineQualifyServiceImpl$$FastClassBySpringCGLIB$$4ca6f597.invoke(<generated>)
	at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:684)
	at cn.jwis.qualityworkflow.modules.linequalify.service.imp.LineQualifyServiceImpl$$EnhancerBySpringCGLIB$$157c169d.sendOverTimeMail(<generated>)
	at cn.jwis.qualityworkflow.modules.linequalify.job.LineQualifyMailJob.sendOverTimeMail(LineQualifyMailJob.java:30)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.springframework.scheduling.support.ScheduledMethodRunnable.run(ScheduledMethodRunnable.java:84)
	at org.springframework.scheduling.support.DelegatingErrorHandlingRunnable.run(DelegatingErrorHandlingRunnable.java:54)
	at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:511)
	at java.util.concurrent.FutureTask.runAndReset(FutureTask.java:308)
	at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.access$301(ScheduledThreadPoolExecutor.java:180)
	at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:294)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)
 Unexpected error occurred in scheduled task.
2020-11-21 16:00:00.019 INFO  c.j.q.m.t.T.TraceabilityMachineTimerManager[50]  设备定时任务开启
2020-11-21 16:00:00.029 DEBUG c.j.q.m.t.d.T.getTraceabilityMachineList[145]  ==>  Preparing: select table_name from traceability_machine_data group by table_name 
2020-11-21 16:00:00.029 DEBUG c.j.q.m.t.d.T.getTraceabilityMachineList[145]  ==> Parameters: 
2020-11-21 16:00:00.037 DEBUG c.j.q.m.t.d.T.getTraceabilityMachineList[145]  <==      Total: 5
2020-11-21 16:00:00.037 DEBUG c.j.q.m.t.d.T.getTraceabilityMachineFiledName[145]  ==>  Preparing: select filed_name from traceability_machine_data where table_name=? 
2020-11-21 16:00:00.038 DEBUG c.j.q.m.t.d.T.getTraceabilityMachineFiledName[145]  ==> Parameters: dust_free_shed(String)
2020-11-21 16:00:00.045 DEBUG c.j.q.m.t.d.T.getTraceabilityMachineFiledName[145]  <==      Total: 11
2020-11-21 16:00:00.046 DEBUG c.j.q.m.t.d.T.getMaxCreateTime[145]  ==>  Preparing: select max(createtime) from dust_free_shed 
2020-11-21 16:00:00.046 DEBUG c.j.q.m.t.d.T.getMaxCreateTime[145]  ==> Parameters: 
2020-11-21 16:00:00.109 DEBUG c.j.q.m.t.d.T.getMaxCreateTime[145]  <==      Total: 1
2020-11-21 16:00:00.114 ERROR o.s.s.support.TaskUtils$LoggingErrorHandler[96] java.lang.NullPointerException: null
	at cn.jwis.qualityworkflow.modules.traceablity.TimerManager.TraceabilityMachineTimerManager.getLenovoMachineData(TraceabilityMachineTimerManager.java:105)
	at cn.jwis.qualityworkflow.modules.traceablity.TimerManager.TraceabilityMachineTimerManager.MachineTimerManager(TraceabilityMachineTimerManager.java:57)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.springframework.scheduling.support.ScheduledMethodRunnable.run(ScheduledMethodRunnable.java:84)
	at org.springframework.scheduling.support.DelegatingErrorHandlingRunnable.run(DelegatingErrorHandlingRunnable.java:54)
	at org.springframework.scheduling.concurrent.ReschedulingRunnable.run(ReschedulingRunnable.java:93)
	at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:511)
	at java.util.concurrent.FutureTask.run(FutureTask.java:266)
	at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.access$201(ScheduledThreadPoolExecutor.java:180)
	at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:293)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)
 Unexpected error occurred in scheduled task.
2020-11-21 16:03:12.030 INFO  c.j.qualityworkflow.modules.ipqc.job.ipqcMailJob[27]  查询IPQC超时任务
2020-11-21 16:03:12.036 DEBUG c.j.q.m.qims.dao.BlackDashBoardMapper.getHoliday[145]  ==>  Preparing: SELECT DISTINCT date FROM holiday_maintenance WHERE type = '节假日' 
2020-11-21 16:03:12.037 DEBUG c.j.q.m.qims.dao.BlackDashBoardMapper.getHoliday[145]  ==> Parameters: 
2020-11-21 16:03:12.037 DEBUG c.j.q.dao.TaskRecordMapper.getOverTimeTaskRecord[145]  ==>  Preparing: SELECT *, HOUR(timediff(now() , create_date)) overTimeNum FROM task_record WHERE template_key = ? AND task_state IS NULL AND task_name = ? AND HOUR(timediff(now() , create_date)) >= ? 
2020-11-21 16:03:12.037 DEBUG c.j.q.dao.TaskRecordMapper.getOverTimeTaskRecord[145]  ==>  Preparing: SELECT *, HOUR(timediff(now() , create_date)) overTimeNum FROM task_record WHERE template_key = ? AND task_state IS NULL AND task_name = ? AND HOUR(timediff(now() , create_date)) >= ? 
2020-11-21 16:03:12.037 DEBUG c.j.q.dao.TaskRecordMapper.getOverTimeTaskRecord[145]  ==> Parameters: Line Qualify(String), 文件收集(String), 2(Integer)
2020-11-21 16:03:12.037 DEBUG c.j.q.dao.TaskRecordMapper.getOverTimeTaskRecord[145]  ==> Parameters: FactoryAuditProcess(String), 部门审核(String), 24(Integer)
2020-11-21 16:03:12.040 DEBUG c.j.q.dao.TaskRecordMapper.getOverTimeTaskRecord2[145]  ==>  Preparing: SELECT *, HOUR(timediff(now() , create_date)) overTimeNum FROM task_record WHERE template_key = ? AND task_state IS NULL AND HOUR(timediff(now() , create_date)) >= ? 
2020-11-21 16:03:12.040 DEBUG c.j.q.dao.TaskRecordMapper.getOverTimeTaskRecord2[145]  ==> Parameters: IPQCAuditProcess(String), 24(Integer)
2020-11-21 16:03:12.046 DEBUG c.j.q.m.qims.dao.BlackDashBoardMapper.getHoliday[145]  <==      Total: 6
2020-11-21 16:03:12.047 DEBUG c.j.q.m.q.d.B.getWorkOvertimeList[145]  ==>  Preparing: SELECT DISTINCT date FROM holiday_maintenance WHERE type = '补班' 
2020-11-21 16:03:12.047 DEBUG c.j.q.m.q.d.B.getWorkOvertimeList[145]  ==> Parameters: 
2020-11-21 16:03:12.053 DEBUG c.j.q.dao.TaskRecordMapper.getOverTimeTaskRecord[145]  <==      Total: 3
2020-11-21 16:03:12.053 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==>  Preparing: select time from email_history_info where id =? 
2020-11-21 16:03:12.053 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==> Parameters: 1295192540470837248(String)
2020-11-21 16:03:12.053 DEBUG c.j.q.dao.TaskRecordMapper.getOverTimeTaskRecord2[145]  <==      Total: 18
2020-11-21 16:03:12.054 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==>  Preparing: select time from email_history_info where id =? 
2020-11-21 16:03:12.054 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==> Parameters: 1303868320843300864(String)
2020-11-21 16:03:12.056 DEBUG c.j.q.m.q.d.B.getWorkOvertimeList[145]  <==      Total: 4
2020-11-21 16:03:12.056 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getLtStandard[145]  ==>  Preparing: select * from qims_lt_standard_info 
2020-11-21 16:03:12.057 DEBUG c.j.q.dao.TaskRecordMapper.getOverTimeTaskRecord[145]  <==      Total: 8
2020-11-21 16:03:12.057 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getLtStandard[145]  ==> Parameters: 
2020-11-21 16:03:12.057 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==>  Preparing: select time from email_history_info where id =? 
2020-11-21 16:03:12.057 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==> Parameters: 1294123945645047808(String)
2020-11-21 16:03:12.063 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  <==      Total: 1
2020-11-21 16:03:12.063 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==>  Preparing: select time from email_history_info where id =? 
2020-11-21 16:03:12.063 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  <==      Total: 1
2020-11-21 16:03:12.064 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==> Parameters: 1295192619508301824(String)
2020-11-21 16:03:12.064 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==>  Preparing: select time from email_history_info where id =? 
2020-11-21 16:03:12.064 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==> Parameters: 1303868347422605312(String)
2020-11-21 16:03:12.066 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  <==      Total: 1
2020-11-21 16:03:12.067 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getLtStandard[145]  <==      Total: 8
2020-11-21 16:03:12.068 INFO  c.j.qualityworkflow.modules.qims.job.qimsMailJob[47]  查询黑色问题超过LT的信息
2020-11-21 16:03:12.068 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getBlackList[145]  ==>  Preparing: select * from task_record where task_name in('初步原因分析','根本原因分析','根本原因审核') and task_state is null and template_key='QIMSBLACK' 
2020-11-21 16:03:12.068 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getBlackList[145]  ==> Parameters: 
2020-11-21 16:03:12.071 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  <==      Total: 1
2020-11-21 16:03:12.071 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==>  Preparing: select time from email_history_info where id =? 
2020-11-21 16:03:12.071 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==> Parameters: 1299240419787276288(String)
2020-11-21 16:03:12.072 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  <==      Total: 1
2020-11-21 16:03:12.072 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==>  Preparing: select time from email_history_info where id =? 
2020-11-21 16:03:12.073 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==> Parameters: 1303868393815801856(String)
2020-11-21 16:03:12.087 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  <==      Total: 1
2020-11-21 16:03:12.088 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getBlackList[145]  <==      Total: 16
2020-11-21 16:03:12.087 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  <==      Total: 1
2020-11-21 16:03:12.088 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==>  Preparing: select time from email_history_info where id =? 
2020-11-21 16:03:12.089 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==> Parameters: 1303937438065885184(String)
2020-11-21 16:03:12.090 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==>  Preparing: select time from email_history_info where id =? 
2020-11-21 16:03:12.090 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==> Parameters: 1286902446076985344(String)
2020-11-21 16:03:12.096 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  <==      Total: 1
2020-11-21 16:03:12.096 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==>  Preparing: select time from email_history_info where id =? 
2020-11-21 16:03:12.097 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==> Parameters: 1303939538460082176(String)
2020-11-21 16:03:12.097 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  <==      Total: 1
2020-11-21 16:03:12.104 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  <==      Total: 1
2020-11-21 16:03:12.104 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==>  Preparing: select time from email_history_info where id =? 
2020-11-21 16:03:12.104 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==> Parameters: 1303939599889858560(String)
2020-11-21 16:03:12.114 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  <==      Total: 1
2020-11-21 16:03:12.114 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==>  Preparing: select time from email_history_info where id =? 
2020-11-21 16:03:12.115 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==> Parameters: 1306059696263659520(String)
2020-11-21 16:03:12.129 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  <==      Total: 1
2020-11-21 16:03:12.130 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==>  Preparing: select time from email_history_info where id =? 
2020-11-21 16:03:12.130 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==> Parameters: 1306155886347026432(String)
2020-11-21 16:03:12.138 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  <==      Total: 1
2020-11-21 16:03:12.138 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==>  Preparing: select time from email_history_info where id =? 
2020-11-21 16:03:12.139 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==> Parameters: 1306201167000240128(String)
2020-11-21 16:03:12.146 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  <==      Total: 1
2020-11-21 16:03:12.146 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==>  Preparing: select time from email_history_info where id =? 
2020-11-21 16:03:12.146 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==> Parameters: 1308013106458263552(String)
2020-11-21 16:03:12.157 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  <==      Total: 0
2020-11-21 16:03:17.097 DEBUG cn.jwis.qualityworkflow.util.EmailService[144]  get handler mail from http://gateway.dev.jwis.io/platform/sys/user/internal-read?name=qualityadmin happen error cause:I/O error on GET request for "http://gateway.dev.jwis.io/platform/sys/user/internal-read": connect timed out; nested exception is java.net.SocketTimeoutException: connect timed out
2020-11-21 16:03:17.097 DEBUG cn.jwis.qualityworkflow.util.EmailService[144]  get handler mail from http://gateway.dev.jwis.io/platform/sys/user/internal-read?name=dz_gyb1 happen error cause:I/O error on GET request for "http://gateway.dev.jwis.io/platform/sys/user/internal-read": connect timed out; nested exception is java.net.SocketTimeoutException: connect timed out
2020-11-21 16:03:17.098 DEBUG cn.jwis.qualityworkflow.util.EmailService[144]  get handler mail from http://gateway.dev.jwis.io/platform/sys/user/internal-read?name=hualanlan happen error cause:I/O error on GET request for "http://gateway.dev.jwis.io/platform/sys/user/internal-read": connect timed out; nested exception is java.net.SocketTimeoutException: connect timed out
2020-11-21 16:03:17.105 DEBUG cn.jwis.qualityworkflow.dao.UserMapper.getSuperior[145]  ==>  Preparing: select superior from department_mapping where user_account = ? and type = ? limit 0,1 
2020-11-21 16:03:17.105 DEBUG cn.jwis.qualityworkflow.dao.UserMapper.getSuperior[145]  ==> Parameters: hualanlan(String), QIMS(String)
2020-11-21 16:03:17.105 DEBUG cn.jwis.qualityworkflow.dao.UserMapper.getSuperior[145]  ==>  Preparing: select superior from department_mapping where user_account = ? and type = ? limit 0,1 
2020-11-21 16:03:17.105 DEBUG cn.jwis.qualityworkflow.dao.UserMapper.getSuperior[145]  ==>  Preparing: select superior from department_mapping where user_account = ? and type = ? limit 0,1 
2020-11-21 16:03:17.106 DEBUG cn.jwis.qualityworkflow.dao.UserMapper.getSuperior[145]  ==> Parameters: qualityadmin(String), COMMON(String)
2020-11-21 16:03:17.106 DEBUG cn.jwis.qualityworkflow.dao.UserMapper.getSuperior[145]  ==> Parameters: dz_gyb1(String), COMMON(String)
2020-11-21 16:03:17.114 DEBUG cn.jwis.qualityworkflow.dao.UserMapper.getSuperior[145]  <==      Total: 1
2020-11-21 16:03:17.115 DEBUG cn.jwis.qualityworkflow.dao.UserMapper.getSuperior[145]  <==      Total: 1
2020-11-21 16:03:17.115 DEBUG cn.jwis.qualityworkflow.dao.UserMapper.getSuperior[145]  <==      Total: 1
2020-11-21 16:03:17.115 DEBUG c.j.q.dao.UserMapper.getSuperiorManagerByUser[145]  ==>  Preparing: select superior_manager from department_mapping where user_account = ? and type = ? limit 0,1 
2020-11-21 16:03:17.115 DEBUG c.j.q.dao.UserMapper.getSuperiorManagerByUser[145]  ==> Parameters: hualanlan(String), QIMS(String)
2020-11-21 16:03:17.124 DEBUG c.j.q.dao.UserMapper.getSuperiorManagerByUser[145]  <==      Total: 1
2020-11-21 16:03:17.156 INFO  cn.jwis.qualityworkflow.util.EmailService[142]  dz_gyb2 email is jian.song@jwis.cn
2020-11-21 16:03:17.156 INFO  cn.jwis.qualityworkflow.util.EmailService[142]  qualityadmin email is 
2020-11-21 16:03:17.156 INFO  c.j.q.m.factoryaudit.job.AuditQuestionMailJob[31]  邮件下发结束
2020-11-21 16:03:17.156 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==>  Preparing: select time from email_history_info where id =? 
2020-11-21 16:03:17.156 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==> Parameters: 1294123945682796544(String)
2020-11-21 16:03:17.157 DEBUG cn.jwis.qualityworkflow.util.EmailService[144]  get handler mail from http://gateway.dev.jwis.io/platform/sys/user/internal-read?name=kiween happen error cause:I/O error on GET request for "http://gateway.dev.jwis.io/platform/sys/user/internal-read": connect timed out; nested exception is java.net.SocketTimeoutException: connect timed out
2020-11-21 16:03:17.160 INFO  cn.jwis.qualityworkflow.util.EmailService[142]  workflow3 email is null
2020-11-21 16:03:17.163 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==>  Preparing: select time from email_history_info where id =? 
2020-11-21 16:03:17.163 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==> Parameters: 1308013110702899200(String)
2020-11-21 16:03:17.163 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  <==      Total: 1
2020-11-21 16:03:17.164 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==>  Preparing: select time from email_history_info where id =? 
2020-11-21 16:03:17.164 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==> Parameters: 1294123945716350976(String)
2020-11-21 16:03:17.170 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  <==      Total: 1
2020-11-21 16:03:17.170 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  <==      Total: 1
2020-11-21 16:03:17.183 INFO  cn.jwis.qualityworkflow.util.EmailService[142]  zhouxianling email is 
2020-11-21 16:03:17.185 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==>  Preparing: select time from email_history_info where id =? 
2020-11-21 16:03:17.186 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==> Parameters: 1286904434760089600(String)
2020-11-21 16:03:17.194 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  <==      Total: 1
2020-11-21 16:03:17.261 INFO  cn.jwis.qualityworkflow.util.EmailService[142]  qualityadmin email is 
2020-11-21 16:03:17.261 DEBUG cn.jwis.qualityworkflow.dao.UserMapper.getSuperior[145]  ==>  Preparing: select superior from department_mapping where user_account = ? and type = ? limit 0,1 
2020-11-21 16:03:17.262 DEBUG cn.jwis.qualityworkflow.dao.UserMapper.getSuperior[145]  ==> Parameters: qualityadmin(String), COMMON(String)
2020-11-21 16:03:17.270 INFO  cn.jwis.qualityworkflow.util.EmailService[142]  xujinbiao email is 
2020-11-21 16:03:17.270 DEBUG cn.jwis.qualityworkflow.dao.UserMapper.getSuperior[145]  ==>  Preparing: select superior from department_mapping where user_account = ? and type = ? limit 0,1 
2020-11-21 16:03:17.271 DEBUG cn.jwis.qualityworkflow.dao.UserMapper.getSuperior[145]  ==> Parameters: xujinbiao(String), COMMON(String)
2020-11-21 16:03:17.272 INFO  cn.jwis.qualityworkflow.util.EmailService[142]  gupp2 email is null
2020-11-21 16:03:17.272 DEBUG cn.jwis.qualityworkflow.dao.UserMapper.getSuperior[145]  ==>  Preparing: select superior from department_mapping where user_account = ? and type = ? limit 0,1 
2020-11-21 16:03:17.272 DEBUG cn.jwis.qualityworkflow.dao.UserMapper.getSuperior[145]  ==> Parameters: gupp2(String), QIMS(String)
2020-11-21 16:03:17.275 DEBUG cn.jwis.qualityworkflow.dao.UserMapper.getSuperior[145]  <==      Total: 1
2020-11-21 16:03:17.280 DEBUG cn.jwis.qualityworkflow.dao.UserMapper.getSuperior[145]  <==      Total: 0
2020-11-21 16:03:17.280 DEBUG cn.jwis.qualityworkflow.dao.UserMapper.getSuperior[145]  <==      Total: 1
2020-11-21 16:03:17.281 DEBUG c.j.q.dao.UserMapper.getSuperiorManagerByUser[145]  ==>  Preparing: select superior_manager from department_mapping where user_account = ? and type = ? limit 0,1 
2020-11-21 16:03:17.281 DEBUG c.j.q.dao.UserMapper.getSuperiorManagerByUser[145]  ==> Parameters: gupp2(String), QIMS(String)
2020-11-21 16:03:17.289 DEBUG c.j.q.dao.UserMapper.getSuperiorManagerByUser[145]  <==      Total: 0
2020-11-21 16:03:17.291 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==>  Preparing: select time from email_history_info where id =? 
2020-11-21 16:03:17.292 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==> Parameters: 1286916730144161792(String)
2020-11-21 16:03:17.301 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  <==      Total: 1
2020-11-21 16:03:17.303 INFO  cn.jwis.qualityworkflow.util.EmailService[142]  qualityadmin email is 
2020-11-21 16:03:17.303 INFO  cn.jwis.qualityworkflow.util.EmailService[142]  hualanlan email is test@jwis.cn
2020-11-21 16:03:17.304 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==>  Preparing: select time from email_history_info where id =? 
2020-11-21 16:03:17.304 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==>  Preparing: select time from email_history_info where id =? 
2020-11-21 16:03:17.304 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==> Parameters: 1308013113928318976(String)
2020-11-21 16:03:17.304 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==> Parameters: 1295193219738370048(String)
2020-11-21 16:03:17.310 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  <==      Total: 1
2020-11-21 16:03:17.310 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  <==      Total: 1
2020-11-21 16:03:17.311 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==>  Preparing: select time from email_history_info where id =? 
2020-11-21 16:03:17.311 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==> Parameters: 1295193220166189056(String)
2020-11-21 16:03:17.320 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  <==      Total: 1
2020-11-21 16:03:17.325 INFO  cn.jwis.qualityworkflow.util.EmailService[142]  gupp2 email is null
2020-11-21 16:03:17.326 DEBUG cn.jwis.qualityworkflow.dao.UserMapper.getSuperior[145]  ==>  Preparing: select superior from department_mapping where user_account = ? and type = ? limit 0,1 
2020-11-21 16:03:17.326 DEBUG cn.jwis.qualityworkflow.dao.UserMapper.getSuperior[145]  ==> Parameters: gupp2(String), QIMS(String)
2020-11-21 16:03:17.332 INFO  cn.jwis.qualityworkflow.util.EmailService[142]  qualityadmin email is 
2020-11-21 16:03:17.333 DEBUG cn.jwis.qualityworkflow.dao.UserMapper.getSuperior[145]  ==>  Preparing: select superior from department_mapping where user_account = ? and type = ? limit 0,1 
2020-11-21 16:03:17.333 DEBUG cn.jwis.qualityworkflow.dao.UserMapper.getSuperior[145]  ==> Parameters: qualityadmin(String), COMMON(String)
2020-11-21 16:03:17.340 INFO  cn.jwis.qualityworkflow.util.EmailService[142]  xujinbiao email is 
2020-11-21 16:03:17.340 DEBUG cn.jwis.qualityworkflow.dao.UserMapper.getSuperior[145]  ==>  Preparing: select superior from department_mapping where user_account = ? and type = ? limit 0,1 
2020-11-21 16:03:17.341 DEBUG cn.jwis.qualityworkflow.dao.UserMapper.getSuperior[145]  ==> Parameters: xujinbiao(String), COMMON(String)
2020-11-21 16:03:17.344 DEBUG cn.jwis.qualityworkflow.dao.UserMapper.getSuperior[145]  <==      Total: 0
2020-11-21 16:03:17.344 DEBUG cn.jwis.qualityworkflow.dao.UserMapper.getSuperior[145]  <==      Total: 1
2020-11-21 16:03:17.344 DEBUG c.j.q.dao.UserMapper.getSuperiorManagerByUser[145]  ==>  Preparing: select superior_manager from department_mapping where user_account = ? and type = ? limit 0,1 
2020-11-21 16:03:17.344 DEBUG c.j.q.dao.UserMapper.getSuperiorManagerByUser[145]  ==> Parameters: gupp2(String), QIMS(String)
2020-11-21 16:03:17.351 DEBUG cn.jwis.qualityworkflow.dao.UserMapper.getSuperior[145]  <==      Total: 1
2020-11-21 16:03:17.359 DEBUG c.j.q.dao.UserMapper.getSuperiorManagerByUser[145]  <==      Total: 0
2020-11-21 16:03:17.362 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==>  Preparing: select time from email_history_info where id =? 
2020-11-21 16:03:17.362 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==> Parameters: 1287933861786812416(String)
2020-11-21 16:03:17.369 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  <==      Total: 1
2020-11-21 16:03:17.389 INFO  cn.jwis.qualityworkflow.util.EmailService[142]  hualanlan email is test@jwis.cn
2020-11-21 16:03:17.389 INFO  cn.jwis.qualityworkflow.util.EmailService[142]  qualityadmin email is 
2020-11-21 16:03:17.390 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==>  Preparing: select time from email_history_info where id =? 
2020-11-21 16:03:17.390 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==>  Preparing: select time from email_history_info where id =? 
2020-11-21 16:03:17.390 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==> Parameters: 1308013116927246336(String)
2020-11-21 16:03:17.390 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==> Parameters: 1295193707351375872(String)
2020-11-21 16:03:17.393 INFO  cn.jwis.qualityworkflow.util.EmailService[142]  hualanlan email is test@jwis.cn
2020-11-21 16:03:17.393 DEBUG cn.jwis.qualityworkflow.dao.UserMapper.getSuperior[145]  ==>  Preparing: select superior from department_mapping where user_account = ? and type = ? limit 0,1 
2020-11-21 16:03:17.393 DEBUG cn.jwis.qualityworkflow.dao.UserMapper.getSuperior[145]  ==> Parameters: hualanlan(String), QIMS(String)
2020-11-21 16:03:17.397 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  <==      Total: 0
2020-11-21 16:03:17.398 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  <==      Total: 1
2020-11-21 16:03:17.398 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==>  Preparing: select time from email_history_info where id =? 
2020-11-21 16:03:17.398 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==> Parameters: 1295193707376541696(String)
2020-11-21 16:03:17.404 DEBUG cn.jwis.qualityworkflow.dao.UserMapper.getSuperior[145]  <==      Total: 1
2020-11-21 16:03:17.404 DEBUG c.j.q.dao.UserMapper.getSuperiorManagerByUser[145]  ==>  Preparing: select superior_manager from department_mapping where user_account = ? and type = ? limit 0,1 
2020-11-21 16:03:17.404 DEBUG c.j.q.dao.UserMapper.getSuperiorManagerByUser[145]  ==> Parameters: hualanlan(String), QIMS(String)
2020-11-21 16:03:17.412 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  <==      Total: 1
2020-11-21 16:03:17.412 DEBUG c.j.q.dao.UserMapper.getSuperiorManagerByUser[145]  <==      Total: 1
2020-11-21 16:03:17.421 INFO  cn.jwis.qualityworkflow.util.EmailService[142]  kiween email is 
2020-11-21 16:03:17.422 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==>  Preparing: select time from email_history_info where id =? 
2020-11-21 16:03:17.422 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==> Parameters: 1309046852858937344(String)
2020-11-21 16:03:17.428 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  <==      Total: 0
2020-11-21 16:03:17.437 INFO  cn.jwis.qualityworkflow.util.EmailService[142]  workflow3 email is null
2020-11-21 16:03:17.437 INFO  cn.jwis.qualityworkflow.util.EmailService[142]  xujinbiao email is 
2020-11-21 16:03:17.437 DEBUG cn.jwis.qualityworkflow.dao.UserMapper.getSuperior[145]  ==>  Preparing: select superior from department_mapping where user_account = ? and type = ? limit 0,1 
2020-11-21 16:03:17.437 DEBUG cn.jwis.qualityworkflow.dao.UserMapper.getSuperior[145]  ==> Parameters: xujinbiao(String), COMMON(String)
2020-11-21 16:03:17.446 DEBUG cn.jwis.qualityworkflow.dao.UserMapper.getSuperior[145]  <==      Total: 1
2020-11-21 16:03:17.454 INFO  cn.jwis.qualityworkflow.util.EmailService[142]  codisan email is kelvin@jwis.cn
2020-11-21 16:03:17.454 DEBUG c.j.qualityworkflow.dao.CommonMapper.getKeyToName[145]  ==>  Preparing: SELECT * FROM key_to_name 
2020-11-21 16:03:17.455 DEBUG c.j.qualityworkflow.dao.CommonMapper.getKeyToName[145]  ==> Parameters: 
2020-11-21 16:03:17.461 DEBUG c.j.qualityworkflow.dao.CommonMapper.getKeyToName[145]  <==      Total: 8
2020-11-21 16:03:17.463 INFO  cn.jwis.qualityworkflow.util.EmailService[74]  haomiao.liu@jwis.cn send a Mail to kelvin@jwis.cn fail, because null
2020-11-21 16:03:17.492 INFO  cn.jwis.qualityworkflow.util.EmailService[142]  zhouxianling email is 
2020-11-21 16:03:17.492 DEBUG c.j.qualityworkflow.dao.TaskRecordMapper.getById[145]  ==>  Preparing: SELECT * from task_record WHERE id = ? 
2020-11-21 16:03:17.493 DEBUG c.j.qualityworkflow.dao.TaskRecordMapper.getById[145]  ==> Parameters: 1287933861786812416(String)
2020-11-21 16:03:17.495 INFO  cn.jwis.qualityworkflow.util.EmailService[142]  hualanlan email is test@jwis.cn
2020-11-21 16:03:17.495 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==>  Preparing: select time from email_history_info where id =? 
2020-11-21 16:03:17.495 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==> Parameters: 1315248790789160960(String)
2020-11-21 16:03:17.500 DEBUG c.j.qualityworkflow.dao.TaskRecordMapper.getById[145]  <==      Total: 1
2020-11-21 16:03:17.501 DEBUG c.j.qualityworkflow.dao.CommonMapper.getKeyToName[145]  ==>  Preparing: SELECT * FROM key_to_name 
2020-11-21 16:03:17.501 DEBUG c.j.qualityworkflow.dao.CommonMapper.getKeyToName[145]  ==> Parameters: 
2020-11-21 16:03:17.506 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  <==      Total: 1
2020-11-21 16:03:17.508 DEBUG c.j.qualityworkflow.dao.CommonMapper.getKeyToName[145]  <==      Total: 8
2020-11-21 16:03:17.509 INFO  cn.jwis.qualityworkflow.util.EmailService[71]  haomiao.liu@jwis.cn send a Mail to test@jwis.cn
2020-11-21 16:03:17.535 INFO  cn.jwis.qualityworkflow.util.EmailService[142]  dz_gyb1 email is test@jwis.cn
2020-11-21 16:03:17.536 DEBUG cn.jwis.qualityworkflow.dao.UserMapper.getSuperior[145]  ==>  Preparing: select superior from department_mapping where user_account = ? and type = ? limit 0,1 
2020-11-21 16:03:17.536 DEBUG cn.jwis.qualityworkflow.dao.UserMapper.getSuperior[145]  ==> Parameters: dz_gyb1(String), COMMON(String)
2020-11-21 16:03:17.547 DEBUG cn.jwis.qualityworkflow.dao.UserMapper.getSuperior[145]  <==      Total: 1
2020-11-21 16:03:17.585 INFO  cn.jwis.qualityworkflow.util.EmailService[142]  dz_gyb2 email is jian.song@jwis.cn
2020-11-21 16:03:17.585 DEBUG c.j.qualityworkflow.dao.CommonMapper.getKeyToName[145]  ==>  Preparing: SELECT * FROM key_to_name 
2020-11-21 16:03:17.585 DEBUG c.j.qualityworkflow.dao.CommonMapper.getKeyToName[145]  ==> Parameters: 
2020-11-21 16:03:17.595 DEBUG c.j.qualityworkflow.dao.CommonMapper.getKeyToName[145]  <==      Total: 8
2020-11-21 16:03:17.595 DEBUG c.j.q.m.l.d.L.getLineQualifyDetailednessInfo[145]  ==>  Preparing: SELECT q.*,ar.processInstanceId ,ar.taskId,ar.assignee,ar.taskState,ar.taskName FROM line_qualify_info q,(SELECT workflow_business_id, process_instance_id as processInstanceId,task_id as taskId,assignee,task_state as taskState,task_name taskName FROM task_record WHERE task_id=?) ar where q.id=ar.workflow_business_id 
2020-11-21 16:03:17.595 DEBUG c.j.q.m.l.d.L.getLineQualifyDetailednessInfo[145]  ==> Parameters: 5506556(String)
2020-11-21 16:03:17.608 DEBUG c.j.q.m.l.d.L.getLineQualifyDetailednessInfo[145]  <==      Total: 1
2020-11-21 16:03:17.610 INFO  cn.jwis.qualityworkflow.util.EmailService[69]  haomiao.liu@jwis.cn send a Mail to test@jwis.cn and make a copy for [jian.song@jwis.cn]
2020-11-21 16:03:18.091 ERROR o.s.s.support.TaskUtils$LoggingErrorHandler[96] org.springframework.mail.MailSendException: Failed messages: javax.mail.SendFailedException: Invalid Addresses;
  nested exception is:
	com.sun.mail.smtp.SMTPAddressFailedException: 554 RCPT (kelvin@jwis.cn) dosn't exist

	at org.springframework.mail.javamail.JavaMailSenderImpl.doSend(JavaMailSenderImpl.java:488)
	at org.springframework.mail.javamail.JavaMailSenderImpl.send(JavaMailSenderImpl.java:359)
	at org.springframework.mail.javamail.JavaMailSenderImpl.send(JavaMailSenderImpl.java:354)
	at cn.jwis.qualityworkflow.util.EmailService.sendHtmlMail(EmailService.java:76)
	at cn.jwis.qualityworkflow.modules.qims.service.imp.QimsSendMailServiceImpl.sendEmailTohandler(QimsSendMailServiceImpl.java:161)
	at cn.jwis.qualityworkflow.modules.ipqc.service.imp.AuditQualityProblemServiceImpl.qimsSendMail(AuditQualityProblemServiceImpl.java:321)
	at cn.jwis.qualityworkflow.modules.ipqc.service.imp.AuditQualityProblemServiceImpl$$FastClassBySpringCGLIB$$15ff325f.invoke(<generated>)
	at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:684)
	at cn.jwis.qualityworkflow.modules.ipqc.service.imp.AuditQualityProblemServiceImpl$$EnhancerBySpringCGLIB$$ce0d09f5.qimsSendMail(<generated>)
	at cn.jwis.qualityworkflow.modules.ipqc.job.ipqcMailJob.qimsSendMail(ipqcMailJob.java:28)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.springframework.scheduling.support.ScheduledMethodRunnable.run(ScheduledMethodRunnable.java:84)
	at org.springframework.scheduling.support.DelegatingErrorHandlingRunnable.run(DelegatingErrorHandlingRunnable.java:54)
	at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:511)
	at java.util.concurrent.FutureTask.runAndReset(FutureTask.java:308)
	at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.access$301(ScheduledThreadPoolExecutor.java:180)
	at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:294)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)
 Unexpected error occurred in scheduled task.
2020-11-21 16:03:18.169 ERROR o.s.s.support.TaskUtils$LoggingErrorHandler[96] org.springframework.mail.MailSendException: Failed messages: javax.mail.SendFailedException: Invalid Addresses;
  nested exception is:
	com.sun.mail.smtp.SMTPAddressFailedException: 554 RCPT (test@jwis.cn) dosn't exist

	at org.springframework.mail.javamail.JavaMailSenderImpl.doSend(JavaMailSenderImpl.java:488)
	at org.springframework.mail.javamail.JavaMailSenderImpl.send(JavaMailSenderImpl.java:359)
	at org.springframework.mail.javamail.JavaMailSenderImpl.send(JavaMailSenderImpl.java:354)
	at cn.jwis.qualityworkflow.util.EmailService.sendHtmlMail(EmailService.java:76)
	at cn.jwis.qualityworkflow.modules.qims.service.imp.QimsSendMailServiceImpl.sendEmailTohandler(QimsSendMailServiceImpl.java:161)
	at cn.jwis.qualityworkflow.modules.qims.service.imp.QimsSendMailServiceImpl.qimsSendMail(QimsSendMailServiceImpl.java:90)
	at cn.jwis.qualityworkflow.modules.qims.job.qimsMailJob.qimsSendMail(qimsMailJob.java:49)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.springframework.scheduling.support.ScheduledMethodRunnable.run(ScheduledMethodRunnable.java:84)
	at org.springframework.scheduling.support.DelegatingErrorHandlingRunnable.run(DelegatingErrorHandlingRunnable.java:54)
	at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:511)
	at java.util.concurrent.FutureTask.runAndReset(FutureTask.java:308)
	at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.access$301(ScheduledThreadPoolExecutor.java:180)
	at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:294)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)
 Unexpected error occurred in scheduled task.
2020-11-21 16:03:18.287 ERROR o.s.s.support.TaskUtils$LoggingErrorHandler[96] org.springframework.mail.MailSendException: Failed messages: javax.mail.SendFailedException: Invalid Addresses;
  nested exception is:
	com.sun.mail.smtp.SMTPAddressFailedException: 554 RCPT (test@jwis.cn) dosn't exist
;
  nested exception is:
	com.sun.mail.smtp.SMTPAddressFailedException: 554 RCPT (jian.song@jwis.cn) dosn't exist

	at org.springframework.mail.javamail.JavaMailSenderImpl.doSend(JavaMailSenderImpl.java:488)
	at org.springframework.mail.javamail.JavaMailSenderImpl.send(JavaMailSenderImpl.java:359)
	at org.springframework.mail.javamail.JavaMailSenderImpl.send(JavaMailSenderImpl.java:354)
	at cn.jwis.qualityworkflow.util.EmailService.sendHtmlMail(EmailService.java:76)
	at cn.jwis.qualityworkflow.modules.linequalify.service.imp.LineQualifyServiceImpl.sendEmailTohandler(LineQualifyServiceImpl.java:617)
	at cn.jwis.qualityworkflow.modules.linequalify.service.imp.LineQualifyServiceImpl.sendOverTimeMail(LineQualifyServiceImpl.java:594)
	at cn.jwis.qualityworkflow.modules.linequalify.service.imp.LineQualifyServiceImpl$$FastClassBySpringCGLIB$$4ca6f597.invoke(<generated>)
	at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:684)
	at cn.jwis.qualityworkflow.modules.linequalify.service.imp.LineQualifyServiceImpl$$EnhancerBySpringCGLIB$$157c169d.sendOverTimeMail(<generated>)
	at cn.jwis.qualityworkflow.modules.linequalify.job.LineQualifyMailJob.sendOverTimeMail(LineQualifyMailJob.java:30)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.springframework.scheduling.support.ScheduledMethodRunnable.run(ScheduledMethodRunnable.java:84)
	at org.springframework.scheduling.support.DelegatingErrorHandlingRunnable.run(DelegatingErrorHandlingRunnable.java:54)
	at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:511)
	at java.util.concurrent.FutureTask.runAndReset(FutureTask.java:308)
	at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.access$301(ScheduledThreadPoolExecutor.java:180)
	at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:294)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)
 Unexpected error occurred in scheduled task.
2020-11-21 16:08:12.039 INFO  c.j.qualityworkflow.modules.ipqc.job.ipqcMailJob[27]  查询IPQC超时任务
2020-11-21 16:08:12.061 DEBUG c.j.q.dao.TaskRecordMapper.getOverTimeTaskRecord[145]  ==>  Preparing: SELECT *, HOUR(timediff(now() , create_date)) overTimeNum FROM task_record WHERE template_key = ? AND task_state IS NULL AND task_name = ? AND HOUR(timediff(now() , create_date)) >= ? 
2020-11-21 16:08:12.061 DEBUG c.j.q.dao.TaskRecordMapper.getOverTimeTaskRecord2[145]  ==>  Preparing: SELECT *, HOUR(timediff(now() , create_date)) overTimeNum FROM task_record WHERE template_key = ? AND task_state IS NULL AND HOUR(timediff(now() , create_date)) >= ? 
2020-11-21 16:08:12.062 DEBUG c.j.q.m.qims.dao.BlackDashBoardMapper.getHoliday[145]  ==>  Preparing: SELECT DISTINCT date FROM holiday_maintenance WHERE type = '节假日' 
2020-11-21 16:08:12.062 DEBUG c.j.q.dao.TaskRecordMapper.getOverTimeTaskRecord[145]  ==> Parameters: Line Qualify(String), 文件收集(String), 2(Integer)
2020-11-21 16:08:12.062 DEBUG c.j.q.dao.TaskRecordMapper.getOverTimeTaskRecord[145]  ==>  Preparing: SELECT *, HOUR(timediff(now() , create_date)) overTimeNum FROM task_record WHERE template_key = ? AND task_state IS NULL AND task_name = ? AND HOUR(timediff(now() , create_date)) >= ? 
2020-11-21 16:08:12.062 DEBUG c.j.q.dao.TaskRecordMapper.getOverTimeTaskRecord2[145]  ==> Parameters: IPQCAuditProcess(String), 24(Integer)
2020-11-21 16:08:12.062 DEBUG c.j.q.m.qims.dao.BlackDashBoardMapper.getHoliday[145]  ==> Parameters: 
2020-11-21 16:08:12.062 DEBUG c.j.q.dao.TaskRecordMapper.getOverTimeTaskRecord[145]  ==> Parameters: FactoryAuditProcess(String), 部门审核(String), 24(Integer)
2020-11-21 16:08:12.072 DEBUG c.j.q.m.qims.dao.BlackDashBoardMapper.getHoliday[145]  <==      Total: 6
2020-11-21 16:08:12.072 DEBUG c.j.q.m.q.d.B.getWorkOvertimeList[145]  ==>  Preparing: SELECT DISTINCT date FROM holiday_maintenance WHERE type = '补班' 
2020-11-21 16:08:12.073 DEBUG c.j.q.m.q.d.B.getWorkOvertimeList[145]  ==> Parameters: 
2020-11-21 16:08:12.073 DEBUG c.j.q.dao.TaskRecordMapper.getOverTimeTaskRecord[145]  <==      Total: 3
2020-11-21 16:08:12.073 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==>  Preparing: select time from email_history_info where id =? 
2020-11-21 16:08:12.074 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==> Parameters: 1295192540470837248(String)
2020-11-21 16:08:12.076 DEBUG c.j.q.dao.TaskRecordMapper.getOverTimeTaskRecord[145]  <==      Total: 8
2020-11-21 16:08:12.076 DEBUG c.j.q.dao.TaskRecordMapper.getOverTimeTaskRecord2[145]  <==      Total: 18
2020-11-21 16:08:12.077 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==>  Preparing: select time from email_history_info where id =? 
2020-11-21 16:08:12.077 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==>  Preparing: select time from email_history_info where id =? 
2020-11-21 16:08:12.077 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==> Parameters: 1294123945645047808(String)
2020-11-21 16:08:12.077 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==> Parameters: 1303868320843300864(String)
2020-11-21 16:08:12.081 DEBUG c.j.q.m.q.d.B.getWorkOvertimeList[145]  <==      Total: 4
2020-11-21 16:08:12.082 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getLtStandard[145]  ==>  Preparing: select * from qims_lt_standard_info 
2020-11-21 16:08:12.082 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getLtStandard[145]  ==> Parameters: 
2020-11-21 16:08:12.082 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  <==      Total: 1
2020-11-21 16:08:12.083 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==>  Preparing: select time from email_history_info where id =? 
2020-11-21 16:08:12.083 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==> Parameters: 1295192619508301824(String)
2020-11-21 16:08:12.084 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  <==      Total: 1
2020-11-21 16:08:12.085 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==>  Preparing: select time from email_history_info where id =? 
2020-11-21 16:08:12.085 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==> Parameters: 1303868347422605312(String)
2020-11-21 16:08:12.091 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  <==      Total: 1
2020-11-21 16:08:12.091 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getLtStandard[145]  <==      Total: 8
2020-11-21 16:08:12.092 INFO  c.j.qualityworkflow.modules.qims.job.qimsMailJob[47]  查询黑色问题超过LT的信息
2020-11-21 16:08:12.091 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  <==      Total: 1
2020-11-21 16:08:12.092 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getBlackList[145]  ==>  Preparing: select * from task_record where task_name in('初步原因分析','根本原因分析','根本原因审核') and task_state is null and template_key='QIMSBLACK' 
2020-11-21 16:08:12.092 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  <==      Total: 1
2020-11-21 16:08:12.092 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getBlackList[145]  ==> Parameters: 
2020-11-21 16:08:12.092 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==>  Preparing: select time from email_history_info where id =? 
2020-11-21 16:08:12.092 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==>  Preparing: select time from email_history_info where id =? 
2020-11-21 16:08:12.092 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==> Parameters: 1299240419787276288(String)
2020-11-21 16:08:12.093 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==> Parameters: 1303868393815801856(String)
2020-11-21 16:08:12.103 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  <==      Total: 1
2020-11-21 16:08:12.103 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  <==      Total: 1
2020-11-21 16:08:12.104 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getBlackList[145]  <==      Total: 16
2020-11-21 16:08:12.104 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==>  Preparing: select time from email_history_info where id =? 
2020-11-21 16:08:12.104 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==> Parameters: 1303937438065885184(String)
2020-11-21 16:08:12.106 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==>  Preparing: select time from email_history_info where id =? 
2020-11-21 16:08:12.106 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==> Parameters: 1286902446076985344(String)
2020-11-21 16:08:12.112 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  <==      Total: 1
2020-11-21 16:08:12.113 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==>  Preparing: select time from email_history_info where id =? 
2020-11-21 16:08:12.113 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==> Parameters: 1303939538460082176(String)
2020-11-21 16:08:12.118 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  <==      Total: 1
2020-11-21 16:08:12.120 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  <==      Total: 1
2020-11-21 16:08:12.121 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==>  Preparing: select time from email_history_info where id =? 
2020-11-21 16:08:12.121 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==> Parameters: 1303939599889858560(String)
2020-11-21 16:08:12.127 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  <==      Total: 1
2020-11-21 16:08:12.128 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==>  Preparing: select time from email_history_info where id =? 
2020-11-21 16:08:12.128 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==> Parameters: 1306059696263659520(String)
2020-11-21 16:08:12.135 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  <==      Total: 1
2020-11-21 16:08:12.136 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==>  Preparing: select time from email_history_info where id =? 
2020-11-21 16:08:12.137 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==> Parameters: 1306155886347026432(String)
2020-11-21 16:08:12.145 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  <==      Total: 1
2020-11-21 16:08:12.146 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==>  Preparing: select time from email_history_info where id =? 
2020-11-21 16:08:12.146 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==> Parameters: 1306201167000240128(String)
2020-11-21 16:08:12.155 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  <==      Total: 1
2020-11-21 16:08:12.156 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==>  Preparing: select time from email_history_info where id =? 
2020-11-21 16:08:12.156 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==> Parameters: 1308013106458263552(String)
2020-11-21 16:08:12.164 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  <==      Total: 0
2020-11-21 16:08:17.302 DEBUG cn.jwis.qualityworkflow.util.EmailService[144]  get handler mail from http://gateway.dev.jwis.io/platform/sys/user/internal-read?name=hualanlan happen error cause:I/O error on GET request for "http://gateway.dev.jwis.io/platform/sys/user/internal-read": connect timed out; nested exception is java.net.SocketTimeoutException: connect timed out
2020-11-21 16:08:17.302 DEBUG cn.jwis.qualityworkflow.util.EmailService[144]  get handler mail from http://gateway.dev.jwis.io/platform/sys/user/internal-read?name=kiween happen error cause:I/O error on GET request for "http://gateway.dev.jwis.io/platform/sys/user/internal-read": connect timed out; nested exception is java.net.SocketTimeoutException: connect timed out
2020-11-21 16:08:17.302 DEBUG cn.jwis.qualityworkflow.util.EmailService[144]  get handler mail from http://gateway.dev.jwis.io/platform/sys/user/internal-read?name=qualityadmin happen error cause:I/O error on GET request for "http://gateway.dev.jwis.io/platform/sys/user/internal-read": connect timed out; nested exception is java.net.SocketTimeoutException: connect timed out
2020-11-21 16:08:17.302 DEBUG cn.jwis.qualityworkflow.util.EmailService[144]  get handler mail from http://gateway.dev.jwis.io/platform/sys/user/internal-read?name=dz_gyb1 happen error cause:I/O error on GET request for "http://gateway.dev.jwis.io/platform/sys/user/internal-read": connect timed out; nested exception is java.net.SocketTimeoutException: connect timed out
2020-11-21 16:08:17.313 DEBUG cn.jwis.qualityworkflow.dao.UserMapper.getSuperior[145]  ==>  Preparing: select superior from department_mapping where user_account = ? and type = ? limit 0,1 
2020-11-21 16:08:17.313 DEBUG cn.jwis.qualityworkflow.dao.UserMapper.getSuperior[145]  ==>  Preparing: select superior from department_mapping where user_account = ? and type = ? limit 0,1 
2020-11-21 16:08:17.313 DEBUG cn.jwis.qualityworkflow.dao.UserMapper.getSuperior[145]  ==> Parameters: hualanlan(String), QIMS(String)
2020-11-21 16:08:17.313 DEBUG cn.jwis.qualityworkflow.dao.UserMapper.getSuperior[145]  ==> Parameters: qualityadmin(String), COMMON(String)
2020-11-21 16:08:17.316 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==>  Preparing: select time from email_history_info where id =? 
2020-11-21 16:08:17.316 DEBUG cn.jwis.qualityworkflow.dao.UserMapper.getSuperior[145]  ==>  Preparing: select superior from department_mapping where user_account = ? and type = ? limit 0,1 
2020-11-21 16:08:17.316 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==> Parameters: 1308013110702899200(String)
2020-11-21 16:08:17.316 DEBUG cn.jwis.qualityworkflow.dao.UserMapper.getSuperior[145]  ==> Parameters: dz_gyb1(String), COMMON(String)
2020-11-21 16:08:17.328 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  <==      Total: 1
2020-11-21 16:08:17.328 DEBUG cn.jwis.qualityworkflow.dao.UserMapper.getSuperior[145]  <==      Total: 1
2020-11-21 16:08:17.328 DEBUG cn.jwis.qualityworkflow.dao.UserMapper.getSuperior[145]  <==      Total: 1
2020-11-21 16:08:17.328 DEBUG c.j.q.dao.UserMapper.getSuperiorManagerByUser[145]  ==>  Preparing: select superior_manager from department_mapping where user_account = ? and type = ? limit 0,1 
2020-11-21 16:08:17.329 DEBUG c.j.q.dao.UserMapper.getSuperiorManagerByUser[145]  ==> Parameters: hualanlan(String), QIMS(String)
2020-11-21 16:08:17.333 DEBUG cn.jwis.qualityworkflow.dao.UserMapper.getSuperior[145]  <==      Total: 1
2020-11-21 16:08:17.342 DEBUG c.j.q.dao.UserMapper.getSuperiorManagerByUser[145]  <==      Total: 1
2020-11-21 16:08:17.385 INFO  cn.jwis.qualityworkflow.util.EmailService[142]  qualityadmin email is 
2020-11-21 16:08:17.386 INFO  c.j.q.m.factoryaudit.job.AuditQuestionMailJob[31]  邮件下发结束
2020-11-21 16:08:17.387 INFO  cn.jwis.qualityworkflow.util.EmailService[142]  workflow3 email is null
2020-11-21 16:08:17.387 INFO  cn.jwis.qualityworkflow.util.EmailService[142]  qualityadmin email is 
2020-11-21 16:08:17.387 INFO  cn.jwis.qualityworkflow.util.EmailService[142]  dz_gyb2 email is jian.song@jwis.cn
2020-11-21 16:08:17.389 DEBUG cn.jwis.qualityworkflow.dao.UserMapper.getSuperior[145]  ==>  Preparing: select superior from department_mapping where user_account = ? and type = ? limit 0,1 
2020-11-21 16:08:17.389 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==>  Preparing: select time from email_history_info where id =? 
2020-11-21 16:08:17.389 DEBUG cn.jwis.qualityworkflow.dao.UserMapper.getSuperior[145]  ==> Parameters: qualityadmin(String), COMMON(String)
2020-11-21 16:08:17.389 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==> Parameters: 1294123945682796544(String)
2020-11-21 16:08:17.401 DEBUG cn.jwis.qualityworkflow.dao.UserMapper.getSuperior[145]  <==      Total: 1
2020-11-21 16:08:17.402 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  <==      Total: 1
2020-11-21 16:08:17.403 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==>  Preparing: select time from email_history_info where id =? 
2020-11-21 16:08:17.403 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==> Parameters: 1294123945716350976(String)
2020-11-21 16:08:17.410 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  <==      Total: 1
2020-11-21 16:08:17.417 INFO  cn.jwis.qualityworkflow.util.EmailService[142]  zhouxianling email is 
2020-11-21 16:08:17.419 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==>  Preparing: select time from email_history_info where id =? 
2020-11-21 16:08:17.419 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==> Parameters: 1286904434760089600(String)
2020-11-21 16:08:17.422 INFO  cn.jwis.qualityworkflow.util.EmailService[142]  qualityadmin email is 
2020-11-21 16:08:17.422 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==>  Preparing: select time from email_history_info where id =? 
2020-11-21 16:08:17.422 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==> Parameters: 1308013113928318976(String)
2020-11-21 16:08:17.429 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  <==      Total: 1
2020-11-21 16:08:17.429 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  <==      Total: 1
2020-11-21 16:08:17.437 INFO  cn.jwis.qualityworkflow.util.EmailService[142]  xujinbiao email is 
2020-11-21 16:08:17.437 DEBUG cn.jwis.qualityworkflow.dao.UserMapper.getSuperior[145]  ==>  Preparing: select superior from department_mapping where user_account = ? and type = ? limit 0,1 
2020-11-21 16:08:17.437 DEBUG cn.jwis.qualityworkflow.dao.UserMapper.getSuperior[145]  ==> Parameters: xujinbiao(String), COMMON(String)
2020-11-21 16:08:17.461 DEBUG cn.jwis.qualityworkflow.dao.UserMapper.getSuperior[145]  <==      Total: 1
2020-11-21 16:08:17.469 INFO  cn.jwis.qualityworkflow.util.EmailService[142]  qualityadmin email is 
2020-11-21 16:08:17.469 DEBUG cn.jwis.qualityworkflow.dao.UserMapper.getSuperior[145]  ==>  Preparing: select superior from department_mapping where user_account = ? and type = ? limit 0,1 
2020-11-21 16:08:17.470 DEBUG cn.jwis.qualityworkflow.dao.UserMapper.getSuperior[145]  ==> Parameters: qualityadmin(String), COMMON(String)
2020-11-21 16:08:17.474 INFO  cn.jwis.qualityworkflow.util.EmailService[142]  gupp2 email is null
2020-11-21 16:08:17.474 DEBUG cn.jwis.qualityworkflow.dao.UserMapper.getSuperior[145]  ==>  Preparing: select superior from department_mapping where user_account = ? and type = ? limit 0,1 
2020-11-21 16:08:17.474 DEBUG cn.jwis.qualityworkflow.dao.UserMapper.getSuperior[145]  ==> Parameters: gupp2(String), QIMS(String)
2020-11-21 16:08:17.482 INFO  cn.jwis.qualityworkflow.util.EmailService[142]  hualanlan email is test@jwis.cn
2020-11-21 16:08:17.482 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==>  Preparing: select time from email_history_info where id =? 
2020-11-21 16:08:17.482 DEBUG cn.jwis.qualityworkflow.dao.UserMapper.getSuperior[145]  <==      Total: 0
2020-11-21 16:08:17.482 DEBUG cn.jwis.qualityworkflow.dao.UserMapper.getSuperior[145]  <==      Total: 1
2020-11-21 16:08:17.482 DEBUG c.j.q.dao.UserMapper.getSuperiorManagerByUser[145]  ==>  Preparing: select superior_manager from department_mapping where user_account = ? and type = ? limit 0,1 
2020-11-21 16:08:17.482 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==> Parameters: 1295193219738370048(String)
2020-11-21 16:08:17.483 DEBUG c.j.q.dao.UserMapper.getSuperiorManagerByUser[145]  ==> Parameters: gupp2(String), QIMS(String)
2020-11-21 16:08:17.491 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  <==      Total: 1
2020-11-21 16:08:17.492 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==>  Preparing: select time from email_history_info where id =? 
2020-11-21 16:08:17.492 DEBUG c.j.q.dao.UserMapper.getSuperiorManagerByUser[145]  <==      Total: 0
2020-11-21 16:08:17.492 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==> Parameters: 1295193220166189056(String)
2020-11-21 16:08:17.494 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==>  Preparing: select time from email_history_info where id =? 
2020-11-21 16:08:17.494 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==> Parameters: 1286916730144161792(String)
2020-11-21 16:08:17.502 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  <==      Total: 1
2020-11-21 16:08:17.503 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  <==      Total: 1
2020-11-21 16:08:17.505 INFO  cn.jwis.qualityworkflow.util.EmailService[142]  qualityadmin email is 
2020-11-21 16:08:17.505 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==>  Preparing: select time from email_history_info where id =? 
2020-11-21 16:08:17.505 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==> Parameters: 1308013116927246336(String)
2020-11-21 16:08:17.517 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  <==      Total: 0
2020-11-21 16:08:17.522 INFO  cn.jwis.qualityworkflow.util.EmailService[142]  xujinbiao email is 
2020-11-21 16:08:17.522 DEBUG cn.jwis.qualityworkflow.dao.UserMapper.getSuperior[145]  ==>  Preparing: select superior from department_mapping where user_account = ? and type = ? limit 0,1 
2020-11-21 16:08:17.522 DEBUG cn.jwis.qualityworkflow.dao.UserMapper.getSuperior[145]  ==> Parameters: xujinbiao(String), COMMON(String)
2020-11-21 16:08:17.532 INFO  cn.jwis.qualityworkflow.util.EmailService[142]  gupp2 email is null
2020-11-21 16:08:17.532 DEBUG cn.jwis.qualityworkflow.dao.UserMapper.getSuperior[145]  ==>  Preparing: select superior from department_mapping where user_account = ? and type = ? limit 0,1 
2020-11-21 16:08:17.532 DEBUG cn.jwis.qualityworkflow.dao.UserMapper.getSuperior[145]  ==> Parameters: gupp2(String), QIMS(String)
2020-11-21 16:08:17.545 DEBUG cn.jwis.qualityworkflow.dao.UserMapper.getSuperior[145]  <==      Total: 1
2020-11-21 16:08:17.546 DEBUG cn.jwis.qualityworkflow.dao.UserMapper.getSuperior[145]  <==      Total: 0
2020-11-21 16:08:17.546 DEBUG c.j.q.dao.UserMapper.getSuperiorManagerByUser[145]  ==>  Preparing: select superior_manager from department_mapping where user_account = ? and type = ? limit 0,1 
2020-11-21 16:08:17.546 DEBUG c.j.q.dao.UserMapper.getSuperiorManagerByUser[145]  ==> Parameters: gupp2(String), QIMS(String)
2020-11-21 16:08:17.550 INFO  cn.jwis.qualityworkflow.util.EmailService[142]  kiween email is 
2020-11-21 16:08:17.550 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==>  Preparing: select time from email_history_info where id =? 
2020-11-21 16:08:17.550 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==> Parameters: 1309046852858937344(String)
2020-11-21 16:08:17.556 DEBUG c.j.q.dao.UserMapper.getSuperiorManagerByUser[145]  <==      Total: 0
2020-11-21 16:08:17.558 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==>  Preparing: select time from email_history_info where id =? 
2020-11-21 16:08:17.558 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==> Parameters: 1287933861786812416(String)
2020-11-21 16:08:17.560 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  <==      Total: 0
2020-11-21 16:08:17.565 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  <==      Total: 1
2020-11-21 16:08:17.566 INFO  cn.jwis.qualityworkflow.util.EmailService[142]  hualanlan email is test@jwis.cn
2020-11-21 16:08:17.566 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==>  Preparing: select time from email_history_info where id =? 
2020-11-21 16:08:17.567 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==> Parameters: 1295193707351375872(String)
2020-11-21 16:08:17.594 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  <==      Total: 1
2020-11-21 16:08:17.595 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==>  Preparing: select time from email_history_info where id =? 
2020-11-21 16:08:17.595 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==> Parameters: 1295193707376541696(String)
2020-11-21 16:08:17.600 INFO  cn.jwis.qualityworkflow.util.EmailService[142]  codisan email is kelvin@jwis.cn
2020-11-21 16:08:17.601 DEBUG c.j.qualityworkflow.dao.CommonMapper.getKeyToName[145]  ==>  Preparing: SELECT * FROM key_to_name 
2020-11-21 16:08:17.601 DEBUG c.j.qualityworkflow.dao.CommonMapper.getKeyToName[145]  ==> Parameters: 
2020-11-21 16:08:17.604 INFO  cn.jwis.qualityworkflow.util.EmailService[142]  hualanlan email is test@jwis.cn
2020-11-21 16:08:17.605 DEBUG cn.jwis.qualityworkflow.dao.UserMapper.getSuperior[145]  ==>  Preparing: select superior from department_mapping where user_account = ? and type = ? limit 0,1 
2020-11-21 16:08:17.605 DEBUG cn.jwis.qualityworkflow.dao.UserMapper.getSuperior[145]  ==> Parameters: hualanlan(String), QIMS(String)
2020-11-21 16:08:17.607 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  <==      Total: 1
2020-11-21 16:08:17.631 DEBUG c.j.qualityworkflow.dao.CommonMapper.getKeyToName[145]  <==      Total: 8
2020-11-21 16:08:17.632 DEBUG cn.jwis.qualityworkflow.dao.UserMapper.getSuperior[145]  <==      Total: 1
2020-11-21 16:08:17.632 DEBUG c.j.q.dao.UserMapper.getSuperiorManagerByUser[145]  ==>  Preparing: select superior_manager from department_mapping where user_account = ? and type = ? limit 0,1 
2020-11-21 16:08:17.632 DEBUG c.j.q.dao.UserMapper.getSuperiorManagerByUser[145]  ==> Parameters: hualanlan(String), QIMS(String)
2020-11-21 16:08:17.633 INFO  cn.jwis.qualityworkflow.util.EmailService[74]  haomiao.liu@jwis.cn send a Mail to kelvin@jwis.cn fail, because null
2020-11-21 16:08:17.646 INFO  cn.jwis.qualityworkflow.util.EmailService[142]  xujinbiao email is 
2020-11-21 16:08:17.647 DEBUG cn.jwis.qualityworkflow.dao.UserMapper.getSuperior[145]  ==>  Preparing: select superior from department_mapping where user_account = ? and type = ? limit 0,1 
2020-11-21 16:08:17.647 DEBUG cn.jwis.qualityworkflow.dao.UserMapper.getSuperior[145]  ==> Parameters: xujinbiao(String), COMMON(String)
2020-11-21 16:08:17.647 DEBUG c.j.q.dao.UserMapper.getSuperiorManagerByUser[145]  <==      Total: 1
2020-11-21 16:08:17.660 DEBUG cn.jwis.qualityworkflow.dao.UserMapper.getSuperior[145]  <==      Total: 1
2020-11-21 16:08:17.674 INFO  cn.jwis.qualityworkflow.util.EmailService[142]  workflow3 email is null
2020-11-21 16:08:17.681 INFO  cn.jwis.qualityworkflow.util.EmailService[142]  hualanlan email is test@jwis.cn
2020-11-21 16:08:17.682 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==>  Preparing: select time from email_history_info where id =? 
2020-11-21 16:08:17.682 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==> Parameters: 1315248790789160960(String)
2020-11-21 16:08:17.690 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  <==      Total: 1
2020-11-21 16:08:17.702 INFO  cn.jwis.qualityworkflow.util.EmailService[142]  zhouxianling email is 
2020-11-21 16:08:17.702 DEBUG c.j.qualityworkflow.dao.TaskRecordMapper.getById[145]  ==>  Preparing: SELECT * from task_record WHERE id = ? 
2020-11-21 16:08:17.702 DEBUG c.j.qualityworkflow.dao.TaskRecordMapper.getById[145]  ==> Parameters: 1287933861786812416(String)
2020-11-21 16:08:17.716 DEBUG c.j.qualityworkflow.dao.TaskRecordMapper.getById[145]  <==      Total: 1
2020-11-21 16:08:17.717 DEBUG c.j.qualityworkflow.dao.CommonMapper.getKeyToName[145]  ==>  Preparing: SELECT * FROM key_to_name 
2020-11-21 16:08:17.717 DEBUG c.j.qualityworkflow.dao.CommonMapper.getKeyToName[145]  ==> Parameters: 
2020-11-21 16:08:17.728 INFO  cn.jwis.qualityworkflow.util.EmailService[142]  dz_gyb1 email is test@jwis.cn
2020-11-21 16:08:17.729 DEBUG cn.jwis.qualityworkflow.dao.UserMapper.getSuperior[145]  ==>  Preparing: select superior from department_mapping where user_account = ? and type = ? limit 0,1 
2020-11-21 16:08:17.729 DEBUG cn.jwis.qualityworkflow.dao.UserMapper.getSuperior[145]  ==> Parameters: dz_gyb1(String), COMMON(String)
2020-11-21 16:08:17.742 DEBUG cn.jwis.qualityworkflow.dao.UserMapper.getSuperior[145]  <==      Total: 1
2020-11-21 16:08:17.742 DEBUG c.j.qualityworkflow.dao.CommonMapper.getKeyToName[145]  <==      Total: 8
2020-11-21 16:08:17.743 INFO  cn.jwis.qualityworkflow.util.EmailService[71]  haomiao.liu@jwis.cn send a Mail to test@jwis.cn
2020-11-21 16:08:17.768 INFO  cn.jwis.qualityworkflow.util.EmailService[142]  dz_gyb2 email is jian.song@jwis.cn
2020-11-21 16:08:17.768 DEBUG c.j.qualityworkflow.dao.CommonMapper.getKeyToName[145]  ==>  Preparing: SELECT * FROM key_to_name 
2020-11-21 16:08:17.768 DEBUG c.j.qualityworkflow.dao.CommonMapper.getKeyToName[145]  ==> Parameters: 
2020-11-21 16:08:17.790 DEBUG c.j.qualityworkflow.dao.CommonMapper.getKeyToName[145]  <==      Total: 8
2020-11-21 16:08:17.791 DEBUG c.j.q.m.l.d.L.getLineQualifyDetailednessInfo[145]  ==>  Preparing: SELECT q.*,ar.processInstanceId ,ar.taskId,ar.assignee,ar.taskState,ar.taskName FROM line_qualify_info q,(SELECT workflow_business_id, process_instance_id as processInstanceId,task_id as taskId,assignee,task_state as taskState,task_name taskName FROM task_record WHERE task_id=?) ar where q.id=ar.workflow_business_id 
2020-11-21 16:08:17.791 DEBUG c.j.q.m.l.d.L.getLineQualifyDetailednessInfo[145]  ==> Parameters: 5506556(String)
2020-11-21 16:08:17.818 DEBUG c.j.q.m.l.d.L.getLineQualifyDetailednessInfo[145]  <==      Total: 1
2020-11-21 16:08:17.819 INFO  cn.jwis.qualityworkflow.util.EmailService[69]  haomiao.liu@jwis.cn send a Mail to test@jwis.cn and make a copy for [jian.song@jwis.cn]
2020-11-21 16:08:18.269 ERROR o.s.s.support.TaskUtils$LoggingErrorHandler[96] org.springframework.mail.MailSendException: Failed messages: javax.mail.SendFailedException: Invalid Addresses;
  nested exception is:
	com.sun.mail.smtp.SMTPAddressFailedException: 554 RCPT (kelvin@jwis.cn) dosn't exist

	at org.springframework.mail.javamail.JavaMailSenderImpl.doSend(JavaMailSenderImpl.java:488)
	at org.springframework.mail.javamail.JavaMailSenderImpl.send(JavaMailSenderImpl.java:359)
	at org.springframework.mail.javamail.JavaMailSenderImpl.send(JavaMailSenderImpl.java:354)
	at cn.jwis.qualityworkflow.util.EmailService.sendHtmlMail(EmailService.java:76)
	at cn.jwis.qualityworkflow.modules.qims.service.imp.QimsSendMailServiceImpl.sendEmailTohandler(QimsSendMailServiceImpl.java:161)
	at cn.jwis.qualityworkflow.modules.ipqc.service.imp.AuditQualityProblemServiceImpl.qimsSendMail(AuditQualityProblemServiceImpl.java:321)
	at cn.jwis.qualityworkflow.modules.ipqc.service.imp.AuditQualityProblemServiceImpl$$FastClassBySpringCGLIB$$15ff325f.invoke(<generated>)
	at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:684)
	at cn.jwis.qualityworkflow.modules.ipqc.service.imp.AuditQualityProblemServiceImpl$$EnhancerBySpringCGLIB$$ce0d09f5.qimsSendMail(<generated>)
	at cn.jwis.qualityworkflow.modules.ipqc.job.ipqcMailJob.qimsSendMail(ipqcMailJob.java:28)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.springframework.scheduling.support.ScheduledMethodRunnable.run(ScheduledMethodRunnable.java:84)
	at org.springframework.scheduling.support.DelegatingErrorHandlingRunnable.run(DelegatingErrorHandlingRunnable.java:54)
	at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:511)
	at java.util.concurrent.FutureTask.runAndReset(FutureTask.java:308)
	at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.access$301(ScheduledThreadPoolExecutor.java:180)
	at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:294)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)
 Unexpected error occurred in scheduled task.
2020-11-21 16:08:18.388 ERROR o.s.s.support.TaskUtils$LoggingErrorHandler[96] org.springframework.mail.MailSendException: Failed messages: javax.mail.SendFailedException: Invalid Addresses;
  nested exception is:
	com.sun.mail.smtp.SMTPAddressFailedException: 554 RCPT (test@jwis.cn) dosn't exist

	at org.springframework.mail.javamail.JavaMailSenderImpl.doSend(JavaMailSenderImpl.java:488)
	at org.springframework.mail.javamail.JavaMailSenderImpl.send(JavaMailSenderImpl.java:359)
	at org.springframework.mail.javamail.JavaMailSenderImpl.send(JavaMailSenderImpl.java:354)
	at cn.jwis.qualityworkflow.util.EmailService.sendHtmlMail(EmailService.java:76)
	at cn.jwis.qualityworkflow.modules.qims.service.imp.QimsSendMailServiceImpl.sendEmailTohandler(QimsSendMailServiceImpl.java:161)
	at cn.jwis.qualityworkflow.modules.qims.service.imp.QimsSendMailServiceImpl.qimsSendMail(QimsSendMailServiceImpl.java:90)
	at cn.jwis.qualityworkflow.modules.qims.job.qimsMailJob.qimsSendMail(qimsMailJob.java:49)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.springframework.scheduling.support.ScheduledMethodRunnable.run(ScheduledMethodRunnable.java:84)
	at org.springframework.scheduling.support.DelegatingErrorHandlingRunnable.run(DelegatingErrorHandlingRunnable.java:54)
	at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:511)
	at java.util.concurrent.FutureTask.runAndReset(FutureTask.java:308)
	at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.access$301(ScheduledThreadPoolExecutor.java:180)
	at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:294)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)
 Unexpected error occurred in scheduled task.
2020-11-21 16:08:18.533 ERROR o.s.s.support.TaskUtils$LoggingErrorHandler[96] org.springframework.mail.MailSendException: Failed messages: javax.mail.SendFailedException: Invalid Addresses;
  nested exception is:
	com.sun.mail.smtp.SMTPAddressFailedException: 554 RCPT (test@jwis.cn) dosn't exist
;
  nested exception is:
	com.sun.mail.smtp.SMTPAddressFailedException: 554 RCPT (jian.song@jwis.cn) dosn't exist

	at org.springframework.mail.javamail.JavaMailSenderImpl.doSend(JavaMailSenderImpl.java:488)
	at org.springframework.mail.javamail.JavaMailSenderImpl.send(JavaMailSenderImpl.java:359)
	at org.springframework.mail.javamail.JavaMailSenderImpl.send(JavaMailSenderImpl.java:354)
	at cn.jwis.qualityworkflow.util.EmailService.sendHtmlMail(EmailService.java:76)
	at cn.jwis.qualityworkflow.modules.linequalify.service.imp.LineQualifyServiceImpl.sendEmailTohandler(LineQualifyServiceImpl.java:617)
	at cn.jwis.qualityworkflow.modules.linequalify.service.imp.LineQualifyServiceImpl.sendOverTimeMail(LineQualifyServiceImpl.java:594)
	at cn.jwis.qualityworkflow.modules.linequalify.service.imp.LineQualifyServiceImpl$$FastClassBySpringCGLIB$$4ca6f597.invoke(<generated>)
	at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:684)
	at cn.jwis.qualityworkflow.modules.linequalify.service.imp.LineQualifyServiceImpl$$EnhancerBySpringCGLIB$$157c169d.sendOverTimeMail(<generated>)
	at cn.jwis.qualityworkflow.modules.linequalify.job.LineQualifyMailJob.sendOverTimeMail(LineQualifyMailJob.java:30)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.springframework.scheduling.support.ScheduledMethodRunnable.run(ScheduledMethodRunnable.java:84)
	at org.springframework.scheduling.support.DelegatingErrorHandlingRunnable.run(DelegatingErrorHandlingRunnable.java:54)
	at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:511)
	at java.util.concurrent.FutureTask.runAndReset(FutureTask.java:308)
	at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.access$301(ScheduledThreadPoolExecutor.java:180)
	at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:294)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)
 Unexpected error occurred in scheduled task.
2020-11-21 16:10:00.018 INFO  c.j.q.m.t.T.TraceabilityMachineTimerManager[50]  设备定时任务开启
2020-11-21 16:10:00.027 DEBUG c.j.q.m.t.d.T.getTraceabilityMachineList[145]  ==>  Preparing: select table_name from traceability_machine_data group by table_name 
2020-11-21 16:10:00.027 DEBUG c.j.q.m.t.d.T.getTraceabilityMachineList[145]  ==> Parameters: 
2020-11-21 16:10:00.036 DEBUG c.j.q.m.t.d.T.getTraceabilityMachineList[145]  <==      Total: 5
2020-11-21 16:10:00.037 DEBUG c.j.q.m.t.d.T.getTraceabilityMachineFiledName[145]  ==>  Preparing: select filed_name from traceability_machine_data where table_name=? 
2020-11-21 16:10:00.037 DEBUG c.j.q.m.t.d.T.getTraceabilityMachineFiledName[145]  ==> Parameters: dust_free_shed(String)
2020-11-21 16:10:00.051 DEBUG c.j.q.m.t.d.T.getTraceabilityMachineFiledName[145]  <==      Total: 11
2020-11-21 16:10:00.051 DEBUG c.j.q.m.t.d.T.getMaxCreateTime[145]  ==>  Preparing: select max(createtime) from dust_free_shed 
2020-11-21 16:10:00.051 DEBUG c.j.q.m.t.d.T.getMaxCreateTime[145]  ==> Parameters: 
2020-11-21 16:10:00.145 DEBUG c.j.q.m.t.d.T.getMaxCreateTime[145]  <==      Total: 1
2020-11-21 16:10:00.150 ERROR o.s.s.support.TaskUtils$LoggingErrorHandler[96] java.lang.NullPointerException: null
	at cn.jwis.qualityworkflow.modules.traceablity.TimerManager.TraceabilityMachineTimerManager.getLenovoMachineData(TraceabilityMachineTimerManager.java:105)
	at cn.jwis.qualityworkflow.modules.traceablity.TimerManager.TraceabilityMachineTimerManager.MachineTimerManager(TraceabilityMachineTimerManager.java:57)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.springframework.scheduling.support.ScheduledMethodRunnable.run(ScheduledMethodRunnable.java:84)
	at org.springframework.scheduling.support.DelegatingErrorHandlingRunnable.run(DelegatingErrorHandlingRunnable.java:54)
	at org.springframework.scheduling.concurrent.ReschedulingRunnable.run(ReschedulingRunnable.java:93)
	at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:511)
	at java.util.concurrent.FutureTask.run(FutureTask.java:266)
	at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.access$201(ScheduledThreadPoolExecutor.java:180)
	at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:293)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)
 Unexpected error occurred in scheduled task.
2020-11-21 16:13:12.048 INFO  c.j.qualityworkflow.modules.ipqc.job.ipqcMailJob[27]  查询IPQC超时任务
2020-11-21 16:13:12.059 DEBUG c.j.q.m.qims.dao.BlackDashBoardMapper.getHoliday[145]  ==>  Preparing: SELECT DISTINCT date FROM holiday_maintenance WHERE type = '节假日' 
2020-11-21 16:13:12.059 DEBUG c.j.q.dao.TaskRecordMapper.getOverTimeTaskRecord[145]  ==>  Preparing: SELECT *, HOUR(timediff(now() , create_date)) overTimeNum FROM task_record WHERE template_key = ? AND task_state IS NULL AND task_name = ? AND HOUR(timediff(now() , create_date)) >= ? 
2020-11-21 16:13:12.059 DEBUG c.j.q.m.qims.dao.BlackDashBoardMapper.getHoliday[145]  ==> Parameters: 
2020-11-21 16:13:12.059 DEBUG c.j.q.dao.TaskRecordMapper.getOverTimeTaskRecord[145]  ==> Parameters: FactoryAuditProcess(String), 部门审核(String), 24(Integer)
2020-11-21 16:13:12.070 DEBUG c.j.q.dao.TaskRecordMapper.getOverTimeTaskRecord[145]  ==>  Preparing: SELECT *, HOUR(timediff(now() , create_date)) overTimeNum FROM task_record WHERE template_key = ? AND task_state IS NULL AND task_name = ? AND HOUR(timediff(now() , create_date)) >= ? 
2020-11-21 16:13:12.070 DEBUG c.j.q.dao.TaskRecordMapper.getOverTimeTaskRecord2[145]  ==>  Preparing: SELECT *, HOUR(timediff(now() , create_date)) overTimeNum FROM task_record WHERE template_key = ? AND task_state IS NULL AND HOUR(timediff(now() , create_date)) >= ? 
2020-11-21 16:13:12.071 DEBUG c.j.q.dao.TaskRecordMapper.getOverTimeTaskRecord2[145]  ==> Parameters: IPQCAuditProcess(String), 24(Integer)
2020-11-21 16:13:12.071 DEBUG c.j.q.dao.TaskRecordMapper.getOverTimeTaskRecord[145]  ==> Parameters: Line Qualify(String), 文件收集(String), 2(Integer)
2020-11-21 16:13:12.071 DEBUG c.j.q.m.qims.dao.BlackDashBoardMapper.getHoliday[145]  <==      Total: 6
2020-11-21 16:13:12.071 DEBUG c.j.q.dao.TaskRecordMapper.getOverTimeTaskRecord[145]  <==      Total: 3
2020-11-21 16:13:12.071 DEBUG c.j.q.m.q.d.B.getWorkOvertimeList[145]  ==>  Preparing: SELECT DISTINCT date FROM holiday_maintenance WHERE type = '补班' 
2020-11-21 16:13:12.072 DEBUG c.j.q.m.q.d.B.getWorkOvertimeList[145]  ==> Parameters: 
2020-11-21 16:13:12.072 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==>  Preparing: select time from email_history_info where id =? 
2020-11-21 16:13:12.072 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==> Parameters: 1295192540470837248(String)
2020-11-21 16:13:12.087 DEBUG c.j.q.m.q.d.B.getWorkOvertimeList[145]  <==      Total: 4
2020-11-21 16:13:12.087 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  <==      Total: 1
2020-11-21 16:13:12.088 DEBUG c.j.q.dao.TaskRecordMapper.getOverTimeTaskRecord2[145]  <==      Total: 18
2020-11-21 16:13:12.088 DEBUG c.j.q.dao.TaskRecordMapper.getOverTimeTaskRecord[145]  <==      Total: 8
2020-11-21 16:13:12.087 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getLtStandard[145]  ==>  Preparing: select * from qims_lt_standard_info 
2020-11-21 16:13:12.088 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==>  Preparing: select time from email_history_info where id =? 
2020-11-21 16:13:12.088 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getLtStandard[145]  ==> Parameters: 
2020-11-21 16:13:12.088 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==>  Preparing: select time from email_history_info where id =? 
2020-11-21 16:13:12.088 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==>  Preparing: select time from email_history_info where id =? 
2020-11-21 16:13:12.088 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==> Parameters: 1295192619508301824(String)
2020-11-21 16:13:12.088 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==> Parameters: 1303868320843300864(String)
2020-11-21 16:13:12.088 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==> Parameters: 1294123945645047808(String)
2020-11-21 16:13:12.095 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  <==      Total: 1
2020-11-21 16:13:12.095 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==>  Preparing: select time from email_history_info where id =? 
2020-11-21 16:13:12.095 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==> Parameters: 1303868347422605312(String)
2020-11-21 16:13:12.095 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  <==      Total: 1
2020-11-21 16:13:12.096 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==>  Preparing: select time from email_history_info where id =? 
2020-11-21 16:13:12.096 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==> Parameters: 1299240419787276288(String)
2020-11-21 16:13:12.097 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  <==      Total: 1
2020-11-21 16:13:12.097 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getLtStandard[145]  <==      Total: 8
2020-11-21 16:13:12.097 INFO  c.j.qualityworkflow.modules.qims.job.qimsMailJob[47]  查询黑色问题超过LT的信息
2020-11-21 16:13:12.098 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getBlackList[145]  ==>  Preparing: select * from task_record where task_name in('初步原因分析','根本原因分析','根本原因审核') and task_state is null and template_key='QIMSBLACK' 
2020-11-21 16:13:12.098 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getBlackList[145]  ==> Parameters: 
2020-11-21 16:13:12.108 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  <==      Total: 1
2020-11-21 16:13:12.108 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  <==      Total: 1
2020-11-21 16:13:12.108 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==>  Preparing: select time from email_history_info where id =? 
2020-11-21 16:13:12.108 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==> Parameters: 1303868393815801856(String)
2020-11-21 16:13:12.111 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getBlackList[145]  <==      Total: 16
2020-11-21 16:13:12.113 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==>  Preparing: select time from email_history_info where id =? 
2020-11-21 16:13:12.113 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==> Parameters: 1286902446076985344(String)
2020-11-21 16:13:12.116 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  <==      Total: 1
2020-11-21 16:13:12.116 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==>  Preparing: select time from email_history_info where id =? 
2020-11-21 16:13:12.117 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==> Parameters: 1303937438065885184(String)
2020-11-21 16:13:12.125 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  <==      Total: 1
2020-11-21 16:13:12.130 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  <==      Total: 1
2020-11-21 16:13:12.131 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==>  Preparing: select time from email_history_info where id =? 
2020-11-21 16:13:12.131 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==> Parameters: 1303939538460082176(String)
2020-11-21 16:13:12.137 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  <==      Total: 1
2020-11-21 16:13:12.137 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==>  Preparing: select time from email_history_info where id =? 
2020-11-21 16:13:12.138 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==> Parameters: 1303939599889858560(String)
2020-11-21 16:13:12.152 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  <==      Total: 1
2020-11-21 16:13:12.153 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==>  Preparing: select time from email_history_info where id =? 
2020-11-21 16:13:12.153 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==> Parameters: 1306059696263659520(String)
2020-11-21 16:13:12.159 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  <==      Total: 1
2020-11-21 16:13:12.159 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==>  Preparing: select time from email_history_info where id =? 
2020-11-21 16:13:12.160 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==> Parameters: 1306155886347026432(String)
2020-11-21 16:13:12.170 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  <==      Total: 1
2020-11-21 16:13:12.170 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==>  Preparing: select time from email_history_info where id =? 
2020-11-21 16:13:12.170 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==> Parameters: 1306201167000240128(String)
2020-11-21 16:13:12.177 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  <==      Total: 1
2020-11-21 16:13:12.177 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==>  Preparing: select time from email_history_info where id =? 
2020-11-21 16:13:12.178 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==> Parameters: 1308013106458263552(String)
2020-11-21 16:13:12.184 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  <==      Total: 0
2020-11-21 16:13:17.126 DEBUG cn.jwis.qualityworkflow.util.EmailService[144]  get handler mail from http://gateway.dev.jwis.io/platform/sys/user/internal-read?name=hualanlan happen error cause:I/O error on GET request for "http://gateway.dev.jwis.io/platform/sys/user/internal-read": connect timed out; nested exception is java.net.SocketTimeoutException: connect timed out
2020-11-21 16:13:17.126 DEBUG cn.jwis.qualityworkflow.util.EmailService[144]  get handler mail from http://gateway.dev.jwis.io/platform/sys/user/internal-read?name=dz_gyb1 happen error cause:I/O error on GET request for "http://gateway.dev.jwis.io/platform/sys/user/internal-read": connect timed out; nested exception is java.net.SocketTimeoutException: connect timed out
2020-11-21 16:13:17.126 DEBUG cn.jwis.qualityworkflow.util.EmailService[144]  get handler mail from http://gateway.dev.jwis.io/platform/sys/user/internal-read?name=qualityadmin happen error cause:I/O error on GET request for "http://gateway.dev.jwis.io/platform/sys/user/internal-read": connect timed out; nested exception is java.net.SocketTimeoutException: connect timed out
2020-11-21 16:13:17.133 DEBUG cn.jwis.qualityworkflow.dao.UserMapper.getSuperior[145]  ==>  Preparing: select superior from department_mapping where user_account = ? and type = ? limit 0,1 
2020-11-21 16:13:17.133 DEBUG cn.jwis.qualityworkflow.dao.UserMapper.getSuperior[145]  ==> Parameters: hualanlan(String), QIMS(String)
2020-11-21 16:13:17.133 DEBUG cn.jwis.qualityworkflow.dao.UserMapper.getSuperior[145]  ==>  Preparing: select superior from department_mapping where user_account = ? and type = ? limit 0,1 
2020-11-21 16:13:17.133 DEBUG cn.jwis.qualityworkflow.dao.UserMapper.getSuperior[145]  ==> Parameters: qualityadmin(String), COMMON(String)
2020-11-21 16:13:17.135 DEBUG cn.jwis.qualityworkflow.dao.UserMapper.getSuperior[145]  ==>  Preparing: select superior from department_mapping where user_account = ? and type = ? limit 0,1 
2020-11-21 16:13:17.135 DEBUG cn.jwis.qualityworkflow.dao.UserMapper.getSuperior[145]  ==> Parameters: dz_gyb1(String), COMMON(String)
2020-11-21 16:13:17.142 DEBUG cn.jwis.qualityworkflow.dao.UserMapper.getSuperior[145]  <==      Total: 1
2020-11-21 16:13:17.142 DEBUG cn.jwis.qualityworkflow.dao.UserMapper.getSuperior[145]  <==      Total: 1
2020-11-21 16:13:17.142 DEBUG c.j.q.dao.UserMapper.getSuperiorManagerByUser[145]  ==>  Preparing: select superior_manager from department_mapping where user_account = ? and type = ? limit 0,1 
2020-11-21 16:13:17.142 DEBUG c.j.q.dao.UserMapper.getSuperiorManagerByUser[145]  ==> Parameters: hualanlan(String), QIMS(String)
2020-11-21 16:13:17.146 DEBUG cn.jwis.qualityworkflow.dao.UserMapper.getSuperior[145]  <==      Total: 1
2020-11-21 16:13:17.150 DEBUG c.j.q.dao.UserMapper.getSuperiorManagerByUser[145]  <==      Total: 1
2020-11-21 16:13:17.185 DEBUG cn.jwis.qualityworkflow.util.EmailService[144]  get handler mail from http://gateway.dev.jwis.io/platform/sys/user/internal-read?name=kiween happen error cause:I/O error on GET request for "http://gateway.dev.jwis.io/platform/sys/user/internal-read": connect timed out; nested exception is java.net.SocketTimeoutException: connect timed out
2020-11-21 16:13:17.188 INFO  cn.jwis.qualityworkflow.util.EmailService[142]  qualityadmin email is 
2020-11-21 16:13:17.188 INFO  c.j.q.m.factoryaudit.job.AuditQuestionMailJob[31]  邮件下发结束
2020-11-21 16:13:17.197 INFO  cn.jwis.qualityworkflow.util.EmailService[142]  dz_gyb2 email is jian.song@jwis.cn
2020-11-21 16:13:17.197 INFO  cn.jwis.qualityworkflow.util.EmailService[142]  workflow3 email is null
2020-11-21 16:13:17.197 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==>  Preparing: select time from email_history_info where id =? 
2020-11-21 16:13:17.197 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==> Parameters: 1294123945682796544(String)
2020-11-21 16:13:17.199 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==>  Preparing: select time from email_history_info where id =? 
2020-11-21 16:13:17.199 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==> Parameters: 1308013110702899200(String)
2020-11-21 16:13:17.206 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  <==      Total: 1
2020-11-21 16:13:17.207 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  <==      Total: 1
2020-11-21 16:13:17.208 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==>  Preparing: select time from email_history_info where id =? 
2020-11-21 16:13:17.208 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==> Parameters: 1294123945716350976(String)
2020-11-21 16:13:17.222 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  <==      Total: 1
2020-11-21 16:13:17.223 INFO  cn.jwis.qualityworkflow.util.EmailService[142]  zhouxianling email is 
2020-11-21 16:13:17.226 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==>  Preparing: select time from email_history_info where id =? 
2020-11-21 16:13:17.226 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==> Parameters: 1286904434760089600(String)
2020-11-21 16:13:17.232 INFO  cn.jwis.qualityworkflow.util.EmailService[142]  qualityadmin email is 
2020-11-21 16:13:17.232 DEBUG cn.jwis.qualityworkflow.dao.UserMapper.getSuperior[145]  ==>  Preparing: select superior from department_mapping where user_account = ? and type = ? limit 0,1 
2020-11-21 16:13:17.232 DEBUG cn.jwis.qualityworkflow.dao.UserMapper.getSuperior[145]  ==> Parameters: qualityadmin(String), COMMON(String)
2020-11-21 16:13:17.235 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  <==      Total: 1
2020-11-21 16:13:17.238 DEBUG cn.jwis.qualityworkflow.dao.UserMapper.getSuperior[145]  <==      Total: 1
2020-11-21 16:13:17.248 INFO  cn.jwis.qualityworkflow.util.EmailService[142]  xujinbiao email is 
2020-11-21 16:13:17.248 DEBUG cn.jwis.qualityworkflow.dao.UserMapper.getSuperior[145]  ==>  Preparing: select superior from department_mapping where user_account = ? and type = ? limit 0,1 
2020-11-21 16:13:17.248 DEBUG cn.jwis.qualityworkflow.dao.UserMapper.getSuperior[145]  ==> Parameters: xujinbiao(String), COMMON(String)
2020-11-21 16:13:17.256 DEBUG cn.jwis.qualityworkflow.dao.UserMapper.getSuperior[145]  <==      Total: 1
2020-11-21 16:13:17.327 INFO  cn.jwis.qualityworkflow.util.EmailService[142]  qualityadmin email is 
2020-11-21 16:13:17.327 INFO  cn.jwis.qualityworkflow.util.EmailService[142]  gupp2 email is null
2020-11-21 16:13:17.328 DEBUG cn.jwis.qualityworkflow.dao.UserMapper.getSuperior[145]  ==>  Preparing: select superior from department_mapping where user_account = ? and type = ? limit 0,1 
2020-11-21 16:13:17.328 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==>  Preparing: select time from email_history_info where id =? 
2020-11-21 16:13:17.328 DEBUG cn.jwis.qualityworkflow.dao.UserMapper.getSuperior[145]  ==> Parameters: gupp2(String), QIMS(String)
2020-11-21 16:13:17.328 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==> Parameters: 1308013113928318976(String)
2020-11-21 16:13:17.338 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  <==      Total: 1
2020-11-21 16:13:17.338 DEBUG cn.jwis.qualityworkflow.dao.UserMapper.getSuperior[145]  <==      Total: 0
2020-11-21 16:13:17.338 DEBUG c.j.q.dao.UserMapper.getSuperiorManagerByUser[145]  ==>  Preparing: select superior_manager from department_mapping where user_account = ? and type = ? limit 0,1 
2020-11-21 16:13:17.338 DEBUG c.j.q.dao.UserMapper.getSuperiorManagerByUser[145]  ==> Parameters: gupp2(String), QIMS(String)
2020-11-21 16:13:17.347 DEBUG c.j.q.dao.UserMapper.getSuperiorManagerByUser[145]  <==      Total: 0
2020-11-21 16:13:17.347 INFO  cn.jwis.qualityworkflow.util.EmailService[142]  hualanlan email is test@jwis.cn
2020-11-21 16:13:17.347 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==>  Preparing: select time from email_history_info where id =? 
2020-11-21 16:13:17.347 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==> Parameters: 1295193219738370048(String)
2020-11-21 16:13:17.349 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==>  Preparing: select time from email_history_info where id =? 
2020-11-21 16:13:17.349 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==> Parameters: 1286916730144161792(String)
2020-11-21 16:13:17.354 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  <==      Total: 1
2020-11-21 16:13:17.355 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==>  Preparing: select time from email_history_info where id =? 
2020-11-21 16:13:17.355 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==> Parameters: 1295193220166189056(String)
2020-11-21 16:13:17.358 INFO  cn.jwis.qualityworkflow.util.EmailService[142]  qualityadmin email is 
2020-11-21 16:13:17.358 DEBUG cn.jwis.qualityworkflow.dao.UserMapper.getSuperior[145]  ==>  Preparing: select superior from department_mapping where user_account = ? and type = ? limit 0,1 
2020-11-21 16:13:17.359 DEBUG cn.jwis.qualityworkflow.dao.UserMapper.getSuperior[145]  ==> Parameters: qualityadmin(String), COMMON(String)
2020-11-21 16:13:17.367 DEBUG cn.jwis.qualityworkflow.dao.UserMapper.getSuperior[145]  <==      Total: 1
2020-11-21 16:13:17.367 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  <==      Total: 1
2020-11-21 16:13:17.367 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  <==      Total: 1
2020-11-21 16:13:17.411 INFO  cn.jwis.qualityworkflow.util.EmailService[142]  xujinbiao email is 
2020-11-21 16:13:17.411 INFO  cn.jwis.qualityworkflow.util.EmailService[142]  qualityadmin email is 
2020-11-21 16:13:17.411 INFO  cn.jwis.qualityworkflow.util.EmailService[142]  gupp2 email is null
2020-11-21 16:13:17.411 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==>  Preparing: select time from email_history_info where id =? 
2020-11-21 16:13:17.412 DEBUG cn.jwis.qualityworkflow.dao.UserMapper.getSuperior[145]  ==>  Preparing: select superior from department_mapping where user_account = ? and type = ? limit 0,1 
2020-11-21 16:13:17.412 DEBUG cn.jwis.qualityworkflow.dao.UserMapper.getSuperior[145]  ==> Parameters: gupp2(String), QIMS(String)
2020-11-21 16:13:17.412 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==> Parameters: 1308013116927246336(String)
2020-11-21 16:13:17.411 DEBUG cn.jwis.qualityworkflow.dao.UserMapper.getSuperior[145]  ==>  Preparing: select superior from department_mapping where user_account = ? and type = ? limit 0,1 
2020-11-21 16:13:17.412 DEBUG cn.jwis.qualityworkflow.dao.UserMapper.getSuperior[145]  ==> Parameters: xujinbiao(String), COMMON(String)
2020-11-21 16:13:17.420 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  <==      Total: 0
2020-11-21 16:13:17.422 DEBUG cn.jwis.qualityworkflow.dao.UserMapper.getSuperior[145]  <==      Total: 0
2020-11-21 16:13:17.422 DEBUG c.j.q.dao.UserMapper.getSuperiorManagerByUser[145]  ==>  Preparing: select superior_manager from department_mapping where user_account = ? and type = ? limit 0,1 
2020-11-21 16:13:17.422 DEBUG c.j.q.dao.UserMapper.getSuperiorManagerByUser[145]  ==> Parameters: gupp2(String), QIMS(String)
2020-11-21 16:13:17.423 DEBUG cn.jwis.qualityworkflow.dao.UserMapper.getSuperior[145]  <==      Total: 1
2020-11-21 16:13:17.435 DEBUG c.j.q.dao.UserMapper.getSuperiorManagerByUser[145]  <==      Total: 0
2020-11-21 16:13:17.438 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==>  Preparing: select time from email_history_info where id =? 
2020-11-21 16:13:17.438 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==> Parameters: 1287933861786812416(String)
2020-11-21 16:13:17.446 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  <==      Total: 1
2020-11-21 16:13:17.450 INFO  cn.jwis.qualityworkflow.util.EmailService[142]  kiween email is 
2020-11-21 16:13:17.450 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==>  Preparing: select time from email_history_info where id =? 
2020-11-21 16:13:17.450 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==> Parameters: 1309046852858937344(String)
2020-11-21 16:13:17.454 INFO  cn.jwis.qualityworkflow.util.EmailService[142]  hualanlan email is test@jwis.cn
2020-11-21 16:13:17.454 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==>  Preparing: select time from email_history_info where id =? 
2020-11-21 16:13:17.454 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==> Parameters: 1295193707351375872(String)
2020-11-21 16:13:17.459 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  <==      Total: 0
2020-11-21 16:13:17.462 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  <==      Total: 1
2020-11-21 16:13:17.462 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==>  Preparing: select time from email_history_info where id =? 
2020-11-21 16:13:17.463 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==> Parameters: 1295193707376541696(String)
2020-11-21 16:13:17.546 INFO  cn.jwis.qualityworkflow.util.EmailService[142]  hualanlan email is test@jwis.cn
2020-11-21 16:13:17.546 INFO  cn.jwis.qualityworkflow.util.EmailService[142]  codisan email is kelvin@jwis.cn
2020-11-21 16:13:17.546 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  <==      Total: 1
2020-11-21 16:13:17.547 DEBUG c.j.qualityworkflow.dao.CommonMapper.getKeyToName[145]  ==>  Preparing: SELECT * FROM key_to_name 
2020-11-21 16:13:17.547 DEBUG cn.jwis.qualityworkflow.dao.UserMapper.getSuperior[145]  ==>  Preparing: select superior from department_mapping where user_account = ? and type = ? limit 0,1 
2020-11-21 16:13:17.547 DEBUG c.j.qualityworkflow.dao.CommonMapper.getKeyToName[145]  ==> Parameters: 
2020-11-21 16:13:17.547 DEBUG cn.jwis.qualityworkflow.dao.UserMapper.getSuperior[145]  ==> Parameters: hualanlan(String), QIMS(String)
2020-11-21 16:13:17.563 DEBUG cn.jwis.qualityworkflow.dao.UserMapper.getSuperior[145]  <==      Total: 1
2020-11-21 16:13:17.564 DEBUG c.j.qualityworkflow.dao.CommonMapper.getKeyToName[145]  <==      Total: 8
2020-11-21 16:13:17.564 DEBUG c.j.q.dao.UserMapper.getSuperiorManagerByUser[145]  ==>  Preparing: select superior_manager from department_mapping where user_account = ? and type = ? limit 0,1 
2020-11-21 16:13:17.564 DEBUG c.j.q.dao.UserMapper.getSuperiorManagerByUser[145]  ==> Parameters: hualanlan(String), QIMS(String)
2020-11-21 16:13:17.565 INFO  cn.jwis.qualityworkflow.util.EmailService[74]  haomiao.liu@jwis.cn send a Mail to kelvin@jwis.cn fail, because null
2020-11-21 16:13:17.573 INFO  cn.jwis.qualityworkflow.util.EmailService[142]  xujinbiao email is 
2020-11-21 16:13:17.573 DEBUG cn.jwis.qualityworkflow.dao.UserMapper.getSuperior[145]  ==>  Preparing: select superior from department_mapping where user_account = ? and type = ? limit 0,1 
2020-11-21 16:13:17.573 DEBUG cn.jwis.qualityworkflow.dao.UserMapper.getSuperior[145]  ==> Parameters: xujinbiao(String), COMMON(String)
2020-11-21 16:13:17.575 DEBUG c.j.q.dao.UserMapper.getSuperiorManagerByUser[145]  <==      Total: 1
2020-11-21 16:13:17.581 DEBUG cn.jwis.qualityworkflow.dao.UserMapper.getSuperior[145]  <==      Total: 1
2020-11-21 16:13:17.599 INFO  cn.jwis.qualityworkflow.util.EmailService[142]  workflow3 email is null
2020-11-21 16:13:17.601 INFO  cn.jwis.qualityworkflow.util.EmailService[142]  hualanlan email is test@jwis.cn
2020-11-21 16:13:17.602 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==>  Preparing: select time from email_history_info where id =? 
2020-11-21 16:13:17.602 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==> Parameters: 1315248790789160960(String)
2020-11-21 16:13:17.616 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  <==      Total: 1
2020-11-21 16:13:17.626 INFO  cn.jwis.qualityworkflow.util.EmailService[142]  zhouxianling email is 
2020-11-21 16:13:17.627 DEBUG c.j.qualityworkflow.dao.TaskRecordMapper.getById[145]  ==>  Preparing: SELECT * from task_record WHERE id = ? 
2020-11-21 16:13:17.627 DEBUG c.j.qualityworkflow.dao.TaskRecordMapper.getById[145]  ==> Parameters: 1287933861786812416(String)
2020-11-21 16:13:17.636 DEBUG c.j.qualityworkflow.dao.TaskRecordMapper.getById[145]  <==      Total: 1
2020-11-21 16:13:17.637 DEBUG c.j.qualityworkflow.dao.CommonMapper.getKeyToName[145]  ==>  Preparing: SELECT * FROM key_to_name 
2020-11-21 16:13:17.637 DEBUG c.j.qualityworkflow.dao.CommonMapper.getKeyToName[145]  ==> Parameters: 
2020-11-21 16:13:17.641 INFO  cn.jwis.qualityworkflow.util.EmailService[142]  dz_gyb1 email is test@jwis.cn
2020-11-21 16:13:17.641 DEBUG cn.jwis.qualityworkflow.dao.UserMapper.getSuperior[145]  ==>  Preparing: select superior from department_mapping where user_account = ? and type = ? limit 0,1 
2020-11-21 16:13:17.642 DEBUG cn.jwis.qualityworkflow.dao.UserMapper.getSuperior[145]  ==> Parameters: dz_gyb1(String), COMMON(String)
2020-11-21 16:13:17.647 DEBUG c.j.qualityworkflow.dao.CommonMapper.getKeyToName[145]  <==      Total: 8
2020-11-21 16:13:17.648 INFO  cn.jwis.qualityworkflow.util.EmailService[71]  haomiao.liu@jwis.cn send a Mail to test@jwis.cn
2020-11-21 16:13:17.650 DEBUG cn.jwis.qualityworkflow.dao.UserMapper.getSuperior[145]  <==      Total: 1
2020-11-21 16:13:17.784 INFO  cn.jwis.qualityworkflow.util.EmailService[142]  dz_gyb2 email is jian.song@jwis.cn
2020-11-21 16:13:17.784 DEBUG c.j.qualityworkflow.dao.CommonMapper.getKeyToName[145]  ==>  Preparing: SELECT * FROM key_to_name 
2020-11-21 16:13:17.784 DEBUG c.j.qualityworkflow.dao.CommonMapper.getKeyToName[145]  ==> Parameters: 
2020-11-21 16:13:17.792 DEBUG c.j.qualityworkflow.dao.CommonMapper.getKeyToName[145]  <==      Total: 8
2020-11-21 16:13:17.792 DEBUG c.j.q.m.l.d.L.getLineQualifyDetailednessInfo[145]  ==>  Preparing: SELECT q.*,ar.processInstanceId ,ar.taskId,ar.assignee,ar.taskState,ar.taskName FROM line_qualify_info q,(SELECT workflow_business_id, process_instance_id as processInstanceId,task_id as taskId,assignee,task_state as taskState,task_name taskName FROM task_record WHERE task_id=?) ar where q.id=ar.workflow_business_id 
2020-11-21 16:13:17.792 DEBUG c.j.q.m.l.d.L.getLineQualifyDetailednessInfo[145]  ==> Parameters: 5506556(String)
2020-11-21 16:13:17.805 DEBUG c.j.q.m.l.d.L.getLineQualifyDetailednessInfo[145]  <==      Total: 1
2020-11-21 16:13:17.806 INFO  cn.jwis.qualityworkflow.util.EmailService[69]  haomiao.liu@jwis.cn send a Mail to test@jwis.cn and make a copy for [jian.song@jwis.cn]
2020-11-21 16:13:18.665 ERROR o.s.s.support.TaskUtils$LoggingErrorHandler[96] org.springframework.mail.MailSendException: Failed messages: javax.mail.SendFailedException: Invalid Addresses;
  nested exception is:
	com.sun.mail.smtp.SMTPAddressFailedException: 554 RCPT (kelvin@jwis.cn) dosn't exist

	at org.springframework.mail.javamail.JavaMailSenderImpl.doSend(JavaMailSenderImpl.java:488)
	at org.springframework.mail.javamail.JavaMailSenderImpl.send(JavaMailSenderImpl.java:359)
	at org.springframework.mail.javamail.JavaMailSenderImpl.send(JavaMailSenderImpl.java:354)
	at cn.jwis.qualityworkflow.util.EmailService.sendHtmlMail(EmailService.java:76)
	at cn.jwis.qualityworkflow.modules.qims.service.imp.QimsSendMailServiceImpl.sendEmailTohandler(QimsSendMailServiceImpl.java:161)
	at cn.jwis.qualityworkflow.modules.ipqc.service.imp.AuditQualityProblemServiceImpl.qimsSendMail(AuditQualityProblemServiceImpl.java:321)
	at cn.jwis.qualityworkflow.modules.ipqc.service.imp.AuditQualityProblemServiceImpl$$FastClassBySpringCGLIB$$15ff325f.invoke(<generated>)
	at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:684)
	at cn.jwis.qualityworkflow.modules.ipqc.service.imp.AuditQualityProblemServiceImpl$$EnhancerBySpringCGLIB$$ce0d09f5.qimsSendMail(<generated>)
	at cn.jwis.qualityworkflow.modules.ipqc.job.ipqcMailJob.qimsSendMail(ipqcMailJob.java:28)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.springframework.scheduling.support.ScheduledMethodRunnable.run(ScheduledMethodRunnable.java:84)
	at org.springframework.scheduling.support.DelegatingErrorHandlingRunnable.run(DelegatingErrorHandlingRunnable.java:54)
	at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:511)
	at java.util.concurrent.FutureTask.runAndReset(FutureTask.java:308)
	at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.access$301(ScheduledThreadPoolExecutor.java:180)
	at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:294)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)
 Unexpected error occurred in scheduled task.
2020-11-21 16:13:18.887 ERROR o.s.s.support.TaskUtils$LoggingErrorHandler[96] org.springframework.mail.MailSendException: Failed messages: javax.mail.SendFailedException: Invalid Addresses;
  nested exception is:
	com.sun.mail.smtp.SMTPAddressFailedException: 554 RCPT (test@jwis.cn) dosn't exist

	at org.springframework.mail.javamail.JavaMailSenderImpl.doSend(JavaMailSenderImpl.java:488)
	at org.springframework.mail.javamail.JavaMailSenderImpl.send(JavaMailSenderImpl.java:359)
	at org.springframework.mail.javamail.JavaMailSenderImpl.send(JavaMailSenderImpl.java:354)
	at cn.jwis.qualityworkflow.util.EmailService.sendHtmlMail(EmailService.java:76)
	at cn.jwis.qualityworkflow.modules.qims.service.imp.QimsSendMailServiceImpl.sendEmailTohandler(QimsSendMailServiceImpl.java:161)
	at cn.jwis.qualityworkflow.modules.qims.service.imp.QimsSendMailServiceImpl.qimsSendMail(QimsSendMailServiceImpl.java:90)
	at cn.jwis.qualityworkflow.modules.qims.job.qimsMailJob.qimsSendMail(qimsMailJob.java:49)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.springframework.scheduling.support.ScheduledMethodRunnable.run(ScheduledMethodRunnable.java:84)
	at org.springframework.scheduling.support.DelegatingErrorHandlingRunnable.run(DelegatingErrorHandlingRunnable.java:54)
	at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:511)
	at java.util.concurrent.FutureTask.runAndReset(FutureTask.java:308)
	at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.access$301(ScheduledThreadPoolExecutor.java:180)
	at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:294)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)
 Unexpected error occurred in scheduled task.
2020-11-21 16:13:19.101 ERROR o.s.s.support.TaskUtils$LoggingErrorHandler[96] org.springframework.mail.MailSendException: Failed messages: javax.mail.SendFailedException: Invalid Addresses;
  nested exception is:
	com.sun.mail.smtp.SMTPAddressFailedException: 554 RCPT (test@jwis.cn) dosn't exist
;
  nested exception is:
	com.sun.mail.smtp.SMTPAddressFailedException: 554 RCPT (jian.song@jwis.cn) dosn't exist

	at org.springframework.mail.javamail.JavaMailSenderImpl.doSend(JavaMailSenderImpl.java:488)
	at org.springframework.mail.javamail.JavaMailSenderImpl.send(JavaMailSenderImpl.java:359)
	at org.springframework.mail.javamail.JavaMailSenderImpl.send(JavaMailSenderImpl.java:354)
	at cn.jwis.qualityworkflow.util.EmailService.sendHtmlMail(EmailService.java:76)
	at cn.jwis.qualityworkflow.modules.linequalify.service.imp.LineQualifyServiceImpl.sendEmailTohandler(LineQualifyServiceImpl.java:617)
	at cn.jwis.qualityworkflow.modules.linequalify.service.imp.LineQualifyServiceImpl.sendOverTimeMail(LineQualifyServiceImpl.java:594)
	at cn.jwis.qualityworkflow.modules.linequalify.service.imp.LineQualifyServiceImpl$$FastClassBySpringCGLIB$$4ca6f597.invoke(<generated>)
	at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:684)
	at cn.jwis.qualityworkflow.modules.linequalify.service.imp.LineQualifyServiceImpl$$EnhancerBySpringCGLIB$$157c169d.sendOverTimeMail(<generated>)
	at cn.jwis.qualityworkflow.modules.linequalify.job.LineQualifyMailJob.sendOverTimeMail(LineQualifyMailJob.java:30)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.springframework.scheduling.support.ScheduledMethodRunnable.run(ScheduledMethodRunnable.java:84)
	at org.springframework.scheduling.support.DelegatingErrorHandlingRunnable.run(DelegatingErrorHandlingRunnable.java:54)
	at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:511)
	at java.util.concurrent.FutureTask.runAndReset(FutureTask.java:308)
	at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.access$301(ScheduledThreadPoolExecutor.java:180)
	at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:294)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)
 Unexpected error occurred in scheduled task.
2020-11-21 16:15:32.016 DEBUG c.j.q.d.HistoryProcessRecordMapper.selectByExample[145]  ==>  Preparing: select id, workflow_type, workflow_node, workflow_businessId, type, creator, create_date, update_date, department, handle_opinion, reject_reason , content from history_process_record WHERE ( type = ? and workflow_type = ? and workflow_businessId is null and workflow_node = ? and creator = ? ) 
2020-11-21 16:15:32.017 DEBUG c.j.q.d.HistoryProcessRecordMapper.selectByExample[145]  ==> Parameters: SAVE(String), QMSEcnProcess(String), Apply(String), hualanlan(String)
2020-11-21 16:15:32.035 DEBUG c.j.q.d.HistoryProcessRecordMapper.selectByExample[145]  <==      Total: 0
2020-11-21 16:15:32.789 DEBUG c.j.q.dao.UserMapper.getDepartmentList[145]  ==>  Preparing: select DISTINCT department from department_mapping where type = ? and department is not null 
2020-11-21 16:15:32.789 DEBUG c.j.q.dao.UserMapper.getDepartmentList[145]  ==> Parameters: COMMON(String)
2020-11-21 16:15:32.797 DEBUG c.j.q.dao.UserMapper.getDepartmentList[145]  <==      Total: 21
2020-11-21 16:15:32.801 DEBUG c.j.q.dao.UserMapper.getDepartmentList[145]  ==>  Preparing: select DISTINCT department from department_mapping where type = ? and department is not null 
2020-11-21 16:15:32.802 DEBUG c.j.q.dao.UserMapper.getDepartmentList[145]  ==> Parameters: COMMON(String)
2020-11-21 16:15:32.811 DEBUG c.j.q.dao.UserMapper.getDepartmentList[145]  <==      Total: 21
2020-11-21 16:18:12.056 INFO  c.j.qualityworkflow.modules.ipqc.job.ipqcMailJob[27]  查询IPQC超时任务
2020-11-21 16:18:12.066 DEBUG c.j.q.dao.TaskRecordMapper.getOverTimeTaskRecord[145]  ==>  Preparing: SELECT *, HOUR(timediff(now() , create_date)) overTimeNum FROM task_record WHERE template_key = ? AND task_state IS NULL AND task_name = ? AND HOUR(timediff(now() , create_date)) >= ? 
2020-11-21 16:18:12.067 DEBUG c.j.q.m.qims.dao.BlackDashBoardMapper.getHoliday[145]  ==>  Preparing: SELECT DISTINCT date FROM holiday_maintenance WHERE type = '节假日' 
2020-11-21 16:18:12.067 DEBUG c.j.q.dao.TaskRecordMapper.getOverTimeTaskRecord[145]  ==>  Preparing: SELECT *, HOUR(timediff(now() , create_date)) overTimeNum FROM task_record WHERE template_key = ? AND task_state IS NULL AND task_name = ? AND HOUR(timediff(now() , create_date)) >= ? 
2020-11-21 16:18:12.067 DEBUG c.j.q.dao.TaskRecordMapper.getOverTimeTaskRecord[145]  ==> Parameters: Line Qualify(String), 文件收集(String), 2(Integer)
2020-11-21 16:18:12.067 DEBUG c.j.q.m.qims.dao.BlackDashBoardMapper.getHoliday[145]  ==> Parameters: 
2020-11-21 16:18:12.067 DEBUG c.j.q.dao.TaskRecordMapper.getOverTimeTaskRecord[145]  ==> Parameters: FactoryAuditProcess(String), 部门审核(String), 24(Integer)
2020-11-21 16:18:12.072 DEBUG c.j.q.dao.TaskRecordMapper.getOverTimeTaskRecord2[145]  ==>  Preparing: SELECT *, HOUR(timediff(now() , create_date)) overTimeNum FROM task_record WHERE template_key = ? AND task_state IS NULL AND HOUR(timediff(now() , create_date)) >= ? 
2020-11-21 16:18:12.072 DEBUG c.j.q.dao.TaskRecordMapper.getOverTimeTaskRecord2[145]  ==> Parameters: IPQCAuditProcess(String), 24(Integer)
2020-11-21 16:18:12.078 DEBUG c.j.q.m.qims.dao.BlackDashBoardMapper.getHoliday[145]  <==      Total: 6
2020-11-21 16:18:12.079 DEBUG c.j.q.m.q.d.B.getWorkOvertimeList[145]  ==>  Preparing: SELECT DISTINCT date FROM holiday_maintenance WHERE type = '补班' 
2020-11-21 16:18:12.079 DEBUG c.j.q.m.q.d.B.getWorkOvertimeList[145]  ==> Parameters: 
2020-11-21 16:18:12.081 DEBUG c.j.q.dao.TaskRecordMapper.getOverTimeTaskRecord[145]  <==      Total: 3
2020-11-21 16:18:12.081 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==>  Preparing: select time from email_history_info where id =? 
2020-11-21 16:18:12.081 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==> Parameters: 1295192540470837248(String)
2020-11-21 16:18:12.086 DEBUG c.j.q.dao.TaskRecordMapper.getOverTimeTaskRecord[145]  <==      Total: 8
2020-11-21 16:18:12.086 DEBUG c.j.q.dao.TaskRecordMapper.getOverTimeTaskRecord2[145]  <==      Total: 18
2020-11-21 16:18:12.086 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==>  Preparing: select time from email_history_info where id =? 
2020-11-21 16:18:12.086 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==>  Preparing: select time from email_history_info where id =? 
2020-11-21 16:18:12.087 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==> Parameters: 1294123945645047808(String)
2020-11-21 16:18:12.087 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==> Parameters: 1303868320843300864(String)
2020-11-21 16:18:12.089 DEBUG c.j.q.m.q.d.B.getWorkOvertimeList[145]  <==      Total: 4
2020-11-21 16:18:12.090 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getLtStandard[145]  ==>  Preparing: select * from qims_lt_standard_info 
2020-11-21 16:18:12.090 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getLtStandard[145]  ==> Parameters: 
2020-11-21 16:18:12.097 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  <==      Total: 1
2020-11-21 16:18:12.097 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  <==      Total: 1
2020-11-21 16:18:12.097 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  <==      Total: 1
2020-11-21 16:18:12.098 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==>  Preparing: select time from email_history_info where id =? 
2020-11-21 16:18:12.098 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==>  Preparing: select time from email_history_info where id =? 
2020-11-21 16:18:12.098 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==> Parameters: 1303868347422605312(String)
2020-11-21 16:18:12.098 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==> Parameters: 1295192619508301824(String)
2020-11-21 16:18:12.107 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getLtStandard[145]  <==      Total: 8
2020-11-21 16:18:12.107 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  <==      Total: 1
2020-11-21 16:18:12.107 INFO  c.j.qualityworkflow.modules.qims.job.qimsMailJob[47]  查询黑色问题超过LT的信息
2020-11-21 16:18:12.107 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==>  Preparing: select time from email_history_info where id =? 
2020-11-21 16:18:12.107 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  <==      Total: 1
2020-11-21 16:18:12.107 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getBlackList[145]  ==>  Preparing: select * from task_record where task_name in('初步原因分析','根本原因分析','根本原因审核') and task_state is null and template_key='QIMSBLACK' 
2020-11-21 16:18:12.107 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==> Parameters: 1303868393815801856(String)
2020-11-21 16:18:12.107 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getBlackList[145]  ==> Parameters: 
2020-11-21 16:18:12.107 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==>  Preparing: select time from email_history_info where id =? 
2020-11-21 16:18:12.108 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==> Parameters: 1299240419787276288(String)
2020-11-21 16:18:12.115 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  <==      Total: 1
2020-11-21 16:18:12.116 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==>  Preparing: select time from email_history_info where id =? 
2020-11-21 16:18:12.116 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==> Parameters: 1303937438065885184(String)
2020-11-21 16:18:12.117 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  <==      Total: 1
2020-11-21 16:18:12.120 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getBlackList[145]  <==      Total: 16
2020-11-21 16:18:12.122 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==>  Preparing: select time from email_history_info where id =? 
2020-11-21 16:18:12.123 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==> Parameters: 1286902446076985344(String)
2020-11-21 16:18:12.126 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  <==      Total: 1
2020-11-21 16:18:12.127 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==>  Preparing: select time from email_history_info where id =? 
2020-11-21 16:18:12.127 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==> Parameters: 1303939538460082176(String)
2020-11-21 16:18:12.131 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  <==      Total: 1
2020-11-21 16:18:12.138 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  <==      Total: 1
2020-11-21 16:18:12.139 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==>  Preparing: select time from email_history_info where id =? 
2020-11-21 16:18:12.139 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==> Parameters: 1303939599889858560(String)
2020-11-21 16:18:12.145 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  <==      Total: 1
2020-11-21 16:18:12.145 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==>  Preparing: select time from email_history_info where id =? 
2020-11-21 16:18:12.146 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==> Parameters: 1306059696263659520(String)
2020-11-21 16:18:12.158 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  <==      Total: 1
2020-11-21 16:18:12.158 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==>  Preparing: select time from email_history_info where id =? 
2020-11-21 16:18:12.158 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==> Parameters: 1306155886347026432(String)
2020-11-21 16:18:12.174 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  <==      Total: 1
2020-11-21 16:18:12.174 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==>  Preparing: select time from email_history_info where id =? 
2020-11-21 16:18:12.174 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==> Parameters: 1306201167000240128(String)
2020-11-21 16:18:12.181 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  <==      Total: 1
2020-11-21 16:18:12.182 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==>  Preparing: select time from email_history_info where id =? 
2020-11-21 16:18:12.182 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==> Parameters: 1308013106458263552(String)
2020-11-21 16:18:12.191 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  <==      Total: 0
2020-11-21 16:18:17.120 DEBUG cn.jwis.qualityworkflow.util.EmailService[144]  get handler mail from http://gateway.dev.jwis.io/platform/sys/user/internal-read?name=qualityadmin happen error cause:I/O error on GET request for "http://gateway.dev.jwis.io/platform/sys/user/internal-read": connect timed out; nested exception is java.net.SocketTimeoutException: connect timed out
2020-11-21 16:18:17.120 DEBUG cn.jwis.qualityworkflow.util.EmailService[144]  get handler mail from http://gateway.dev.jwis.io/platform/sys/user/internal-read?name=dz_gyb1 happen error cause:I/O error on GET request for "http://gateway.dev.jwis.io/platform/sys/user/internal-read": connect timed out; nested exception is java.net.SocketTimeoutException: connect timed out
2020-11-21 16:18:17.130 DEBUG cn.jwis.qualityworkflow.dao.UserMapper.getSuperior[145]  ==>  Preparing: select superior from department_mapping where user_account = ? and type = ? limit 0,1 
2020-11-21 16:18:17.130 DEBUG cn.jwis.qualityworkflow.dao.UserMapper.getSuperior[145]  ==> Parameters: qualityadmin(String), COMMON(String)
2020-11-21 16:18:17.132 DEBUG cn.jwis.qualityworkflow.util.EmailService[144]  get handler mail from http://gateway.dev.jwis.io/platform/sys/user/internal-read?name=hualanlan happen error cause:I/O error on GET request for "http://gateway.dev.jwis.io/platform/sys/user/internal-read": connect timed out; nested exception is java.net.SocketTimeoutException: connect timed out
2020-11-21 16:18:17.132 DEBUG cn.jwis.qualityworkflow.dao.UserMapper.getSuperior[145]  ==>  Preparing: select superior from department_mapping where user_account = ? and type = ? limit 0,1 
2020-11-21 16:18:17.133 DEBUG cn.jwis.qualityworkflow.dao.UserMapper.getSuperior[145]  ==> Parameters: dz_gyb1(String), COMMON(String)
2020-11-21 16:18:17.138 DEBUG cn.jwis.qualityworkflow.dao.UserMapper.getSuperior[145]  <==      Total: 1
2020-11-21 16:18:17.141 DEBUG cn.jwis.qualityworkflow.dao.UserMapper.getSuperior[145]  ==>  Preparing: select superior from department_mapping where user_account = ? and type = ? limit 0,1 
2020-11-21 16:18:17.141 DEBUG cn.jwis.qualityworkflow.dao.UserMapper.getSuperior[145]  <==      Total: 1
2020-11-21 16:18:17.141 DEBUG cn.jwis.qualityworkflow.dao.UserMapper.getSuperior[145]  ==> Parameters: hualanlan(String), QIMS(String)
2020-11-21 16:18:17.149 DEBUG cn.jwis.qualityworkflow.dao.UserMapper.getSuperior[145]  <==      Total: 1
2020-11-21 16:18:17.149 DEBUG c.j.q.dao.UserMapper.getSuperiorManagerByUser[145]  ==>  Preparing: select superior_manager from department_mapping where user_account = ? and type = ? limit 0,1 
2020-11-21 16:18:17.149 DEBUG c.j.q.dao.UserMapper.getSuperiorManagerByUser[145]  ==> Parameters: hualanlan(String), QIMS(String)
2020-11-21 16:18:17.159 DEBUG c.j.q.dao.UserMapper.getSuperiorManagerByUser[145]  <==      Total: 1
2020-11-21 16:18:17.177 INFO  cn.jwis.qualityworkflow.util.EmailService[142]  dz_gyb2 email is jian.song@jwis.cn
2020-11-21 16:18:17.177 INFO  cn.jwis.qualityworkflow.util.EmailService[142]  qualityadmin email is 
2020-11-21 16:18:17.177 INFO  c.j.q.m.factoryaudit.job.AuditQuestionMailJob[31]  邮件下发结束
2020-11-21 16:18:17.177 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==>  Preparing: select time from email_history_info where id =? 
2020-11-21 16:18:17.177 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==> Parameters: 1294123945682796544(String)
2020-11-21 16:18:17.184 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  <==      Total: 1
2020-11-21 16:18:17.184 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==>  Preparing: select time from email_history_info where id =? 
2020-11-21 16:18:17.184 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==> Parameters: 1294123945716350976(String)
2020-11-21 16:18:17.192 DEBUG cn.jwis.qualityworkflow.util.EmailService[144]  get handler mail from http://gateway.dev.jwis.io/platform/sys/user/internal-read?name=kiween happen error cause:I/O error on GET request for "http://gateway.dev.jwis.io/platform/sys/user/internal-read": connect timed out; nested exception is java.net.SocketTimeoutException: connect timed out
2020-11-21 16:18:17.192 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  <==      Total: 1
2020-11-21 16:18:17.192 INFO  cn.jwis.qualityworkflow.util.EmailService[142]  workflow3 email is null
2020-11-21 16:18:17.199 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==>  Preparing: select time from email_history_info where id =? 
2020-11-21 16:18:17.199 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==> Parameters: 1308013110702899200(String)
2020-11-21 16:18:17.207 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  <==      Total: 1
2020-11-21 16:18:17.227 INFO  cn.jwis.qualityworkflow.util.EmailService[142]  xujinbiao email is 
2020-11-21 16:18:17.227 INFO  cn.jwis.qualityworkflow.util.EmailService[142]  zhouxianling email is 
2020-11-21 16:18:17.227 DEBUG cn.jwis.qualityworkflow.dao.UserMapper.getSuperior[145]  ==>  Preparing: select superior from department_mapping where user_account = ? and type = ? limit 0,1 
2020-11-21 16:18:17.227 DEBUG cn.jwis.qualityworkflow.dao.UserMapper.getSuperior[145]  ==> Parameters: xujinbiao(String), COMMON(String)
2020-11-21 16:18:17.229 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==>  Preparing: select time from email_history_info where id =? 
2020-11-21 16:18:17.229 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==> Parameters: 1286904434760089600(String)
2020-11-21 16:18:17.231 INFO  cn.jwis.qualityworkflow.util.EmailService[142]  qualityadmin email is 
2020-11-21 16:18:17.231 DEBUG cn.jwis.qualityworkflow.dao.UserMapper.getSuperior[145]  ==>  Preparing: select superior from department_mapping where user_account = ? and type = ? limit 0,1 
2020-11-21 16:18:17.232 DEBUG cn.jwis.qualityworkflow.dao.UserMapper.getSuperior[145]  ==> Parameters: qualityadmin(String), COMMON(String)
2020-11-21 16:18:17.236 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  <==      Total: 1
2020-11-21 16:18:17.236 DEBUG cn.jwis.qualityworkflow.dao.UserMapper.getSuperior[145]  <==      Total: 1
2020-11-21 16:18:17.242 DEBUG cn.jwis.qualityworkflow.dao.UserMapper.getSuperior[145]  <==      Total: 1
2020-11-21 16:18:17.262 INFO  cn.jwis.qualityworkflow.util.EmailService[142]  hualanlan email is test@jwis.cn
2020-11-21 16:18:17.262 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==>  Preparing: select time from email_history_info where id =? 
2020-11-21 16:18:17.262 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==> Parameters: 1295193219738370048(String)
2020-11-21 16:18:17.266 INFO  cn.jwis.qualityworkflow.util.EmailService[142]  qualityadmin email is 
2020-11-21 16:18:17.266 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==>  Preparing: select time from email_history_info where id =? 
2020-11-21 16:18:17.266 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==> Parameters: 1308013113928318976(String)
2020-11-21 16:18:17.267 INFO  cn.jwis.qualityworkflow.util.EmailService[142]  gupp2 email is null
2020-11-21 16:18:17.267 DEBUG cn.jwis.qualityworkflow.dao.UserMapper.getSuperior[145]  ==>  Preparing: select superior from department_mapping where user_account = ? and type = ? limit 0,1 
2020-11-21 16:18:17.267 DEBUG cn.jwis.qualityworkflow.dao.UserMapper.getSuperior[145]  ==> Parameters: gupp2(String), QIMS(String)
2020-11-21 16:18:17.269 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  <==      Total: 1
2020-11-21 16:18:17.270 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==>  Preparing: select time from email_history_info where id =? 
2020-11-21 16:18:17.270 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==> Parameters: 1295193220166189056(String)
2020-11-21 16:18:17.275 DEBUG cn.jwis.qualityworkflow.dao.UserMapper.getSuperior[145]  <==      Total: 0
2020-11-21 16:18:17.275 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  <==      Total: 1
2020-11-21 16:18:17.276 DEBUG c.j.q.dao.UserMapper.getSuperiorManagerByUser[145]  ==>  Preparing: select superior_manager from department_mapping where user_account = ? and type = ? limit 0,1 
2020-11-21 16:18:17.276 DEBUG c.j.q.dao.UserMapper.getSuperiorManagerByUser[145]  ==> Parameters: gupp2(String), QIMS(String)
2020-11-21 16:18:17.282 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  <==      Total: 1
2020-11-21 16:18:17.285 DEBUG c.j.q.dao.UserMapper.getSuperiorManagerByUser[145]  <==      Total: 0
2020-11-21 16:18:17.287 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==>  Preparing: select time from email_history_info where id =? 
2020-11-21 16:18:17.287 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==> Parameters: 1286916730144161792(String)
2020-11-21 16:18:17.293 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  <==      Total: 1
2020-11-21 16:18:17.301 INFO  cn.jwis.qualityworkflow.util.EmailService[142]  qualityadmin email is 
2020-11-21 16:18:17.301 DEBUG cn.jwis.qualityworkflow.dao.UserMapper.getSuperior[145]  ==>  Preparing: select superior from department_mapping where user_account = ? and type = ? limit 0,1 
2020-11-21 16:18:17.301 DEBUG cn.jwis.qualityworkflow.dao.UserMapper.getSuperior[145]  ==> Parameters: qualityadmin(String), COMMON(String)
2020-11-21 16:18:17.302 INFO  cn.jwis.qualityworkflow.util.EmailService[142]  xujinbiao email is 
2020-11-21 16:18:17.302 DEBUG cn.jwis.qualityworkflow.dao.UserMapper.getSuperior[145]  ==>  Preparing: select superior from department_mapping where user_account = ? and type = ? limit 0,1 
2020-11-21 16:18:17.302 DEBUG cn.jwis.qualityworkflow.dao.UserMapper.getSuperior[145]  ==> Parameters: xujinbiao(String), COMMON(String)
2020-11-21 16:18:17.311 DEBUG cn.jwis.qualityworkflow.dao.UserMapper.getSuperior[145]  <==      Total: 1
2020-11-21 16:18:17.311 DEBUG cn.jwis.qualityworkflow.dao.UserMapper.getSuperior[145]  <==      Total: 1
2020-11-21 16:18:17.318 INFO  cn.jwis.qualityworkflow.util.EmailService[142]  gupp2 email is null
2020-11-21 16:18:17.318 DEBUG cn.jwis.qualityworkflow.dao.UserMapper.getSuperior[145]  ==>  Preparing: select superior from department_mapping where user_account = ? and type = ? limit 0,1 
2020-11-21 16:18:17.319 DEBUG cn.jwis.qualityworkflow.dao.UserMapper.getSuperior[145]  ==> Parameters: gupp2(String), QIMS(String)
2020-11-21 16:18:17.328 DEBUG cn.jwis.qualityworkflow.dao.UserMapper.getSuperior[145]  <==      Total: 0
2020-11-21 16:18:17.328 DEBUG c.j.q.dao.UserMapper.getSuperiorManagerByUser[145]  ==>  Preparing: select superior_manager from department_mapping where user_account = ? and type = ? limit 0,1 
2020-11-21 16:18:17.328 DEBUG c.j.q.dao.UserMapper.getSuperiorManagerByUser[145]  ==> Parameters: gupp2(String), QIMS(String)
2020-11-21 16:18:17.335 INFO  cn.jwis.qualityworkflow.util.EmailService[142]  hualanlan email is test@jwis.cn
2020-11-21 16:18:17.335 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==>  Preparing: select time from email_history_info where id =? 
2020-11-21 16:18:17.335 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==> Parameters: 1295193707351375872(String)
2020-11-21 16:18:17.338 INFO  cn.jwis.qualityworkflow.util.EmailService[142]  qualityadmin email is 
2020-11-21 16:18:17.338 DEBUG c.j.q.dao.UserMapper.getSuperiorManagerByUser[145]  <==      Total: 0
2020-11-21 16:18:17.339 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==>  Preparing: select time from email_history_info where id =? 
2020-11-21 16:18:17.339 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==> Parameters: 1308013116927246336(String)
2020-11-21 16:18:17.340 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==>  Preparing: select time from email_history_info where id =? 
2020-11-21 16:18:17.341 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==> Parameters: 1287933861786812416(String)
2020-11-21 16:18:17.346 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  <==      Total: 1
2020-11-21 16:18:17.346 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  <==      Total: 0
2020-11-21 16:18:17.346 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==>  Preparing: select time from email_history_info where id =? 
2020-11-21 16:18:17.347 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==> Parameters: 1295193707376541696(String)
2020-11-21 16:18:17.348 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  <==      Total: 1
2020-11-21 16:18:17.354 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  <==      Total: 1
2020-11-21 16:18:17.395 INFO  cn.jwis.qualityworkflow.util.EmailService[142]  kiween email is 
2020-11-21 16:18:17.395 INFO  cn.jwis.qualityworkflow.util.EmailService[142]  hualanlan email is test@jwis.cn
2020-11-21 16:18:17.395 DEBUG cn.jwis.qualityworkflow.dao.UserMapper.getSuperior[145]  ==>  Preparing: select superior from department_mapping where user_account = ? and type = ? limit 0,1 
2020-11-21 16:18:17.395 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==>  Preparing: select time from email_history_info where id =? 
2020-11-21 16:18:17.396 DEBUG cn.jwis.qualityworkflow.dao.UserMapper.getSuperior[145]  ==> Parameters: hualanlan(String), QIMS(String)
2020-11-21 16:18:17.396 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==> Parameters: 1309046852858937344(String)
2020-11-21 16:18:17.396 INFO  cn.jwis.qualityworkflow.util.EmailService[142]  xujinbiao email is 
2020-11-21 16:18:17.396 DEBUG cn.jwis.qualityworkflow.dao.UserMapper.getSuperior[145]  ==>  Preparing: select superior from department_mapping where user_account = ? and type = ? limit 0,1 
2020-11-21 16:18:17.396 DEBUG cn.jwis.qualityworkflow.dao.UserMapper.getSuperior[145]  ==> Parameters: xujinbiao(String), COMMON(String)
2020-11-21 16:18:17.404 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  <==      Total: 0
2020-11-21 16:18:17.405 DEBUG cn.jwis.qualityworkflow.dao.UserMapper.getSuperior[145]  <==      Total: 1
2020-11-21 16:18:17.405 DEBUG cn.jwis.qualityworkflow.dao.UserMapper.getSuperior[145]  <==      Total: 1
2020-11-21 16:18:17.405 DEBUG c.j.q.dao.UserMapper.getSuperiorManagerByUser[145]  ==>  Preparing: select superior_manager from department_mapping where user_account = ? and type = ? limit 0,1 
2020-11-21 16:18:17.405 DEBUG c.j.q.dao.UserMapper.getSuperiorManagerByUser[145]  ==> Parameters: hualanlan(String), QIMS(String)
2020-11-21 16:18:17.415 DEBUG c.j.q.dao.UserMapper.getSuperiorManagerByUser[145]  <==      Total: 1
2020-11-21 16:18:17.426 INFO  cn.jwis.qualityworkflow.util.EmailService[142]  hualanlan email is test@jwis.cn
2020-11-21 16:18:17.426 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==>  Preparing: select time from email_history_info where id =? 
2020-11-21 16:18:17.426 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==> Parameters: 1315248790789160960(String)
2020-11-21 16:18:17.431 INFO  cn.jwis.qualityworkflow.util.EmailService[142]  codisan email is kelvin@jwis.cn
2020-11-21 16:18:17.431 DEBUG c.j.qualityworkflow.dao.CommonMapper.getKeyToName[145]  ==>  Preparing: SELECT * FROM key_to_name 
2020-11-21 16:18:17.431 DEBUG c.j.qualityworkflow.dao.CommonMapper.getKeyToName[145]  ==> Parameters: 
2020-11-21 16:18:17.433 INFO  cn.jwis.qualityworkflow.util.EmailService[142]  workflow3 email is null
2020-11-21 16:18:17.444 DEBUG c.j.qualityworkflow.dao.CommonMapper.getKeyToName[145]  <==      Total: 8
2020-11-21 16:18:17.444 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  <==      Total: 1
2020-11-21 16:18:17.445 INFO  cn.jwis.qualityworkflow.util.EmailService[74]  haomiao.liu@jwis.cn send a Mail to kelvin@jwis.cn fail, because null
2020-11-21 16:18:17.454 INFO  cn.jwis.qualityworkflow.util.EmailService[142]  zhouxianling email is 
2020-11-21 16:18:17.454 DEBUG c.j.qualityworkflow.dao.TaskRecordMapper.getById[145]  ==>  Preparing: SELECT * from task_record WHERE id = ? 
2020-11-21 16:18:17.455 DEBUG c.j.qualityworkflow.dao.TaskRecordMapper.getById[145]  ==> Parameters: 1287933861786812416(String)
2020-11-21 16:18:17.466 DEBUG c.j.qualityworkflow.dao.TaskRecordMapper.getById[145]  <==      Total: 1
2020-11-21 16:18:17.466 DEBUG c.j.qualityworkflow.dao.CommonMapper.getKeyToName[145]  ==>  Preparing: SELECT * FROM key_to_name 
2020-11-21 16:18:17.466 DEBUG c.j.qualityworkflow.dao.CommonMapper.getKeyToName[145]  ==> Parameters: 
2020-11-21 16:18:17.470 INFO  cn.jwis.qualityworkflow.util.EmailService[142]  dz_gyb1 email is test@jwis.cn
2020-11-21 16:18:17.471 DEBUG cn.jwis.qualityworkflow.dao.UserMapper.getSuperior[145]  ==>  Preparing: select superior from department_mapping where user_account = ? and type = ? limit 0,1 
2020-11-21 16:18:17.471 DEBUG cn.jwis.qualityworkflow.dao.UserMapper.getSuperior[145]  ==> Parameters: dz_gyb1(String), COMMON(String)
2020-11-21 16:18:17.481 DEBUG cn.jwis.qualityworkflow.dao.UserMapper.getSuperior[145]  <==      Total: 1
2020-11-21 16:18:17.481 DEBUG c.j.qualityworkflow.dao.CommonMapper.getKeyToName[145]  <==      Total: 8
2020-11-21 16:18:17.482 INFO  cn.jwis.qualityworkflow.util.EmailService[71]  haomiao.liu@jwis.cn send a Mail to test@jwis.cn
2020-11-21 16:18:17.500 INFO  cn.jwis.qualityworkflow.util.EmailService[142]  dz_gyb2 email is jian.song@jwis.cn
2020-11-21 16:18:17.500 DEBUG c.j.qualityworkflow.dao.CommonMapper.getKeyToName[145]  ==>  Preparing: SELECT * FROM key_to_name 
2020-11-21 16:18:17.500 DEBUG c.j.qualityworkflow.dao.CommonMapper.getKeyToName[145]  ==> Parameters: 
2020-11-21 16:18:17.507 DEBUG c.j.qualityworkflow.dao.CommonMapper.getKeyToName[145]  <==      Total: 8
2020-11-21 16:18:17.508 DEBUG c.j.q.m.l.d.L.getLineQualifyDetailednessInfo[145]  ==>  Preparing: SELECT q.*,ar.processInstanceId ,ar.taskId,ar.assignee,ar.taskState,ar.taskName FROM line_qualify_info q,(SELECT workflow_business_id, process_instance_id as processInstanceId,task_id as taskId,assignee,task_state as taskState,task_name taskName FROM task_record WHERE task_id=?) ar where q.id=ar.workflow_business_id 
2020-11-21 16:18:17.508 DEBUG c.j.q.m.l.d.L.getLineQualifyDetailednessInfo[145]  ==> Parameters: 5506556(String)
2020-11-21 16:18:17.522 DEBUG c.j.q.m.l.d.L.getLineQualifyDetailednessInfo[145]  <==      Total: 1
2020-11-21 16:18:17.523 INFO  cn.jwis.qualityworkflow.util.EmailService[69]  haomiao.liu@jwis.cn send a Mail to test@jwis.cn and make a copy for [jian.song@jwis.cn]
2020-11-21 16:18:18.047 ERROR o.s.s.support.TaskUtils$LoggingErrorHandler[96] org.springframework.mail.MailSendException: Failed messages: javax.mail.SendFailedException: Invalid Addresses;
  nested exception is:
	com.sun.mail.smtp.SMTPAddressFailedException: 554 RCPT (kelvin@jwis.cn) dosn't exist

	at org.springframework.mail.javamail.JavaMailSenderImpl.doSend(JavaMailSenderImpl.java:488)
	at org.springframework.mail.javamail.JavaMailSenderImpl.send(JavaMailSenderImpl.java:359)
	at org.springframework.mail.javamail.JavaMailSenderImpl.send(JavaMailSenderImpl.java:354)
	at cn.jwis.qualityworkflow.util.EmailService.sendHtmlMail(EmailService.java:76)
	at cn.jwis.qualityworkflow.modules.qims.service.imp.QimsSendMailServiceImpl.sendEmailTohandler(QimsSendMailServiceImpl.java:161)
	at cn.jwis.qualityworkflow.modules.ipqc.service.imp.AuditQualityProblemServiceImpl.qimsSendMail(AuditQualityProblemServiceImpl.java:321)
	at cn.jwis.qualityworkflow.modules.ipqc.service.imp.AuditQualityProblemServiceImpl$$FastClassBySpringCGLIB$$15ff325f.invoke(<generated>)
	at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:684)
	at cn.jwis.qualityworkflow.modules.ipqc.service.imp.AuditQualityProblemServiceImpl$$EnhancerBySpringCGLIB$$ce0d09f5.qimsSendMail(<generated>)
	at cn.jwis.qualityworkflow.modules.ipqc.job.ipqcMailJob.qimsSendMail(ipqcMailJob.java:28)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.springframework.scheduling.support.ScheduledMethodRunnable.run(ScheduledMethodRunnable.java:84)
	at org.springframework.scheduling.support.DelegatingErrorHandlingRunnable.run(DelegatingErrorHandlingRunnable.java:54)
	at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:511)
	at java.util.concurrent.FutureTask.runAndReset(FutureTask.java:308)
	at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.access$301(ScheduledThreadPoolExecutor.java:180)
	at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:294)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)
 Unexpected error occurred in scheduled task.
2020-11-21 16:18:18.095 ERROR o.s.s.support.TaskUtils$LoggingErrorHandler[96] org.springframework.mail.MailSendException: Failed messages: javax.mail.SendFailedException: Invalid Addresses;
  nested exception is:
	com.sun.mail.smtp.SMTPAddressFailedException: 554 RCPT (test@jwis.cn) dosn't exist

	at org.springframework.mail.javamail.JavaMailSenderImpl.doSend(JavaMailSenderImpl.java:488)
	at org.springframework.mail.javamail.JavaMailSenderImpl.send(JavaMailSenderImpl.java:359)
	at org.springframework.mail.javamail.JavaMailSenderImpl.send(JavaMailSenderImpl.java:354)
	at cn.jwis.qualityworkflow.util.EmailService.sendHtmlMail(EmailService.java:76)
	at cn.jwis.qualityworkflow.modules.qims.service.imp.QimsSendMailServiceImpl.sendEmailTohandler(QimsSendMailServiceImpl.java:161)
	at cn.jwis.qualityworkflow.modules.qims.service.imp.QimsSendMailServiceImpl.qimsSendMail(QimsSendMailServiceImpl.java:90)
	at cn.jwis.qualityworkflow.modules.qims.job.qimsMailJob.qimsSendMail(qimsMailJob.java:49)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.springframework.scheduling.support.ScheduledMethodRunnable.run(ScheduledMethodRunnable.java:84)
	at org.springframework.scheduling.support.DelegatingErrorHandlingRunnable.run(DelegatingErrorHandlingRunnable.java:54)
	at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:511)
	at java.util.concurrent.FutureTask.runAndReset(FutureTask.java:308)
	at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.access$301(ScheduledThreadPoolExecutor.java:180)
	at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:294)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)
 Unexpected error occurred in scheduled task.
2020-11-21 16:18:18.317 ERROR o.s.s.support.TaskUtils$LoggingErrorHandler[96] org.springframework.mail.MailSendException: Failed messages: javax.mail.SendFailedException: Invalid Addresses;
  nested exception is:
	com.sun.mail.smtp.SMTPAddressFailedException: 554 RCPT (test@jwis.cn) dosn't exist
;
  nested exception is:
	com.sun.mail.smtp.SMTPAddressFailedException: 554 RCPT (jian.song@jwis.cn) dosn't exist

	at org.springframework.mail.javamail.JavaMailSenderImpl.doSend(JavaMailSenderImpl.java:488)
	at org.springframework.mail.javamail.JavaMailSenderImpl.send(JavaMailSenderImpl.java:359)
	at org.springframework.mail.javamail.JavaMailSenderImpl.send(JavaMailSenderImpl.java:354)
	at cn.jwis.qualityworkflow.util.EmailService.sendHtmlMail(EmailService.java:76)
	at cn.jwis.qualityworkflow.modules.linequalify.service.imp.LineQualifyServiceImpl.sendEmailTohandler(LineQualifyServiceImpl.java:617)
	at cn.jwis.qualityworkflow.modules.linequalify.service.imp.LineQualifyServiceImpl.sendOverTimeMail(LineQualifyServiceImpl.java:594)
	at cn.jwis.qualityworkflow.modules.linequalify.service.imp.LineQualifyServiceImpl$$FastClassBySpringCGLIB$$4ca6f597.invoke(<generated>)
	at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:684)
	at cn.jwis.qualityworkflow.modules.linequalify.service.imp.LineQualifyServiceImpl$$EnhancerBySpringCGLIB$$157c169d.sendOverTimeMail(<generated>)
	at cn.jwis.qualityworkflow.modules.linequalify.job.LineQualifyMailJob.sendOverTimeMail(LineQualifyMailJob.java:30)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.springframework.scheduling.support.ScheduledMethodRunnable.run(ScheduledMethodRunnable.java:84)
	at org.springframework.scheduling.support.DelegatingErrorHandlingRunnable.run(DelegatingErrorHandlingRunnable.java:54)
	at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:511)
	at java.util.concurrent.FutureTask.runAndReset(FutureTask.java:308)
	at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.access$301(ScheduledThreadPoolExecutor.java:180)
	at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:294)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)
 Unexpected error occurred in scheduled task.
2020-11-21 16:20:00.019 INFO  c.j.q.m.t.T.TraceabilityMachineTimerManager[50]  设备定时任务开启
2020-11-21 16:20:00.030 DEBUG c.j.q.m.t.d.T.getTraceabilityMachineList[145]  ==>  Preparing: select table_name from traceability_machine_data group by table_name 
2020-11-21 16:20:00.031 DEBUG c.j.q.m.t.d.T.getTraceabilityMachineList[145]  ==> Parameters: 
2020-11-21 16:20:00.045 DEBUG c.j.q.m.t.d.T.getTraceabilityMachineList[145]  <==      Total: 5
2020-11-21 16:20:00.045 DEBUG c.j.q.m.t.d.T.getTraceabilityMachineFiledName[145]  ==>  Preparing: select filed_name from traceability_machine_data where table_name=? 
2020-11-21 16:20:00.045 DEBUG c.j.q.m.t.d.T.getTraceabilityMachineFiledName[145]  ==> Parameters: dust_free_shed(String)
2020-11-21 16:20:00.054 DEBUG c.j.q.m.t.d.T.getTraceabilityMachineFiledName[145]  <==      Total: 11
2020-11-21 16:20:00.054 DEBUG c.j.q.m.t.d.T.getMaxCreateTime[145]  ==>  Preparing: select max(createtime) from dust_free_shed 
2020-11-21 16:20:00.054 DEBUG c.j.q.m.t.d.T.getMaxCreateTime[145]  ==> Parameters: 
2020-11-21 16:20:00.116 DEBUG c.j.q.m.t.d.T.getMaxCreateTime[145]  <==      Total: 1
2020-11-21 16:20:00.122 ERROR o.s.s.support.TaskUtils$LoggingErrorHandler[96] java.lang.NullPointerException: null
	at cn.jwis.qualityworkflow.modules.traceablity.TimerManager.TraceabilityMachineTimerManager.getLenovoMachineData(TraceabilityMachineTimerManager.java:105)
	at cn.jwis.qualityworkflow.modules.traceablity.TimerManager.TraceabilityMachineTimerManager.MachineTimerManager(TraceabilityMachineTimerManager.java:57)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.springframework.scheduling.support.ScheduledMethodRunnable.run(ScheduledMethodRunnable.java:84)
	at org.springframework.scheduling.support.DelegatingErrorHandlingRunnable.run(DelegatingErrorHandlingRunnable.java:54)
	at org.springframework.scheduling.concurrent.ReschedulingRunnable.run(ReschedulingRunnable.java:93)
	at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:511)
	at java.util.concurrent.FutureTask.run(FutureTask.java:266)
	at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.access$201(ScheduledThreadPoolExecutor.java:180)
	at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:293)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)
 Unexpected error occurred in scheduled task.
2020-11-21 16:23:12.065 INFO  c.j.qualityworkflow.modules.ipqc.job.ipqcMailJob[27]  查询IPQC超时任务
2020-11-21 16:23:12.138 DEBUG c.j.q.m.qims.dao.BlackDashBoardMapper.getHoliday[145]  ==>  Preparing: SELECT DISTINCT date FROM holiday_maintenance WHERE type = '节假日' 
2020-11-21 16:23:12.138 DEBUG c.j.q.m.qims.dao.BlackDashBoardMapper.getHoliday[145]  ==> Parameters: 
2020-11-21 16:23:12.139 DEBUG c.j.q.dao.TaskRecordMapper.getOverTimeTaskRecord[145]  ==>  Preparing: SELECT *, HOUR(timediff(now() , create_date)) overTimeNum FROM task_record WHERE template_key = ? AND task_state IS NULL AND task_name = ? AND HOUR(timediff(now() , create_date)) >= ? 
2020-11-21 16:23:12.139 DEBUG c.j.q.dao.TaskRecordMapper.getOverTimeTaskRecord[145]  ==> Parameters: Line Qualify(String), 文件收集(String), 2(Integer)
2020-11-21 16:23:12.140 DEBUG c.j.q.dao.TaskRecordMapper.getOverTimeTaskRecord[145]  ==>  Preparing: SELECT *, HOUR(timediff(now() , create_date)) overTimeNum FROM task_record WHERE template_key = ? AND task_state IS NULL AND task_name = ? AND HOUR(timediff(now() , create_date)) >= ? 
2020-11-21 16:23:12.141 DEBUG c.j.q.dao.TaskRecordMapper.getOverTimeTaskRecord[145]  ==> Parameters: FactoryAuditProcess(String), 部门审核(String), 24(Integer)
2020-11-21 16:23:12.144 DEBUG c.j.q.dao.TaskRecordMapper.getOverTimeTaskRecord2[145]  ==>  Preparing: SELECT *, HOUR(timediff(now() , create_date)) overTimeNum FROM task_record WHERE template_key = ? AND task_state IS NULL AND HOUR(timediff(now() , create_date)) >= ? 
2020-11-21 16:23:12.144 DEBUG c.j.q.dao.TaskRecordMapper.getOverTimeTaskRecord2[145]  ==> Parameters: IPQCAuditProcess(String), 24(Integer)
2020-11-21 16:23:12.150 DEBUG c.j.q.m.qims.dao.BlackDashBoardMapper.getHoliday[145]  <==      Total: 6
2020-11-21 16:23:12.151 DEBUG c.j.q.m.q.d.B.getWorkOvertimeList[145]  ==>  Preparing: SELECT DISTINCT date FROM holiday_maintenance WHERE type = '补班' 
2020-11-21 16:23:12.151 DEBUG c.j.q.dao.TaskRecordMapper.getOverTimeTaskRecord[145]  <==      Total: 8
2020-11-21 16:23:12.151 DEBUG c.j.q.m.q.d.B.getWorkOvertimeList[145]  ==> Parameters: 
2020-11-21 16:23:12.151 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==>  Preparing: select time from email_history_info where id =? 
2020-11-21 16:23:12.151 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==> Parameters: 1294123945645047808(String)
2020-11-21 16:23:12.155 DEBUG c.j.q.dao.TaskRecordMapper.getOverTimeTaskRecord[145]  <==      Total: 3
2020-11-21 16:23:12.155 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==>  Preparing: select time from email_history_info where id =? 
2020-11-21 16:23:12.155 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==> Parameters: 1295192540470837248(String)
2020-11-21 16:23:12.159 DEBUG c.j.q.m.q.d.B.getWorkOvertimeList[145]  <==      Total: 4
2020-11-21 16:23:12.159 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  <==      Total: 1
2020-11-21 16:23:12.160 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getLtStandard[145]  ==>  Preparing: select * from qims_lt_standard_info 
2020-11-21 16:23:12.160 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getLtStandard[145]  ==> Parameters: 
2020-11-21 16:23:12.160 DEBUG c.j.q.dao.TaskRecordMapper.getOverTimeTaskRecord2[145]  <==      Total: 18
2020-11-21 16:23:12.160 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==>  Preparing: select time from email_history_info where id =? 
2020-11-21 16:23:12.160 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==> Parameters: 1303868320843300864(String)
2020-11-21 16:23:12.162 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  <==      Total: 1
2020-11-21 16:23:12.162 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==>  Preparing: select time from email_history_info where id =? 
2020-11-21 16:23:12.162 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==> Parameters: 1295192619508301824(String)
2020-11-21 16:23:12.168 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  <==      Total: 1
2020-11-21 16:23:12.169 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==>  Preparing: select time from email_history_info where id =? 
2020-11-21 16:23:12.169 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==> Parameters: 1303868347422605312(String)
2020-11-21 16:23:12.175 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  <==      Total: 1
2020-11-21 16:23:12.175 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getLtStandard[145]  <==      Total: 8
2020-11-21 16:23:12.175 INFO  c.j.qualityworkflow.modules.qims.job.qimsMailJob[47]  查询黑色问题超过LT的信息
2020-11-21 16:23:12.175 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==>  Preparing: select time from email_history_info where id =? 
2020-11-21 16:23:12.175 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getBlackList[145]  ==>  Preparing: select * from task_record where task_name in('初步原因分析','根本原因分析','根本原因审核') and task_state is null and template_key='QIMSBLACK' 
2020-11-21 16:23:12.175 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==> Parameters: 1299240419787276288(String)
2020-11-21 16:23:12.175 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getBlackList[145]  ==> Parameters: 
2020-11-21 16:23:12.181 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  <==      Total: 1
2020-11-21 16:23:12.181 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==>  Preparing: select time from email_history_info where id =? 
2020-11-21 16:23:12.181 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==> Parameters: 1303868393815801856(String)
2020-11-21 16:23:12.186 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  <==      Total: 1
2020-11-21 16:23:12.187 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getBlackList[145]  <==      Total: 16
2020-11-21 16:23:12.189 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==>  Preparing: select time from email_history_info where id =? 
2020-11-21 16:23:12.190 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==> Parameters: 1286902446076985344(String)
2020-11-21 16:23:12.193 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  <==      Total: 1
2020-11-21 16:23:12.194 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==>  Preparing: select time from email_history_info where id =? 
2020-11-21 16:23:12.194 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==> Parameters: 1303937438065885184(String)
2020-11-21 16:23:12.199 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  <==      Total: 1
2020-11-21 16:23:12.205 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  <==      Total: 1
2020-11-21 16:23:12.206 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==>  Preparing: select time from email_history_info where id =? 
2020-11-21 16:23:12.206 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==> Parameters: 1303939538460082176(String)
2020-11-21 16:23:12.217 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  <==      Total: 1
2020-11-21 16:23:12.217 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==>  Preparing: select time from email_history_info where id =? 
2020-11-21 16:23:12.217 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==> Parameters: 1303939599889858560(String)
2020-11-21 16:23:12.229 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  <==      Total: 1
2020-11-21 16:23:12.230 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==>  Preparing: select time from email_history_info where id =? 
2020-11-21 16:23:12.230 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==> Parameters: 1306059696263659520(String)
2020-11-21 16:23:12.237 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  <==      Total: 1
2020-11-21 16:23:12.237 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==>  Preparing: select time from email_history_info where id =? 
2020-11-21 16:23:12.238 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==> Parameters: 1306155886347026432(String)
2020-11-21 16:23:12.247 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  <==      Total: 1
2020-11-21 16:23:12.247 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==>  Preparing: select time from email_history_info where id =? 
2020-11-21 16:23:12.247 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==> Parameters: 1306201167000240128(String)
2020-11-21 16:23:12.262 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  <==      Total: 1
2020-11-21 16:23:12.262 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==>  Preparing: select time from email_history_info where id =? 
2020-11-21 16:23:12.262 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==> Parameters: 1308013106458263552(String)
2020-11-21 16:23:12.269 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  <==      Total: 0
2020-11-21 16:23:17.188 DEBUG cn.jwis.qualityworkflow.util.EmailService[144]  get handler mail from http://gateway.dev.jwis.io/platform/sys/user/internal-read?name=dz_gyb1 happen error cause:I/O error on GET request for "http://gateway.dev.jwis.io/platform/sys/user/internal-read": connect timed out; nested exception is java.net.SocketTimeoutException: connect timed out
2020-11-21 16:23:17.189 DEBUG cn.jwis.qualityworkflow.util.EmailService[144]  get handler mail from http://gateway.dev.jwis.io/platform/sys/user/internal-read?name=qualityadmin happen error cause:I/O error on GET request for "http://gateway.dev.jwis.io/platform/sys/user/internal-read": connect timed out; nested exception is java.net.SocketTimeoutException: connect timed out
2020-11-21 16:23:17.195 DEBUG cn.jwis.qualityworkflow.dao.UserMapper.getSuperior[145]  ==>  Preparing: select superior from department_mapping where user_account = ? and type = ? limit 0,1 
2020-11-21 16:23:17.195 DEBUG cn.jwis.qualityworkflow.dao.UserMapper.getSuperior[145]  ==> Parameters: qualityadmin(String), COMMON(String)
2020-11-21 16:23:17.200 DEBUG cn.jwis.qualityworkflow.util.EmailService[144]  get handler mail from http://gateway.dev.jwis.io/platform/sys/user/internal-read?name=hualanlan happen error cause:I/O error on GET request for "http://gateway.dev.jwis.io/platform/sys/user/internal-read": connect timed out; nested exception is java.net.SocketTimeoutException: connect timed out
2020-11-21 16:23:17.208 DEBUG cn.jwis.qualityworkflow.dao.UserMapper.getSuperior[145]  ==>  Preparing: select superior from department_mapping where user_account = ? and type = ? limit 0,1 
2020-11-21 16:23:17.208 DEBUG cn.jwis.qualityworkflow.dao.UserMapper.getSuperior[145]  ==> Parameters: dz_gyb1(String), COMMON(String)
2020-11-21 16:23:17.225 DEBUG cn.jwis.qualityworkflow.dao.UserMapper.getSuperior[145]  <==      Total: 1
2020-11-21 16:23:17.226 DEBUG cn.jwis.qualityworkflow.dao.UserMapper.getSuperior[145]  ==>  Preparing: select superior from department_mapping where user_account = ? and type = ? limit 0,1 
2020-11-21 16:23:17.226 DEBUG cn.jwis.qualityworkflow.dao.UserMapper.getSuperior[145]  ==> Parameters: hualanlan(String), QIMS(String)
2020-11-21 16:23:17.226 DEBUG cn.jwis.qualityworkflow.dao.UserMapper.getSuperior[145]  <==      Total: 1
2020-11-21 16:23:17.235 DEBUG cn.jwis.qualityworkflow.dao.UserMapper.getSuperior[145]  <==      Total: 1
2020-11-21 16:23:17.235 DEBUG c.j.q.dao.UserMapper.getSuperiorManagerByUser[145]  ==>  Preparing: select superior_manager from department_mapping where user_account = ? and type = ? limit 0,1 
2020-11-21 16:23:17.235 DEBUG c.j.q.dao.UserMapper.getSuperiorManagerByUser[145]  ==> Parameters: hualanlan(String), QIMS(String)
2020-11-21 16:23:17.247 DEBUG c.j.q.dao.UserMapper.getSuperiorManagerByUser[145]  <==      Total: 1
2020-11-21 16:23:17.263 INFO  cn.jwis.qualityworkflow.util.EmailService[142]  qualityadmin email is 
2020-11-21 16:23:17.263 INFO  c.j.q.m.factoryaudit.job.AuditQuestionMailJob[31]  邮件下发结束
2020-11-21 16:23:17.264 INFO  cn.jwis.qualityworkflow.util.EmailService[142]  dz_gyb2 email is jian.song@jwis.cn
2020-11-21 16:23:17.264 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==>  Preparing: select time from email_history_info where id =? 
2020-11-21 16:23:17.264 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==> Parameters: 1294123945682796544(String)
2020-11-21 16:23:17.271 DEBUG cn.jwis.qualityworkflow.util.EmailService[144]  get handler mail from http://gateway.dev.jwis.io/platform/sys/user/internal-read?name=kiween happen error cause:I/O error on GET request for "http://gateway.dev.jwis.io/platform/sys/user/internal-read": connect timed out; nested exception is java.net.SocketTimeoutException: connect timed out
2020-11-21 16:23:17.276 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  <==      Total: 1
2020-11-21 16:23:17.276 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==>  Preparing: select time from email_history_info where id =? 
2020-11-21 16:23:17.276 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==> Parameters: 1294123945716350976(String)
2020-11-21 16:23:17.279 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==>  Preparing: select time from email_history_info where id =? 
2020-11-21 16:23:17.279 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==> Parameters: 1308013110702899200(String)
2020-11-21 16:23:17.280 INFO  cn.jwis.qualityworkflow.util.EmailService[142]  workflow3 email is null
2020-11-21 16:23:17.283 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  <==      Total: 1
2020-11-21 16:23:17.287 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  <==      Total: 1
2020-11-21 16:23:17.311 INFO  cn.jwis.qualityworkflow.util.EmailService[142]  zhouxianling email is 
2020-11-21 16:23:17.311 INFO  cn.jwis.qualityworkflow.util.EmailService[142]  xujinbiao email is 
2020-11-21 16:23:17.311 DEBUG cn.jwis.qualityworkflow.dao.UserMapper.getSuperior[145]  ==>  Preparing: select superior from department_mapping where user_account = ? and type = ? limit 0,1 
2020-11-21 16:23:17.311 DEBUG cn.jwis.qualityworkflow.dao.UserMapper.getSuperior[145]  ==> Parameters: xujinbiao(String), COMMON(String)
2020-11-21 16:23:17.311 INFO  cn.jwis.qualityworkflow.util.EmailService[142]  qualityadmin email is 
2020-11-21 16:23:17.312 DEBUG cn.jwis.qualityworkflow.dao.UserMapper.getSuperior[145]  ==>  Preparing: select superior from department_mapping where user_account = ? and type = ? limit 0,1 
2020-11-21 16:23:17.312 DEBUG cn.jwis.qualityworkflow.dao.UserMapper.getSuperior[145]  ==> Parameters: qualityadmin(String), COMMON(String)
2020-11-21 16:23:17.313 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==>  Preparing: select time from email_history_info where id =? 
2020-11-21 16:23:17.313 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==> Parameters: 1286904434760089600(String)
2020-11-21 16:23:17.318 DEBUG cn.jwis.qualityworkflow.dao.UserMapper.getSuperior[145]  <==      Total: 1
2020-11-21 16:23:17.327 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  <==      Total: 1
2020-11-21 16:23:17.327 DEBUG cn.jwis.qualityworkflow.dao.UserMapper.getSuperior[145]  <==      Total: 1
2020-11-21 16:23:17.350 INFO  cn.jwis.qualityworkflow.util.EmailService[142]  hualanlan email is test@jwis.cn
2020-11-21 16:23:17.351 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==>  Preparing: select time from email_history_info where id =? 
2020-11-21 16:23:17.352 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==> Parameters: 1295193219738370048(String)
2020-11-21 16:23:17.353 INFO  cn.jwis.qualityworkflow.util.EmailService[142]  qualityadmin email is 
2020-11-21 16:23:17.353 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==>  Preparing: select time from email_history_info where id =? 
2020-11-21 16:23:17.353 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==> Parameters: 1308013113928318976(String)
2020-11-21 16:23:17.358 INFO  cn.jwis.qualityworkflow.util.EmailService[142]  gupp2 email is null
2020-11-21 16:23:17.359 DEBUG cn.jwis.qualityworkflow.dao.UserMapper.getSuperior[145]  ==>  Preparing: select superior from department_mapping where user_account = ? and type = ? limit 0,1 
2020-11-21 16:23:17.359 DEBUG cn.jwis.qualityworkflow.dao.UserMapper.getSuperior[145]  ==> Parameters: gupp2(String), QIMS(String)
2020-11-21 16:23:17.359 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  <==      Total: 1
2020-11-21 16:23:17.359 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==>  Preparing: select time from email_history_info where id =? 
2020-11-21 16:23:17.359 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==> Parameters: 1295193220166189056(String)
2020-11-21 16:23:17.361 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  <==      Total: 1
2020-11-21 16:23:17.371 DEBUG cn.jwis.qualityworkflow.dao.UserMapper.getSuperior[145]  <==      Total: 0
2020-11-21 16:23:17.371 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  <==      Total: 1
2020-11-21 16:23:17.371 DEBUG c.j.q.dao.UserMapper.getSuperiorManagerByUser[145]  ==>  Preparing: select superior_manager from department_mapping where user_account = ? and type = ? limit 0,1 
2020-11-21 16:23:17.372 DEBUG c.j.q.dao.UserMapper.getSuperiorManagerByUser[145]  ==> Parameters: gupp2(String), QIMS(String)
2020-11-21 16:23:17.380 DEBUG c.j.q.dao.UserMapper.getSuperiorManagerByUser[145]  <==      Total: 0
2020-11-21 16:23:17.382 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==>  Preparing: select time from email_history_info where id =? 
2020-11-21 16:23:17.382 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==> Parameters: 1286916730144161792(String)
2020-11-21 16:23:17.390 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  <==      Total: 1
2020-11-21 16:23:17.398 INFO  cn.jwis.qualityworkflow.util.EmailService[142]  qualityadmin email is 
2020-11-21 16:23:17.398 DEBUG cn.jwis.qualityworkflow.dao.UserMapper.getSuperior[145]  ==>  Preparing: select superior from department_mapping where user_account = ? and type = ? limit 0,1 
2020-11-21 16:23:17.399 DEBUG cn.jwis.qualityworkflow.dao.UserMapper.getSuperior[145]  ==> Parameters: qualityadmin(String), COMMON(String)
2020-11-21 16:23:17.401 INFO  cn.jwis.qualityworkflow.util.EmailService[142]  xujinbiao email is 
2020-11-21 16:23:17.401 DEBUG cn.jwis.qualityworkflow.dao.UserMapper.getSuperior[145]  ==>  Preparing: select superior from department_mapping where user_account = ? and type = ? limit 0,1 
2020-11-21 16:23:17.401 DEBUG cn.jwis.qualityworkflow.dao.UserMapper.getSuperior[145]  ==> Parameters: xujinbiao(String), COMMON(String)
2020-11-21 16:23:17.408 DEBUG cn.jwis.qualityworkflow.dao.UserMapper.getSuperior[145]  <==      Total: 1
2020-11-21 16:23:17.415 DEBUG cn.jwis.qualityworkflow.dao.UserMapper.getSuperior[145]  <==      Total: 1
2020-11-21 16:23:17.418 INFO  cn.jwis.qualityworkflow.util.EmailService[142]  gupp2 email is null
2020-11-21 16:23:17.419 DEBUG cn.jwis.qualityworkflow.dao.UserMapper.getSuperior[145]  ==>  Preparing: select superior from department_mapping where user_account = ? and type = ? limit 0,1 
2020-11-21 16:23:17.419 DEBUG cn.jwis.qualityworkflow.dao.UserMapper.getSuperior[145]  ==> Parameters: gupp2(String), QIMS(String)
2020-11-21 16:23:17.430 DEBUG cn.jwis.qualityworkflow.dao.UserMapper.getSuperior[145]  <==      Total: 0
2020-11-21 16:23:17.431 DEBUG c.j.q.dao.UserMapper.getSuperiorManagerByUser[145]  ==>  Preparing: select superior_manager from department_mapping where user_account = ? and type = ? limit 0,1 
2020-11-21 16:23:17.432 DEBUG c.j.q.dao.UserMapper.getSuperiorManagerByUser[145]  ==> Parameters: gupp2(String), QIMS(String)
2020-11-21 16:23:17.443 INFO  cn.jwis.qualityworkflow.util.EmailService[142]  qualityadmin email is 
2020-11-21 16:23:17.443 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==>  Preparing: select time from email_history_info where id =? 
2020-11-21 16:23:17.443 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==> Parameters: 1308013116927246336(String)
2020-11-21 16:23:17.444 INFO  cn.jwis.qualityworkflow.util.EmailService[142]  hualanlan email is test@jwis.cn
2020-11-21 16:23:17.444 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==>  Preparing: select time from email_history_info where id =? 
2020-11-21 16:23:17.444 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==> Parameters: 1295193707351375872(String)
2020-11-21 16:23:17.450 DEBUG c.j.q.dao.UserMapper.getSuperiorManagerByUser[145]  <==      Total: 0
2020-11-21 16:23:17.452 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==>  Preparing: select time from email_history_info where id =? 
2020-11-21 16:23:17.452 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  <==      Total: 1
2020-11-21 16:23:17.452 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  <==      Total: 0
2020-11-21 16:23:17.453 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==> Parameters: 1287933861786812416(String)
2020-11-21 16:23:17.453 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==>  Preparing: select time from email_history_info where id =? 
2020-11-21 16:23:17.453 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==> Parameters: 1295193707376541696(String)
2020-11-21 16:23:17.460 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  <==      Total: 1
2020-11-21 16:23:17.460 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  <==      Total: 1
2020-11-21 16:23:17.479 INFO  cn.jwis.qualityworkflow.util.EmailService[142]  kiween email is 
2020-11-21 16:23:17.479 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==>  Preparing: select time from email_history_info where id =? 
2020-11-21 16:23:17.479 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==> Parameters: 1309046852858937344(String)
2020-11-21 16:23:17.479 INFO  cn.jwis.qualityworkflow.util.EmailService[142]  hualanlan email is test@jwis.cn
2020-11-21 16:23:17.479 DEBUG cn.jwis.qualityworkflow.dao.UserMapper.getSuperior[145]  ==>  Preparing: select superior from department_mapping where user_account = ? and type = ? limit 0,1 
2020-11-21 16:23:17.480 DEBUG cn.jwis.qualityworkflow.dao.UserMapper.getSuperior[145]  ==> Parameters: hualanlan(String), QIMS(String)
2020-11-21 16:23:17.480 INFO  cn.jwis.qualityworkflow.util.EmailService[142]  xujinbiao email is 
2020-11-21 16:23:17.480 DEBUG cn.jwis.qualityworkflow.dao.UserMapper.getSuperior[145]  ==>  Preparing: select superior from department_mapping where user_account = ? and type = ? limit 0,1 
2020-11-21 16:23:17.480 DEBUG cn.jwis.qualityworkflow.dao.UserMapper.getSuperior[145]  ==> Parameters: xujinbiao(String), COMMON(String)
2020-11-21 16:23:17.486 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  <==      Total: 0
2020-11-21 16:23:17.486 DEBUG cn.jwis.qualityworkflow.dao.UserMapper.getSuperior[145]  <==      Total: 1
2020-11-21 16:23:17.487 DEBUG c.j.q.dao.UserMapper.getSuperiorManagerByUser[145]  ==>  Preparing: select superior_manager from department_mapping where user_account = ? and type = ? limit 0,1 
2020-11-21 16:23:17.487 DEBUG c.j.q.dao.UserMapper.getSuperiorManagerByUser[145]  ==> Parameters: hualanlan(String), QIMS(String)
2020-11-21 16:23:17.489 DEBUG cn.jwis.qualityworkflow.dao.UserMapper.getSuperior[145]  <==      Total: 1
2020-11-21 16:23:17.499 DEBUG c.j.q.dao.UserMapper.getSuperiorManagerByUser[145]  <==      Total: 1
2020-11-21 16:23:17.515 INFO  cn.jwis.qualityworkflow.util.EmailService[142]  codisan email is kelvin@jwis.cn
2020-11-21 16:23:17.515 INFO  cn.jwis.qualityworkflow.util.EmailService[142]  hualanlan email is test@jwis.cn
2020-11-21 16:23:17.516 DEBUG c.j.qualityworkflow.dao.CommonMapper.getKeyToName[145]  ==>  Preparing: SELECT * FROM key_to_name 
2020-11-21 16:23:17.516 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==>  Preparing: select time from email_history_info where id =? 
2020-11-21 16:23:17.516 DEBUG c.j.qualityworkflow.dao.CommonMapper.getKeyToName[145]  ==> Parameters: 
2020-11-21 16:23:17.516 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==> Parameters: 1315248790789160960(String)
2020-11-21 16:23:17.519 INFO  cn.jwis.qualityworkflow.util.EmailService[142]  workflow3 email is null
2020-11-21 16:23:17.523 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  <==      Total: 1
2020-11-21 16:23:17.524 DEBUG c.j.qualityworkflow.dao.CommonMapper.getKeyToName[145]  <==      Total: 8
2020-11-21 16:23:17.525 INFO  cn.jwis.qualityworkflow.util.EmailService[74]  haomiao.liu@jwis.cn send a Mail to kelvin@jwis.cn fail, because null
2020-11-21 16:23:17.540 INFO  cn.jwis.qualityworkflow.util.EmailService[142]  zhouxianling email is 
2020-11-21 16:23:17.540 DEBUG c.j.qualityworkflow.dao.TaskRecordMapper.getById[145]  ==>  Preparing: SELECT * from task_record WHERE id = ? 
2020-11-21 16:23:17.541 DEBUG c.j.qualityworkflow.dao.TaskRecordMapper.getById[145]  ==> Parameters: 1287933861786812416(String)
2020-11-21 16:23:17.547 INFO  cn.jwis.qualityworkflow.util.EmailService[142]  dz_gyb1 email is test@jwis.cn
2020-11-21 16:23:17.548 DEBUG cn.jwis.qualityworkflow.dao.UserMapper.getSuperior[145]  ==>  Preparing: select superior from department_mapping where user_account = ? and type = ? limit 0,1 
2020-11-21 16:23:17.548 DEBUG cn.jwis.qualityworkflow.dao.UserMapper.getSuperior[145]  ==> Parameters: dz_gyb1(String), COMMON(String)
2020-11-21 16:23:17.557 DEBUG c.j.qualityworkflow.dao.TaskRecordMapper.getById[145]  <==      Total: 1
2020-11-21 16:23:17.557 DEBUG c.j.qualityworkflow.dao.CommonMapper.getKeyToName[145]  ==>  Preparing: SELECT * FROM key_to_name 
2020-11-21 16:23:17.557 DEBUG c.j.qualityworkflow.dao.CommonMapper.getKeyToName[145]  ==> Parameters: 
2020-11-21 16:23:17.560 DEBUG cn.jwis.qualityworkflow.dao.UserMapper.getSuperior[145]  <==      Total: 1
2020-11-21 16:23:17.565 DEBUG c.j.qualityworkflow.dao.CommonMapper.getKeyToName[145]  <==      Total: 8
2020-11-21 16:23:17.566 INFO  cn.jwis.qualityworkflow.util.EmailService[71]  haomiao.liu@jwis.cn send a Mail to test@jwis.cn
2020-11-21 16:23:17.581 INFO  cn.jwis.qualityworkflow.util.EmailService[142]  dz_gyb2 email is jian.song@jwis.cn
2020-11-21 16:23:17.581 DEBUG c.j.qualityworkflow.dao.CommonMapper.getKeyToName[145]  ==>  Preparing: SELECT * FROM key_to_name 
2020-11-21 16:23:17.581 DEBUG c.j.qualityworkflow.dao.CommonMapper.getKeyToName[145]  ==> Parameters: 
2020-11-21 16:23:17.587 DEBUG c.j.qualityworkflow.dao.CommonMapper.getKeyToName[145]  <==      Total: 8
2020-11-21 16:23:17.588 DEBUG c.j.q.m.l.d.L.getLineQualifyDetailednessInfo[145]  ==>  Preparing: SELECT q.*,ar.processInstanceId ,ar.taskId,ar.assignee,ar.taskState,ar.taskName FROM line_qualify_info q,(SELECT workflow_business_id, process_instance_id as processInstanceId,task_id as taskId,assignee,task_state as taskState,task_name taskName FROM task_record WHERE task_id=?) ar where q.id=ar.workflow_business_id 
2020-11-21 16:23:17.588 DEBUG c.j.q.m.l.d.L.getLineQualifyDetailednessInfo[145]  ==> Parameters: 5506556(String)
2020-11-21 16:23:17.602 DEBUG c.j.q.m.l.d.L.getLineQualifyDetailednessInfo[145]  <==      Total: 1
2020-11-21 16:23:17.603 INFO  cn.jwis.qualityworkflow.util.EmailService[69]  haomiao.liu@jwis.cn send a Mail to test@jwis.cn and make a copy for [jian.song@jwis.cn]
2020-11-21 16:23:18.121 ERROR o.s.s.support.TaskUtils$LoggingErrorHandler[96] org.springframework.mail.MailSendException: Failed messages: javax.mail.SendFailedException: Invalid Addresses;
  nested exception is:
	com.sun.mail.smtp.SMTPAddressFailedException: 554 RCPT (kelvin@jwis.cn) dosn't exist

	at org.springframework.mail.javamail.JavaMailSenderImpl.doSend(JavaMailSenderImpl.java:488)
	at org.springframework.mail.javamail.JavaMailSenderImpl.send(JavaMailSenderImpl.java:359)
	at org.springframework.mail.javamail.JavaMailSenderImpl.send(JavaMailSenderImpl.java:354)
	at cn.jwis.qualityworkflow.util.EmailService.sendHtmlMail(EmailService.java:76)
	at cn.jwis.qualityworkflow.modules.qims.service.imp.QimsSendMailServiceImpl.sendEmailTohandler(QimsSendMailServiceImpl.java:161)
	at cn.jwis.qualityworkflow.modules.ipqc.service.imp.AuditQualityProblemServiceImpl.qimsSendMail(AuditQualityProblemServiceImpl.java:321)
	at cn.jwis.qualityworkflow.modules.ipqc.service.imp.AuditQualityProblemServiceImpl$$FastClassBySpringCGLIB$$15ff325f.invoke(<generated>)
	at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:684)
	at cn.jwis.qualityworkflow.modules.ipqc.service.imp.AuditQualityProblemServiceImpl$$EnhancerBySpringCGLIB$$ce0d09f5.qimsSendMail(<generated>)
	at cn.jwis.qualityworkflow.modules.ipqc.job.ipqcMailJob.qimsSendMail(ipqcMailJob.java:28)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.springframework.scheduling.support.ScheduledMethodRunnable.run(ScheduledMethodRunnable.java:84)
	at org.springframework.scheduling.support.DelegatingErrorHandlingRunnable.run(DelegatingErrorHandlingRunnable.java:54)
	at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:511)
	at java.util.concurrent.FutureTask.runAndReset(FutureTask.java:308)
	at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.access$301(ScheduledThreadPoolExecutor.java:180)
	at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:294)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)
 Unexpected error occurred in scheduled task.
2020-11-21 16:23:18.241 ERROR o.s.s.support.TaskUtils$LoggingErrorHandler[96] org.springframework.mail.MailSendException: Failed messages: javax.mail.SendFailedException: Invalid Addresses;
  nested exception is:
	com.sun.mail.smtp.SMTPAddressFailedException: 554 RCPT (test@jwis.cn) dosn't exist
;
  nested exception is:
	com.sun.mail.smtp.SMTPAddressFailedException: 554 RCPT (jian.song@jwis.cn) dosn't exist

	at org.springframework.mail.javamail.JavaMailSenderImpl.doSend(JavaMailSenderImpl.java:488)
	at org.springframework.mail.javamail.JavaMailSenderImpl.send(JavaMailSenderImpl.java:359)
	at org.springframework.mail.javamail.JavaMailSenderImpl.send(JavaMailSenderImpl.java:354)
	at cn.jwis.qualityworkflow.util.EmailService.sendHtmlMail(EmailService.java:76)
	at cn.jwis.qualityworkflow.modules.linequalify.service.imp.LineQualifyServiceImpl.sendEmailTohandler(LineQualifyServiceImpl.java:617)
	at cn.jwis.qualityworkflow.modules.linequalify.service.imp.LineQualifyServiceImpl.sendOverTimeMail(LineQualifyServiceImpl.java:594)
	at cn.jwis.qualityworkflow.modules.linequalify.service.imp.LineQualifyServiceImpl$$FastClassBySpringCGLIB$$4ca6f597.invoke(<generated>)
	at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:684)
	at cn.jwis.qualityworkflow.modules.linequalify.service.imp.LineQualifyServiceImpl$$EnhancerBySpringCGLIB$$157c169d.sendOverTimeMail(<generated>)
	at cn.jwis.qualityworkflow.modules.linequalify.job.LineQualifyMailJob.sendOverTimeMail(LineQualifyMailJob.java:30)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.springframework.scheduling.support.ScheduledMethodRunnable.run(ScheduledMethodRunnable.java:84)
	at org.springframework.scheduling.support.DelegatingErrorHandlingRunnable.run(DelegatingErrorHandlingRunnable.java:54)
	at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:511)
	at java.util.concurrent.FutureTask.runAndReset(FutureTask.java:308)
	at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.access$301(ScheduledThreadPoolExecutor.java:180)
	at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:294)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)
 Unexpected error occurred in scheduled task.
2020-11-21 16:23:18.397 ERROR o.s.s.support.TaskUtils$LoggingErrorHandler[96] org.springframework.mail.MailSendException: Failed messages: javax.mail.SendFailedException: Invalid Addresses;
  nested exception is:
	com.sun.mail.smtp.SMTPAddressFailedException: 554 RCPT (test@jwis.cn) dosn't exist

	at org.springframework.mail.javamail.JavaMailSenderImpl.doSend(JavaMailSenderImpl.java:488)
	at org.springframework.mail.javamail.JavaMailSenderImpl.send(JavaMailSenderImpl.java:359)
	at org.springframework.mail.javamail.JavaMailSenderImpl.send(JavaMailSenderImpl.java:354)
	at cn.jwis.qualityworkflow.util.EmailService.sendHtmlMail(EmailService.java:76)
	at cn.jwis.qualityworkflow.modules.qims.service.imp.QimsSendMailServiceImpl.sendEmailTohandler(QimsSendMailServiceImpl.java:161)
	at cn.jwis.qualityworkflow.modules.qims.service.imp.QimsSendMailServiceImpl.qimsSendMail(QimsSendMailServiceImpl.java:90)
	at cn.jwis.qualityworkflow.modules.qims.job.qimsMailJob.qimsSendMail(qimsMailJob.java:49)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.springframework.scheduling.support.ScheduledMethodRunnable.run(ScheduledMethodRunnable.java:84)
	at org.springframework.scheduling.support.DelegatingErrorHandlingRunnable.run(DelegatingErrorHandlingRunnable.java:54)
	at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:511)
	at java.util.concurrent.FutureTask.runAndReset(FutureTask.java:308)
	at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.access$301(ScheduledThreadPoolExecutor.java:180)
	at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:294)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)
 Unexpected error occurred in scheduled task.
2020-11-21 16:28:12.074 INFO  c.j.qualityworkflow.modules.ipqc.job.ipqcMailJob[27]  查询IPQC超时任务
2020-11-21 16:28:12.083 DEBUG c.j.q.m.qims.dao.BlackDashBoardMapper.getHoliday[145]  ==>  Preparing: SELECT DISTINCT date FROM holiday_maintenance WHERE type = '节假日' 
2020-11-21 16:28:12.083 DEBUG c.j.q.dao.TaskRecordMapper.getOverTimeTaskRecord[145]  ==>  Preparing: SELECT *, HOUR(timediff(now() , create_date)) overTimeNum FROM task_record WHERE template_key = ? AND task_state IS NULL AND task_name = ? AND HOUR(timediff(now() , create_date)) >= ? 
2020-11-21 16:28:12.083 DEBUG c.j.q.dao.TaskRecordMapper.getOverTimeTaskRecord[145]  ==>  Preparing: SELECT *, HOUR(timediff(now() , create_date)) overTimeNum FROM task_record WHERE template_key = ? AND task_state IS NULL AND task_name = ? AND HOUR(timediff(now() , create_date)) >= ? 
2020-11-21 16:28:12.084 DEBUG c.j.q.m.qims.dao.BlackDashBoardMapper.getHoliday[145]  ==> Parameters: 
2020-11-21 16:28:12.084 DEBUG c.j.q.dao.TaskRecordMapper.getOverTimeTaskRecord[145]  ==> Parameters: FactoryAuditProcess(String), 部门审核(String), 24(Integer)
2020-11-21 16:28:12.084 DEBUG c.j.q.dao.TaskRecordMapper.getOverTimeTaskRecord[145]  ==> Parameters: Line Qualify(String), 文件收集(String), 2(Integer)
2020-11-21 16:28:12.085 DEBUG c.j.q.dao.TaskRecordMapper.getOverTimeTaskRecord2[145]  ==>  Preparing: SELECT *, HOUR(timediff(now() , create_date)) overTimeNum FROM task_record WHERE template_key = ? AND task_state IS NULL AND HOUR(timediff(now() , create_date)) >= ? 
2020-11-21 16:28:12.085 DEBUG c.j.q.dao.TaskRecordMapper.getOverTimeTaskRecord2[145]  ==> Parameters: IPQCAuditProcess(String), 24(Integer)
2020-11-21 16:28:12.092 DEBUG c.j.q.m.qims.dao.BlackDashBoardMapper.getHoliday[145]  <==      Total: 6
2020-11-21 16:28:12.092 DEBUG c.j.q.m.q.d.B.getWorkOvertimeList[145]  ==>  Preparing: SELECT DISTINCT date FROM holiday_maintenance WHERE type = '补班' 
2020-11-21 16:28:12.092 DEBUG c.j.q.m.q.d.B.getWorkOvertimeList[145]  ==> Parameters: 
2020-11-21 16:28:12.101 DEBUG c.j.q.dao.TaskRecordMapper.getOverTimeTaskRecord[145]  <==      Total: 3
2020-11-21 16:28:12.101 DEBUG c.j.q.m.q.d.B.getWorkOvertimeList[145]  <==      Total: 4
2020-11-21 16:28:12.101 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==>  Preparing: select time from email_history_info where id =? 
2020-11-21 16:28:12.101 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getLtStandard[145]  ==>  Preparing: select * from qims_lt_standard_info 
2020-11-21 16:28:12.101 DEBUG c.j.q.dao.TaskRecordMapper.getOverTimeTaskRecord[145]  <==      Total: 8
2020-11-21 16:28:12.101 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==> Parameters: 1295192540470837248(String)
2020-11-21 16:28:12.101 DEBUG c.j.q.dao.TaskRecordMapper.getOverTimeTaskRecord2[145]  <==      Total: 18
2020-11-21 16:28:12.102 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getLtStandard[145]  ==> Parameters: 
2020-11-21 16:28:12.102 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==>  Preparing: select time from email_history_info where id =? 
2020-11-21 16:28:12.102 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==>  Preparing: select time from email_history_info where id =? 
2020-11-21 16:28:12.102 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==> Parameters: 1294123945645047808(String)
2020-11-21 16:28:12.103 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==> Parameters: 1303868320843300864(String)
2020-11-21 16:28:12.108 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  <==      Total: 1
2020-11-21 16:28:12.108 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==>  Preparing: select time from email_history_info where id =? 
2020-11-21 16:28:12.108 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==> Parameters: 1295192619508301824(String)
2020-11-21 16:28:12.109 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getLtStandard[145]  <==      Total: 8
2020-11-21 16:28:12.109 INFO  c.j.qualityworkflow.modules.qims.job.qimsMailJob[47]  查询黑色问题超过LT的信息
2020-11-21 16:28:12.109 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getBlackList[145]  ==>  Preparing: select * from task_record where task_name in('初步原因分析','根本原因分析','根本原因审核') and task_state is null and template_key='QIMSBLACK' 
2020-11-21 16:28:12.109 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getBlackList[145]  ==> Parameters: 
2020-11-21 16:28:12.110 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  <==      Total: 1
2020-11-21 16:28:12.110 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  <==      Total: 1
2020-11-21 16:28:12.111 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==>  Preparing: select time from email_history_info where id =? 
2020-11-21 16:28:12.111 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==> Parameters: 1303868347422605312(String)
2020-11-21 16:28:12.117 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  <==      Total: 1
2020-11-21 16:28:12.118 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==>  Preparing: select time from email_history_info where id =? 
2020-11-21 16:28:12.118 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==> Parameters: 1299240419787276288(String)
2020-11-21 16:28:12.122 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  <==      Total: 1
2020-11-21 16:28:12.123 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==>  Preparing: select time from email_history_info where id =? 
2020-11-21 16:28:12.123 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getBlackList[145]  <==      Total: 16
2020-11-21 16:28:12.123 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==> Parameters: 1303868393815801856(String)
2020-11-21 16:28:12.125 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==>  Preparing: select time from email_history_info where id =? 
2020-11-21 16:28:12.125 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==> Parameters: 1286902446076985344(String)
2020-11-21 16:28:12.127 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  <==      Total: 1
2020-11-21 16:28:12.142 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  <==      Total: 1
2020-11-21 16:28:12.142 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  <==      Total: 1
2020-11-21 16:28:12.142 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==>  Preparing: select time from email_history_info where id =? 
2020-11-21 16:28:12.142 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==> Parameters: 1303937438065885184(String)
2020-11-21 16:28:12.156 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  <==      Total: 1
2020-11-21 16:28:12.156 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==>  Preparing: select time from email_history_info where id =? 
2020-11-21 16:28:12.156 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==> Parameters: 1303939538460082176(String)
2020-11-21 16:28:12.167 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  <==      Total: 1
2020-11-21 16:28:12.167 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==>  Preparing: select time from email_history_info where id =? 
2020-11-21 16:28:12.167 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==> Parameters: 1303939599889858560(String)
2020-11-21 16:28:12.174 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  <==      Total: 1
2020-11-21 16:28:12.174 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==>  Preparing: select time from email_history_info where id =? 
2020-11-21 16:28:12.174 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==> Parameters: 1306059696263659520(String)
2020-11-21 16:28:12.190 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  <==      Total: 1
2020-11-21 16:28:12.190 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==>  Preparing: select time from email_history_info where id =? 
2020-11-21 16:28:12.190 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==> Parameters: 1306155886347026432(String)
2020-11-21 16:28:12.198 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  <==      Total: 1
2020-11-21 16:28:12.198 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==>  Preparing: select time from email_history_info where id =? 
2020-11-21 16:28:12.198 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==> Parameters: 1306201167000240128(String)
2020-11-21 16:28:12.206 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  <==      Total: 1
2020-11-21 16:28:12.206 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==>  Preparing: select time from email_history_info where id =? 
2020-11-21 16:28:12.206 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==> Parameters: 1308013106458263552(String)
2020-11-21 16:28:12.223 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  <==      Total: 0
2020-11-21 16:28:17.143 DEBUG cn.jwis.qualityworkflow.util.EmailService[144]  get handler mail from http://gateway.dev.jwis.io/platform/sys/user/internal-read?name=qualityadmin happen error cause:I/O error on GET request for "http://gateway.dev.jwis.io/platform/sys/user/internal-read": connect timed out; nested exception is java.net.SocketTimeoutException: connect timed out
2020-11-21 16:28:17.143 DEBUG cn.jwis.qualityworkflow.util.EmailService[144]  get handler mail from http://gateway.dev.jwis.io/platform/sys/user/internal-read?name=dz_gyb1 happen error cause:I/O error on GET request for "http://gateway.dev.jwis.io/platform/sys/user/internal-read": connect timed out; nested exception is java.net.SocketTimeoutException: connect timed out
2020-11-21 16:28:17.144 DEBUG cn.jwis.qualityworkflow.util.EmailService[144]  get handler mail from http://gateway.dev.jwis.io/platform/sys/user/internal-read?name=hualanlan happen error cause:I/O error on GET request for "http://gateway.dev.jwis.io/platform/sys/user/internal-read": connect timed out; nested exception is java.net.SocketTimeoutException: connect timed out
2020-11-21 16:28:17.151 DEBUG cn.jwis.qualityworkflow.dao.UserMapper.getSuperior[145]  ==>  Preparing: select superior from department_mapping where user_account = ? and type = ? limit 0,1 
2020-11-21 16:28:17.151 DEBUG cn.jwis.qualityworkflow.dao.UserMapper.getSuperior[145]  ==>  Preparing: select superior from department_mapping where user_account = ? and type = ? limit 0,1 
2020-11-21 16:28:17.152 DEBUG cn.jwis.qualityworkflow.dao.UserMapper.getSuperior[145]  ==> Parameters: qualityadmin(String), COMMON(String)
2020-11-21 16:28:17.152 DEBUG cn.jwis.qualityworkflow.dao.UserMapper.getSuperior[145]  ==> Parameters: dz_gyb1(String), COMMON(String)
2020-11-21 16:28:17.154 DEBUG cn.jwis.qualityworkflow.dao.UserMapper.getSuperior[145]  ==>  Preparing: select superior from department_mapping where user_account = ? and type = ? limit 0,1 
2020-11-21 16:28:17.154 DEBUG cn.jwis.qualityworkflow.dao.UserMapper.getSuperior[145]  ==> Parameters: hualanlan(String), QIMS(String)
2020-11-21 16:28:17.163 DEBUG cn.jwis.qualityworkflow.dao.UserMapper.getSuperior[145]  <==      Total: 1
2020-11-21 16:28:17.163 DEBUG cn.jwis.qualityworkflow.dao.UserMapper.getSuperior[145]  <==      Total: 1
2020-11-21 16:28:17.163 DEBUG cn.jwis.qualityworkflow.dao.UserMapper.getSuperior[145]  <==      Total: 1
2020-11-21 16:28:17.163 DEBUG c.j.q.dao.UserMapper.getSuperiorManagerByUser[145]  ==>  Preparing: select superior_manager from department_mapping where user_account = ? and type = ? limit 0,1 
2020-11-21 16:28:17.164 DEBUG c.j.q.dao.UserMapper.getSuperiorManagerByUser[145]  ==> Parameters: hualanlan(String), QIMS(String)
2020-11-21 16:28:17.177 DEBUG c.j.q.dao.UserMapper.getSuperiorManagerByUser[145]  <==      Total: 1
2020-11-21 16:28:17.199 INFO  cn.jwis.qualityworkflow.util.EmailService[142]  dz_gyb2 email is jian.song@jwis.cn
2020-11-21 16:28:17.199 INFO  cn.jwis.qualityworkflow.util.EmailService[142]  qualityadmin email is 
2020-11-21 16:28:17.200 INFO  c.j.q.m.factoryaudit.job.AuditQuestionMailJob[31]  邮件下发结束
2020-11-21 16:28:17.200 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==>  Preparing: select time from email_history_info where id =? 
2020-11-21 16:28:17.200 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==> Parameters: 1294123945682796544(String)
2020-11-21 16:28:17.209 INFO  cn.jwis.qualityworkflow.util.EmailService[142]  workflow3 email is null
2020-11-21 16:28:17.209 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  <==      Total: 1
2020-11-21 16:28:17.209 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==>  Preparing: select time from email_history_info where id =? 
2020-11-21 16:28:17.209 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==> Parameters: 1294123945716350976(String)
2020-11-21 16:28:17.219 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  <==      Total: 1
2020-11-21 16:28:17.224 DEBUG cn.jwis.qualityworkflow.util.EmailService[144]  get handler mail from http://gateway.dev.jwis.io/platform/sys/user/internal-read?name=kiween happen error cause:I/O error on GET request for "http://gateway.dev.jwis.io/platform/sys/user/internal-read": connect timed out; nested exception is java.net.SocketTimeoutException: connect timed out
2020-11-21 16:28:17.230 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==>  Preparing: select time from email_history_info where id =? 
2020-11-21 16:28:17.231 INFO  cn.jwis.qualityworkflow.util.EmailService[142]  zhouxianling email is 
2020-11-21 16:28:17.231 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==> Parameters: 1308013110702899200(String)
2020-11-21 16:28:17.233 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==>  Preparing: select time from email_history_info where id =? 
2020-11-21 16:28:17.233 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==> Parameters: 1286904434760089600(String)
2020-11-21 16:28:17.242 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  <==      Total: 1
2020-11-21 16:28:17.242 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  <==      Total: 1
2020-11-21 16:28:17.242 INFO  cn.jwis.qualityworkflow.util.EmailService[142]  xujinbiao email is 
2020-11-21 16:28:17.243 DEBUG cn.jwis.qualityworkflow.dao.UserMapper.getSuperior[145]  ==>  Preparing: select superior from department_mapping where user_account = ? and type = ? limit 0,1 
2020-11-21 16:28:17.244 DEBUG cn.jwis.qualityworkflow.dao.UserMapper.getSuperior[145]  ==> Parameters: xujinbiao(String), COMMON(String)
2020-11-21 16:28:17.254 DEBUG cn.jwis.qualityworkflow.dao.UserMapper.getSuperior[145]  <==      Total: 1
2020-11-21 16:28:17.267 INFO  cn.jwis.qualityworkflow.util.EmailService[142]  qualityadmin email is 
2020-11-21 16:28:17.267 DEBUG cn.jwis.qualityworkflow.dao.UserMapper.getSuperior[145]  ==>  Preparing: select superior from department_mapping where user_account = ? and type = ? limit 0,1 
2020-11-21 16:28:17.268 DEBUG cn.jwis.qualityworkflow.dao.UserMapper.getSuperior[145]  ==> Parameters: qualityadmin(String), COMMON(String)
2020-11-21 16:28:17.277 DEBUG cn.jwis.qualityworkflow.dao.UserMapper.getSuperior[145]  <==      Total: 1
2020-11-21 16:28:17.299 INFO  cn.jwis.qualityworkflow.util.EmailService[142]  gupp2 email is null
2020-11-21 16:28:17.299 INFO  cn.jwis.qualityworkflow.util.EmailService[142]  hualanlan email is test@jwis.cn
2020-11-21 16:28:17.300 DEBUG cn.jwis.qualityworkflow.dao.UserMapper.getSuperior[145]  ==>  Preparing: select superior from department_mapping where user_account = ? and type = ? limit 0,1 
2020-11-21 16:28:17.300 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==>  Preparing: select time from email_history_info where id =? 
2020-11-21 16:28:17.300 DEBUG cn.jwis.qualityworkflow.dao.UserMapper.getSuperior[145]  ==> Parameters: gupp2(String), QIMS(String)
2020-11-21 16:28:17.300 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==> Parameters: 1295193219738370048(String)
2020-11-21 16:28:17.306 INFO  cn.jwis.qualityworkflow.util.EmailService[142]  qualityadmin email is 
2020-11-21 16:28:17.306 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==>  Preparing: select time from email_history_info where id =? 
2020-11-21 16:28:17.306 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==> Parameters: 1308013113928318976(String)
2020-11-21 16:28:17.307 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  <==      Total: 1
2020-11-21 16:28:17.307 DEBUG cn.jwis.qualityworkflow.dao.UserMapper.getSuperior[145]  <==      Total: 0
2020-11-21 16:28:17.308 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==>  Preparing: select time from email_history_info where id =? 
2020-11-21 16:28:17.308 DEBUG c.j.q.dao.UserMapper.getSuperiorManagerByUser[145]  ==>  Preparing: select superior_manager from department_mapping where user_account = ? and type = ? limit 0,1 
2020-11-21 16:28:17.308 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==> Parameters: 1295193220166189056(String)
2020-11-21 16:28:17.308 DEBUG c.j.q.dao.UserMapper.getSuperiorManagerByUser[145]  ==> Parameters: gupp2(String), QIMS(String)
2020-11-21 16:28:17.315 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  <==      Total: 1
2020-11-21 16:28:17.315 DEBUG c.j.q.dao.UserMapper.getSuperiorManagerByUser[145]  <==      Total: 0
2020-11-21 16:28:17.315 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  <==      Total: 1
2020-11-21 16:28:17.318 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==>  Preparing: select time from email_history_info where id =? 
2020-11-21 16:28:17.318 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==> Parameters: 1286916730144161792(String)
2020-11-21 16:28:17.327 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  <==      Total: 1
2020-11-21 16:28:17.345 INFO  cn.jwis.qualityworkflow.util.EmailService[142]  xujinbiao email is 
2020-11-21 16:28:17.346 DEBUG cn.jwis.qualityworkflow.dao.UserMapper.getSuperior[145]  ==>  Preparing: select superior from department_mapping where user_account = ? and type = ? limit 0,1 
2020-11-21 16:28:17.346 DEBUG cn.jwis.qualityworkflow.dao.UserMapper.getSuperior[145]  ==> Parameters: xujinbiao(String), COMMON(String)
2020-11-21 16:28:17.348 INFO  cn.jwis.qualityworkflow.util.EmailService[142]  qualityadmin email is 
2020-11-21 16:28:17.348 DEBUG cn.jwis.qualityworkflow.dao.UserMapper.getSuperior[145]  ==>  Preparing: select superior from department_mapping where user_account = ? and type = ? limit 0,1 
2020-11-21 16:28:17.348 DEBUG cn.jwis.qualityworkflow.dao.UserMapper.getSuperior[145]  ==> Parameters: qualityadmin(String), COMMON(String)
2020-11-21 16:28:17.356 INFO  cn.jwis.qualityworkflow.util.EmailService[142]  gupp2 email is null
2020-11-21 16:28:17.356 DEBUG cn.jwis.qualityworkflow.dao.UserMapper.getSuperior[145]  <==      Total: 1
2020-11-21 16:28:17.356 DEBUG cn.jwis.qualityworkflow.dao.UserMapper.getSuperior[145]  <==      Total: 1
2020-11-21 16:28:17.357 DEBUG cn.jwis.qualityworkflow.dao.UserMapper.getSuperior[145]  ==>  Preparing: select superior from department_mapping where user_account = ? and type = ? limit 0,1 
2020-11-21 16:28:17.357 DEBUG cn.jwis.qualityworkflow.dao.UserMapper.getSuperior[145]  ==> Parameters: gupp2(String), QIMS(String)
2020-11-21 16:28:17.367 DEBUG cn.jwis.qualityworkflow.dao.UserMapper.getSuperior[145]  <==      Total: 0
2020-11-21 16:28:17.367 DEBUG c.j.q.dao.UserMapper.getSuperiorManagerByUser[145]  ==>  Preparing: select superior_manager from department_mapping where user_account = ? and type = ? limit 0,1 
2020-11-21 16:28:17.367 DEBUG c.j.q.dao.UserMapper.getSuperiorManagerByUser[145]  ==> Parameters: gupp2(String), QIMS(String)
2020-11-21 16:28:17.383 DEBUG c.j.q.dao.UserMapper.getSuperiorManagerByUser[145]  <==      Total: 0
2020-11-21 16:28:17.385 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==>  Preparing: select time from email_history_info where id =? 
2020-11-21 16:28:17.385 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==> Parameters: 1287933861786812416(String)
2020-11-21 16:28:17.395 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  <==      Total: 1
2020-11-21 16:28:17.400 INFO  cn.jwis.qualityworkflow.util.EmailService[142]  hualanlan email is test@jwis.cn
2020-11-21 16:28:17.400 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==>  Preparing: select time from email_history_info where id =? 
2020-11-21 16:28:17.400 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==> Parameters: 1295193707351375872(String)
2020-11-21 16:28:17.401 INFO  cn.jwis.qualityworkflow.util.EmailService[142]  qualityadmin email is 
2020-11-21 16:28:17.401 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==>  Preparing: select time from email_history_info where id =? 
2020-11-21 16:28:17.401 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==> Parameters: 1308013116927246336(String)
2020-11-21 16:28:17.411 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  <==      Total: 1
2020-11-21 16:28:17.411 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  <==      Total: 0
2020-11-21 16:28:17.411 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==>  Preparing: select time from email_history_info where id =? 
2020-11-21 16:28:17.412 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==> Parameters: 1295193707376541696(String)
2020-11-21 16:28:17.417 INFO  cn.jwis.qualityworkflow.util.EmailService[142]  hualanlan email is test@jwis.cn
2020-11-21 16:28:17.418 DEBUG cn.jwis.qualityworkflow.dao.UserMapper.getSuperior[145]  ==>  Preparing: select superior from department_mapping where user_account = ? and type = ? limit 0,1 
2020-11-21 16:28:17.418 DEBUG cn.jwis.qualityworkflow.dao.UserMapper.getSuperior[145]  ==> Parameters: hualanlan(String), QIMS(String)
2020-11-21 16:28:17.420 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  <==      Total: 1
2020-11-21 16:28:17.427 DEBUG cn.jwis.qualityworkflow.dao.UserMapper.getSuperior[145]  <==      Total: 1
2020-11-21 16:28:17.428 DEBUG c.j.q.dao.UserMapper.getSuperiorManagerByUser[145]  ==>  Preparing: select superior_manager from department_mapping where user_account = ? and type = ? limit 0,1 
2020-11-21 16:28:17.428 DEBUG c.j.q.dao.UserMapper.getSuperiorManagerByUser[145]  ==> Parameters: hualanlan(String), QIMS(String)
2020-11-21 16:28:17.432 INFO  cn.jwis.qualityworkflow.util.EmailService[142]  kiween email is 
2020-11-21 16:28:17.433 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==>  Preparing: select time from email_history_info where id =? 
2020-11-21 16:28:17.433 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==> Parameters: 1309046852858937344(String)
2020-11-21 16:28:17.439 DEBUG c.j.q.dao.UserMapper.getSuperiorManagerByUser[145]  <==      Total: 1
2020-11-21 16:28:17.440 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  <==      Total: 0
2020-11-21 16:28:17.446 INFO  cn.jwis.qualityworkflow.util.EmailService[142]  xujinbiao email is 
2020-11-21 16:28:17.446 DEBUG cn.jwis.qualityworkflow.dao.UserMapper.getSuperior[145]  ==>  Preparing: select superior from department_mapping where user_account = ? and type = ? limit 0,1 
2020-11-21 16:28:17.447 DEBUG cn.jwis.qualityworkflow.dao.UserMapper.getSuperior[145]  ==> Parameters: xujinbiao(String), COMMON(String)
2020-11-21 16:28:17.455 DEBUG cn.jwis.qualityworkflow.dao.UserMapper.getSuperior[145]  <==      Total: 1
2020-11-21 16:28:17.608 INFO  cn.jwis.qualityworkflow.util.EmailService[142]  workflow3 email is null
2020-11-21 16:28:17.609 INFO  cn.jwis.qualityworkflow.util.EmailService[142]  hualanlan email is test@jwis.cn
2020-11-21 16:28:17.609 INFO  cn.jwis.qualityworkflow.util.EmailService[142]  codisan email is kelvin@jwis.cn
2020-11-21 16:28:17.609 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==>  Preparing: select time from email_history_info where id =? 
2020-11-21 16:28:17.609 DEBUG c.j.qualityworkflow.dao.CommonMapper.getKeyToName[145]  ==>  Preparing: SELECT * FROM key_to_name 
2020-11-21 16:28:17.609 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==> Parameters: 1315248790789160960(String)
2020-11-21 16:28:17.609 DEBUG c.j.qualityworkflow.dao.CommonMapper.getKeyToName[145]  ==> Parameters: 
2020-11-21 16:28:17.617 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  <==      Total: 1
2020-11-21 16:28:17.617 DEBUG c.j.qualityworkflow.dao.CommonMapper.getKeyToName[145]  <==      Total: 8
2020-11-21 16:28:17.619 INFO  cn.jwis.qualityworkflow.util.EmailService[74]  haomiao.liu@jwis.cn send a Mail to kelvin@jwis.cn fail, because null
2020-11-21 16:28:17.636 INFO  cn.jwis.qualityworkflow.util.EmailService[142]  zhouxianling email is 
2020-11-21 16:28:17.636 DEBUG c.j.qualityworkflow.dao.TaskRecordMapper.getById[145]  ==>  Preparing: SELECT * from task_record WHERE id = ? 
2020-11-21 16:28:17.636 DEBUG c.j.qualityworkflow.dao.TaskRecordMapper.getById[145]  ==> Parameters: 1287933861786812416(String)
2020-11-21 16:28:17.645 DEBUG c.j.qualityworkflow.dao.TaskRecordMapper.getById[145]  <==      Total: 1
2020-11-21 16:28:17.646 DEBUG c.j.qualityworkflow.dao.CommonMapper.getKeyToName[145]  ==>  Preparing: SELECT * FROM key_to_name 
2020-11-21 16:28:17.646 DEBUG c.j.qualityworkflow.dao.CommonMapper.getKeyToName[145]  ==> Parameters: 
2020-11-21 16:28:17.653 DEBUG c.j.qualityworkflow.dao.CommonMapper.getKeyToName[145]  <==      Total: 8
2020-11-21 16:28:17.654 INFO  cn.jwis.qualityworkflow.util.EmailService[71]  haomiao.liu@jwis.cn send a Mail to test@jwis.cn
2020-11-21 16:28:17.741 INFO  cn.jwis.qualityworkflow.util.EmailService[142]  dz_gyb1 email is test@jwis.cn
2020-11-21 16:28:17.741 DEBUG cn.jwis.qualityworkflow.dao.UserMapper.getSuperior[145]  ==>  Preparing: select superior from department_mapping where user_account = ? and type = ? limit 0,1 
2020-11-21 16:28:17.741 DEBUG cn.jwis.qualityworkflow.dao.UserMapper.getSuperior[145]  ==> Parameters: dz_gyb1(String), COMMON(String)
2020-11-21 16:28:17.781 DEBUG cn.jwis.qualityworkflow.dao.UserMapper.getSuperior[145]  <==      Total: 1
2020-11-21 16:28:17.802 INFO  cn.jwis.qualityworkflow.util.EmailService[142]  dz_gyb2 email is jian.song@jwis.cn
2020-11-21 16:28:17.802 DEBUG c.j.qualityworkflow.dao.CommonMapper.getKeyToName[145]  ==>  Preparing: SELECT * FROM key_to_name 
2020-11-21 16:28:17.802 DEBUG c.j.qualityworkflow.dao.CommonMapper.getKeyToName[145]  ==> Parameters: 
2020-11-21 16:28:17.811 DEBUG c.j.qualityworkflow.dao.CommonMapper.getKeyToName[145]  <==      Total: 8
2020-11-21 16:28:17.812 DEBUG c.j.q.m.l.d.L.getLineQualifyDetailednessInfo[145]  ==>  Preparing: SELECT q.*,ar.processInstanceId ,ar.taskId,ar.assignee,ar.taskState,ar.taskName FROM line_qualify_info q,(SELECT workflow_business_id, process_instance_id as processInstanceId,task_id as taskId,assignee,task_state as taskState,task_name taskName FROM task_record WHERE task_id=?) ar where q.id=ar.workflow_business_id 
2020-11-21 16:28:17.812 DEBUG c.j.q.m.l.d.L.getLineQualifyDetailednessInfo[145]  ==> Parameters: 5506556(String)
2020-11-21 16:28:17.823 DEBUG c.j.q.m.l.d.L.getLineQualifyDetailednessInfo[145]  <==      Total: 1
2020-11-21 16:28:17.824 INFO  cn.jwis.qualityworkflow.util.EmailService[69]  haomiao.liu@jwis.cn send a Mail to test@jwis.cn and make a copy for [jian.song@jwis.cn]
2020-11-21 16:28:18.328 ERROR o.s.s.support.TaskUtils$LoggingErrorHandler[96] org.springframework.mail.MailSendException: Failed messages: javax.mail.SendFailedException: Invalid Addresses;
  nested exception is:
	com.sun.mail.smtp.SMTPAddressFailedException: 554 RCPT (test@jwis.cn) dosn't exist

	at org.springframework.mail.javamail.JavaMailSenderImpl.doSend(JavaMailSenderImpl.java:488)
	at org.springframework.mail.javamail.JavaMailSenderImpl.send(JavaMailSenderImpl.java:359)
	at org.springframework.mail.javamail.JavaMailSenderImpl.send(JavaMailSenderImpl.java:354)
	at cn.jwis.qualityworkflow.util.EmailService.sendHtmlMail(EmailService.java:76)
	at cn.jwis.qualityworkflow.modules.qims.service.imp.QimsSendMailServiceImpl.sendEmailTohandler(QimsSendMailServiceImpl.java:161)
	at cn.jwis.qualityworkflow.modules.qims.service.imp.QimsSendMailServiceImpl.qimsSendMail(QimsSendMailServiceImpl.java:90)
	at cn.jwis.qualityworkflow.modules.qims.job.qimsMailJob.qimsSendMail(qimsMailJob.java:49)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.springframework.scheduling.support.ScheduledMethodRunnable.run(ScheduledMethodRunnable.java:84)
	at org.springframework.scheduling.support.DelegatingErrorHandlingRunnable.run(DelegatingErrorHandlingRunnable.java:54)
	at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:511)
	at java.util.concurrent.FutureTask.runAndReset(FutureTask.java:308)
	at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.access$301(ScheduledThreadPoolExecutor.java:180)
	at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:294)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)
 Unexpected error occurred in scheduled task.
2020-11-21 16:28:18.328 ERROR o.s.s.support.TaskUtils$LoggingErrorHandler[96] org.springframework.mail.MailSendException: Failed messages: javax.mail.SendFailedException: Invalid Addresses;
  nested exception is:
	com.sun.mail.smtp.SMTPAddressFailedException: 554 RCPT (kelvin@jwis.cn) dosn't exist

	at org.springframework.mail.javamail.JavaMailSenderImpl.doSend(JavaMailSenderImpl.java:488)
	at org.springframework.mail.javamail.JavaMailSenderImpl.send(JavaMailSenderImpl.java:359)
	at org.springframework.mail.javamail.JavaMailSenderImpl.send(JavaMailSenderImpl.java:354)
	at cn.jwis.qualityworkflow.util.EmailService.sendHtmlMail(EmailService.java:76)
	at cn.jwis.qualityworkflow.modules.qims.service.imp.QimsSendMailServiceImpl.sendEmailTohandler(QimsSendMailServiceImpl.java:161)
	at cn.jwis.qualityworkflow.modules.ipqc.service.imp.AuditQualityProblemServiceImpl.qimsSendMail(AuditQualityProblemServiceImpl.java:321)
	at cn.jwis.qualityworkflow.modules.ipqc.service.imp.AuditQualityProblemServiceImpl$$FastClassBySpringCGLIB$$15ff325f.invoke(<generated>)
	at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:684)
	at cn.jwis.qualityworkflow.modules.ipqc.service.imp.AuditQualityProblemServiceImpl$$EnhancerBySpringCGLIB$$ce0d09f5.qimsSendMail(<generated>)
	at cn.jwis.qualityworkflow.modules.ipqc.job.ipqcMailJob.qimsSendMail(ipqcMailJob.java:28)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.springframework.scheduling.support.ScheduledMethodRunnable.run(ScheduledMethodRunnable.java:84)
	at org.springframework.scheduling.support.DelegatingErrorHandlingRunnable.run(DelegatingErrorHandlingRunnable.java:54)
	at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:511)
	at java.util.concurrent.FutureTask.runAndReset(FutureTask.java:308)
	at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.access$301(ScheduledThreadPoolExecutor.java:180)
	at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:294)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)
 Unexpected error occurred in scheduled task.
2020-11-21 16:28:18.550 ERROR o.s.s.support.TaskUtils$LoggingErrorHandler[96] org.springframework.mail.MailSendException: Failed messages: javax.mail.SendFailedException: Invalid Addresses;
  nested exception is:
	com.sun.mail.smtp.SMTPAddressFailedException: 554 RCPT (test@jwis.cn) dosn't exist
;
  nested exception is:
	com.sun.mail.smtp.SMTPAddressFailedException: 554 RCPT (jian.song@jwis.cn) dosn't exist

	at org.springframework.mail.javamail.JavaMailSenderImpl.doSend(JavaMailSenderImpl.java:488)
	at org.springframework.mail.javamail.JavaMailSenderImpl.send(JavaMailSenderImpl.java:359)
	at org.springframework.mail.javamail.JavaMailSenderImpl.send(JavaMailSenderImpl.java:354)
	at cn.jwis.qualityworkflow.util.EmailService.sendHtmlMail(EmailService.java:76)
	at cn.jwis.qualityworkflow.modules.linequalify.service.imp.LineQualifyServiceImpl.sendEmailTohandler(LineQualifyServiceImpl.java:617)
	at cn.jwis.qualityworkflow.modules.linequalify.service.imp.LineQualifyServiceImpl.sendOverTimeMail(LineQualifyServiceImpl.java:594)
	at cn.jwis.qualityworkflow.modules.linequalify.service.imp.LineQualifyServiceImpl$$FastClassBySpringCGLIB$$4ca6f597.invoke(<generated>)
	at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:684)
	at cn.jwis.qualityworkflow.modules.linequalify.service.imp.LineQualifyServiceImpl$$EnhancerBySpringCGLIB$$157c169d.sendOverTimeMail(<generated>)
	at cn.jwis.qualityworkflow.modules.linequalify.job.LineQualifyMailJob.sendOverTimeMail(LineQualifyMailJob.java:30)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.springframework.scheduling.support.ScheduledMethodRunnable.run(ScheduledMethodRunnable.java:84)
	at org.springframework.scheduling.support.DelegatingErrorHandlingRunnable.run(DelegatingErrorHandlingRunnable.java:54)
	at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:511)
	at java.util.concurrent.FutureTask.runAndReset(FutureTask.java:308)
	at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.access$301(ScheduledThreadPoolExecutor.java:180)
	at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:294)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)
 Unexpected error occurred in scheduled task.
2020-11-21 16:30:00.019 INFO  c.j.q.m.t.T.TraceabilityMachineTimerManager[50]  设备定时任务开启
2020-11-21 16:30:00.026 DEBUG c.j.q.m.t.d.T.getTraceabilityMachineList[145]  ==>  Preparing: select table_name from traceability_machine_data group by table_name 
2020-11-21 16:30:00.026 DEBUG c.j.q.m.t.d.T.getTraceabilityMachineList[145]  ==> Parameters: 
2020-11-21 16:30:00.035 DEBUG c.j.q.m.t.d.T.getTraceabilityMachineList[145]  <==      Total: 5
2020-11-21 16:30:00.035 DEBUG c.j.q.m.t.d.T.getTraceabilityMachineFiledName[145]  ==>  Preparing: select filed_name from traceability_machine_data where table_name=? 
2020-11-21 16:30:00.035 DEBUG c.j.q.m.t.d.T.getTraceabilityMachineFiledName[145]  ==> Parameters: dust_free_shed(String)
2020-11-21 16:30:00.042 DEBUG c.j.q.m.t.d.T.getTraceabilityMachineFiledName[145]  <==      Total: 11
2020-11-21 16:30:00.042 DEBUG c.j.q.m.t.d.T.getMaxCreateTime[145]  ==>  Preparing: select max(createtime) from dust_free_shed 
2020-11-21 16:30:00.043 DEBUG c.j.q.m.t.d.T.getMaxCreateTime[145]  ==> Parameters: 
2020-11-21 16:30:00.120 DEBUG c.j.q.m.t.d.T.getMaxCreateTime[145]  <==      Total: 1
2020-11-21 16:30:00.125 ERROR o.s.s.support.TaskUtils$LoggingErrorHandler[96] java.lang.NullPointerException: null
	at cn.jwis.qualityworkflow.modules.traceablity.TimerManager.TraceabilityMachineTimerManager.getLenovoMachineData(TraceabilityMachineTimerManager.java:105)
	at cn.jwis.qualityworkflow.modules.traceablity.TimerManager.TraceabilityMachineTimerManager.MachineTimerManager(TraceabilityMachineTimerManager.java:57)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.springframework.scheduling.support.ScheduledMethodRunnable.run(ScheduledMethodRunnable.java:84)
	at org.springframework.scheduling.support.DelegatingErrorHandlingRunnable.run(DelegatingErrorHandlingRunnable.java:54)
	at org.springframework.scheduling.concurrent.ReschedulingRunnable.run(ReschedulingRunnable.java:93)
	at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:511)
	at java.util.concurrent.FutureTask.run(FutureTask.java:266)
	at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.access$201(ScheduledThreadPoolExecutor.java:180)
	at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:293)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)
 Unexpected error occurred in scheduled task.
2020-11-21 16:33:12.083 INFO  c.j.qualityworkflow.modules.ipqc.job.ipqcMailJob[27]  查询IPQC超时任务
2020-11-21 16:33:12.091 DEBUG c.j.q.dao.TaskRecordMapper.getOverTimeTaskRecord[145]  ==>  Preparing: SELECT *, HOUR(timediff(now() , create_date)) overTimeNum FROM task_record WHERE template_key = ? AND task_state IS NULL AND task_name = ? AND HOUR(timediff(now() , create_date)) >= ? 
2020-11-21 16:33:12.092 DEBUG c.j.q.dao.TaskRecordMapper.getOverTimeTaskRecord[145]  ==> Parameters: Line Qualify(String), 文件收集(String), 2(Integer)
2020-11-21 16:33:12.093 DEBUG c.j.q.m.qims.dao.BlackDashBoardMapper.getHoliday[145]  ==>  Preparing: SELECT DISTINCT date FROM holiday_maintenance WHERE type = '节假日' 
2020-11-21 16:33:12.093 DEBUG c.j.q.dao.TaskRecordMapper.getOverTimeTaskRecord[145]  ==>  Preparing: SELECT *, HOUR(timediff(now() , create_date)) overTimeNum FROM task_record WHERE template_key = ? AND task_state IS NULL AND task_name = ? AND HOUR(timediff(now() , create_date)) >= ? 
2020-11-21 16:33:12.093 DEBUG c.j.q.m.qims.dao.BlackDashBoardMapper.getHoliday[145]  ==> Parameters: 
2020-11-21 16:33:12.093 DEBUG c.j.q.dao.TaskRecordMapper.getOverTimeTaskRecord[145]  ==> Parameters: FactoryAuditProcess(String), 部门审核(String), 24(Integer)
2020-11-21 16:33:12.098 DEBUG c.j.q.dao.TaskRecordMapper.getOverTimeTaskRecord2[145]  ==>  Preparing: SELECT *, HOUR(timediff(now() , create_date)) overTimeNum FROM task_record WHERE template_key = ? AND task_state IS NULL AND HOUR(timediff(now() , create_date)) >= ? 
2020-11-21 16:33:12.098 DEBUG c.j.q.dao.TaskRecordMapper.getOverTimeTaskRecord2[145]  ==> Parameters: IPQCAuditProcess(String), 24(Integer)
2020-11-21 16:33:12.103 DEBUG c.j.q.m.qims.dao.BlackDashBoardMapper.getHoliday[145]  <==      Total: 6
2020-11-21 16:33:12.104 DEBUG c.j.q.m.q.d.B.getWorkOvertimeList[145]  ==>  Preparing: SELECT DISTINCT date FROM holiday_maintenance WHERE type = '补班' 
2020-11-21 16:33:12.104 DEBUG c.j.q.m.q.d.B.getWorkOvertimeList[145]  ==> Parameters: 
2020-11-21 16:33:12.106 DEBUG c.j.q.dao.TaskRecordMapper.getOverTimeTaskRecord[145]  <==      Total: 3
2020-11-21 16:33:12.106 DEBUG c.j.q.dao.TaskRecordMapper.getOverTimeTaskRecord[145]  <==      Total: 8
2020-11-21 16:33:12.106 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==>  Preparing: select time from email_history_info where id =? 
2020-11-21 16:33:12.106 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==>  Preparing: select time from email_history_info where id =? 
2020-11-21 16:33:12.106 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==> Parameters: 1295192540470837248(String)
2020-11-21 16:33:12.107 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==> Parameters: 1294123945645047808(String)
2020-11-21 16:33:12.109 DEBUG c.j.q.dao.TaskRecordMapper.getOverTimeTaskRecord2[145]  <==      Total: 18
2020-11-21 16:33:12.110 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==>  Preparing: select time from email_history_info where id =? 
2020-11-21 16:33:12.110 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==> Parameters: 1303868320843300864(String)
2020-11-21 16:33:12.113 DEBUG c.j.q.m.q.d.B.getWorkOvertimeList[145]  <==      Total: 4
2020-11-21 16:33:12.114 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getLtStandard[145]  ==>  Preparing: select * from qims_lt_standard_info 
2020-11-21 16:33:12.114 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getLtStandard[145]  ==> Parameters: 
2020-11-21 16:33:12.117 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  <==      Total: 1
2020-11-21 16:33:12.117 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  <==      Total: 1
2020-11-21 16:33:12.117 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==>  Preparing: select time from email_history_info where id =? 
2020-11-21 16:33:12.117 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  <==      Total: 1
2020-11-21 16:33:12.117 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==> Parameters: 1295192619508301824(String)
2020-11-21 16:33:12.117 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==>  Preparing: select time from email_history_info where id =? 
2020-11-21 16:33:12.117 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==> Parameters: 1303868347422605312(String)
2020-11-21 16:33:12.127 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  <==      Total: 1
2020-11-21 16:33:12.127 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  <==      Total: 1
2020-11-21 16:33:12.127 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getLtStandard[145]  <==      Total: 8
2020-11-21 16:33:12.127 INFO  c.j.qualityworkflow.modules.qims.job.qimsMailJob[47]  查询黑色问题超过LT的信息
2020-11-21 16:33:12.127 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==>  Preparing: select time from email_history_info where id =? 
2020-11-21 16:33:12.127 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==>  Preparing: select time from email_history_info where id =? 
2020-11-21 16:33:12.127 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getBlackList[145]  ==>  Preparing: select * from task_record where task_name in('初步原因分析','根本原因分析','根本原因审核') and task_state is null and template_key='QIMSBLACK' 
2020-11-21 16:33:12.127 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==> Parameters: 1303868393815801856(String)
2020-11-21 16:33:12.127 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==> Parameters: 1299240419787276288(String)
2020-11-21 16:33:12.128 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getBlackList[145]  ==> Parameters: 
2020-11-21 16:33:12.136 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  <==      Total: 1
2020-11-21 16:33:12.136 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  <==      Total: 1
2020-11-21 16:33:12.137 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==>  Preparing: select time from email_history_info where id =? 
2020-11-21 16:33:12.137 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==> Parameters: 1303937438065885184(String)
2020-11-21 16:33:12.140 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getBlackList[145]  <==      Total: 16
2020-11-21 16:33:12.141 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==>  Preparing: select time from email_history_info where id =? 
2020-11-21 16:33:12.142 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==> Parameters: 1286902446076985344(String)
2020-11-21 16:33:12.150 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  <==      Total: 1
2020-11-21 16:33:12.150 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  <==      Total: 1
2020-11-21 16:33:12.150 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==>  Preparing: select time from email_history_info where id =? 
2020-11-21 16:33:12.150 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==> Parameters: 1303939538460082176(String)
2020-11-21 16:33:12.159 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  <==      Total: 1
2020-11-21 16:33:12.159 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==>  Preparing: select time from email_history_info where id =? 
2020-11-21 16:33:12.159 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==> Parameters: 1303939599889858560(String)
2020-11-21 16:33:12.167 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  <==      Total: 1
2020-11-21 16:33:12.168 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==>  Preparing: select time from email_history_info where id =? 
2020-11-21 16:33:12.168 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==> Parameters: 1306059696263659520(String)
2020-11-21 16:33:12.177 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  <==      Total: 1
2020-11-21 16:33:12.177 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==>  Preparing: select time from email_history_info where id =? 
2020-11-21 16:33:12.177 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==> Parameters: 1306155886347026432(String)
2020-11-21 16:33:12.189 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  <==      Total: 1
2020-11-21 16:33:12.189 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==>  Preparing: select time from email_history_info where id =? 
2020-11-21 16:33:12.190 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==> Parameters: 1306201167000240128(String)
2020-11-21 16:33:12.202 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  <==      Total: 1
2020-11-21 16:33:12.203 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==>  Preparing: select time from email_history_info where id =? 
2020-11-21 16:33:12.203 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==> Parameters: 1308013106458263552(String)
2020-11-21 16:33:12.212 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  <==      Total: 0
2020-11-21 16:33:17.138 DEBUG cn.jwis.qualityworkflow.util.EmailService[144]  get handler mail from http://gateway.dev.jwis.io/platform/sys/user/internal-read?name=qualityadmin happen error cause:I/O error on GET request for "http://gateway.dev.jwis.io/platform/sys/user/internal-read": connect timed out; nested exception is java.net.SocketTimeoutException: connect timed out
2020-11-21 16:33:17.138 DEBUG cn.jwis.qualityworkflow.util.EmailService[144]  get handler mail from http://gateway.dev.jwis.io/platform/sys/user/internal-read?name=dz_gyb1 happen error cause:I/O error on GET request for "http://gateway.dev.jwis.io/platform/sys/user/internal-read": connect timed out; nested exception is java.net.SocketTimeoutException: connect timed out
2020-11-21 16:33:17.150 DEBUG cn.jwis.qualityworkflow.util.EmailService[144]  get handler mail from http://gateway.dev.jwis.io/platform/sys/user/internal-read?name=hualanlan happen error cause:I/O error on GET request for "http://gateway.dev.jwis.io/platform/sys/user/internal-read": connect timed out; nested exception is java.net.SocketTimeoutException: connect timed out
2020-11-21 16:33:17.164 DEBUG cn.jwis.qualityworkflow.dao.UserMapper.getSuperior[145]  ==>  Preparing: select superior from department_mapping where user_account = ? and type = ? limit 0,1 
2020-11-21 16:33:17.164 DEBUG cn.jwis.qualityworkflow.dao.UserMapper.getSuperior[145]  ==> Parameters: dz_gyb1(String), COMMON(String)
2020-11-21 16:33:17.165 DEBUG cn.jwis.qualityworkflow.dao.UserMapper.getSuperior[145]  ==>  Preparing: select superior from department_mapping where user_account = ? and type = ? limit 0,1 
2020-11-21 16:33:17.165 DEBUG cn.jwis.qualityworkflow.dao.UserMapper.getSuperior[145]  ==> Parameters: qualityadmin(String), COMMON(String)
2020-11-21 16:33:17.173 DEBUG cn.jwis.qualityworkflow.dao.UserMapper.getSuperior[145]  ==>  Preparing: select superior from department_mapping where user_account = ? and type = ? limit 0,1 
2020-11-21 16:33:17.173 DEBUG cn.jwis.qualityworkflow.dao.UserMapper.getSuperior[145]  ==> Parameters: hualanlan(String), QIMS(String)
2020-11-21 16:33:17.185 DEBUG cn.jwis.qualityworkflow.dao.UserMapper.getSuperior[145]  <==      Total: 1
2020-11-21 16:33:17.185 DEBUG cn.jwis.qualityworkflow.dao.UserMapper.getSuperior[145]  <==      Total: 1
2020-11-21 16:33:17.201 DEBUG cn.jwis.qualityworkflow.dao.UserMapper.getSuperior[145]  <==      Total: 1
2020-11-21 16:33:17.201 DEBUG c.j.q.dao.UserMapper.getSuperiorManagerByUser[145]  ==>  Preparing: select superior_manager from department_mapping where user_account = ? and type = ? limit 0,1 
2020-11-21 16:33:17.201 DEBUG c.j.q.dao.UserMapper.getSuperiorManagerByUser[145]  ==> Parameters: hualanlan(String), QIMS(String)
2020-11-21 16:33:17.210 DEBUG c.j.q.dao.UserMapper.getSuperiorManagerByUser[145]  <==      Total: 1
2020-11-21 16:33:17.213 DEBUG cn.jwis.qualityworkflow.util.EmailService[144]  get handler mail from http://gateway.dev.jwis.io/platform/sys/user/internal-read?name=kiween happen error cause:I/O error on GET request for "http://gateway.dev.jwis.io/platform/sys/user/internal-read": connect timed out; nested exception is java.net.SocketTimeoutException: connect timed out
2020-11-21 16:33:17.222 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==>  Preparing: select time from email_history_info where id =? 
2020-11-21 16:33:17.222 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==> Parameters: 1308013110702899200(String)
2020-11-21 16:33:17.237 INFO  cn.jwis.qualityworkflow.util.EmailService[142]  qualityadmin email is 
2020-11-21 16:33:17.237 INFO  cn.jwis.qualityworkflow.util.EmailService[142]  dz_gyb2 email is jian.song@jwis.cn
2020-11-21 16:33:17.237 INFO  c.j.q.m.factoryaudit.job.AuditQuestionMailJob[31]  邮件下发结束
2020-11-21 16:33:17.238 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==>  Preparing: select time from email_history_info where id =? 
2020-11-21 16:33:17.238 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==> Parameters: 1294123945682796544(String)
2020-11-21 16:33:17.257 INFO  cn.jwis.qualityworkflow.util.EmailService[142]  workflow3 email is null
2020-11-21 16:33:17.256 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  <==      Total: 1
2020-11-21 16:33:17.275 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  <==      Total: 1
2020-11-21 16:33:17.275 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==>  Preparing: select time from email_history_info where id =? 
2020-11-21 16:33:17.275 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==> Parameters: 1294123945716350976(String)
2020-11-21 16:33:17.286 INFO  cn.jwis.qualityworkflow.util.EmailService[142]  zhouxianling email is 
2020-11-21 16:33:17.286 INFO  cn.jwis.qualityworkflow.util.EmailService[142]  qualityadmin email is 
2020-11-21 16:33:17.286 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  <==      Total: 1
2020-11-21 16:33:17.287 DEBUG cn.jwis.qualityworkflow.dao.UserMapper.getSuperior[145]  ==>  Preparing: select superior from department_mapping where user_account = ? and type = ? limit 0,1 
2020-11-21 16:33:17.287 DEBUG cn.jwis.qualityworkflow.dao.UserMapper.getSuperior[145]  ==> Parameters: qualityadmin(String), COMMON(String)
2020-11-21 16:33:17.288 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==>  Preparing: select time from email_history_info where id =? 
2020-11-21 16:33:17.289 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==> Parameters: 1286904434760089600(String)
2020-11-21 16:33:17.312 DEBUG cn.jwis.qualityworkflow.dao.UserMapper.getSuperior[145]  <==      Total: 1
2020-11-21 16:33:17.312 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  <==      Total: 1
2020-11-21 16:33:17.323 INFO  cn.jwis.qualityworkflow.util.EmailService[142]  xujinbiao email is 
2020-11-21 16:33:17.323 DEBUG cn.jwis.qualityworkflow.dao.UserMapper.getSuperior[145]  ==>  Preparing: select superior from department_mapping where user_account = ? and type = ? limit 0,1 
2020-11-21 16:33:17.323 DEBUG cn.jwis.qualityworkflow.dao.UserMapper.getSuperior[145]  ==> Parameters: xujinbiao(String), COMMON(String)
2020-11-21 16:33:17.339 DEBUG cn.jwis.qualityworkflow.dao.UserMapper.getSuperior[145]  <==      Total: 1
2020-11-21 16:33:17.343 INFO  cn.jwis.qualityworkflow.util.EmailService[142]  qualityadmin email is 
2020-11-21 16:33:17.343 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==>  Preparing: select time from email_history_info where id =? 
2020-11-21 16:33:17.343 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==> Parameters: 1308013113928318976(String)
2020-11-21 16:33:17.347 INFO  cn.jwis.qualityworkflow.util.EmailService[142]  gupp2 email is null
2020-11-21 16:33:17.347 DEBUG cn.jwis.qualityworkflow.dao.UserMapper.getSuperior[145]  ==>  Preparing: select superior from department_mapping where user_account = ? and type = ? limit 0,1 
2020-11-21 16:33:17.347 DEBUG cn.jwis.qualityworkflow.dao.UserMapper.getSuperior[145]  ==> Parameters: gupp2(String), QIMS(String)
2020-11-21 16:33:17.354 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  <==      Total: 1
2020-11-21 16:33:17.366 DEBUG cn.jwis.qualityworkflow.dao.UserMapper.getSuperior[145]  <==      Total: 0
2020-11-21 16:33:17.366 INFO  cn.jwis.qualityworkflow.util.EmailService[142]  hualanlan email is test@jwis.cn
2020-11-21 16:33:17.366 DEBUG c.j.q.dao.UserMapper.getSuperiorManagerByUser[145]  ==>  Preparing: select superior_manager from department_mapping where user_account = ? and type = ? limit 0,1 
2020-11-21 16:33:17.366 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==>  Preparing: select time from email_history_info where id =? 
2020-11-21 16:33:17.366 DEBUG c.j.q.dao.UserMapper.getSuperiorManagerByUser[145]  ==> Parameters: gupp2(String), QIMS(String)
2020-11-21 16:33:17.366 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==> Parameters: 1295193219738370048(String)
2020-11-21 16:33:17.383 INFO  cn.jwis.qualityworkflow.util.EmailService[142]  qualityadmin email is 
2020-11-21 16:33:17.383 DEBUG cn.jwis.qualityworkflow.dao.UserMapper.getSuperior[145]  ==>  Preparing: select superior from department_mapping where user_account = ? and type = ? limit 0,1 
2020-11-21 16:33:17.383 DEBUG cn.jwis.qualityworkflow.dao.UserMapper.getSuperior[145]  ==> Parameters: qualityadmin(String), COMMON(String)
2020-11-21 16:33:17.387 DEBUG c.j.q.dao.UserMapper.getSuperiorManagerByUser[145]  <==      Total: 0
2020-11-21 16:33:17.387 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  <==      Total: 1
2020-11-21 16:33:17.388 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==>  Preparing: select time from email_history_info where id =? 
2020-11-21 16:33:17.388 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==> Parameters: 1295193220166189056(String)
2020-11-21 16:33:17.391 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==>  Preparing: select time from email_history_info where id =? 
2020-11-21 16:33:17.392 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==> Parameters: 1286916730144161792(String)
2020-11-21 16:33:17.395 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  <==      Total: 1
2020-11-21 16:33:17.395 DEBUG cn.jwis.qualityworkflow.dao.UserMapper.getSuperior[145]  <==      Total: 1
2020-11-21 16:33:17.402 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  <==      Total: 1
2020-11-21 16:33:17.424 INFO  cn.jwis.qualityworkflow.util.EmailService[142]  xujinbiao email is 
2020-11-21 16:33:17.424 INFO  cn.jwis.qualityworkflow.util.EmailService[142]  qualityadmin email is 
2020-11-21 16:33:17.425 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==>  Preparing: select time from email_history_info where id =? 
2020-11-21 16:33:17.425 DEBUG cn.jwis.qualityworkflow.dao.UserMapper.getSuperior[145]  ==>  Preparing: select superior from department_mapping where user_account = ? and type = ? limit 0,1 
2020-11-21 16:33:17.425 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==> Parameters: 1308013116927246336(String)
2020-11-21 16:33:17.425 DEBUG cn.jwis.qualityworkflow.dao.UserMapper.getSuperior[145]  ==> Parameters: xujinbiao(String), COMMON(String)
2020-11-21 16:33:17.428 INFO  cn.jwis.qualityworkflow.util.EmailService[142]  gupp2 email is null
2020-11-21 16:33:17.428 DEBUG cn.jwis.qualityworkflow.dao.UserMapper.getSuperior[145]  ==>  Preparing: select superior from department_mapping where user_account = ? and type = ? limit 0,1 
2020-11-21 16:33:17.428 DEBUG cn.jwis.qualityworkflow.dao.UserMapper.getSuperior[145]  ==> Parameters: gupp2(String), QIMS(String)
2020-11-21 16:33:17.438 DEBUG cn.jwis.qualityworkflow.dao.UserMapper.getSuperior[145]  <==      Total: 1
2020-11-21 16:33:17.438 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  <==      Total: 0
2020-11-21 16:33:17.441 DEBUG cn.jwis.qualityworkflow.dao.UserMapper.getSuperior[145]  <==      Total: 0
2020-11-21 16:33:17.442 DEBUG c.j.q.dao.UserMapper.getSuperiorManagerByUser[145]  ==>  Preparing: select superior_manager from department_mapping where user_account = ? and type = ? limit 0,1 
2020-11-21 16:33:17.442 DEBUG c.j.q.dao.UserMapper.getSuperiorManagerByUser[145]  ==> Parameters: gupp2(String), QIMS(String)
2020-11-21 16:33:17.454 DEBUG c.j.q.dao.UserMapper.getSuperiorManagerByUser[145]  <==      Total: 0
2020-11-21 16:33:17.456 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==>  Preparing: select time from email_history_info where id =? 
2020-11-21 16:33:17.456 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==> Parameters: 1287933861786812416(String)
2020-11-21 16:33:17.464 INFO  cn.jwis.qualityworkflow.util.EmailService[142]  kiween email is 
2020-11-21 16:33:17.465 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==>  Preparing: select time from email_history_info where id =? 
2020-11-21 16:33:17.465 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==> Parameters: 1309046852858937344(String)
2020-11-21 16:33:17.467 INFO  cn.jwis.qualityworkflow.util.EmailService[142]  hualanlan email is test@jwis.cn
2020-11-21 16:33:17.467 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  <==      Total: 1
2020-11-21 16:33:17.467 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==>  Preparing: select time from email_history_info where id =? 
2020-11-21 16:33:17.467 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==> Parameters: 1295193707351375872(String)
2020-11-21 16:33:17.474 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  <==      Total: 0
2020-11-21 16:33:17.476 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  <==      Total: 1
2020-11-21 16:33:17.477 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==>  Preparing: select time from email_history_info where id =? 
2020-11-21 16:33:17.477 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==> Parameters: 1295193707376541696(String)
2020-11-21 16:33:17.492 INFO  cn.jwis.qualityworkflow.util.EmailService[142]  hualanlan email is test@jwis.cn
2020-11-21 16:33:17.492 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  <==      Total: 1
2020-11-21 16:33:17.492 DEBUG cn.jwis.qualityworkflow.dao.UserMapper.getSuperior[145]  ==>  Preparing: select superior from department_mapping where user_account = ? and type = ? limit 0,1 
2020-11-21 16:33:17.492 DEBUG cn.jwis.qualityworkflow.dao.UserMapper.getSuperior[145]  ==> Parameters: hualanlan(String), QIMS(String)
2020-11-21 16:33:17.503 DEBUG cn.jwis.qualityworkflow.dao.UserMapper.getSuperior[145]  <==      Total: 1
2020-11-21 16:33:17.503 INFO  cn.jwis.qualityworkflow.util.EmailService[142]  codisan email is kelvin@jwis.cn
2020-11-21 16:33:17.504 DEBUG c.j.q.dao.UserMapper.getSuperiorManagerByUser[145]  ==>  Preparing: select superior_manager from department_mapping where user_account = ? and type = ? limit 0,1 
2020-11-21 16:33:17.504 DEBUG c.j.qualityworkflow.dao.CommonMapper.getKeyToName[145]  ==>  Preparing: SELECT * FROM key_to_name 
2020-11-21 16:33:17.504 DEBUG c.j.q.dao.UserMapper.getSuperiorManagerByUser[145]  ==> Parameters: hualanlan(String), QIMS(String)
2020-11-21 16:33:17.504 DEBUG c.j.qualityworkflow.dao.CommonMapper.getKeyToName[145]  ==> Parameters: 
2020-11-21 16:33:17.520 DEBUG c.j.q.dao.UserMapper.getSuperiorManagerByUser[145]  <==      Total: 1
2020-11-21 16:33:17.521 INFO  cn.jwis.qualityworkflow.util.EmailService[142]  xujinbiao email is 
2020-11-21 16:33:17.521 DEBUG c.j.qualityworkflow.dao.CommonMapper.getKeyToName[145]  <==      Total: 8
2020-11-21 16:33:17.521 DEBUG cn.jwis.qualityworkflow.dao.UserMapper.getSuperior[145]  ==>  Preparing: select superior from department_mapping where user_account = ? and type = ? limit 0,1 
2020-11-21 16:33:17.521 DEBUG cn.jwis.qualityworkflow.dao.UserMapper.getSuperior[145]  ==> Parameters: xujinbiao(String), COMMON(String)
2020-11-21 16:33:17.522 INFO  cn.jwis.qualityworkflow.util.EmailService[74]  haomiao.liu@jwis.cn send a Mail to kelvin@jwis.cn fail, because null
2020-11-21 16:33:17.531 DEBUG cn.jwis.qualityworkflow.dao.UserMapper.getSuperior[145]  <==      Total: 1
2020-11-21 16:33:17.543 INFO  cn.jwis.qualityworkflow.util.EmailService[142]  workflow3 email is null
2020-11-21 16:33:17.552 INFO  cn.jwis.qualityworkflow.util.EmailService[142]  hualanlan email is test@jwis.cn
2020-11-21 16:33:17.552 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==>  Preparing: select time from email_history_info where id =? 
2020-11-21 16:33:17.553 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==> Parameters: 1315248790789160960(String)
2020-11-21 16:33:17.564 INFO  cn.jwis.qualityworkflow.util.EmailService[142]  zhouxianling email is 
2020-11-21 16:33:17.565 DEBUG c.j.qualityworkflow.dao.TaskRecordMapper.getById[145]  ==>  Preparing: SELECT * from task_record WHERE id = ? 
2020-11-21 16:33:17.565 DEBUG c.j.qualityworkflow.dao.TaskRecordMapper.getById[145]  ==> Parameters: 1287933861786812416(String)
2020-11-21 16:33:17.571 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  <==      Total: 1
2020-11-21 16:33:17.577 DEBUG c.j.qualityworkflow.dao.TaskRecordMapper.getById[145]  <==      Total: 1
2020-11-21 16:33:17.578 DEBUG c.j.qualityworkflow.dao.CommonMapper.getKeyToName[145]  ==>  Preparing: SELECT * FROM key_to_name 
2020-11-21 16:33:17.578 DEBUG c.j.qualityworkflow.dao.CommonMapper.getKeyToName[145]  ==> Parameters: 
2020-11-21 16:33:17.585 DEBUG c.j.qualityworkflow.dao.CommonMapper.getKeyToName[145]  <==      Total: 8
2020-11-21 16:33:17.586 INFO  cn.jwis.qualityworkflow.util.EmailService[71]  haomiao.liu@jwis.cn send a Mail to test@jwis.cn
2020-11-21 16:33:17.618 INFO  cn.jwis.qualityworkflow.util.EmailService[142]  dz_gyb1 email is test@jwis.cn
2020-11-21 16:33:17.618 DEBUG cn.jwis.qualityworkflow.dao.UserMapper.getSuperior[145]  ==>  Preparing: select superior from department_mapping where user_account = ? and type = ? limit 0,1 
2020-11-21 16:33:17.618 DEBUG cn.jwis.qualityworkflow.dao.UserMapper.getSuperior[145]  ==> Parameters: dz_gyb1(String), COMMON(String)
2020-11-21 16:33:17.630 DEBUG cn.jwis.qualityworkflow.dao.UserMapper.getSuperior[145]  <==      Total: 1
2020-11-21 16:33:17.657 INFO  cn.jwis.qualityworkflow.util.EmailService[142]  dz_gyb2 email is jian.song@jwis.cn
2020-11-21 16:33:17.658 DEBUG c.j.qualityworkflow.dao.CommonMapper.getKeyToName[145]  ==>  Preparing: SELECT * FROM key_to_name 
2020-11-21 16:33:17.659 DEBUG c.j.qualityworkflow.dao.CommonMapper.getKeyToName[145]  ==> Parameters: 
2020-11-21 16:33:17.666 DEBUG c.j.qualityworkflow.dao.CommonMapper.getKeyToName[145]  <==      Total: 8
2020-11-21 16:33:17.667 DEBUG c.j.q.m.l.d.L.getLineQualifyDetailednessInfo[145]  ==>  Preparing: SELECT q.*,ar.processInstanceId ,ar.taskId,ar.assignee,ar.taskState,ar.taskName FROM line_qualify_info q,(SELECT workflow_business_id, process_instance_id as processInstanceId,task_id as taskId,assignee,task_state as taskState,task_name taskName FROM task_record WHERE task_id=?) ar where q.id=ar.workflow_business_id 
2020-11-21 16:33:17.667 DEBUG c.j.q.m.l.d.L.getLineQualifyDetailednessInfo[145]  ==> Parameters: 5506556(String)
2020-11-21 16:33:17.680 DEBUG c.j.q.m.l.d.L.getLineQualifyDetailednessInfo[145]  <==      Total: 1
2020-11-21 16:33:17.681 INFO  cn.jwis.qualityworkflow.util.EmailService[69]  haomiao.liu@jwis.cn send a Mail to test@jwis.cn and make a copy for [jian.song@jwis.cn]
2020-11-21 16:33:18.170 ERROR o.s.s.support.TaskUtils$LoggingErrorHandler[96] org.springframework.mail.MailSendException: Failed messages: javax.mail.SendFailedException: Invalid Addresses;
  nested exception is:
	com.sun.mail.smtp.SMTPAddressFailedException: 554 RCPT (kelvin@jwis.cn) dosn't exist

	at org.springframework.mail.javamail.JavaMailSenderImpl.doSend(JavaMailSenderImpl.java:488)
	at org.springframework.mail.javamail.JavaMailSenderImpl.send(JavaMailSenderImpl.java:359)
	at org.springframework.mail.javamail.JavaMailSenderImpl.send(JavaMailSenderImpl.java:354)
	at cn.jwis.qualityworkflow.util.EmailService.sendHtmlMail(EmailService.java:76)
	at cn.jwis.qualityworkflow.modules.qims.service.imp.QimsSendMailServiceImpl.sendEmailTohandler(QimsSendMailServiceImpl.java:161)
	at cn.jwis.qualityworkflow.modules.ipqc.service.imp.AuditQualityProblemServiceImpl.qimsSendMail(AuditQualityProblemServiceImpl.java:321)
	at cn.jwis.qualityworkflow.modules.ipqc.service.imp.AuditQualityProblemServiceImpl$$FastClassBySpringCGLIB$$15ff325f.invoke(<generated>)
	at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:684)
	at cn.jwis.qualityworkflow.modules.ipqc.service.imp.AuditQualityProblemServiceImpl$$EnhancerBySpringCGLIB$$ce0d09f5.qimsSendMail(<generated>)
	at cn.jwis.qualityworkflow.modules.ipqc.job.ipqcMailJob.qimsSendMail(ipqcMailJob.java:28)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.springframework.scheduling.support.ScheduledMethodRunnable.run(ScheduledMethodRunnable.java:84)
	at org.springframework.scheduling.support.DelegatingErrorHandlingRunnable.run(DelegatingErrorHandlingRunnable.java:54)
	at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:511)
	at java.util.concurrent.FutureTask.runAndReset(FutureTask.java:308)
	at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.access$301(ScheduledThreadPoolExecutor.java:180)
	at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:294)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)
 Unexpected error occurred in scheduled task.
2020-11-21 16:33:18.240 ERROR o.s.s.support.TaskUtils$LoggingErrorHandler[96] org.springframework.mail.MailSendException: Failed messages: javax.mail.SendFailedException: Invalid Addresses;
  nested exception is:
	com.sun.mail.smtp.SMTPAddressFailedException: 554 RCPT (test@jwis.cn) dosn't exist

	at org.springframework.mail.javamail.JavaMailSenderImpl.doSend(JavaMailSenderImpl.java:488)
	at org.springframework.mail.javamail.JavaMailSenderImpl.send(JavaMailSenderImpl.java:359)
	at org.springframework.mail.javamail.JavaMailSenderImpl.send(JavaMailSenderImpl.java:354)
	at cn.jwis.qualityworkflow.util.EmailService.sendHtmlMail(EmailService.java:76)
	at cn.jwis.qualityworkflow.modules.qims.service.imp.QimsSendMailServiceImpl.sendEmailTohandler(QimsSendMailServiceImpl.java:161)
	at cn.jwis.qualityworkflow.modules.qims.service.imp.QimsSendMailServiceImpl.qimsSendMail(QimsSendMailServiceImpl.java:90)
	at cn.jwis.qualityworkflow.modules.qims.job.qimsMailJob.qimsSendMail(qimsMailJob.java:49)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.springframework.scheduling.support.ScheduledMethodRunnable.run(ScheduledMethodRunnable.java:84)
	at org.springframework.scheduling.support.DelegatingErrorHandlingRunnable.run(DelegatingErrorHandlingRunnable.java:54)
	at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:511)
	at java.util.concurrent.FutureTask.runAndReset(FutureTask.java:308)
	at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.access$301(ScheduledThreadPoolExecutor.java:180)
	at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:294)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)
 Unexpected error occurred in scheduled task.
2020-11-21 16:33:18.387 ERROR o.s.s.support.TaskUtils$LoggingErrorHandler[96] org.springframework.mail.MailSendException: Failed messages: javax.mail.SendFailedException: Invalid Addresses;
  nested exception is:
	com.sun.mail.smtp.SMTPAddressFailedException: 554 RCPT (test@jwis.cn) dosn't exist
;
  nested exception is:
	com.sun.mail.smtp.SMTPAddressFailedException: 554 RCPT (jian.song@jwis.cn) dosn't exist

	at org.springframework.mail.javamail.JavaMailSenderImpl.doSend(JavaMailSenderImpl.java:488)
	at org.springframework.mail.javamail.JavaMailSenderImpl.send(JavaMailSenderImpl.java:359)
	at org.springframework.mail.javamail.JavaMailSenderImpl.send(JavaMailSenderImpl.java:354)
	at cn.jwis.qualityworkflow.util.EmailService.sendHtmlMail(EmailService.java:76)
	at cn.jwis.qualityworkflow.modules.linequalify.service.imp.LineQualifyServiceImpl.sendEmailTohandler(LineQualifyServiceImpl.java:617)
	at cn.jwis.qualityworkflow.modules.linequalify.service.imp.LineQualifyServiceImpl.sendOverTimeMail(LineQualifyServiceImpl.java:594)
	at cn.jwis.qualityworkflow.modules.linequalify.service.imp.LineQualifyServiceImpl$$FastClassBySpringCGLIB$$4ca6f597.invoke(<generated>)
	at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:684)
	at cn.jwis.qualityworkflow.modules.linequalify.service.imp.LineQualifyServiceImpl$$EnhancerBySpringCGLIB$$157c169d.sendOverTimeMail(<generated>)
	at cn.jwis.qualityworkflow.modules.linequalify.job.LineQualifyMailJob.sendOverTimeMail(LineQualifyMailJob.java:30)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.springframework.scheduling.support.ScheduledMethodRunnable.run(ScheduledMethodRunnable.java:84)
	at org.springframework.scheduling.support.DelegatingErrorHandlingRunnable.run(DelegatingErrorHandlingRunnable.java:54)
	at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:511)
	at java.util.concurrent.FutureTask.runAndReset(FutureTask.java:308)
	at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.access$301(ScheduledThreadPoolExecutor.java:180)
	at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:294)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)
 Unexpected error occurred in scheduled task.
2020-11-21 21:47:26.282 INFO  cn.jwis.configration.clientUtil.ConfigCenterHelper[40]  Loading config by :http://10.159.65.221:14200/configCenter/findConfig?side=server&serviceName=pqm-quality-workflow-service&env=dev&configType=properties
2020-11-21 21:47:26.287 INFO  cn.jwis.configration.clientUtil.HttpClientUtil[51]  Http Request:http://10.159.65.221:14200/configCenter/findConfig?side=server&serviceName=pqm-quality-workflow-service&env=dev&configType=properties
2020-11-21 21:47:41.953 ERROR cn.jwis.configration.clientUtil.HttpClientUtil[77]  send Http Request to:http://10.159.65.221:14200/configCenter/findConfig?side=server&serviceName=pqm-quality-workflow-service&env=dev&configType=properties ,has errors:Connect to 10.159.65.221:14200 [/10.159.65.221] failed: connect timed out
2020-11-21 21:47:41.955 INFO  cn.jwis.configration.clientUtil.ConfigCenterHelper[43]  Get config :
2020-11-21 21:47:42.011 ERROR cn.jwis.configration.clientUtil.ConfigCenterHelper[56]  null
2020-11-21 21:47:42.413 INFO  cn.jwis.qualityworkflow.Application[50]  Starting Application on THINK-Lx with PID 7380 (C:\Users\THINK\Desktop\QMS-Server\quality-workflow-service\target\classes started by THINK in C:\Users\THINK\Desktop\QMS-Server\quality-workflow-service)
2020-11-21 21:47:42.414 DEBUG cn.jwis.qualityworkflow.Application[53]  Running with Spring Boot v2.1.0.RELEASE, Spring v5.1.2.RELEASE
2020-11-21 21:47:42.416 INFO  cn.jwis.qualityworkflow.Application[679]  The following profiles are active: dev
2020-11-21 21:47:44.091 INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker[330]  Bean 'org.springframework.amqp.rabbit.annotation.RabbitBootstrapConfiguration' of type [org.springframework.amqp.rabbit.annotation.RabbitBootstrapConfiguration$$EnhancerBySpringCGLIB$$bafd5262] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2020-11-21 21:47:44.165 INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker[330]  Bean 'org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration' of type [org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration$$EnhancerBySpringCGLIB$$f4919434] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2020-11-21 21:47:44.706 INFO  o.s.boot.web.embedded.tomcat.TomcatWebServer[90]  Tomcat initialized with port(s): 8115 (http)
2020-11-21 21:47:44.719 INFO  org.apache.coyote.http11.Http11NioProtocol[173]  Initializing ProtocolHandler ["http-nio-8115"]
2020-11-21 21:47:44.724 INFO  org.apache.catalina.core.StandardService[173]  Starting service [Tomcat]
2020-11-21 21:47:44.725 INFO  org.apache.catalina.core.StandardEngine[173]  Starting Servlet Engine: Apache Tomcat/9.0.12
2020-11-21 21:47:44.732 INFO  org.apache.catalina.core.AprLifecycleListener[173]  The APR based Apache Tomcat Native library which allows optimal performance in production environments was not found on the java.library.path: [C:\Program Files\Java\jdk1.8.0_192\bin;C:\Windows\Sun\Java\bin;C:\Windows\system32;C:\Windows;C:\Program Files\Java\jdk1.8.0_192\bin;C:\Program Files\Java\jdk1.8.0_192\jre\bin;D:\java\apache-maven-3.6.0\bin;C:\Program Files (x86)\Common Files\Oracle\Java\javapath;C:\Windows\system32;C:\Windows;C:\Windows\System32\Wbem;C:\Windows\System32\WindowsPowerShell\v1.0\;D:\job\Git\cmd;C:\Program Files\TortoiseGit\bin;C:\Program Files\nodejs\;D:\java\mysql\mysql-5.7.11-winx64\bin;D:\job\Microsoft VS Code\bin;C:\Program Files\Microsoft VS Code\bin;C:\Users\THINK\AppData\Roaming\npm;.]
2020-11-21 21:47:44.835 INFO  o.a.c.core.ContainerBase.[Tomcat].[localhost].[/][173]  Initializing Spring embedded WebApplicationContext
2020-11-21 21:47:44.835 INFO  org.springframework.web.context.ContextLoader[285]  Root WebApplicationContext: initialization completed in 2353 ms
2020-11-21 21:47:44.874 INFO  o.s.boot.web.servlet.ServletRegistrationBean[186]  Servlet dispatcherServlet mapped to [/]
2020-11-21 21:47:44.878 INFO  o.s.boot.web.servlet.FilterRegistrationBean[248]  Mapping filter: 'characterEncodingFilter' to: [/*]
2020-11-21 21:47:44.879 INFO  o.s.boot.web.servlet.FilterRegistrationBean[248]  Mapping filter: 'hiddenHttpMethodFilter' to: [/*]
2020-11-21 21:47:44.879 INFO  o.s.boot.web.servlet.FilterRegistrationBean[248]  Mapping filter: 'formContentFilter' to: [/*]
2020-11-21 21:47:44.880 INFO  o.s.boot.web.servlet.FilterRegistrationBean[248]  Mapping filter: 'requestContextFilter' to: [/*]
2020-11-21 21:47:47.231 INFO  o.s.scheduling.concurrent.ThreadPoolTaskExecutor[171]  Initializing ExecutorService 'applicationTaskExecutor'
2020-11-21 21:47:47.718 INFO  s.d.s.web.plugins.DocumentationPluginsBootstrapper[120]  Context refreshed
2020-11-21 21:47:47.733 INFO  s.d.s.web.plugins.DocumentationPluginsBootstrapper[123]  Found 1 custom documentation plugin(s)
2020-11-21 21:47:47.750 INFO  s.d.spring.web.scanners.ApiListingReferenceScanner[41]  Scanning for api listing references
2020-11-21 21:47:48.129 INFO  s.d.s.w.r.operation.CachingOperationNameGenerator[40]  Generating unique operation named: confirmUsingPOST_1
2020-11-21 21:47:48.507 INFO  s.d.s.w.r.operation.CachingOperationNameGenerator[40]  Generating unique operation named: exportUnseasonalBolaUsingGET_1
2020-11-21 21:47:48.513 INFO  s.d.s.w.r.operation.CachingOperationNameGenerator[40]  Generating unique operation named: exportUnseasonalListUsingPOST_1
2020-11-21 21:47:48.521 INFO  s.d.s.w.r.operation.CachingOperationNameGenerator[40]  Generating unique operation named: getAllAndCloseUsingPOST_1
2020-11-21 21:47:48.527 INFO  s.d.s.w.r.operation.CachingOperationNameGenerator[40]  Generating unique operation named: getAllDataUsingPOST_1
2020-11-21 21:47:48.535 INFO  s.d.s.w.r.operation.CachingOperationNameGenerator[40]  Generating unique operation named: getBlackDetailsUsingPOST_1
2020-11-21 21:47:48.542 INFO  s.d.s.w.r.operation.CachingOperationNameGenerator[40]  Generating unique operation named: getDashBoardCloseUsingPOST_1
2020-11-21 21:47:48.550 INFO  s.d.s.w.r.operation.CachingOperationNameGenerator[40]  Generating unique operation named: getDashBoardNotCloseUsingPOST_1
2020-11-21 21:47:48.556 INFO  s.d.s.w.r.operation.CachingOperationNameGenerator[40]  Generating unique operation named: getOverdueUsingPOST_1
2020-11-21 21:47:48.562 INFO  s.d.s.w.r.operation.CachingOperationNameGenerator[40]  Generating unique operation named: getUnseasonalBolaUsingGET_1
2020-11-21 21:47:48.569 INFO  s.d.s.w.r.operation.CachingOperationNameGenerator[40]  Generating unique operation named: getUnseasonalListUsingPOST_1
2020-11-21 21:47:48.577 INFO  s.d.s.w.r.operation.CachingOperationNameGenerator[40]  Generating unique operation named: confirmUsingPOST_2
2020-11-21 21:47:48.614 INFO  s.d.s.w.r.operation.CachingOperationNameGenerator[40]  Generating unique operation named: getLatestRecordContentUsingGET_1
2020-11-21 21:47:48.633 INFO  s.d.s.w.r.operation.CachingOperationNameGenerator[40]  Generating unique operation named: saveRecordContentUsingPOST_1
2020-11-21 21:47:48.655 INFO  s.d.s.w.r.operation.CachingOperationNameGenerator[40]  Generating unique operation named: getDropdownValueUsingGET_1
2020-11-21 21:47:48.676 INFO  s.d.s.w.r.operation.CachingOperationNameGenerator[40]  Generating unique operation named: confirmUsingPOST_3
2020-11-21 21:47:48.686 INFO  s.d.s.w.r.operation.CachingOperationNameGenerator[40]  Generating unique operation named: getDropdownValueUsingGET_2
2020-11-21 21:47:48.693 INFO  s.d.s.w.r.operation.CachingOperationNameGenerator[40]  Generating unique operation named: getLatestRecordContentUsingGET_2
2020-11-21 21:47:48.708 INFO  s.d.s.w.r.operation.CachingOperationNameGenerator[40]  Generating unique operation named: exportEsdAdministrationUsingPOST_1
2020-11-21 21:47:48.739 INFO  s.d.s.w.r.operation.CachingOperationNameGenerator[40]  Generating unique operation named: getDropdownValueUsingGET_3
2020-11-21 21:47:48.802 INFO  s.d.s.w.r.operation.CachingOperationNameGenerator[40]  Generating unique operation named: confirmUsingPOST_4
2020-11-21 21:47:48.819 INFO  s.d.s.w.r.operation.CachingOperationNameGenerator[40]  Generating unique operation named: getDropdownValueUsingGET_4
2020-11-21 21:47:48.844 INFO  s.d.s.w.r.operation.CachingOperationNameGenerator[40]  Generating unique operation named: getLatestRecordContentUsingGET_3
2020-11-21 21:47:48.915 INFO  s.d.s.w.r.operation.CachingOperationNameGenerator[40]  Generating unique operation named: exportEsdInStanInfoTemplateUsingGET_1
2020-11-21 21:47:49.036 INFO  s.d.s.w.r.operation.CachingOperationNameGenerator[40]  Generating unique operation named: confirmUsingPOST_5
2020-11-21 21:47:49.045 INFO  s.d.s.w.r.operation.CachingOperationNameGenerator[40]  Generating unique operation named: getDropdownValueUsingGET_5
2020-11-21 21:47:49.078 INFO  s.d.s.w.r.operation.CachingOperationNameGenerator[40]  Generating unique operation named: confirmUsingPOST_6
2020-11-21 21:47:49.096 INFO  s.d.s.w.r.operation.CachingOperationNameGenerator[40]  Generating unique operation named: findTableNameBySampleNameUsingGET_1
2020-11-21 21:47:49.135 INFO  s.d.s.w.r.operation.CachingOperationNameGenerator[40]  Generating unique operation named: commonExportTemplateUsingPOST_1
2020-11-21 21:47:49.155 INFO  s.d.s.w.r.operation.CachingOperationNameGenerator[40]  Generating unique operation named: confirmUsingPOST_7
2020-11-21 21:47:49.163 INFO  s.d.s.w.r.operation.CachingOperationNameGenerator[40]  Generating unique operation named: exportEcnInfoUsingPOST_1
2020-11-21 21:47:49.165 INFO  s.d.s.w.r.operation.CachingOperationNameGenerator[40]  Generating unique operation named: getDetailednessInfoUsingPOST_1
2020-11-21 21:47:49.167 INFO  s.d.s.w.r.operation.CachingOperationNameGenerator[40]  Generating unique operation named: getLatestRecordContentUsingGET_4
2020-11-21 21:47:49.173 INFO  s.d.s.w.r.operation.CachingOperationNameGenerator[40]  Generating unique operation named: getPullDownValueUsingGET_1
2020-11-21 21:47:49.177 INFO  s.d.s.w.r.operation.CachingOperationNameGenerator[40]  Generating unique operation named: saveRecordContentUsingPOST_2
2020-11-21 21:47:49.193 INFO  s.d.s.w.r.operation.CachingOperationNameGenerator[40]  Generating unique operation named: exportDetailsUsingPOST_1
2020-11-21 21:47:49.200 INFO  s.d.s.w.r.operation.CachingOperationNameGenerator[40]  Generating unique operation named: exportUnseasonalBolaUsingGET_2
2020-11-21 21:47:49.206 INFO  s.d.s.w.r.operation.CachingOperationNameGenerator[40]  Generating unique operation named: exportUnseasonalListUsingPOST_2
2020-11-21 21:47:49.213 INFO  s.d.s.w.r.operation.CachingOperationNameGenerator[40]  Generating unique operation named: getAllAndCloseUsingPOST_2
2020-11-21 21:47:49.218 INFO  s.d.s.w.r.operation.CachingOperationNameGenerator[40]  Generating unique operation named: getAllDataUsingPOST_2
2020-11-21 21:47:49.225 INFO  s.d.s.w.r.operation.CachingOperationNameGenerator[40]  Generating unique operation named: getDashBoardCloseUsingPOST_2
2020-11-21 21:47:49.231 INFO  s.d.s.w.r.operation.CachingOperationNameGenerator[40]  Generating unique operation named: getDashBoardNotCloseUsingPOST_2
2020-11-21 21:47:49.244 INFO  s.d.s.w.r.operation.CachingOperationNameGenerator[40]  Generating unique operation named: getOverdueUsingPOST_2
2020-11-21 21:47:49.252 INFO  s.d.s.w.r.operation.CachingOperationNameGenerator[40]  Generating unique operation named: getUnseasonalBolaUsingGET_2
2020-11-21 21:47:49.258 INFO  s.d.s.w.r.operation.CachingOperationNameGenerator[40]  Generating unique operation named: getUnseasonalListUsingPOST_2
2020-11-21 21:47:49.276 INFO  s.d.s.w.r.operation.CachingOperationNameGenerator[40]  Generating unique operation named: getDropdownValueUsingGET_6
2020-11-21 21:47:49.322 INFO  s.d.s.w.r.operation.CachingOperationNameGenerator[40]  Generating unique operation named: confirmUsingPOST_8
2020-11-21 21:47:49.349 INFO  s.d.s.w.r.operation.CachingOperationNameGenerator[40]  Generating unique operation named: getDropdownValueUsingGET_7
2020-11-21 21:47:49.386 INFO  s.d.s.w.r.operation.CachingOperationNameGenerator[40]  Generating unique operation named: exportInfoUsingPOST_1
2020-11-21 21:47:49.393 INFO  s.d.s.w.r.operation.CachingOperationNameGenerator[40]  Generating unique operation named: getAddCountUsingPOST_1
2020-11-21 21:47:49.401 INFO  s.d.s.w.r.operation.CachingOperationNameGenerator[40]  Generating unique operation named: getDashBoardCountUsingPOST_1
2020-11-21 21:47:49.421 INFO  s.d.s.w.r.operation.CachingOperationNameGenerator[40]  Generating unique operation named: getInfoListUsingPOST_1
2020-11-21 21:47:49.425 INFO  s.d.s.w.r.operation.CachingOperationNameGenerator[40]  Generating unique operation named: getLatestRecordContentUsingGET_5
2020-11-21 21:47:49.436 INFO  s.d.s.w.r.operation.CachingOperationNameGenerator[40]  Generating unique operation named: getOverdueCountUsingPOST_1
2020-11-21 21:47:49.441 INFO  s.d.s.w.r.operation.CachingOperationNameGenerator[40]  Generating unique operation named: getProcessingCountUsingPOST_1
2020-11-21 21:47:49.446 INFO  s.d.s.w.r.operation.CachingOperationNameGenerator[40]  Generating unique operation named: getPullDownValueUsingGET_2
2020-11-21 21:47:49.458 INFO  s.d.s.w.r.operation.CachingOperationNameGenerator[40]  Generating unique operation named: insertUsingPOST_1
2020-11-21 21:47:49.462 INFO  s.d.s.w.r.operation.CachingOperationNameGenerator[40]  Generating unique operation named: saveRecordContentUsingPOST_3
2020-11-21 21:47:49.476 INFO  s.d.s.w.r.operation.CachingOperationNameGenerator[40]  Generating unique operation named: getInfoListUsingPOST_2
2020-11-21 21:47:49.502 INFO  s.d.s.w.r.operation.CachingOperationNameGenerator[40]  Generating unique operation named: getPullDownValueUsingGET_3
2020-11-21 21:47:49.510 INFO  s.d.s.w.r.operation.CachingOperationNameGenerator[40]  Generating unique operation named: insertUsingPOST_2
2020-11-21 21:47:49.524 INFO  s.d.s.w.r.operation.CachingOperationNameGenerator[40]  Generating unique operation named: getAuditListInfoByIdUsingPOST_1
2020-11-21 21:47:49.555 INFO  s.d.s.w.r.operation.CachingOperationNameGenerator[40]  Generating unique operation named: confirmUsingPOST_9
2020-11-21 21:47:49.569 INFO  s.d.s.w.r.operation.CachingOperationNameGenerator[40]  Generating unique operation named: getLatestRecordContentUsingPOST_1
2020-11-21 21:47:49.596 INFO  s.d.s.w.r.operation.CachingOperationNameGenerator[40]  Generating unique operation named: saveRecordContentUsingPOST_4
2020-11-21 21:47:49.604 INFO  s.d.s.w.r.operation.CachingOperationNameGenerator[40]  Generating unique operation named: confirmUsingPOST_10
2020-11-21 21:47:49.634 INFO  s.d.s.w.r.operation.CachingOperationNameGenerator[40]  Generating unique operation named: getDropdownValueUsingGET_8
2020-11-21 21:47:49.640 INFO  s.d.s.w.r.operation.CachingOperationNameGenerator[40]  Generating unique operation named: getLatestRecordContentUsingGET_6
2020-11-21 21:47:49.734 INFO  s.d.s.w.r.operation.CachingOperationNameGenerator[40]  Generating unique operation named: confirmUsingPOST_11
2020-11-21 21:47:49.761 INFO  s.d.s.w.r.operation.CachingOperationNameGenerator[40]  Generating unique operation named: getDropdownValueUsingGET_9
2020-11-21 21:47:49.767 INFO  s.d.s.w.r.operation.CachingOperationNameGenerator[40]  Generating unique operation named: getLatestRecordContentUsingGET_7
2020-11-21 21:47:49.786 INFO  s.d.s.w.r.operation.CachingOperationNameGenerator[40]  Generating unique operation named: getSuperiorUsingGET_1
2020-11-21 21:47:49.827 INFO  s.d.s.w.r.operation.CachingOperationNameGenerator[40]  Generating unique operation named: confirmUsingPOST_12
2020-11-21 21:47:49.858 INFO  s.d.s.w.r.operation.CachingOperationNameGenerator[40]  Generating unique operation named: getDetailednessInfoUsingPOST_2
2020-11-21 21:47:49.862 INFO  s.d.s.w.r.operation.CachingOperationNameGenerator[40]  Generating unique operation named: getLatestRecordContentUsingGET_8
2020-11-21 21:47:49.878 INFO  s.d.s.w.r.operation.CachingOperationNameGenerator[40]  Generating unique operation named: getPullDownValueUsingGET_4
2020-11-21 21:47:49.901 INFO  s.d.s.w.r.operation.CachingOperationNameGenerator[40]  Generating unique operation named: saveRecordContentUsingPOST_5
2020-11-21 21:47:49.923 INFO  s.d.s.w.r.operation.CachingOperationNameGenerator[40]  Generating unique operation named: confirmUsingPOST_13
2020-11-21 21:47:49.935 INFO  s.d.s.w.r.operation.CachingOperationNameGenerator[40]  Generating unique operation named: exportInfoUsingPOST_2
2020-11-21 21:47:49.939 INFO  s.d.s.w.r.operation.CachingOperationNameGenerator[40]  Generating unique operation named: getDetailednessInfoUsingPOST_3
2020-11-21 21:47:49.947 INFO  s.d.s.w.r.operation.CachingOperationNameGenerator[40]  Generating unique operation named: getInfoListUsingPOST_3
2020-11-21 21:47:49.951 INFO  s.d.s.w.r.operation.CachingOperationNameGenerator[40]  Generating unique operation named: getPullDownValueUsingGET_5
2020-11-21 21:47:49.954 INFO  s.d.s.w.r.operation.CachingOperationNameGenerator[40]  Generating unique operation named: saveRecordContentUsingPOST_6
2020-11-21 21:47:49.964 INFO  s.d.s.w.r.operation.CachingOperationNameGenerator[40]  Generating unique operation named: getProgressUsingGET_1
2020-11-21 21:47:50.083 INFO  s.d.s.w.r.operation.CachingOperationNameGenerator[40]  Generating unique operation named: exportTraceablityManUsingPOST_1
2020-11-21 21:47:50.133 INFO  s.d.s.w.r.operation.CachingOperationNameGenerator[40]  Generating unique operation named: getSuperiorUsingGET_2
2020-11-21 21:47:50.202 INFO  o.s.scheduling.concurrent.ThreadPoolTaskScheduler[171]  Initializing ExecutorService
2020-11-21 21:47:50.207 INFO  c.j.qualityworkflow.modules.ipqc.job.ipqcMailJob[27]  查询IPQC超时任务
2020-11-21 21:47:50.211 INFO  org.apache.coyote.http11.Http11NioProtocol[173]  Starting ProtocolHandler ["http-nio-8115"]
2020-11-21 21:47:50.224 INFO  org.apache.tomcat.util.net.NioSelectorPool[173]  Using a shared selector for servlet write/read
2020-11-21 21:47:50.229 INFO  com.zaxxer.hikari.HikariDataSource[110]  HikariPool-1 - Starting...
2020-11-21 21:47:50.231 WARN  com.zaxxer.hikari.util.DriverDataSource[68]  Registered driver with driverClassName=com.mysql.jdbc.Driver was not found, trying direct instantiation.
2020-11-21 21:47:50.253 INFO  o.s.boot.web.embedded.tomcat.TomcatWebServer[204]  Tomcat started on port(s): 8115 (http) with context path ''
2020-11-21 21:47:50.257 INFO  cn.jwis.qualityworkflow.Application[59]  Started Application in 8.244 seconds (JVM running for 25.049)
2020-11-21 21:47:50.436 INFO  com.zaxxer.hikari.HikariDataSource[123]  HikariPool-1 - Start completed.
2020-11-21 21:47:50.446 DEBUG c.j.q.dao.TaskRecordMapper.getOverTimeTaskRecord2[145]  ==>  Preparing: SELECT *, HOUR(timediff(now() , create_date)) overTimeNum FROM task_record WHERE template_key = ? AND task_state IS NULL AND HOUR(timediff(now() , create_date)) >= ? 
2020-11-21 21:47:50.475 DEBUG c.j.q.dao.TaskRecordMapper.getOverTimeTaskRecord2[145]  ==> Parameters: IPQCAuditProcess(String), 24(Integer)
2020-11-21 21:47:50.520 DEBUG c.j.q.dao.TaskRecordMapper.getOverTimeTaskRecord2[145]  <==      Total: 18
2020-11-21 21:47:50.522 DEBUG c.j.q.dao.TaskRecordMapper.getOverTimeTaskRecord[145]  ==>  Preparing: SELECT *, HOUR(timediff(now() , create_date)) overTimeNum FROM task_record WHERE template_key = ? AND task_state IS NULL AND task_name = ? AND HOUR(timediff(now() , create_date)) >= ? 
2020-11-21 21:47:50.523 DEBUG c.j.q.dao.TaskRecordMapper.getOverTimeTaskRecord[145]  ==> Parameters: FactoryAuditProcess(String), 部门审核(String), 24(Integer)
2020-11-21 21:47:50.549 DEBUG c.j.q.dao.TaskRecordMapper.getOverTimeTaskRecord[145]  ==>  Preparing: SELECT *, HOUR(timediff(now() , create_date)) overTimeNum FROM task_record WHERE template_key = ? AND task_state IS NULL AND task_name = ? AND HOUR(timediff(now() , create_date)) >= ? 
2020-11-21 21:47:50.549 DEBUG c.j.q.dao.TaskRecordMapper.getOverTimeTaskRecord[145]  ==> Parameters: Line Qualify(String), 文件收集(String), 2(Integer)
2020-11-21 21:47:50.550 DEBUG c.j.q.dao.TaskRecordMapper.getOverTimeTaskRecord[145]  <==      Total: 3
2020-11-21 21:47:50.551 DEBUG c.j.q.m.qims.dao.BlackDashBoardMapper.getHoliday[145]  ==>  Preparing: SELECT DISTINCT date FROM holiday_maintenance WHERE type = '节假日' 
2020-11-21 21:47:50.551 DEBUG c.j.q.m.qims.dao.BlackDashBoardMapper.getHoliday[145]  ==> Parameters: 
2020-11-21 21:47:50.561 DEBUG c.j.q.m.qims.dao.BlackDashBoardMapper.getHoliday[145]  <==      Total: 6
2020-11-21 21:47:50.561 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==>  Preparing: select time from email_history_info where id =? 
2020-11-21 21:47:50.563 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==> Parameters: 1303868320843300864(String)
2020-11-21 21:47:50.568 DEBUG c.j.q.dao.TaskRecordMapper.getOverTimeTaskRecord[145]  <==      Total: 8
2020-11-21 21:47:50.568 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==>  Preparing: select time from email_history_info where id =? 
2020-11-21 21:47:50.568 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==> Parameters: 1295192540470837248(String)
2020-11-21 21:47:50.570 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  <==      Total: 1
2020-11-21 21:47:50.570 DEBUG c.j.q.m.q.d.B.getWorkOvertimeList[145]  ==>  Preparing: SELECT DISTINCT date FROM holiday_maintenance WHERE type = '补班' 
2020-11-21 21:47:50.571 DEBUG c.j.q.m.q.d.B.getWorkOvertimeList[145]  ==> Parameters: 
2020-11-21 21:47:50.584 DEBUG c.j.q.m.q.d.B.getWorkOvertimeList[145]  <==      Total: 4
2020-11-21 21:47:50.584 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  <==      Total: 1
2020-11-21 21:47:50.584 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==>  Preparing: select time from email_history_info where id =? 
2020-11-21 21:47:50.584 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==>  Preparing: select time from email_history_info where id =? 
2020-11-21 21:47:50.584 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==> Parameters: 1294123945645047808(String)
2020-11-21 21:47:50.584 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==> Parameters: 1303868347422605312(String)
2020-11-21 21:47:50.593 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  <==      Total: 1
2020-11-21 21:47:50.593 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getLtStandard[145]  ==>  Preparing: select * from qims_lt_standard_info 
2020-11-21 21:47:50.593 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getLtStandard[145]  ==> Parameters: 
2020-11-21 21:47:50.599 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  <==      Total: 1
2020-11-21 21:47:50.600 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==>  Preparing: select time from email_history_info where id =? 
2020-11-21 21:47:50.600 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==> Parameters: 1295192619508301824(String)
2020-11-21 21:47:50.614 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  <==      Total: 1
2020-11-21 21:47:50.615 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==>  Preparing: select time from email_history_info where id =? 
2020-11-21 21:47:50.615 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getLtStandard[145]  <==      Total: 8
2020-11-21 21:47:50.615 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==> Parameters: 1303868393815801856(String)
2020-11-21 21:47:50.615 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==>  Preparing: select time from email_history_info where id =? 
2020-11-21 21:47:50.616 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==> Parameters: 1299240419787276288(String)
2020-11-21 21:47:50.627 INFO  c.j.qualityworkflow.modules.qims.job.qimsMailJob[47]  查询黑色问题超过LT的信息
2020-11-21 21:47:50.636 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  <==      Total: 1
2020-11-21 21:47:50.637 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getBlackList[145]  ==>  Preparing: select * from task_record where task_name in('初步原因分析','根本原因分析','根本原因审核') and task_state is null and template_key='QIMSBLACK' 
2020-11-21 21:47:50.637 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getBlackList[145]  ==> Parameters: 
2020-11-21 21:47:50.643 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  <==      Total: 1
2020-11-21 21:47:50.644 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==>  Preparing: select time from email_history_info where id =? 
2020-11-21 21:47:50.645 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==> Parameters: 1303937438065885184(String)
2020-11-21 21:47:50.683 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getBlackList[145]  <==      Total: 16
2020-11-21 21:47:50.686 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  <==      Total: 1
2020-11-21 21:47:50.687 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==>  Preparing: select time from email_history_info where id =? 
2020-11-21 21:47:50.688 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==> Parameters: 1303939538460082176(String)
2020-11-21 21:47:50.698 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==>  Preparing: select time from email_history_info where id =? 
2020-11-21 21:47:50.698 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==> Parameters: 1286902446076985344(String)
2020-11-21 21:47:50.712 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  <==      Total: 1
2020-11-21 21:47:50.715 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==>  Preparing: select time from email_history_info where id =? 
2020-11-21 21:47:50.715 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==> Parameters: 1303939599889858560(String)
2020-11-21 21:47:50.719 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  <==      Total: 1
2020-11-21 21:47:50.728 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  <==      Total: 1
2020-11-21 21:47:50.729 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==>  Preparing: select time from email_history_info where id =? 
2020-11-21 21:47:50.729 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==> Parameters: 1306059696263659520(String)
2020-11-21 21:47:50.741 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  <==      Total: 1
2020-11-21 21:47:50.742 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==>  Preparing: select time from email_history_info where id =? 
2020-11-21 21:47:50.742 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==> Parameters: 1306155886347026432(String)
2020-11-21 21:47:50.751 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  <==      Total: 1
2020-11-21 21:47:50.752 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==>  Preparing: select time from email_history_info where id =? 
2020-11-21 21:47:50.752 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==> Parameters: 1306201167000240128(String)
2020-11-21 21:47:50.767 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  <==      Total: 1
2020-11-21 21:47:50.768 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==>  Preparing: select time from email_history_info where id =? 
2020-11-21 21:47:50.768 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==> Parameters: 1308013106458263552(String)
2020-11-21 21:47:50.782 INFO  cn.jwis.qualityworkflow.util.EmailService[142]  hualanlan email is test@jwis.cn
2020-11-21 21:47:50.782 INFO  cn.jwis.qualityworkflow.util.EmailService[142]  qualityadmin email is 
2020-11-21 21:47:50.782 INFO  cn.jwis.qualityworkflow.util.EmailService[142]  dz_gyb1 email is test@jwis.cn
2020-11-21 21:47:50.783 DEBUG cn.jwis.qualityworkflow.dao.UserMapper.getSuperior[145]  ==>  Preparing: select superior from department_mapping where user_account = ? and type = ? limit 0,1 
2020-11-21 21:47:50.783 DEBUG cn.jwis.qualityworkflow.dao.UserMapper.getSuperior[145]  ==>  Preparing: select superior from department_mapping where user_account = ? and type = ? limit 0,1 
2020-11-21 21:47:50.784 DEBUG cn.jwis.qualityworkflow.dao.UserMapper.getSuperior[145]  ==> Parameters: dz_gyb1(String), COMMON(String)
2020-11-21 21:47:50.784 DEBUG cn.jwis.qualityworkflow.dao.UserMapper.getSuperior[145]  ==> Parameters: qualityadmin(String), COMMON(String)
2020-11-21 21:47:50.787 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  <==      Total: 0
2020-11-21 21:47:50.788 DEBUG cn.jwis.qualityworkflow.dao.UserMapper.getSuperior[145]  ==>  Preparing: select superior from department_mapping where user_account = ? and type = ? limit 0,1 
2020-11-21 21:47:50.788 DEBUG cn.jwis.qualityworkflow.dao.UserMapper.getSuperior[145]  ==> Parameters: hualanlan(String), QIMS(String)
2020-11-21 21:47:50.798 DEBUG cn.jwis.qualityworkflow.dao.UserMapper.getSuperior[145]  <==      Total: 1
2020-11-21 21:47:50.798 DEBUG cn.jwis.qualityworkflow.dao.UserMapper.getSuperior[145]  <==      Total: 1
2020-11-21 21:47:50.798 DEBUG cn.jwis.qualityworkflow.dao.UserMapper.getSuperior[145]  <==      Total: 1
2020-11-21 21:47:50.799 DEBUG c.j.q.dao.UserMapper.getSuperiorManagerByUser[145]  ==>  Preparing: select superior_manager from department_mapping where user_account = ? and type = ? limit 0,1 
2020-11-21 21:47:50.800 DEBUG c.j.q.dao.UserMapper.getSuperiorManagerByUser[145]  ==> Parameters: hualanlan(String), QIMS(String)
2020-11-21 21:47:50.814 DEBUG c.j.q.dao.UserMapper.getSuperiorManagerByUser[145]  <==      Total: 1
2020-11-21 21:47:50.815 INFO  cn.jwis.qualityworkflow.util.EmailService[142]  kiween email is 
2020-11-21 21:47:50.815 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==>  Preparing: select time from email_history_info where id =? 
2020-11-21 21:47:50.815 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==> Parameters: 1308013110702899200(String)
2020-11-21 21:47:50.824 INFO  cn.jwis.qualityworkflow.util.EmailService[142]  qualityadmin email is 
2020-11-21 21:47:50.824 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  <==      Total: 1
2020-11-21 21:47:50.824 INFO  c.j.q.m.factoryaudit.job.AuditQuestionMailJob[31]  邮件下发结束
2020-11-21 21:47:50.825 INFO  cn.jwis.qualityworkflow.util.EmailService[142]  dz_gyb2 email is jian.song@jwis.cn
2020-11-21 21:47:50.825 DEBUG c.j.qualityworkflow.dao.CommonMapper.getKeyToName[145]  ==>  Preparing: SELECT * FROM key_to_name 
2020-11-21 21:47:50.826 DEBUG c.j.qualityworkflow.dao.CommonMapper.getKeyToName[145]  ==> Parameters: 
2020-11-21 21:47:50.848 INFO  cn.jwis.qualityworkflow.util.EmailService[142]  workflow3 email is null
2020-11-21 21:47:50.848 DEBUG c.j.qualityworkflow.dao.CommonMapper.getKeyToName[145]  <==      Total: 8
2020-11-21 21:47:50.849 DEBUG c.j.q.m.l.d.L.getLineQualifyDetailednessInfo[145]  ==>  Preparing: SELECT q.*,ar.processInstanceId ,ar.taskId,ar.assignee,ar.taskState,ar.taskName FROM line_qualify_info q,(SELECT workflow_business_id, process_instance_id as processInstanceId,task_id as taskId,assignee,task_state as taskState,task_name taskName FROM task_record WHERE task_id=?) ar where q.id=ar.workflow_business_id 
2020-11-21 21:47:50.850 DEBUG c.j.q.m.l.d.L.getLineQualifyDetailednessInfo[145]  ==> Parameters: 5490632(String)
2020-11-21 21:47:50.850 INFO  cn.jwis.qualityworkflow.util.EmailService[142]  qualityadmin email is 
2020-11-21 21:47:50.851 DEBUG cn.jwis.qualityworkflow.dao.UserMapper.getSuperior[145]  ==>  Preparing: select superior from department_mapping where user_account = ? and type = ? limit 0,1 
2020-11-21 21:47:50.851 DEBUG cn.jwis.qualityworkflow.dao.UserMapper.getSuperior[145]  ==> Parameters: qualityadmin(String), COMMON(String)
2020-11-21 21:47:50.863 DEBUG cn.jwis.qualityworkflow.dao.UserMapper.getSuperior[145]  <==      Total: 1
2020-11-21 21:47:50.864 DEBUG c.j.q.m.l.d.L.getLineQualifyDetailednessInfo[145]  <==      Total: 1
2020-11-21 21:47:50.870 INFO  cn.jwis.qualityworkflow.util.EmailService[142]  zhouxianling email is 
2020-11-21 21:47:51.073 INFO  cn.jwis.qualityworkflow.util.EmailService[142]  qualityadmin email is 
2020-11-21 21:47:51.073 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==>  Preparing: select time from email_history_info where id =? 
2020-11-21 21:47:51.074 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==> Parameters: 1308013113928318976(String)
2020-11-21 21:47:51.080 DEBUG c.j.qualityworkflow.dao.TaskRecordMapper.getById[145]  ==>  Preparing: SELECT * from task_record WHERE id = ? 
2020-11-21 21:47:51.080 DEBUG c.j.qualityworkflow.dao.TaskRecordMapper.getById[145]  ==> Parameters: 1286902446076985344(String)
2020-11-21 21:47:51.100 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  <==      Total: 1
2020-11-21 21:47:51.100 DEBUG c.j.qualityworkflow.dao.TaskRecordMapper.getById[145]  <==      Total: 1
2020-11-21 21:47:51.101 DEBUG c.j.qualityworkflow.dao.CommonMapper.getKeyToName[145]  ==>  Preparing: SELECT * FROM key_to_name 
2020-11-21 21:47:51.101 DEBUG c.j.qualityworkflow.dao.CommonMapper.getKeyToName[145]  ==> Parameters: 
2020-11-21 21:47:51.111 DEBUG c.j.qualityworkflow.dao.CommonMapper.getKeyToName[145]  <==      Total: 8
2020-11-21 21:47:51.123 INFO  cn.jwis.qualityworkflow.util.EmailService[142]  qualityadmin email is 
2020-11-21 21:47:51.123 DEBUG cn.jwis.qualityworkflow.dao.UserMapper.getSuperior[145]  ==>  Preparing: select superior from department_mapping where user_account = ? and type = ? limit 0,1 
2020-11-21 21:47:51.123 DEBUG cn.jwis.qualityworkflow.dao.UserMapper.getSuperior[145]  ==> Parameters: qualityadmin(String), COMMON(String)
2020-11-21 21:47:51.147 DEBUG cn.jwis.qualityworkflow.dao.UserMapper.getSuperior[145]  <==      Total: 1
2020-11-21 21:47:51.170 INFO  cn.jwis.qualityworkflow.util.EmailService[142]  qualityadmin email is 
2020-11-21 21:47:51.171 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==>  Preparing: select time from email_history_info where id =? 
2020-11-21 21:47:51.171 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==> Parameters: 1308013116927246336(String)
2020-11-21 21:47:51.178 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  <==      Total: 0
2020-11-21 21:47:51.214 INFO  cn.jwis.qualityworkflow.util.EmailService[142]  kiween email is 
2020-11-21 21:47:51.214 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==>  Preparing: select time from email_history_info where id =? 
2020-11-21 21:47:51.214 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==> Parameters: 1309046852858937344(String)
2020-11-21 21:47:51.228 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  <==      Total: 0
2020-11-21 21:47:51.260 INFO  cn.jwis.qualityworkflow.util.EmailService[142]  codisan email is kelvin@jwis.cn
2020-11-21 21:47:51.260 DEBUG c.j.qualityworkflow.dao.CommonMapper.getKeyToName[145]  ==>  Preparing: SELECT * FROM key_to_name 
2020-11-21 21:47:51.261 DEBUG c.j.qualityworkflow.dao.CommonMapper.getKeyToName[145]  ==> Parameters: 
2020-11-21 21:47:51.271 DEBUG c.j.qualityworkflow.dao.CommonMapper.getKeyToName[145]  <==      Total: 8
2020-11-21 21:47:51.383 INFO  cn.jwis.qualityworkflow.util.EmailService[74]  haomiao.liu@jwis.cn send a Mail to kelvin@jwis.cn fail, because null
2020-11-21 21:47:51.383 INFO  cn.jwis.qualityworkflow.util.EmailService[71]  haomiao.liu@jwis.cn send a Mail to test@jwis.cn
2020-11-21 21:47:51.383 INFO  cn.jwis.qualityworkflow.util.EmailService[69]  haomiao.liu@jwis.cn send a Mail to test@jwis.cn and make a copy for [jian.song@jwis.cn]
2020-11-21 21:47:52.425 ERROR o.s.s.support.TaskUtils$LoggingErrorHandler[96] org.springframework.mail.MailSendException: Failed messages: javax.mail.SendFailedException: Invalid Addresses;
  nested exception is:
	com.sun.mail.smtp.SMTPAddressFailedException: 554 RCPT (test@jwis.cn) dosn't exist

	at org.springframework.mail.javamail.JavaMailSenderImpl.doSend(JavaMailSenderImpl.java:488)
	at org.springframework.mail.javamail.JavaMailSenderImpl.send(JavaMailSenderImpl.java:359)
	at org.springframework.mail.javamail.JavaMailSenderImpl.send(JavaMailSenderImpl.java:354)
	at cn.jwis.qualityworkflow.util.EmailService.sendHtmlMail(EmailService.java:76)
	at cn.jwis.qualityworkflow.modules.qims.service.imp.QimsSendMailServiceImpl.sendEmailTohandler(QimsSendMailServiceImpl.java:161)
	at cn.jwis.qualityworkflow.modules.qims.service.imp.QimsSendMailServiceImpl.qimsSendMail(QimsSendMailServiceImpl.java:90)
	at cn.jwis.qualityworkflow.modules.qims.job.qimsMailJob.qimsSendMail(qimsMailJob.java:49)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.springframework.scheduling.support.ScheduledMethodRunnable.run(ScheduledMethodRunnable.java:84)
	at org.springframework.scheduling.support.DelegatingErrorHandlingRunnable.run(DelegatingErrorHandlingRunnable.java:54)
	at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:511)
	at java.util.concurrent.FutureTask.runAndReset(FutureTask.java:308)
	at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.access$301(ScheduledThreadPoolExecutor.java:180)
	at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:294)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)
 Unexpected error occurred in scheduled task.
2020-11-21 21:47:52.425 ERROR o.s.s.support.TaskUtils$LoggingErrorHandler[96] org.springframework.mail.MailSendException: Failed messages: javax.mail.SendFailedException: Invalid Addresses;
  nested exception is:
	com.sun.mail.smtp.SMTPAddressFailedException: 554 RCPT (kelvin@jwis.cn) dosn't exist

	at org.springframework.mail.javamail.JavaMailSenderImpl.doSend(JavaMailSenderImpl.java:488)
	at org.springframework.mail.javamail.JavaMailSenderImpl.send(JavaMailSenderImpl.java:359)
	at org.springframework.mail.javamail.JavaMailSenderImpl.send(JavaMailSenderImpl.java:354)
	at cn.jwis.qualityworkflow.util.EmailService.sendHtmlMail(EmailService.java:76)
	at cn.jwis.qualityworkflow.modules.qims.service.imp.QimsSendMailServiceImpl.sendEmailTohandler(QimsSendMailServiceImpl.java:161)
	at cn.jwis.qualityworkflow.modules.ipqc.service.imp.AuditQualityProblemServiceImpl.qimsSendMail(AuditQualityProblemServiceImpl.java:321)
	at cn.jwis.qualityworkflow.modules.ipqc.service.imp.AuditQualityProblemServiceImpl$$FastClassBySpringCGLIB$$15ff325f.invoke(<generated>)
	at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:684)
	at cn.jwis.qualityworkflow.modules.ipqc.service.imp.AuditQualityProblemServiceImpl$$EnhancerBySpringCGLIB$$e291a2f3.qimsSendMail(<generated>)
	at cn.jwis.qualityworkflow.modules.ipqc.job.ipqcMailJob.qimsSendMail(ipqcMailJob.java:28)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.springframework.scheduling.support.ScheduledMethodRunnable.run(ScheduledMethodRunnable.java:84)
	at org.springframework.scheduling.support.DelegatingErrorHandlingRunnable.run(DelegatingErrorHandlingRunnable.java:54)
	at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:511)
	at java.util.concurrent.FutureTask.runAndReset(FutureTask.java:308)
	at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.access$301(ScheduledThreadPoolExecutor.java:180)
	at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:294)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)
 Unexpected error occurred in scheduled task.
2020-11-21 21:47:52.481 ERROR o.s.s.support.TaskUtils$LoggingErrorHandler[96] org.springframework.mail.MailSendException: Failed messages: javax.mail.SendFailedException: Invalid Addresses;
  nested exception is:
	com.sun.mail.smtp.SMTPAddressFailedException: 554 RCPT (test@jwis.cn) dosn't exist
;
  nested exception is:
	com.sun.mail.smtp.SMTPAddressFailedException: 554 RCPT (jian.song@jwis.cn) dosn't exist

	at org.springframework.mail.javamail.JavaMailSenderImpl.doSend(JavaMailSenderImpl.java:488)
	at org.springframework.mail.javamail.JavaMailSenderImpl.send(JavaMailSenderImpl.java:359)
	at org.springframework.mail.javamail.JavaMailSenderImpl.send(JavaMailSenderImpl.java:354)
	at cn.jwis.qualityworkflow.util.EmailService.sendHtmlMail(EmailService.java:76)
	at cn.jwis.qualityworkflow.modules.linequalify.service.imp.LineQualifyServiceImpl.sendEmailTohandler(LineQualifyServiceImpl.java:617)
	at cn.jwis.qualityworkflow.modules.linequalify.service.imp.LineQualifyServiceImpl.sendOverTimeMail(LineQualifyServiceImpl.java:594)
	at cn.jwis.qualityworkflow.modules.linequalify.service.imp.LineQualifyServiceImpl$$FastClassBySpringCGLIB$$4ca6f597.invoke(<generated>)
	at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:684)
	at cn.jwis.qualityworkflow.modules.linequalify.service.imp.LineQualifyServiceImpl$$EnhancerBySpringCGLIB$$2a00af9b.sendOverTimeMail(<generated>)
	at cn.jwis.qualityworkflow.modules.linequalify.job.LineQualifyMailJob.sendOverTimeMail(LineQualifyMailJob.java:30)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.springframework.scheduling.support.ScheduledMethodRunnable.run(ScheduledMethodRunnable.java:84)
	at org.springframework.scheduling.support.DelegatingErrorHandlingRunnable.run(DelegatingErrorHandlingRunnable.java:54)
	at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:511)
	at java.util.concurrent.FutureTask.runAndReset(FutureTask.java:308)
	at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.access$301(ScheduledThreadPoolExecutor.java:180)
	at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:294)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)
 Unexpected error occurred in scheduled task.
2020-11-21 21:50:00.005 INFO  c.j.q.m.t.T.TraceabilityMachineTimerManager[50]  设备定时任务开启
2020-11-21 21:50:00.022 DEBUG c.j.q.m.t.d.T.getTraceabilityMachineList[145]  ==>  Preparing: select table_name from traceability_machine_data group by table_name 
2020-11-21 21:50:00.023 DEBUG c.j.q.m.t.d.T.getTraceabilityMachineList[145]  ==> Parameters: 
2020-11-21 21:50:00.068 DEBUG c.j.q.m.t.d.T.getTraceabilityMachineList[145]  <==      Total: 5
2020-11-21 21:50:00.069 DEBUG c.j.q.m.t.d.T.getTraceabilityMachineFiledName[145]  ==>  Preparing: select filed_name from traceability_machine_data where table_name=? 
2020-11-21 21:50:00.070 DEBUG c.j.q.m.t.d.T.getTraceabilityMachineFiledName[145]  ==> Parameters: dust_free_shed(String)
2020-11-21 21:50:00.082 DEBUG c.j.q.m.t.d.T.getTraceabilityMachineFiledName[145]  <==      Total: 11
2020-11-21 21:50:00.083 DEBUG c.j.q.m.t.d.T.getMaxCreateTime[145]  ==>  Preparing: select max(createtime) from dust_free_shed 
2020-11-21 21:50:00.083 DEBUG c.j.q.m.t.d.T.getMaxCreateTime[145]  ==> Parameters: 
2020-11-21 21:50:00.156 DEBUG c.j.q.m.t.d.T.getMaxCreateTime[145]  <==      Total: 1
2020-11-21 21:50:00.192 ERROR o.s.s.support.TaskUtils$LoggingErrorHandler[96] java.lang.NullPointerException: null
	at cn.jwis.qualityworkflow.modules.traceablity.TimerManager.TraceabilityMachineTimerManager.getLenovoMachineData(TraceabilityMachineTimerManager.java:105)
	at cn.jwis.qualityworkflow.modules.traceablity.TimerManager.TraceabilityMachineTimerManager.MachineTimerManager(TraceabilityMachineTimerManager.java:57)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.springframework.scheduling.support.ScheduledMethodRunnable.run(ScheduledMethodRunnable.java:84)
	at org.springframework.scheduling.support.DelegatingErrorHandlingRunnable.run(DelegatingErrorHandlingRunnable.java:54)
	at org.springframework.scheduling.concurrent.ReschedulingRunnable.run(ReschedulingRunnable.java:93)
	at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:511)
	at java.util.concurrent.FutureTask.run(FutureTask.java:266)
	at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.access$201(ScheduledThreadPoolExecutor.java:180)
	at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:293)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)
 Unexpected error occurred in scheduled task.
2020-11-21 21:52:50.217 INFO  c.j.qualityworkflow.modules.ipqc.job.ipqcMailJob[27]  查询IPQC超时任务
2020-11-21 21:52:50.227 DEBUG c.j.q.m.qims.dao.BlackDashBoardMapper.getHoliday[145]  ==>  Preparing: SELECT DISTINCT date FROM holiday_maintenance WHERE type = '节假日' 
2020-11-21 21:52:50.227 DEBUG c.j.q.m.qims.dao.BlackDashBoardMapper.getHoliday[145]  ==> Parameters: 
2020-11-21 21:52:50.233 DEBUG c.j.q.dao.TaskRecordMapper.getOverTimeTaskRecord[145]  ==>  Preparing: SELECT *, HOUR(timediff(now() , create_date)) overTimeNum FROM task_record WHERE template_key = ? AND task_state IS NULL AND task_name = ? AND HOUR(timediff(now() , create_date)) >= ? 
2020-11-21 21:52:50.234 DEBUG c.j.q.dao.TaskRecordMapper.getOverTimeTaskRecord[145]  ==>  Preparing: SELECT *, HOUR(timediff(now() , create_date)) overTimeNum FROM task_record WHERE template_key = ? AND task_state IS NULL AND task_name = ? AND HOUR(timediff(now() , create_date)) >= ? 
2020-11-21 21:52:50.234 DEBUG c.j.q.dao.TaskRecordMapper.getOverTimeTaskRecord[145]  ==> Parameters: Line Qualify(String), 文件收集(String), 2(Integer)
2020-11-21 21:52:50.234 DEBUG c.j.q.dao.TaskRecordMapper.getOverTimeTaskRecord[145]  ==> Parameters: FactoryAuditProcess(String), 部门审核(String), 24(Integer)
2020-11-21 21:52:50.235 DEBUG c.j.q.dao.TaskRecordMapper.getOverTimeTaskRecord2[145]  ==>  Preparing: SELECT *, HOUR(timediff(now() , create_date)) overTimeNum FROM task_record WHERE template_key = ? AND task_state IS NULL AND HOUR(timediff(now() , create_date)) >= ? 
2020-11-21 21:52:50.235 DEBUG c.j.q.dao.TaskRecordMapper.getOverTimeTaskRecord2[145]  ==> Parameters: IPQCAuditProcess(String), 24(Integer)
2020-11-21 21:52:50.239 DEBUG c.j.q.m.qims.dao.BlackDashBoardMapper.getHoliday[145]  <==      Total: 6
2020-11-21 21:52:50.240 DEBUG c.j.q.m.q.d.B.getWorkOvertimeList[145]  ==>  Preparing: SELECT DISTINCT date FROM holiday_maintenance WHERE type = '补班' 
2020-11-21 21:52:50.240 DEBUG c.j.q.m.q.d.B.getWorkOvertimeList[145]  ==> Parameters: 
2020-11-21 21:52:50.244 DEBUG c.j.q.dao.TaskRecordMapper.getOverTimeTaskRecord[145]  <==      Total: 3
2020-11-21 21:52:50.244 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==>  Preparing: select time from email_history_info where id =? 
2020-11-21 21:52:50.245 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==> Parameters: 1295192540470837248(String)
2020-11-21 21:52:50.245 DEBUG c.j.q.dao.TaskRecordMapper.getOverTimeTaskRecord[145]  <==      Total: 8
2020-11-21 21:52:50.245 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==>  Preparing: select time from email_history_info where id =? 
2020-11-21 21:52:50.245 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==> Parameters: 1294123945645047808(String)
2020-11-21 21:52:50.248 DEBUG c.j.q.dao.TaskRecordMapper.getOverTimeTaskRecord2[145]  <==      Total: 18
2020-11-21 21:52:50.248 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==>  Preparing: select time from email_history_info where id =? 
2020-11-21 21:52:50.248 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==> Parameters: 1303868320843300864(String)
2020-11-21 21:52:50.250 DEBUG c.j.q.m.q.d.B.getWorkOvertimeList[145]  <==      Total: 4
2020-11-21 21:52:50.250 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  <==      Total: 1
2020-11-21 21:52:50.251 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getLtStandard[145]  ==>  Preparing: select * from qims_lt_standard_info 
2020-11-21 21:52:50.251 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==>  Preparing: select time from email_history_info where id =? 
2020-11-21 21:52:50.251 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getLtStandard[145]  ==> Parameters: 
2020-11-21 21:52:50.251 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==> Parameters: 1295192619508301824(String)
2020-11-21 21:52:50.251 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  <==      Total: 1
2020-11-21 21:52:50.254 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  <==      Total: 1
2020-11-21 21:52:50.255 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==>  Preparing: select time from email_history_info where id =? 
2020-11-21 21:52:50.256 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==> Parameters: 1303868347422605312(String)
2020-11-21 21:52:50.258 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  <==      Total: 1
2020-11-21 21:52:50.258 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getLtStandard[145]  <==      Total: 8
2020-11-21 21:52:50.258 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==>  Preparing: select time from email_history_info where id =? 
2020-11-21 21:52:50.259 INFO  c.j.qualityworkflow.modules.qims.job.qimsMailJob[47]  查询黑色问题超过LT的信息
2020-11-21 21:52:50.259 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==> Parameters: 1299240419787276288(String)
2020-11-21 21:52:50.259 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getBlackList[145]  ==>  Preparing: select * from task_record where task_name in('初步原因分析','根本原因分析','根本原因审核') and task_state is null and template_key='QIMSBLACK' 
2020-11-21 21:52:50.259 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getBlackList[145]  ==> Parameters: 
2020-11-21 21:52:50.264 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  <==      Total: 1
2020-11-21 21:52:50.264 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==>  Preparing: select time from email_history_info where id =? 
2020-11-21 21:52:50.264 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==> Parameters: 1303868393815801856(String)
2020-11-21 21:52:50.266 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  <==      Total: 1
2020-11-21 21:52:50.269 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getBlackList[145]  <==      Total: 16
2020-11-21 21:52:50.271 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  <==      Total: 1
2020-11-21 21:52:50.271 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==>  Preparing: select time from email_history_info where id =? 
2020-11-21 21:52:50.271 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==> Parameters: 1303937438065885184(String)
2020-11-21 21:52:50.276 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==>  Preparing: select time from email_history_info where id =? 
2020-11-21 21:52:50.277 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==> Parameters: 1286902446076985344(String)
2020-11-21 21:52:50.279 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  <==      Total: 1
2020-11-21 21:52:50.279 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==>  Preparing: select time from email_history_info where id =? 
2020-11-21 21:52:50.280 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==> Parameters: 1303939538460082176(String)
2020-11-21 21:52:50.283 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  <==      Total: 1
2020-11-21 21:52:50.290 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  <==      Total: 1
2020-11-21 21:52:50.290 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==>  Preparing: select time from email_history_info where id =? 
2020-11-21 21:52:50.291 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==> Parameters: 1303939599889858560(String)
2020-11-21 21:52:50.297 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  <==      Total: 1
2020-11-21 21:52:50.297 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==>  Preparing: select time from email_history_info where id =? 
2020-11-21 21:52:50.298 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==> Parameters: 1306059696263659520(String)
2020-11-21 21:52:50.303 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  <==      Total: 1
2020-11-21 21:52:50.304 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==>  Preparing: select time from email_history_info where id =? 
2020-11-21 21:52:50.305 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==> Parameters: 1306155886347026432(String)
2020-11-21 21:52:50.312 INFO  cn.jwis.qualityworkflow.util.EmailService[142]  qualityadmin email is 
2020-11-21 21:52:50.312 DEBUG cn.jwis.qualityworkflow.dao.UserMapper.getSuperior[145]  ==>  Preparing: select superior from department_mapping where user_account = ? and type = ? limit 0,1 
2020-11-21 21:52:50.313 DEBUG cn.jwis.qualityworkflow.dao.UserMapper.getSuperior[145]  ==> Parameters: qualityadmin(String), COMMON(String)
2020-11-21 21:52:50.313 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  <==      Total: 1
2020-11-21 21:52:50.313 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==>  Preparing: select time from email_history_info where id =? 
2020-11-21 21:52:50.314 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==> Parameters: 1306201167000240128(String)
2020-11-21 21:52:50.314 INFO  cn.jwis.qualityworkflow.util.EmailService[142]  hualanlan email is test@jwis.cn
2020-11-21 21:52:50.315 DEBUG cn.jwis.qualityworkflow.dao.UserMapper.getSuperior[145]  ==>  Preparing: select superior from department_mapping where user_account = ? and type = ? limit 0,1 
2020-11-21 21:52:50.315 DEBUG cn.jwis.qualityworkflow.dao.UserMapper.getSuperior[145]  ==> Parameters: hualanlan(String), QIMS(String)
2020-11-21 21:52:50.317 INFO  cn.jwis.qualityworkflow.util.EmailService[142]  dz_gyb1 email is test@jwis.cn
2020-11-21 21:52:50.317 DEBUG cn.jwis.qualityworkflow.dao.UserMapper.getSuperior[145]  ==>  Preparing: select superior from department_mapping where user_account = ? and type = ? limit 0,1 
2020-11-21 21:52:50.317 DEBUG cn.jwis.qualityworkflow.dao.UserMapper.getSuperior[145]  ==> Parameters: dz_gyb1(String), COMMON(String)
2020-11-21 21:52:50.330 DEBUG cn.jwis.qualityworkflow.dao.UserMapper.getSuperior[145]  <==      Total: 1
2020-11-21 21:52:50.330 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  <==      Total: 1
2020-11-21 21:52:50.330 DEBUG cn.jwis.qualityworkflow.dao.UserMapper.getSuperior[145]  <==      Total: 1
2020-11-21 21:52:50.330 DEBUG cn.jwis.qualityworkflow.dao.UserMapper.getSuperior[145]  <==      Total: 1
2020-11-21 21:52:50.331 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==>  Preparing: select time from email_history_info where id =? 
2020-11-21 21:52:50.331 DEBUG c.j.q.dao.UserMapper.getSuperiorManagerByUser[145]  ==>  Preparing: select superior_manager from department_mapping where user_account = ? and type = ? limit 0,1 
2020-11-21 21:52:50.331 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==> Parameters: 1308013106458263552(String)
2020-11-21 21:52:50.331 DEBUG c.j.q.dao.UserMapper.getSuperiorManagerByUser[145]  ==> Parameters: hualanlan(String), QIMS(String)
2020-11-21 21:52:50.341 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  <==      Total: 0
2020-11-21 21:52:50.341 DEBUG c.j.q.dao.UserMapper.getSuperiorManagerByUser[145]  <==      Total: 1
2020-11-21 21:52:50.354 INFO  cn.jwis.qualityworkflow.util.EmailService[142]  dz_gyb2 email is jian.song@jwis.cn
2020-11-21 21:52:50.354 DEBUG c.j.qualityworkflow.dao.CommonMapper.getKeyToName[145]  ==>  Preparing: SELECT * FROM key_to_name 
2020-11-21 21:52:50.354 DEBUG c.j.qualityworkflow.dao.CommonMapper.getKeyToName[145]  ==> Parameters: 
2020-11-21 21:52:50.359 INFO  cn.jwis.qualityworkflow.util.EmailService[142]  qualityadmin email is 
2020-11-21 21:52:50.359 INFO  c.j.q.m.factoryaudit.job.AuditQuestionMailJob[31]  邮件下发结束
2020-11-21 21:52:50.363 DEBUG c.j.qualityworkflow.dao.CommonMapper.getKeyToName[145]  <==      Total: 8
2020-11-21 21:52:50.364 DEBUG c.j.q.m.l.d.L.getLineQualifyDetailednessInfo[145]  ==>  Preparing: SELECT q.*,ar.processInstanceId ,ar.taskId,ar.assignee,ar.taskState,ar.taskName FROM line_qualify_info q,(SELECT workflow_business_id, process_instance_id as processInstanceId,task_id as taskId,assignee,task_state as taskState,task_name taskName FROM task_record WHERE task_id=?) ar where q.id=ar.workflow_business_id 
2020-11-21 21:52:50.364 DEBUG c.j.q.m.l.d.L.getLineQualifyDetailednessInfo[145]  ==> Parameters: 5490632(String)
2020-11-21 21:52:50.367 INFO  cn.jwis.qualityworkflow.util.EmailService[142]  kiween email is 
2020-11-21 21:52:50.367 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==>  Preparing: select time from email_history_info where id =? 
2020-11-21 21:52:50.367 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==> Parameters: 1308013110702899200(String)
2020-11-21 21:52:50.370 INFO  cn.jwis.qualityworkflow.util.EmailService[142]  workflow3 email is null
2020-11-21 21:52:50.381 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  <==      Total: 1
2020-11-21 21:52:50.382 DEBUG c.j.q.m.l.d.L.getLineQualifyDetailednessInfo[145]  <==      Total: 1
2020-11-21 21:52:50.383 INFO  cn.jwis.qualityworkflow.util.EmailService[69]  haomiao.liu@jwis.cn send a Mail to test@jwis.cn and make a copy for [jian.song@jwis.cn]
2020-11-21 21:52:50.391 INFO  cn.jwis.qualityworkflow.util.EmailService[142]  zhouxianling email is 
2020-11-21 21:52:50.392 DEBUG c.j.qualityworkflow.dao.TaskRecordMapper.getById[145]  ==>  Preparing: SELECT * from task_record WHERE id = ? 
2020-11-21 21:52:50.392 DEBUG c.j.qualityworkflow.dao.TaskRecordMapper.getById[145]  ==> Parameters: 1286902446076985344(String)
2020-11-21 21:52:50.399 DEBUG c.j.qualityworkflow.dao.TaskRecordMapper.getById[145]  <==      Total: 1
2020-11-21 21:52:50.400 DEBUG c.j.qualityworkflow.dao.CommonMapper.getKeyToName[145]  ==>  Preparing: SELECT * FROM key_to_name 
2020-11-21 21:52:50.400 DEBUG c.j.qualityworkflow.dao.CommonMapper.getKeyToName[145]  ==> Parameters: 
2020-11-21 21:52:50.405 INFO  cn.jwis.qualityworkflow.util.EmailService[142]  qualityadmin email is 
2020-11-21 21:52:50.406 DEBUG cn.jwis.qualityworkflow.dao.UserMapper.getSuperior[145]  ==>  Preparing: select superior from department_mapping where user_account = ? and type = ? limit 0,1 
2020-11-21 21:52:50.406 DEBUG cn.jwis.qualityworkflow.dao.UserMapper.getSuperior[145]  ==> Parameters: qualityadmin(String), COMMON(String)
2020-11-21 21:52:50.411 DEBUG c.j.qualityworkflow.dao.CommonMapper.getKeyToName[145]  <==      Total: 8
2020-11-21 21:52:50.413 INFO  cn.jwis.qualityworkflow.util.EmailService[71]  haomiao.liu@jwis.cn send a Mail to test@jwis.cn
2020-11-21 21:52:50.418 DEBUG cn.jwis.qualityworkflow.dao.UserMapper.getSuperior[145]  <==      Total: 1
2020-11-21 21:52:50.441 INFO  cn.jwis.qualityworkflow.util.EmailService[142]  qualityadmin email is 
2020-11-21 21:52:50.441 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==>  Preparing: select time from email_history_info where id =? 
2020-11-21 21:52:50.441 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==> Parameters: 1308013113928318976(String)
2020-11-21 21:52:50.450 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  <==      Total: 1
2020-11-21 21:52:50.473 INFO  cn.jwis.qualityworkflow.util.EmailService[142]  qualityadmin email is 
2020-11-21 21:52:50.473 DEBUG cn.jwis.qualityworkflow.dao.UserMapper.getSuperior[145]  ==>  Preparing: select superior from department_mapping where user_account = ? and type = ? limit 0,1 
2020-11-21 21:52:50.474 DEBUG cn.jwis.qualityworkflow.dao.UserMapper.getSuperior[145]  ==> Parameters: qualityadmin(String), COMMON(String)
2020-11-21 21:52:50.484 DEBUG cn.jwis.qualityworkflow.dao.UserMapper.getSuperior[145]  <==      Total: 1
2020-11-21 21:52:50.509 INFO  cn.jwis.qualityworkflow.util.EmailService[142]  qualityadmin email is 
2020-11-21 21:52:50.510 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==>  Preparing: select time from email_history_info where id =? 
2020-11-21 21:52:50.510 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==> Parameters: 1308013116927246336(String)
2020-11-21 21:52:50.522 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  <==      Total: 0
2020-11-21 21:52:50.551 INFO  cn.jwis.qualityworkflow.util.EmailService[142]  kiween email is 
2020-11-21 21:52:50.551 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==>  Preparing: select time from email_history_info where id =? 
2020-11-21 21:52:50.553 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==> Parameters: 1309046852858937344(String)
2020-11-21 21:52:50.566 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  <==      Total: 0
2020-11-21 21:52:50.593 INFO  cn.jwis.qualityworkflow.util.EmailService[142]  codisan email is kelvin@jwis.cn
2020-11-21 21:52:50.594 DEBUG c.j.qualityworkflow.dao.CommonMapper.getKeyToName[145]  ==>  Preparing: SELECT * FROM key_to_name 
2020-11-21 21:52:50.594 DEBUG c.j.qualityworkflow.dao.CommonMapper.getKeyToName[145]  ==> Parameters: 
2020-11-21 21:52:50.601 DEBUG c.j.qualityworkflow.dao.CommonMapper.getKeyToName[145]  <==      Total: 8
2020-11-21 21:52:50.603 INFO  cn.jwis.qualityworkflow.util.EmailService[74]  haomiao.liu@jwis.cn send a Mail to kelvin@jwis.cn fail, because null
2020-11-21 21:52:50.989 ERROR o.s.s.support.TaskUtils$LoggingErrorHandler[96] org.springframework.mail.MailSendException: Failed messages: javax.mail.SendFailedException: Invalid Addresses;
  nested exception is:
	com.sun.mail.smtp.SMTPAddressFailedException: 554 RCPT (test@jwis.cn) dosn't exist

	at org.springframework.mail.javamail.JavaMailSenderImpl.doSend(JavaMailSenderImpl.java:488)
	at org.springframework.mail.javamail.JavaMailSenderImpl.send(JavaMailSenderImpl.java:359)
	at org.springframework.mail.javamail.JavaMailSenderImpl.send(JavaMailSenderImpl.java:354)
	at cn.jwis.qualityworkflow.util.EmailService.sendHtmlMail(EmailService.java:76)
	at cn.jwis.qualityworkflow.modules.qims.service.imp.QimsSendMailServiceImpl.sendEmailTohandler(QimsSendMailServiceImpl.java:161)
	at cn.jwis.qualityworkflow.modules.qims.service.imp.QimsSendMailServiceImpl.qimsSendMail(QimsSendMailServiceImpl.java:90)
	at cn.jwis.qualityworkflow.modules.qims.job.qimsMailJob.qimsSendMail(qimsMailJob.java:49)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.springframework.scheduling.support.ScheduledMethodRunnable.run(ScheduledMethodRunnable.java:84)
	at org.springframework.scheduling.support.DelegatingErrorHandlingRunnable.run(DelegatingErrorHandlingRunnable.java:54)
	at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:511)
	at java.util.concurrent.FutureTask.runAndReset(FutureTask.java:308)
	at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.access$301(ScheduledThreadPoolExecutor.java:180)
	at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:294)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)
 Unexpected error occurred in scheduled task.
2020-11-21 21:52:51.038 ERROR o.s.s.support.TaskUtils$LoggingErrorHandler[96] org.springframework.mail.MailSendException: Failed messages: javax.mail.SendFailedException: Invalid Addresses;
  nested exception is:
	com.sun.mail.smtp.SMTPAddressFailedException: 554 RCPT (test@jwis.cn) dosn't exist
;
  nested exception is:
	com.sun.mail.smtp.SMTPAddressFailedException: 554 RCPT (jian.song@jwis.cn) dosn't exist

	at org.springframework.mail.javamail.JavaMailSenderImpl.doSend(JavaMailSenderImpl.java:488)
	at org.springframework.mail.javamail.JavaMailSenderImpl.send(JavaMailSenderImpl.java:359)
	at org.springframework.mail.javamail.JavaMailSenderImpl.send(JavaMailSenderImpl.java:354)
	at cn.jwis.qualityworkflow.util.EmailService.sendHtmlMail(EmailService.java:76)
	at cn.jwis.qualityworkflow.modules.linequalify.service.imp.LineQualifyServiceImpl.sendEmailTohandler(LineQualifyServiceImpl.java:617)
	at cn.jwis.qualityworkflow.modules.linequalify.service.imp.LineQualifyServiceImpl.sendOverTimeMail(LineQualifyServiceImpl.java:594)
	at cn.jwis.qualityworkflow.modules.linequalify.service.imp.LineQualifyServiceImpl$$FastClassBySpringCGLIB$$4ca6f597.invoke(<generated>)
	at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:684)
	at cn.jwis.qualityworkflow.modules.linequalify.service.imp.LineQualifyServiceImpl$$EnhancerBySpringCGLIB$$2a00af9b.sendOverTimeMail(<generated>)
	at cn.jwis.qualityworkflow.modules.linequalify.job.LineQualifyMailJob.sendOverTimeMail(LineQualifyMailJob.java:30)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.springframework.scheduling.support.ScheduledMethodRunnable.run(ScheduledMethodRunnable.java:84)
	at org.springframework.scheduling.support.DelegatingErrorHandlingRunnable.run(DelegatingErrorHandlingRunnable.java:54)
	at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:511)
	at java.util.concurrent.FutureTask.runAndReset(FutureTask.java:308)
	at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.access$301(ScheduledThreadPoolExecutor.java:180)
	at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:294)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)
 Unexpected error occurred in scheduled task.
2020-11-21 21:52:51.188 ERROR o.s.s.support.TaskUtils$LoggingErrorHandler[96] org.springframework.mail.MailSendException: Failed messages: javax.mail.SendFailedException: Invalid Addresses;
  nested exception is:
	com.sun.mail.smtp.SMTPAddressFailedException: 554 RCPT (kelvin@jwis.cn) dosn't exist

	at org.springframework.mail.javamail.JavaMailSenderImpl.doSend(JavaMailSenderImpl.java:488)
	at org.springframework.mail.javamail.JavaMailSenderImpl.send(JavaMailSenderImpl.java:359)
	at org.springframework.mail.javamail.JavaMailSenderImpl.send(JavaMailSenderImpl.java:354)
	at cn.jwis.qualityworkflow.util.EmailService.sendHtmlMail(EmailService.java:76)
	at cn.jwis.qualityworkflow.modules.qims.service.imp.QimsSendMailServiceImpl.sendEmailTohandler(QimsSendMailServiceImpl.java:161)
	at cn.jwis.qualityworkflow.modules.ipqc.service.imp.AuditQualityProblemServiceImpl.qimsSendMail(AuditQualityProblemServiceImpl.java:321)
	at cn.jwis.qualityworkflow.modules.ipqc.service.imp.AuditQualityProblemServiceImpl$$FastClassBySpringCGLIB$$15ff325f.invoke(<generated>)
	at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:684)
	at cn.jwis.qualityworkflow.modules.ipqc.service.imp.AuditQualityProblemServiceImpl$$EnhancerBySpringCGLIB$$e291a2f3.qimsSendMail(<generated>)
	at cn.jwis.qualityworkflow.modules.ipqc.job.ipqcMailJob.qimsSendMail(ipqcMailJob.java:28)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.springframework.scheduling.support.ScheduledMethodRunnable.run(ScheduledMethodRunnable.java:84)
	at org.springframework.scheduling.support.DelegatingErrorHandlingRunnable.run(DelegatingErrorHandlingRunnable.java:54)
	at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:511)
	at java.util.concurrent.FutureTask.runAndReset(FutureTask.java:308)
	at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.access$301(ScheduledThreadPoolExecutor.java:180)
	at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:294)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)
 Unexpected error occurred in scheduled task.
2020-11-21 21:57:50.225 INFO  c.j.qualityworkflow.modules.ipqc.job.ipqcMailJob[27]  查询IPQC超时任务
2020-11-21 21:57:50.233 DEBUG c.j.q.dao.TaskRecordMapper.getOverTimeTaskRecord[145]  ==>  Preparing: SELECT *, HOUR(timediff(now() , create_date)) overTimeNum FROM task_record WHERE template_key = ? AND task_state IS NULL AND task_name = ? AND HOUR(timediff(now() , create_date)) >= ? 
2020-11-21 21:57:50.233 DEBUG c.j.q.dao.TaskRecordMapper.getOverTimeTaskRecord[145]  ==> Parameters: FactoryAuditProcess(String), 部门审核(String), 24(Integer)
2020-11-21 21:57:50.233 DEBUG c.j.q.m.qims.dao.BlackDashBoardMapper.getHoliday[145]  ==>  Preparing: SELECT DISTINCT date FROM holiday_maintenance WHERE type = '节假日' 
2020-11-21 21:57:50.234 DEBUG c.j.q.m.qims.dao.BlackDashBoardMapper.getHoliday[145]  ==> Parameters: 
2020-11-21 21:57:50.234 DEBUG c.j.q.dao.TaskRecordMapper.getOverTimeTaskRecord2[145]  ==>  Preparing: SELECT *, HOUR(timediff(now() , create_date)) overTimeNum FROM task_record WHERE template_key = ? AND task_state IS NULL AND HOUR(timediff(now() , create_date)) >= ? 
2020-11-21 21:57:50.234 DEBUG c.j.q.dao.TaskRecordMapper.getOverTimeTaskRecord[145]  ==>  Preparing: SELECT *, HOUR(timediff(now() , create_date)) overTimeNum FROM task_record WHERE template_key = ? AND task_state IS NULL AND task_name = ? AND HOUR(timediff(now() , create_date)) >= ? 
2020-11-21 21:57:50.235 DEBUG c.j.q.dao.TaskRecordMapper.getOverTimeTaskRecord2[145]  ==> Parameters: IPQCAuditProcess(String), 24(Integer)
2020-11-21 21:57:50.235 DEBUG c.j.q.dao.TaskRecordMapper.getOverTimeTaskRecord[145]  ==> Parameters: Line Qualify(String), 文件收集(String), 2(Integer)
2020-11-21 21:57:50.242 DEBUG c.j.q.m.qims.dao.BlackDashBoardMapper.getHoliday[145]  <==      Total: 6
2020-11-21 21:57:50.242 DEBUG c.j.q.m.q.d.B.getWorkOvertimeList[145]  ==>  Preparing: SELECT DISTINCT date FROM holiday_maintenance WHERE type = '补班' 
2020-11-21 21:57:50.243 DEBUG c.j.q.m.q.d.B.getWorkOvertimeList[145]  ==> Parameters: 
2020-11-21 21:57:50.251 DEBUG c.j.q.dao.TaskRecordMapper.getOverTimeTaskRecord[145]  <==      Total: 3
2020-11-21 21:57:50.251 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==>  Preparing: select time from email_history_info where id =? 
2020-11-21 21:57:50.252 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==> Parameters: 1295192540470837248(String)
2020-11-21 21:57:50.259 DEBUG c.j.q.m.q.d.B.getWorkOvertimeList[145]  <==      Total: 4
2020-11-21 21:57:50.260 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getLtStandard[145]  ==>  Preparing: select * from qims_lt_standard_info 
2020-11-21 21:57:50.260 DEBUG c.j.q.dao.TaskRecordMapper.getOverTimeTaskRecord[145]  <==      Total: 8
2020-11-21 21:57:50.260 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getLtStandard[145]  ==> Parameters: 
2020-11-21 21:57:50.260 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==>  Preparing: select time from email_history_info where id =? 
2020-11-21 21:57:50.261 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==> Parameters: 1294123945645047808(String)
2020-11-21 21:57:50.261 DEBUG c.j.q.dao.TaskRecordMapper.getOverTimeTaskRecord2[145]  <==      Total: 18
2020-11-21 21:57:50.262 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==>  Preparing: select time from email_history_info where id =? 
2020-11-21 21:57:50.262 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==> Parameters: 1303868320843300864(String)
2020-11-21 21:57:50.265 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  <==      Total: 1
2020-11-21 21:57:50.265 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==>  Preparing: select time from email_history_info where id =? 
2020-11-21 21:57:50.265 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==> Parameters: 1295192619508301824(String)
2020-11-21 21:57:50.269 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  <==      Total: 1
2020-11-21 21:57:50.270 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  <==      Total: 1
2020-11-21 21:57:50.271 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==>  Preparing: select time from email_history_info where id =? 
2020-11-21 21:57:50.271 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getLtStandard[145]  <==      Total: 8
2020-11-21 21:57:50.271 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==> Parameters: 1303868347422605312(String)
2020-11-21 21:57:50.271 INFO  c.j.qualityworkflow.modules.qims.job.qimsMailJob[47]  查询黑色问题超过LT的信息
2020-11-21 21:57:50.271 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getBlackList[145]  ==>  Preparing: select * from task_record where task_name in('初步原因分析','根本原因分析','根本原因审核') and task_state is null and template_key='QIMSBLACK' 
2020-11-21 21:57:50.271 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getBlackList[145]  ==> Parameters: 
2020-11-21 21:57:50.273 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  <==      Total: 1
2020-11-21 21:57:50.273 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==>  Preparing: select time from email_history_info where id =? 
2020-11-21 21:57:50.273 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==> Parameters: 1299240419787276288(String)
2020-11-21 21:57:50.277 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  <==      Total: 1
2020-11-21 21:57:50.278 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==>  Preparing: select time from email_history_info where id =? 
2020-11-21 21:57:50.278 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==> Parameters: 1303868393815801856(String)
2020-11-21 21:57:50.281 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  <==      Total: 1
2020-11-21 21:57:50.285 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getBlackList[145]  <==      Total: 16
2020-11-21 21:57:50.287 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  <==      Total: 1
2020-11-21 21:57:50.287 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==>  Preparing: select time from email_history_info where id =? 
2020-11-21 21:57:50.288 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==> Parameters: 1303937438065885184(String)
2020-11-21 21:57:50.290 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==>  Preparing: select time from email_history_info where id =? 
2020-11-21 21:57:50.290 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==> Parameters: 1286902446076985344(String)
2020-11-21 21:57:50.295 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  <==      Total: 1
2020-11-21 21:57:50.296 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==>  Preparing: select time from email_history_info where id =? 
2020-11-21 21:57:50.296 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==> Parameters: 1303939538460082176(String)
2020-11-21 21:57:50.298 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  <==      Total: 1
2020-11-21 21:57:50.304 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  <==      Total: 1
2020-11-21 21:57:50.304 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==>  Preparing: select time from email_history_info where id =? 
2020-11-21 21:57:50.305 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==> Parameters: 1303939599889858560(String)
2020-11-21 21:57:50.316 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  <==      Total: 1
2020-11-21 21:57:50.317 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==>  Preparing: select time from email_history_info where id =? 
2020-11-21 21:57:50.317 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==> Parameters: 1306059696263659520(String)
2020-11-21 21:57:50.323 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  <==      Total: 1
2020-11-21 21:57:50.324 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==>  Preparing: select time from email_history_info where id =? 
2020-11-21 21:57:50.324 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==> Parameters: 1306155886347026432(String)
2020-11-21 21:57:50.333 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  <==      Total: 1
2020-11-21 21:57:50.333 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==>  Preparing: select time from email_history_info where id =? 
2020-11-21 21:57:50.333 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==> Parameters: 1306201167000240128(String)
2020-11-21 21:57:50.341 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  <==      Total: 1
2020-11-21 21:57:50.341 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==>  Preparing: select time from email_history_info where id =? 
2020-11-21 21:57:50.341 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==> Parameters: 1308013106458263552(String)
2020-11-21 21:57:50.350 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  <==      Total: 0
2020-11-21 21:57:55.540 DEBUG cn.jwis.qualityworkflow.util.EmailService[144]  get handler mail from http://gateway.dev.jwis.io/platform/sys/user/internal-read?name=qualityadmin happen error cause:I/O error on GET request for "http://gateway.dev.jwis.io/platform/sys/user/internal-read": connect timed out; nested exception is java.net.SocketTimeoutException: connect timed out
2020-11-21 21:57:55.540 DEBUG cn.jwis.qualityworkflow.util.EmailService[144]  get handler mail from http://gateway.dev.jwis.io/platform/sys/user/internal-read?name=kiween happen error cause:I/O error on GET request for "http://gateway.dev.jwis.io/platform/sys/user/internal-read": connect timed out; nested exception is java.net.SocketTimeoutException: connect timed out
2020-11-21 21:57:55.540 DEBUG cn.jwis.qualityworkflow.util.EmailService[144]  get handler mail from http://gateway.dev.jwis.io/platform/sys/user/internal-read?name=hualanlan happen error cause:I/O error on GET request for "http://gateway.dev.jwis.io/platform/sys/user/internal-read": connect timed out; nested exception is java.net.SocketTimeoutException: connect timed out
2020-11-21 21:57:55.540 DEBUG cn.jwis.qualityworkflow.util.EmailService[144]  get handler mail from http://gateway.dev.jwis.io/platform/sys/user/internal-read?name=dz_gyb1 happen error cause:I/O error on GET request for "http://gateway.dev.jwis.io/platform/sys/user/internal-read": connect timed out; nested exception is java.net.SocketTimeoutException: connect timed out
2020-11-21 21:57:55.551 DEBUG cn.jwis.qualityworkflow.dao.UserMapper.getSuperior[145]  ==>  Preparing: select superior from department_mapping where user_account = ? and type = ? limit 0,1 
2020-11-21 21:57:55.552 DEBUG cn.jwis.qualityworkflow.dao.UserMapper.getSuperior[145]  ==> Parameters: qualityadmin(String), COMMON(String)
2020-11-21 21:57:55.554 DEBUG cn.jwis.qualityworkflow.dao.UserMapper.getSuperior[145]  ==>  Preparing: select superior from department_mapping where user_account = ? and type = ? limit 0,1 
2020-11-21 21:57:55.554 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==>  Preparing: select time from email_history_info where id =? 
2020-11-21 21:57:55.554 DEBUG cn.jwis.qualityworkflow.dao.UserMapper.getSuperior[145]  ==> Parameters: hualanlan(String), QIMS(String)
2020-11-21 21:57:55.554 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==> Parameters: 1308013110702899200(String)
2020-11-21 21:57:55.555 DEBUG cn.jwis.qualityworkflow.dao.UserMapper.getSuperior[145]  ==>  Preparing: select superior from department_mapping where user_account = ? and type = ? limit 0,1 
2020-11-21 21:57:55.555 DEBUG cn.jwis.qualityworkflow.dao.UserMapper.getSuperior[145]  ==> Parameters: dz_gyb1(String), COMMON(String)
2020-11-21 21:57:55.559 DEBUG cn.jwis.qualityworkflow.dao.UserMapper.getSuperior[145]  <==      Total: 1
2020-11-21 21:57:55.570 DEBUG cn.jwis.qualityworkflow.dao.UserMapper.getSuperior[145]  <==      Total: 1
2020-11-21 21:57:55.570 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  <==      Total: 1
2020-11-21 21:57:55.570 DEBUG cn.jwis.qualityworkflow.dao.UserMapper.getSuperior[145]  <==      Total: 1
2020-11-21 21:57:55.570 DEBUG c.j.q.dao.UserMapper.getSuperiorManagerByUser[145]  ==>  Preparing: select superior_manager from department_mapping where user_account = ? and type = ? limit 0,1 
2020-11-21 21:57:55.570 DEBUG c.j.q.dao.UserMapper.getSuperiorManagerByUser[145]  ==> Parameters: hualanlan(String), QIMS(String)
2020-11-21 21:57:55.583 DEBUG c.j.q.dao.UserMapper.getSuperiorManagerByUser[145]  <==      Total: 1
2020-11-21 21:57:55.606 INFO  cn.jwis.qualityworkflow.util.EmailService[142]  qualityadmin email is 
2020-11-21 21:57:55.606 INFO  c.j.q.m.factoryaudit.job.AuditQuestionMailJob[31]  邮件下发结束
2020-11-21 21:57:55.609 INFO  cn.jwis.qualityworkflow.util.EmailService[142]  dz_gyb2 email is jian.song@jwis.cn
2020-11-21 21:57:55.609 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==>  Preparing: select time from email_history_info where id =? 
2020-11-21 21:57:55.610 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==> Parameters: 1294123945682796544(String)
2020-11-21 21:57:55.610 INFO  cn.jwis.qualityworkflow.util.EmailService[142]  qualityadmin email is 
2020-11-21 21:57:55.610 DEBUG cn.jwis.qualityworkflow.dao.UserMapper.getSuperior[145]  ==>  Preparing: select superior from department_mapping where user_account = ? and type = ? limit 0,1 
2020-11-21 21:57:55.611 DEBUG cn.jwis.qualityworkflow.dao.UserMapper.getSuperior[145]  ==> Parameters: qualityadmin(String), COMMON(String)
2020-11-21 21:57:55.617 INFO  cn.jwis.qualityworkflow.util.EmailService[142]  workflow3 email is null
2020-11-21 21:57:55.617 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  <==      Total: 1
2020-11-21 21:57:55.617 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==>  Preparing: select time from email_history_info where id =? 
2020-11-21 21:57:55.618 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==> Parameters: 1294123945716350976(String)
2020-11-21 21:57:55.618 DEBUG cn.jwis.qualityworkflow.dao.UserMapper.getSuperior[145]  <==      Total: 1
2020-11-21 21:57:55.628 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  <==      Total: 1
2020-11-21 21:57:55.643 INFO  cn.jwis.qualityworkflow.util.EmailService[142]  zhouxianling email is 
2020-11-21 21:57:55.643 INFO  cn.jwis.qualityworkflow.util.EmailService[142]  qualityadmin email is 
2020-11-21 21:57:55.643 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==>  Preparing: select time from email_history_info where id =? 
2020-11-21 21:57:55.643 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==> Parameters: 1308013113928318976(String)
2020-11-21 21:57:55.647 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==>  Preparing: select time from email_history_info where id =? 
2020-11-21 21:57:55.647 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==> Parameters: 1286904434760089600(String)
2020-11-21 21:57:55.650 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  <==      Total: 1
2020-11-21 21:57:55.652 INFO  cn.jwis.qualityworkflow.util.EmailService[142]  xujinbiao email is 
2020-11-21 21:57:55.652 DEBUG cn.jwis.qualityworkflow.dao.UserMapper.getSuperior[145]  ==>  Preparing: select superior from department_mapping where user_account = ? and type = ? limit 0,1 
2020-11-21 21:57:55.653 DEBUG cn.jwis.qualityworkflow.dao.UserMapper.getSuperior[145]  ==> Parameters: xujinbiao(String), COMMON(String)
2020-11-21 21:57:55.655 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  <==      Total: 1
2020-11-21 21:57:55.662 DEBUG cn.jwis.qualityworkflow.dao.UserMapper.getSuperior[145]  <==      Total: 1
2020-11-21 21:57:55.685 INFO  cn.jwis.qualityworkflow.util.EmailService[142]  qualityadmin email is 
2020-11-21 21:57:55.685 DEBUG cn.jwis.qualityworkflow.dao.UserMapper.getSuperior[145]  ==>  Preparing: select superior from department_mapping where user_account = ? and type = ? limit 0,1 
2020-11-21 21:57:55.686 DEBUG cn.jwis.qualityworkflow.dao.UserMapper.getSuperior[145]  ==> Parameters: qualityadmin(String), COMMON(String)
2020-11-21 21:57:55.687 INFO  cn.jwis.qualityworkflow.util.EmailService[142]  gupp2 email is null
2020-11-21 21:57:55.687 INFO  cn.jwis.qualityworkflow.util.EmailService[142]  hualanlan email is test@jwis.cn
2020-11-21 21:57:55.688 DEBUG cn.jwis.qualityworkflow.dao.UserMapper.getSuperior[145]  ==>  Preparing: select superior from department_mapping where user_account = ? and type = ? limit 0,1 
2020-11-21 21:57:55.688 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==>  Preparing: select time from email_history_info where id =? 
2020-11-21 21:57:55.688 DEBUG cn.jwis.qualityworkflow.dao.UserMapper.getSuperior[145]  ==> Parameters: gupp2(String), QIMS(String)
2020-11-21 21:57:55.689 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==> Parameters: 1295193219738370048(String)
2020-11-21 21:57:55.698 DEBUG cn.jwis.qualityworkflow.dao.UserMapper.getSuperior[145]  <==      Total: 0
2020-11-21 21:57:55.698 DEBUG cn.jwis.qualityworkflow.dao.UserMapper.getSuperior[145]  <==      Total: 1
2020-11-21 21:57:55.698 DEBUG c.j.q.dao.UserMapper.getSuperiorManagerByUser[145]  ==>  Preparing: select superior_manager from department_mapping where user_account = ? and type = ? limit 0,1 
2020-11-21 21:57:55.698 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  <==      Total: 1
2020-11-21 21:57:55.699 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==>  Preparing: select time from email_history_info where id =? 
2020-11-21 21:57:55.699 DEBUG c.j.q.dao.UserMapper.getSuperiorManagerByUser[145]  ==> Parameters: gupp2(String), QIMS(String)
2020-11-21 21:57:55.699 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==> Parameters: 1295193220166189056(String)
2020-11-21 21:57:55.708 DEBUG c.j.q.dao.UserMapper.getSuperiorManagerByUser[145]  <==      Total: 0
2020-11-21 21:57:55.708 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  <==      Total: 1
2020-11-21 21:57:55.712 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==>  Preparing: select time from email_history_info where id =? 
2020-11-21 21:57:55.712 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==> Parameters: 1286916730144161792(String)
2020-11-21 21:57:55.722 INFO  cn.jwis.qualityworkflow.util.EmailService[142]  qualityadmin email is 
2020-11-21 21:57:55.722 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  <==      Total: 1
2020-11-21 21:57:55.722 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==>  Preparing: select time from email_history_info where id =? 
2020-11-21 21:57:55.722 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==> Parameters: 1308013116927246336(String)
2020-11-21 21:57:55.729 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  <==      Total: 0
2020-11-21 21:57:55.730 INFO  cn.jwis.qualityworkflow.util.EmailService[142]  xujinbiao email is 
2020-11-21 21:57:55.730 DEBUG cn.jwis.qualityworkflow.dao.UserMapper.getSuperior[145]  ==>  Preparing: select superior from department_mapping where user_account = ? and type = ? limit 0,1 
2020-11-21 21:57:55.730 DEBUG cn.jwis.qualityworkflow.dao.UserMapper.getSuperior[145]  ==> Parameters: xujinbiao(String), COMMON(String)
2020-11-21 21:57:55.743 DEBUG cn.jwis.qualityworkflow.dao.UserMapper.getSuperior[145]  <==      Total: 1
2020-11-21 21:57:55.749 INFO  cn.jwis.qualityworkflow.util.EmailService[142]  kiween email is 
2020-11-21 21:57:55.749 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==>  Preparing: select time from email_history_info where id =? 
2020-11-21 21:57:55.749 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==> Parameters: 1309046852858937344(String)
2020-11-21 21:57:55.750 INFO  cn.jwis.qualityworkflow.util.EmailService[142]  gupp2 email is null
2020-11-21 21:57:55.750 DEBUG cn.jwis.qualityworkflow.dao.UserMapper.getSuperior[145]  ==>  Preparing: select superior from department_mapping where user_account = ? and type = ? limit 0,1 
2020-11-21 21:57:55.751 DEBUG cn.jwis.qualityworkflow.dao.UserMapper.getSuperior[145]  ==> Parameters: gupp2(String), QIMS(String)
2020-11-21 21:57:55.758 DEBUG cn.jwis.qualityworkflow.dao.UserMapper.getSuperior[145]  <==      Total: 0
2020-11-21 21:57:55.758 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  <==      Total: 0
2020-11-21 21:57:55.759 DEBUG c.j.q.dao.UserMapper.getSuperiorManagerByUser[145]  ==>  Preparing: select superior_manager from department_mapping where user_account = ? and type = ? limit 0,1 
2020-11-21 21:57:55.759 DEBUG c.j.q.dao.UserMapper.getSuperiorManagerByUser[145]  ==> Parameters: gupp2(String), QIMS(String)
2020-11-21 21:57:55.765 INFO  cn.jwis.qualityworkflow.util.EmailService[142]  hualanlan email is test@jwis.cn
2020-11-21 21:57:55.765 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==>  Preparing: select time from email_history_info where id =? 
2020-11-21 21:57:55.766 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==> Parameters: 1295193707351375872(String)
2020-11-21 21:57:55.771 DEBUG c.j.q.dao.UserMapper.getSuperiorManagerByUser[145]  <==      Total: 0
2020-11-21 21:57:55.774 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==>  Preparing: select time from email_history_info where id =? 
2020-11-21 21:57:55.775 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==> Parameters: 1287933861786812416(String)
2020-11-21 21:57:55.779 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  <==      Total: 1
2020-11-21 21:57:55.780 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==>  Preparing: select time from email_history_info where id =? 
2020-11-21 21:57:55.780 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==> Parameters: 1295193707376541696(String)
2020-11-21 21:57:55.790 INFO  cn.jwis.qualityworkflow.util.EmailService[142]  codisan email is kelvin@jwis.cn
2020-11-21 21:57:55.790 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  <==      Total: 1
2020-11-21 21:57:55.790 DEBUG c.j.qualityworkflow.dao.CommonMapper.getKeyToName[145]  ==>  Preparing: SELECT * FROM key_to_name 
2020-11-21 21:57:55.790 DEBUG c.j.qualityworkflow.dao.CommonMapper.getKeyToName[145]  ==> Parameters: 
2020-11-21 21:57:55.795 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  <==      Total: 1
2020-11-21 21:57:55.800 DEBUG c.j.qualityworkflow.dao.CommonMapper.getKeyToName[145]  <==      Total: 8
2020-11-21 21:57:55.802 INFO  cn.jwis.qualityworkflow.util.EmailService[74]  haomiao.liu@jwis.cn send a Mail to kelvin@jwis.cn fail, because null
2020-11-21 21:57:55.814 INFO  cn.jwis.qualityworkflow.util.EmailService[142]  hualanlan email is test@jwis.cn
2020-11-21 21:57:55.815 DEBUG cn.jwis.qualityworkflow.dao.UserMapper.getSuperior[145]  ==>  Preparing: select superior from department_mapping where user_account = ? and type = ? limit 0,1 
2020-11-21 21:57:55.815 DEBUG cn.jwis.qualityworkflow.dao.UserMapper.getSuperior[145]  ==> Parameters: hualanlan(String), QIMS(String)
2020-11-21 21:57:55.817 INFO  cn.jwis.qualityworkflow.util.EmailService[142]  xujinbiao email is 
2020-11-21 21:57:55.817 DEBUG cn.jwis.qualityworkflow.dao.UserMapper.getSuperior[145]  ==>  Preparing: select superior from department_mapping where user_account = ? and type = ? limit 0,1 
2020-11-21 21:57:55.817 DEBUG cn.jwis.qualityworkflow.dao.UserMapper.getSuperior[145]  ==> Parameters: xujinbiao(String), COMMON(String)
2020-11-21 21:57:55.823 DEBUG cn.jwis.qualityworkflow.dao.UserMapper.getSuperior[145]  <==      Total: 1
2020-11-21 21:57:55.823 DEBUG c.j.q.dao.UserMapper.getSuperiorManagerByUser[145]  ==>  Preparing: select superior_manager from department_mapping where user_account = ? and type = ? limit 0,1 
2020-11-21 21:57:55.823 DEBUG c.j.q.dao.UserMapper.getSuperiorManagerByUser[145]  ==> Parameters: hualanlan(String), QIMS(String)
2020-11-21 21:57:55.827 DEBUG cn.jwis.qualityworkflow.dao.UserMapper.getSuperior[145]  <==      Total: 1
2020-11-21 21:57:55.836 DEBUG c.j.q.dao.UserMapper.getSuperiorManagerByUser[145]  <==      Total: 1
2020-11-21 21:57:55.850 INFO  cn.jwis.qualityworkflow.util.EmailService[142]  hualanlan email is test@jwis.cn
2020-11-21 21:57:55.850 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==>  Preparing: select time from email_history_info where id =? 
2020-11-21 21:57:55.850 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==> Parameters: 1315248790789160960(String)
2020-11-21 21:57:55.859 INFO  cn.jwis.qualityworkflow.util.EmailService[142]  workflow3 email is null
2020-11-21 21:57:55.861 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  <==      Total: 1
2020-11-21 21:57:55.882 INFO  cn.jwis.qualityworkflow.util.EmailService[142]  zhouxianling email is 
2020-11-21 21:57:55.883 DEBUG c.j.qualityworkflow.dao.TaskRecordMapper.getById[145]  ==>  Preparing: SELECT * from task_record WHERE id = ? 
2020-11-21 21:57:55.883 DEBUG c.j.qualityworkflow.dao.TaskRecordMapper.getById[145]  ==> Parameters: 1287933861786812416(String)
2020-11-21 21:57:55.896 INFO  cn.jwis.qualityworkflow.util.EmailService[142]  dz_gyb1 email is test@jwis.cn
2020-11-21 21:57:55.896 DEBUG cn.jwis.qualityworkflow.dao.UserMapper.getSuperior[145]  ==>  Preparing: select superior from department_mapping where user_account = ? and type = ? limit 0,1 
2020-11-21 21:57:55.896 DEBUG cn.jwis.qualityworkflow.dao.UserMapper.getSuperior[145]  ==> Parameters: dz_gyb1(String), COMMON(String)
2020-11-21 21:57:55.899 DEBUG c.j.qualityworkflow.dao.TaskRecordMapper.getById[145]  <==      Total: 1
2020-11-21 21:57:55.900 DEBUG c.j.qualityworkflow.dao.CommonMapper.getKeyToName[145]  ==>  Preparing: SELECT * FROM key_to_name 
2020-11-21 21:57:55.900 DEBUG c.j.qualityworkflow.dao.CommonMapper.getKeyToName[145]  ==> Parameters: 
2020-11-21 21:57:55.908 DEBUG cn.jwis.qualityworkflow.dao.UserMapper.getSuperior[145]  <==      Total: 1
2020-11-21 21:57:55.913 DEBUG c.j.qualityworkflow.dao.CommonMapper.getKeyToName[145]  <==      Total: 8
2020-11-21 21:57:55.914 INFO  cn.jwis.qualityworkflow.util.EmailService[71]  haomiao.liu@jwis.cn send a Mail to test@jwis.cn
2020-11-21 21:57:55.927 INFO  cn.jwis.qualityworkflow.util.EmailService[142]  dz_gyb2 email is jian.song@jwis.cn
2020-11-21 21:57:55.928 DEBUG c.j.qualityworkflow.dao.CommonMapper.getKeyToName[145]  ==>  Preparing: SELECT * FROM key_to_name 
2020-11-21 21:57:55.928 DEBUG c.j.qualityworkflow.dao.CommonMapper.getKeyToName[145]  ==> Parameters: 
2020-11-21 21:57:55.935 DEBUG c.j.qualityworkflow.dao.CommonMapper.getKeyToName[145]  <==      Total: 8
2020-11-21 21:57:55.936 DEBUG c.j.q.m.l.d.L.getLineQualifyDetailednessInfo[145]  ==>  Preparing: SELECT q.*,ar.processInstanceId ,ar.taskId,ar.assignee,ar.taskState,ar.taskName FROM line_qualify_info q,(SELECT workflow_business_id, process_instance_id as processInstanceId,task_id as taskId,assignee,task_state as taskState,task_name taskName FROM task_record WHERE task_id=?) ar where q.id=ar.workflow_business_id 
2020-11-21 21:57:55.936 DEBUG c.j.q.m.l.d.L.getLineQualifyDetailednessInfo[145]  ==> Parameters: 5506556(String)
2020-11-21 21:57:55.948 DEBUG c.j.q.m.l.d.L.getLineQualifyDetailednessInfo[145]  <==      Total: 1
2020-11-21 21:57:55.950 INFO  cn.jwis.qualityworkflow.util.EmailService[69]  haomiao.liu@jwis.cn send a Mail to test@jwis.cn and make a copy for [jian.song@jwis.cn]
2020-11-21 21:57:56.386 ERROR o.s.s.support.TaskUtils$LoggingErrorHandler[96] org.springframework.mail.MailSendException: Failed messages: javax.mail.SendFailedException: Invalid Addresses;
  nested exception is:
	com.sun.mail.smtp.SMTPAddressFailedException: 554 RCPT (kelvin@jwis.cn) dosn't exist

	at org.springframework.mail.javamail.JavaMailSenderImpl.doSend(JavaMailSenderImpl.java:488)
	at org.springframework.mail.javamail.JavaMailSenderImpl.send(JavaMailSenderImpl.java:359)
	at org.springframework.mail.javamail.JavaMailSenderImpl.send(JavaMailSenderImpl.java:354)
	at cn.jwis.qualityworkflow.util.EmailService.sendHtmlMail(EmailService.java:76)
	at cn.jwis.qualityworkflow.modules.qims.service.imp.QimsSendMailServiceImpl.sendEmailTohandler(QimsSendMailServiceImpl.java:161)
	at cn.jwis.qualityworkflow.modules.ipqc.service.imp.AuditQualityProblemServiceImpl.qimsSendMail(AuditQualityProblemServiceImpl.java:321)
	at cn.jwis.qualityworkflow.modules.ipqc.service.imp.AuditQualityProblemServiceImpl$$FastClassBySpringCGLIB$$15ff325f.invoke(<generated>)
	at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:684)
	at cn.jwis.qualityworkflow.modules.ipqc.service.imp.AuditQualityProblemServiceImpl$$EnhancerBySpringCGLIB$$e291a2f3.qimsSendMail(<generated>)
	at cn.jwis.qualityworkflow.modules.ipqc.job.ipqcMailJob.qimsSendMail(ipqcMailJob.java:28)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.springframework.scheduling.support.ScheduledMethodRunnable.run(ScheduledMethodRunnable.java:84)
	at org.springframework.scheduling.support.DelegatingErrorHandlingRunnable.run(DelegatingErrorHandlingRunnable.java:54)
	at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:511)
	at java.util.concurrent.FutureTask.runAndReset(FutureTask.java:308)
	at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.access$301(ScheduledThreadPoolExecutor.java:180)
	at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:294)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)
 Unexpected error occurred in scheduled task.
2020-11-21 21:57:56.528 ERROR o.s.s.support.TaskUtils$LoggingErrorHandler[96] org.springframework.mail.MailSendException: Failed messages: javax.mail.SendFailedException: Invalid Addresses;
  nested exception is:
	com.sun.mail.smtp.SMTPAddressFailedException: 554 RCPT (test@jwis.cn) dosn't exist

	at org.springframework.mail.javamail.JavaMailSenderImpl.doSend(JavaMailSenderImpl.java:488)
	at org.springframework.mail.javamail.JavaMailSenderImpl.send(JavaMailSenderImpl.java:359)
	at org.springframework.mail.javamail.JavaMailSenderImpl.send(JavaMailSenderImpl.java:354)
	at cn.jwis.qualityworkflow.util.EmailService.sendHtmlMail(EmailService.java:76)
	at cn.jwis.qualityworkflow.modules.qims.service.imp.QimsSendMailServiceImpl.sendEmailTohandler(QimsSendMailServiceImpl.java:161)
	at cn.jwis.qualityworkflow.modules.qims.service.imp.QimsSendMailServiceImpl.qimsSendMail(QimsSendMailServiceImpl.java:90)
	at cn.jwis.qualityworkflow.modules.qims.job.qimsMailJob.qimsSendMail(qimsMailJob.java:49)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.springframework.scheduling.support.ScheduledMethodRunnable.run(ScheduledMethodRunnable.java:84)
	at org.springframework.scheduling.support.DelegatingErrorHandlingRunnable.run(DelegatingErrorHandlingRunnable.java:54)
	at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:511)
	at java.util.concurrent.FutureTask.runAndReset(FutureTask.java:308)
	at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.access$301(ScheduledThreadPoolExecutor.java:180)
	at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:294)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)
 Unexpected error occurred in scheduled task.
2020-11-21 21:57:56.665 ERROR o.s.s.support.TaskUtils$LoggingErrorHandler[96] org.springframework.mail.MailSendException: Failed messages: javax.mail.SendFailedException: Invalid Addresses;
  nested exception is:
	com.sun.mail.smtp.SMTPAddressFailedException: 554 RCPT (test@jwis.cn) dosn't exist
;
  nested exception is:
	com.sun.mail.smtp.SMTPAddressFailedException: 554 RCPT (jian.song@jwis.cn) dosn't exist

	at org.springframework.mail.javamail.JavaMailSenderImpl.doSend(JavaMailSenderImpl.java:488)
	at org.springframework.mail.javamail.JavaMailSenderImpl.send(JavaMailSenderImpl.java:359)
	at org.springframework.mail.javamail.JavaMailSenderImpl.send(JavaMailSenderImpl.java:354)
	at cn.jwis.qualityworkflow.util.EmailService.sendHtmlMail(EmailService.java:76)
	at cn.jwis.qualityworkflow.modules.linequalify.service.imp.LineQualifyServiceImpl.sendEmailTohandler(LineQualifyServiceImpl.java:617)
	at cn.jwis.qualityworkflow.modules.linequalify.service.imp.LineQualifyServiceImpl.sendOverTimeMail(LineQualifyServiceImpl.java:594)
	at cn.jwis.qualityworkflow.modules.linequalify.service.imp.LineQualifyServiceImpl$$FastClassBySpringCGLIB$$4ca6f597.invoke(<generated>)
	at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:684)
	at cn.jwis.qualityworkflow.modules.linequalify.service.imp.LineQualifyServiceImpl$$EnhancerBySpringCGLIB$$2a00af9b.sendOverTimeMail(<generated>)
	at cn.jwis.qualityworkflow.modules.linequalify.job.LineQualifyMailJob.sendOverTimeMail(LineQualifyMailJob.java:30)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.springframework.scheduling.support.ScheduledMethodRunnable.run(ScheduledMethodRunnable.java:84)
	at org.springframework.scheduling.support.DelegatingErrorHandlingRunnable.run(DelegatingErrorHandlingRunnable.java:54)
	at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:511)
	at java.util.concurrent.FutureTask.runAndReset(FutureTask.java:308)
	at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.access$301(ScheduledThreadPoolExecutor.java:180)
	at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:294)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)
 Unexpected error occurred in scheduled task.
2020-11-21 22:00:00.018 INFO  c.j.q.m.t.T.TraceabilityMachineTimerManager[50]  设备定时任务开启
2020-11-21 22:00:00.094 DEBUG c.j.q.m.t.d.T.getTraceabilityMachineList[145]  ==>  Preparing: select table_name from traceability_machine_data group by table_name 
2020-11-21 22:00:00.094 DEBUG c.j.q.m.t.d.T.getTraceabilityMachineList[145]  ==> Parameters: 
2020-11-21 22:00:00.115 DEBUG c.j.q.m.t.d.T.getTraceabilityMachineList[145]  <==      Total: 5
2020-11-21 22:00:00.115 DEBUG c.j.q.m.t.d.T.getTraceabilityMachineFiledName[145]  ==>  Preparing: select filed_name from traceability_machine_data where table_name=? 
2020-11-21 22:00:00.116 DEBUG c.j.q.m.t.d.T.getTraceabilityMachineFiledName[145]  ==> Parameters: dust_free_shed(String)
2020-11-21 22:00:00.130 DEBUG c.j.q.m.t.d.T.getTraceabilityMachineFiledName[145]  <==      Total: 11
2020-11-21 22:00:00.131 DEBUG c.j.q.m.t.d.T.getMaxCreateTime[145]  ==>  Preparing: select max(createtime) from dust_free_shed 
2020-11-21 22:00:00.131 DEBUG c.j.q.m.t.d.T.getMaxCreateTime[145]  ==> Parameters: 
2020-11-21 22:00:00.218 DEBUG c.j.q.m.t.d.T.getMaxCreateTime[145]  <==      Total: 1
2020-11-21 22:00:00.223 ERROR o.s.s.support.TaskUtils$LoggingErrorHandler[96] java.lang.NullPointerException: null
	at cn.jwis.qualityworkflow.modules.traceablity.TimerManager.TraceabilityMachineTimerManager.getLenovoMachineData(TraceabilityMachineTimerManager.java:105)
	at cn.jwis.qualityworkflow.modules.traceablity.TimerManager.TraceabilityMachineTimerManager.MachineTimerManager(TraceabilityMachineTimerManager.java:57)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.springframework.scheduling.support.ScheduledMethodRunnable.run(ScheduledMethodRunnable.java:84)
	at org.springframework.scheduling.support.DelegatingErrorHandlingRunnable.run(DelegatingErrorHandlingRunnable.java:54)
	at org.springframework.scheduling.concurrent.ReschedulingRunnable.run(ReschedulingRunnable.java:93)
	at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:511)
	at java.util.concurrent.FutureTask.run(FutureTask.java:266)
	at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.access$201(ScheduledThreadPoolExecutor.java:180)
	at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:293)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)
 Unexpected error occurred in scheduled task.
2020-11-21 22:02:50.234 INFO  c.j.qualityworkflow.modules.ipqc.job.ipqcMailJob[27]  查询IPQC超时任务
2020-11-21 22:02:50.289 DEBUG c.j.q.m.qims.dao.BlackDashBoardMapper.getHoliday[145]  ==>  Preparing: SELECT DISTINCT date FROM holiday_maintenance WHERE type = '节假日' 
2020-11-21 22:02:50.289 DEBUG c.j.q.dao.TaskRecordMapper.getOverTimeTaskRecord[145]  ==>  Preparing: SELECT *, HOUR(timediff(now() , create_date)) overTimeNum FROM task_record WHERE template_key = ? AND task_state IS NULL AND task_name = ? AND HOUR(timediff(now() , create_date)) >= ? 
2020-11-21 22:02:50.289 DEBUG c.j.q.m.qims.dao.BlackDashBoardMapper.getHoliday[145]  ==> Parameters: 
2020-11-21 22:02:50.289 DEBUG c.j.q.dao.TaskRecordMapper.getOverTimeTaskRecord[145]  ==>  Preparing: SELECT *, HOUR(timediff(now() , create_date)) overTimeNum FROM task_record WHERE template_key = ? AND task_state IS NULL AND task_name = ? AND HOUR(timediff(now() , create_date)) >= ? 
2020-11-21 22:02:50.289 DEBUG c.j.q.dao.TaskRecordMapper.getOverTimeTaskRecord2[145]  ==>  Preparing: SELECT *, HOUR(timediff(now() , create_date)) overTimeNum FROM task_record WHERE template_key = ? AND task_state IS NULL AND HOUR(timediff(now() , create_date)) >= ? 
2020-11-21 22:02:50.290 DEBUG c.j.q.dao.TaskRecordMapper.getOverTimeTaskRecord[145]  ==> Parameters: FactoryAuditProcess(String), 部门审核(String), 24(Integer)
2020-11-21 22:02:50.290 DEBUG c.j.q.dao.TaskRecordMapper.getOverTimeTaskRecord2[145]  ==> Parameters: IPQCAuditProcess(String), 24(Integer)
2020-11-21 22:02:50.290 DEBUG c.j.q.dao.TaskRecordMapper.getOverTimeTaskRecord[145]  ==> Parameters: Line Qualify(String), 文件收集(String), 2(Integer)
2020-11-21 22:02:50.299 DEBUG c.j.q.m.qims.dao.BlackDashBoardMapper.getHoliday[145]  <==      Total: 6
2020-11-21 22:02:50.300 DEBUG c.j.q.m.q.d.B.getWorkOvertimeList[145]  ==>  Preparing: SELECT DISTINCT date FROM holiday_maintenance WHERE type = '补班' 
2020-11-21 22:02:50.300 DEBUG c.j.q.m.q.d.B.getWorkOvertimeList[145]  ==> Parameters: 
2020-11-21 22:02:50.302 DEBUG c.j.q.dao.TaskRecordMapper.getOverTimeTaskRecord[145]  <==      Total: 3
2020-11-21 22:02:50.302 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==>  Preparing: select time from email_history_info where id =? 
2020-11-21 22:02:50.302 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==> Parameters: 1295192540470837248(String)
2020-11-21 22:02:50.302 DEBUG c.j.q.dao.TaskRecordMapper.getOverTimeTaskRecord2[145]  <==      Total: 18
2020-11-21 22:02:50.303 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==>  Preparing: select time from email_history_info where id =? 
2020-11-21 22:02:50.303 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==> Parameters: 1303868320843300864(String)
2020-11-21 22:02:50.303 DEBUG c.j.q.dao.TaskRecordMapper.getOverTimeTaskRecord[145]  <==      Total: 8
2020-11-21 22:02:50.304 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==>  Preparing: select time from email_history_info where id =? 
2020-11-21 22:02:50.304 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==> Parameters: 1294123945645047808(String)
2020-11-21 22:02:50.309 DEBUG c.j.q.m.q.d.B.getWorkOvertimeList[145]  <==      Total: 4
2020-11-21 22:02:50.309 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  <==      Total: 1
2020-11-21 22:02:50.310 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getLtStandard[145]  ==>  Preparing: select * from qims_lt_standard_info 
2020-11-21 22:02:50.310 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==>  Preparing: select time from email_history_info where id =? 
2020-11-21 22:02:50.310 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getLtStandard[145]  ==> Parameters: 
2020-11-21 22:02:50.310 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==> Parameters: 1295192619508301824(String)
2020-11-21 22:02:50.310 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  <==      Total: 1
2020-11-21 22:02:50.311 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==>  Preparing: select time from email_history_info where id =? 
2020-11-21 22:02:50.312 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==> Parameters: 1303868347422605312(String)
2020-11-21 22:02:50.312 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  <==      Total: 1
2020-11-21 22:02:50.317 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  <==      Total: 1
2020-11-21 22:02:50.317 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==>  Preparing: select time from email_history_info where id =? 
2020-11-21 22:02:50.318 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==> Parameters: 1299240419787276288(String)
2020-11-21 22:02:50.318 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  <==      Total: 1
2020-11-21 22:02:50.318 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==>  Preparing: select time from email_history_info where id =? 
2020-11-21 22:02:50.318 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getLtStandard[145]  <==      Total: 8
2020-11-21 22:02:50.318 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==> Parameters: 1303868393815801856(String)
2020-11-21 22:02:50.318 INFO  c.j.qualityworkflow.modules.qims.job.qimsMailJob[47]  查询黑色问题超过LT的信息
2020-11-21 22:02:50.319 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getBlackList[145]  ==>  Preparing: select * from task_record where task_name in('初步原因分析','根本原因分析','根本原因审核') and task_state is null and template_key='QIMSBLACK' 
2020-11-21 22:02:50.319 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getBlackList[145]  ==> Parameters: 
2020-11-21 22:02:50.324 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  <==      Total: 1
2020-11-21 22:02:50.324 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  <==      Total: 1
2020-11-21 22:02:50.325 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==>  Preparing: select time from email_history_info where id =? 
2020-11-21 22:02:50.325 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==> Parameters: 1303937438065885184(String)
2020-11-21 22:02:50.331 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getBlackList[145]  <==      Total: 16
2020-11-21 22:02:50.333 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  <==      Total: 1
2020-11-21 22:02:50.333 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==>  Preparing: select time from email_history_info where id =? 
2020-11-21 22:02:50.333 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==>  Preparing: select time from email_history_info where id =? 
2020-11-21 22:02:50.334 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==> Parameters: 1303939538460082176(String)
2020-11-21 22:02:50.334 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==> Parameters: 1286902446076985344(String)
2020-11-21 22:02:50.349 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  <==      Total: 1
2020-11-21 22:02:50.349 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==>  Preparing: select time from email_history_info where id =? 
2020-11-21 22:02:50.349 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==> Parameters: 1303939599889858560(String)
2020-11-21 22:02:50.350 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  <==      Total: 1
2020-11-21 22:02:50.356 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  <==      Total: 1
2020-11-21 22:02:50.357 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==>  Preparing: select time from email_history_info where id =? 
2020-11-21 22:02:50.357 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==> Parameters: 1306059696263659520(String)
2020-11-21 22:02:50.363 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  <==      Total: 1
2020-11-21 22:02:50.364 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==>  Preparing: select time from email_history_info where id =? 
2020-11-21 22:02:50.365 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==> Parameters: 1306155886347026432(String)
2020-11-21 22:02:50.375 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  <==      Total: 1
2020-11-21 22:02:50.376 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==>  Preparing: select time from email_history_info where id =? 
2020-11-21 22:02:50.376 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==> Parameters: 1306201167000240128(String)
2020-11-21 22:02:50.385 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  <==      Total: 1
2020-11-21 22:02:50.386 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==>  Preparing: select time from email_history_info where id =? 
2020-11-21 22:02:50.386 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==> Parameters: 1308013106458263552(String)
2020-11-21 22:02:50.486 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  <==      Total: 0
2020-11-21 22:02:55.333 DEBUG cn.jwis.qualityworkflow.util.EmailService[144]  get handler mail from http://gateway.dev.jwis.io/platform/sys/user/internal-read?name=dz_gyb1 happen error cause:I/O error on GET request for "http://gateway.dev.jwis.io/platform/sys/user/internal-read": connect timed out; nested exception is java.net.SocketTimeoutException: connect timed out
2020-11-21 22:02:55.333 DEBUG cn.jwis.qualityworkflow.util.EmailService[144]  get handler mail from http://gateway.dev.jwis.io/platform/sys/user/internal-read?name=qualityadmin happen error cause:I/O error on GET request for "http://gateway.dev.jwis.io/platform/sys/user/internal-read": connect timed out; nested exception is java.net.SocketTimeoutException: connect timed out
2020-11-21 22:02:55.340 DEBUG cn.jwis.qualityworkflow.dao.UserMapper.getSuperior[145]  ==>  Preparing: select superior from department_mapping where user_account = ? and type = ? limit 0,1 
2020-11-21 22:02:55.341 DEBUG cn.jwis.qualityworkflow.dao.UserMapper.getSuperior[145]  ==>  Preparing: select superior from department_mapping where user_account = ? and type = ? limit 0,1 
2020-11-21 22:02:55.341 DEBUG cn.jwis.qualityworkflow.dao.UserMapper.getSuperior[145]  ==> Parameters: qualityadmin(String), COMMON(String)
2020-11-21 22:02:55.341 DEBUG cn.jwis.qualityworkflow.dao.UserMapper.getSuperior[145]  ==> Parameters: dz_gyb1(String), COMMON(String)
2020-11-21 22:02:55.350 DEBUG cn.jwis.qualityworkflow.util.EmailService[144]  get handler mail from http://gateway.dev.jwis.io/platform/sys/user/internal-read?name=hualanlan happen error cause:I/O error on GET request for "http://gateway.dev.jwis.io/platform/sys/user/internal-read": connect timed out; nested exception is java.net.SocketTimeoutException: connect timed out
2020-11-21 22:02:55.350 DEBUG cn.jwis.qualityworkflow.dao.UserMapper.getSuperior[145]  <==      Total: 1
2020-11-21 22:02:55.350 DEBUG cn.jwis.qualityworkflow.dao.UserMapper.getSuperior[145]  <==      Total: 1
2020-11-21 22:02:55.365 DEBUG cn.jwis.qualityworkflow.dao.UserMapper.getSuperior[145]  ==>  Preparing: select superior from department_mapping where user_account = ? and type = ? limit 0,1 
2020-11-21 22:02:55.366 DEBUG cn.jwis.qualityworkflow.dao.UserMapper.getSuperior[145]  ==> Parameters: hualanlan(String), QIMS(String)
2020-11-21 22:02:55.377 DEBUG cn.jwis.qualityworkflow.dao.UserMapper.getSuperior[145]  <==      Total: 1
2020-11-21 22:02:55.378 DEBUG c.j.q.dao.UserMapper.getSuperiorManagerByUser[145]  ==>  Preparing: select superior_manager from department_mapping where user_account = ? and type = ? limit 0,1 
2020-11-21 22:02:55.378 DEBUG c.j.q.dao.UserMapper.getSuperiorManagerByUser[145]  ==> Parameters: hualanlan(String), QIMS(String)
2020-11-21 22:02:55.385 DEBUG c.j.q.dao.UserMapper.getSuperiorManagerByUser[145]  <==      Total: 1
2020-11-21 22:02:55.401 INFO  cn.jwis.qualityworkflow.util.EmailService[142]  qualityadmin email is 
2020-11-21 22:02:55.401 INFO  cn.jwis.qualityworkflow.util.EmailService[142]  dz_gyb2 email is jian.song@jwis.cn
2020-11-21 22:02:55.401 INFO  c.j.q.m.factoryaudit.job.AuditQuestionMailJob[31]  邮件下发结束
2020-11-21 22:02:55.401 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==>  Preparing: select time from email_history_info where id =? 
2020-11-21 22:02:55.402 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==> Parameters: 1294123945682796544(String)
2020-11-21 22:02:55.409 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  <==      Total: 1
2020-11-21 22:02:55.409 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==>  Preparing: select time from email_history_info where id =? 
2020-11-21 22:02:55.409 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==> Parameters: 1294123945716350976(String)
2020-11-21 22:02:55.415 INFO  cn.jwis.qualityworkflow.util.EmailService[142]  workflow3 email is null
2020-11-21 22:02:55.416 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  <==      Total: 1
2020-11-21 22:02:55.437 INFO  cn.jwis.qualityworkflow.util.EmailService[142]  zhouxianling email is 
2020-11-21 22:02:55.438 INFO  cn.jwis.qualityworkflow.util.EmailService[142]  xujinbiao email is 
2020-11-21 22:02:55.438 DEBUG cn.jwis.qualityworkflow.dao.UserMapper.getSuperior[145]  ==>  Preparing: select superior from department_mapping where user_account = ? and type = ? limit 0,1 
2020-11-21 22:02:55.438 DEBUG cn.jwis.qualityworkflow.dao.UserMapper.getSuperior[145]  ==> Parameters: xujinbiao(String), COMMON(String)
2020-11-21 22:02:55.439 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==>  Preparing: select time from email_history_info where id =? 
2020-11-21 22:02:55.440 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==> Parameters: 1286904434760089600(String)
2020-11-21 22:02:55.445 DEBUG cn.jwis.qualityworkflow.dao.UserMapper.getSuperior[145]  <==      Total: 1
2020-11-21 22:02:55.446 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  <==      Total: 1
2020-11-21 22:02:55.475 INFO  cn.jwis.qualityworkflow.util.EmailService[142]  hualanlan email is test@jwis.cn
2020-11-21 22:02:55.476 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==>  Preparing: select time from email_history_info where id =? 
2020-11-21 22:02:55.476 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==> Parameters: 1295193219738370048(String)
2020-11-21 22:02:55.479 INFO  cn.jwis.qualityworkflow.util.EmailService[142]  gupp2 email is null
2020-11-21 22:02:55.479 DEBUG cn.jwis.qualityworkflow.dao.UserMapper.getSuperior[145]  ==>  Preparing: select superior from department_mapping where user_account = ? and type = ? limit 0,1 
2020-11-21 22:02:55.480 DEBUG cn.jwis.qualityworkflow.dao.UserMapper.getSuperior[145]  ==> Parameters: gupp2(String), QIMS(String)
2020-11-21 22:02:55.482 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  <==      Total: 1
2020-11-21 22:02:55.483 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==>  Preparing: select time from email_history_info where id =? 
2020-11-21 22:02:55.483 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==> Parameters: 1295193220166189056(String)
2020-11-21 22:02:55.487 DEBUG cn.jwis.qualityworkflow.util.EmailService[144]  get handler mail from http://gateway.dev.jwis.io/platform/sys/user/internal-read?name=kiween happen error cause:I/O error on GET request for "http://gateway.dev.jwis.io/platform/sys/user/internal-read": connect timed out; nested exception is java.net.SocketTimeoutException: connect timed out
2020-11-21 22:02:55.487 DEBUG cn.jwis.qualityworkflow.dao.UserMapper.getSuperior[145]  <==      Total: 0
2020-11-21 22:02:55.487 DEBUG c.j.q.dao.UserMapper.getSuperiorManagerByUser[145]  ==>  Preparing: select superior_manager from department_mapping where user_account = ? and type = ? limit 0,1 
2020-11-21 22:02:55.488 DEBUG c.j.q.dao.UserMapper.getSuperiorManagerByUser[145]  ==> Parameters: gupp2(String), QIMS(String)
2020-11-21 22:02:55.490 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  <==      Total: 1
2020-11-21 22:02:55.494 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==>  Preparing: select time from email_history_info where id =? 
2020-11-21 22:02:55.494 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==> Parameters: 1308013110702899200(String)
2020-11-21 22:02:55.494 DEBUG c.j.q.dao.UserMapper.getSuperiorManagerByUser[145]  <==      Total: 0
2020-11-21 22:02:55.497 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==>  Preparing: select time from email_history_info where id =? 
2020-11-21 22:02:55.497 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==> Parameters: 1286916730144161792(String)
2020-11-21 22:02:55.504 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  <==      Total: 1
2020-11-21 22:02:55.514 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  <==      Total: 1
2020-11-21 22:02:55.514 INFO  cn.jwis.qualityworkflow.util.EmailService[142]  xujinbiao email is 
2020-11-21 22:02:55.515 DEBUG cn.jwis.qualityworkflow.dao.UserMapper.getSuperior[145]  ==>  Preparing: select superior from department_mapping where user_account = ? and type = ? limit 0,1 
2020-11-21 22:02:55.515 DEBUG cn.jwis.qualityworkflow.dao.UserMapper.getSuperior[145]  ==> Parameters: xujinbiao(String), COMMON(String)
2020-11-21 22:02:55.526 INFO  cn.jwis.qualityworkflow.util.EmailService[142]  qualityadmin email is 
2020-11-21 22:02:55.527 DEBUG cn.jwis.qualityworkflow.dao.UserMapper.getSuperior[145]  <==      Total: 1
2020-11-21 22:02:55.527 DEBUG cn.jwis.qualityworkflow.dao.UserMapper.getSuperior[145]  ==>  Preparing: select superior from department_mapping where user_account = ? and type = ? limit 0,1 
2020-11-21 22:02:55.527 DEBUG cn.jwis.qualityworkflow.dao.UserMapper.getSuperior[145]  ==> Parameters: qualityadmin(String), COMMON(String)
2020-11-21 22:02:55.534 DEBUG cn.jwis.qualityworkflow.dao.UserMapper.getSuperior[145]  <==      Total: 1
2020-11-21 22:02:55.551 INFO  cn.jwis.qualityworkflow.util.EmailService[142]  gupp2 email is null
2020-11-21 22:02:55.552 INFO  cn.jwis.qualityworkflow.util.EmailService[142]  hualanlan email is test@jwis.cn
2020-11-21 22:02:55.552 DEBUG cn.jwis.qualityworkflow.dao.UserMapper.getSuperior[145]  ==>  Preparing: select superior from department_mapping where user_account = ? and type = ? limit 0,1 
2020-11-21 22:02:55.552 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==>  Preparing: select time from email_history_info where id =? 
2020-11-21 22:02:55.552 DEBUG cn.jwis.qualityworkflow.dao.UserMapper.getSuperior[145]  ==> Parameters: gupp2(String), QIMS(String)
2020-11-21 22:02:55.552 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==> Parameters: 1295193707351375872(String)
2020-11-21 22:02:55.557 INFO  cn.jwis.qualityworkflow.util.EmailService[142]  qualityadmin email is 
2020-11-21 22:02:55.557 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==>  Preparing: select time from email_history_info where id =? 
2020-11-21 22:02:55.558 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==> Parameters: 1308013113928318976(String)
2020-11-21 22:02:55.560 DEBUG cn.jwis.qualityworkflow.dao.UserMapper.getSuperior[145]  <==      Total: 0
2020-11-21 22:02:55.560 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  <==      Total: 1
2020-11-21 22:02:55.560 DEBUG c.j.q.dao.UserMapper.getSuperiorManagerByUser[145]  ==>  Preparing: select superior_manager from department_mapping where user_account = ? and type = ? limit 0,1 
2020-11-21 22:02:55.560 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==>  Preparing: select time from email_history_info where id =? 
2020-11-21 22:02:55.560 DEBUG c.j.q.dao.UserMapper.getSuperiorManagerByUser[145]  ==> Parameters: gupp2(String), QIMS(String)
2020-11-21 22:02:55.560 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==> Parameters: 1295193707376541696(String)
2020-11-21 22:02:55.565 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  <==      Total: 1
2020-11-21 22:02:55.569 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  <==      Total: 1
2020-11-21 22:02:55.569 DEBUG c.j.q.dao.UserMapper.getSuperiorManagerByUser[145]  <==      Total: 0
2020-11-21 22:02:55.571 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==>  Preparing: select time from email_history_info where id =? 
2020-11-21 22:02:55.571 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==> Parameters: 1287933861786812416(String)
2020-11-21 22:02:55.578 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  <==      Total: 1
2020-11-21 22:02:55.589 INFO  cn.jwis.qualityworkflow.util.EmailService[142]  xujinbiao email is 
2020-11-21 22:02:55.590 INFO  cn.jwis.qualityworkflow.util.EmailService[142]  qualityadmin email is 
2020-11-21 22:02:55.590 DEBUG cn.jwis.qualityworkflow.dao.UserMapper.getSuperior[145]  ==>  Preparing: select superior from department_mapping where user_account = ? and type = ? limit 0,1 
2020-11-21 22:02:55.590 DEBUG cn.jwis.qualityworkflow.dao.UserMapper.getSuperior[145]  ==>  Preparing: select superior from department_mapping where user_account = ? and type = ? limit 0,1 
2020-11-21 22:02:55.590 DEBUG cn.jwis.qualityworkflow.dao.UserMapper.getSuperior[145]  ==> Parameters: xujinbiao(String), COMMON(String)
2020-11-21 22:02:55.590 DEBUG cn.jwis.qualityworkflow.dao.UserMapper.getSuperior[145]  ==> Parameters: qualityadmin(String), COMMON(String)
2020-11-21 22:02:55.601 DEBUG cn.jwis.qualityworkflow.dao.UserMapper.getSuperior[145]  <==      Total: 1
2020-11-21 22:02:55.601 DEBUG cn.jwis.qualityworkflow.dao.UserMapper.getSuperior[145]  <==      Total: 1
2020-11-21 22:02:55.601 INFO  cn.jwis.qualityworkflow.util.EmailService[142]  hualanlan email is test@jwis.cn
2020-11-21 22:02:55.601 DEBUG cn.jwis.qualityworkflow.dao.UserMapper.getSuperior[145]  ==>  Preparing: select superior from department_mapping where user_account = ? and type = ? limit 0,1 
2020-11-21 22:02:55.602 DEBUG cn.jwis.qualityworkflow.dao.UserMapper.getSuperior[145]  ==> Parameters: hualanlan(String), QIMS(String)
2020-11-21 22:02:55.628 INFO  cn.jwis.qualityworkflow.util.EmailService[142]  qualityadmin email is 
2020-11-21 22:02:55.628 INFO  cn.jwis.qualityworkflow.util.EmailService[142]  hualanlan email is test@jwis.cn
2020-11-21 22:02:55.629 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==>  Preparing: select time from email_history_info where id =? 
2020-11-21 22:02:55.629 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==>  Preparing: select time from email_history_info where id =? 
2020-11-21 22:02:55.629 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==> Parameters: 1308013116927246336(String)
2020-11-21 22:02:55.629 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==> Parameters: 1315248790789160960(String)
2020-11-21 22:02:55.635 DEBUG cn.jwis.qualityworkflow.dao.UserMapper.getSuperior[145]  <==      Total: 1
2020-11-21 22:02:55.635 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  <==      Total: 0
2020-11-21 22:02:55.635 DEBUG c.j.q.dao.UserMapper.getSuperiorManagerByUser[145]  ==>  Preparing: select superior_manager from department_mapping where user_account = ? and type = ? limit 0,1 
2020-11-21 22:02:55.635 DEBUG c.j.q.dao.UserMapper.getSuperiorManagerByUser[145]  ==> Parameters: hualanlan(String), QIMS(String)
2020-11-21 22:02:55.636 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  <==      Total: 1
2020-11-21 22:02:55.644 DEBUG c.j.q.dao.UserMapper.getSuperiorManagerByUser[145]  <==      Total: 1
2020-11-21 22:02:55.665 INFO  cn.jwis.qualityworkflow.util.EmailService[142]  kiween email is 
2020-11-21 22:02:55.665 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==>  Preparing: select time from email_history_info where id =? 
2020-11-21 22:02:55.665 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==> Parameters: 1309046852858937344(String)
2020-11-21 22:02:55.667 INFO  cn.jwis.qualityworkflow.util.EmailService[142]  dz_gyb1 email is test@jwis.cn
2020-11-21 22:02:55.668 INFO  cn.jwis.qualityworkflow.util.EmailService[142]  workflow3 email is null
2020-11-21 22:02:55.668 DEBUG cn.jwis.qualityworkflow.dao.UserMapper.getSuperior[145]  ==>  Preparing: select superior from department_mapping where user_account = ? and type = ? limit 0,1 
2020-11-21 22:02:55.668 DEBUG cn.jwis.qualityworkflow.dao.UserMapper.getSuperior[145]  ==> Parameters: dz_gyb1(String), COMMON(String)
2020-11-21 22:02:55.671 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  <==      Total: 0
2020-11-21 22:02:55.677 DEBUG cn.jwis.qualityworkflow.dao.UserMapper.getSuperior[145]  <==      Total: 1
2020-11-21 22:02:55.760 INFO  cn.jwis.qualityworkflow.util.EmailService[142]  zhouxianling email is 
2020-11-21 22:02:55.761 DEBUG c.j.qualityworkflow.dao.TaskRecordMapper.getById[145]  ==>  Preparing: SELECT * from task_record WHERE id = ? 
2020-11-21 22:02:55.761 DEBUG c.j.qualityworkflow.dao.TaskRecordMapper.getById[145]  ==> Parameters: 1287933861786812416(String)
2020-11-21 22:02:55.761 INFO  cn.jwis.qualityworkflow.util.EmailService[142]  dz_gyb2 email is jian.song@jwis.cn
2020-11-21 22:02:55.761 INFO  cn.jwis.qualityworkflow.util.EmailService[142]  codisan email is kelvin@jwis.cn
2020-11-21 22:02:55.761 DEBUG c.j.qualityworkflow.dao.CommonMapper.getKeyToName[145]  ==>  Preparing: SELECT * FROM key_to_name 
2020-11-21 22:02:55.761 DEBUG c.j.qualityworkflow.dao.CommonMapper.getKeyToName[145]  ==>  Preparing: SELECT * FROM key_to_name 
2020-11-21 22:02:55.761 DEBUG c.j.qualityworkflow.dao.CommonMapper.getKeyToName[145]  ==> Parameters: 
2020-11-21 22:02:55.761 DEBUG c.j.qualityworkflow.dao.CommonMapper.getKeyToName[145]  ==> Parameters: 
2020-11-21 22:02:55.771 DEBUG c.j.qualityworkflow.dao.CommonMapper.getKeyToName[145]  <==      Total: 8
2020-11-21 22:02:55.772 DEBUG c.j.qualityworkflow.dao.CommonMapper.getKeyToName[145]  <==      Total: 8
2020-11-21 22:02:55.771 DEBUG c.j.qualityworkflow.dao.TaskRecordMapper.getById[145]  <==      Total: 1
2020-11-21 22:02:55.772 DEBUG c.j.qualityworkflow.dao.CommonMapper.getKeyToName[145]  ==>  Preparing: SELECT * FROM key_to_name 
2020-11-21 22:02:55.772 DEBUG c.j.q.m.l.d.L.getLineQualifyDetailednessInfo[145]  ==>  Preparing: SELECT q.*,ar.processInstanceId ,ar.taskId,ar.assignee,ar.taskState,ar.taskName FROM line_qualify_info q,(SELECT workflow_business_id, process_instance_id as processInstanceId,task_id as taskId,assignee,task_state as taskState,task_name taskName FROM task_record WHERE task_id=?) ar where q.id=ar.workflow_business_id 
2020-11-21 22:02:55.772 DEBUG c.j.qualityworkflow.dao.CommonMapper.getKeyToName[145]  ==> Parameters: 
2020-11-21 22:02:55.772 DEBUG c.j.q.m.l.d.L.getLineQualifyDetailednessInfo[145]  ==> Parameters: 5506556(String)
2020-11-21 22:02:55.773 INFO  cn.jwis.qualityworkflow.util.EmailService[74]  haomiao.liu@jwis.cn send a Mail to kelvin@jwis.cn fail, because null
2020-11-21 22:02:55.779 DEBUG c.j.qualityworkflow.dao.CommonMapper.getKeyToName[145]  <==      Total: 8
2020-11-21 22:02:55.780 INFO  cn.jwis.qualityworkflow.util.EmailService[71]  haomiao.liu@jwis.cn send a Mail to test@jwis.cn
2020-11-21 22:02:55.782 DEBUG c.j.q.m.l.d.L.getLineQualifyDetailednessInfo[145]  <==      Total: 1
2020-11-21 22:02:55.783 INFO  cn.jwis.qualityworkflow.util.EmailService[69]  haomiao.liu@jwis.cn send a Mail to test@jwis.cn and make a copy for [jian.song@jwis.cn]
2020-11-21 22:02:56.501 ERROR o.s.s.support.TaskUtils$LoggingErrorHandler[96] org.springframework.mail.MailSendException: Failed messages: javax.mail.SendFailedException: Invalid Addresses;
  nested exception is:
	com.sun.mail.smtp.SMTPAddressFailedException: 554 RCPT (test@jwis.cn) dosn't exist

	at org.springframework.mail.javamail.JavaMailSenderImpl.doSend(JavaMailSenderImpl.java:488)
	at org.springframework.mail.javamail.JavaMailSenderImpl.send(JavaMailSenderImpl.java:359)
	at org.springframework.mail.javamail.JavaMailSenderImpl.send(JavaMailSenderImpl.java:354)
	at cn.jwis.qualityworkflow.util.EmailService.sendHtmlMail(EmailService.java:76)
	at cn.jwis.qualityworkflow.modules.qims.service.imp.QimsSendMailServiceImpl.sendEmailTohandler(QimsSendMailServiceImpl.java:161)
	at cn.jwis.qualityworkflow.modules.qims.service.imp.QimsSendMailServiceImpl.qimsSendMail(QimsSendMailServiceImpl.java:90)
	at cn.jwis.qualityworkflow.modules.qims.job.qimsMailJob.qimsSendMail(qimsMailJob.java:49)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.springframework.scheduling.support.ScheduledMethodRunnable.run(ScheduledMethodRunnable.java:84)
	at org.springframework.scheduling.support.DelegatingErrorHandlingRunnable.run(DelegatingErrorHandlingRunnable.java:54)
	at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:511)
	at java.util.concurrent.FutureTask.runAndReset(FutureTask.java:308)
	at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.access$301(ScheduledThreadPoolExecutor.java:180)
	at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:294)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)
 Unexpected error occurred in scheduled task.
2020-11-21 22:02:56.523 ERROR o.s.s.support.TaskUtils$LoggingErrorHandler[96] org.springframework.mail.MailSendException: Failed messages: javax.mail.SendFailedException: Invalid Addresses;
  nested exception is:
	com.sun.mail.smtp.SMTPAddressFailedException: 554 RCPT (kelvin@jwis.cn) dosn't exist

	at org.springframework.mail.javamail.JavaMailSenderImpl.doSend(JavaMailSenderImpl.java:488)
	at org.springframework.mail.javamail.JavaMailSenderImpl.send(JavaMailSenderImpl.java:359)
	at org.springframework.mail.javamail.JavaMailSenderImpl.send(JavaMailSenderImpl.java:354)
	at cn.jwis.qualityworkflow.util.EmailService.sendHtmlMail(EmailService.java:76)
	at cn.jwis.qualityworkflow.modules.qims.service.imp.QimsSendMailServiceImpl.sendEmailTohandler(QimsSendMailServiceImpl.java:161)
	at cn.jwis.qualityworkflow.modules.ipqc.service.imp.AuditQualityProblemServiceImpl.qimsSendMail(AuditQualityProblemServiceImpl.java:321)
	at cn.jwis.qualityworkflow.modules.ipqc.service.imp.AuditQualityProblemServiceImpl$$FastClassBySpringCGLIB$$15ff325f.invoke(<generated>)
	at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:684)
	at cn.jwis.qualityworkflow.modules.ipqc.service.imp.AuditQualityProblemServiceImpl$$EnhancerBySpringCGLIB$$e291a2f3.qimsSendMail(<generated>)
	at cn.jwis.qualityworkflow.modules.ipqc.job.ipqcMailJob.qimsSendMail(ipqcMailJob.java:28)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.springframework.scheduling.support.ScheduledMethodRunnable.run(ScheduledMethodRunnable.java:84)
	at org.springframework.scheduling.support.DelegatingErrorHandlingRunnable.run(DelegatingErrorHandlingRunnable.java:54)
	at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:511)
	at java.util.concurrent.FutureTask.runAndReset(FutureTask.java:308)
	at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.access$301(ScheduledThreadPoolExecutor.java:180)
	at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:294)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)
 Unexpected error occurred in scheduled task.
2020-11-21 22:02:56.560 ERROR o.s.s.support.TaskUtils$LoggingErrorHandler[96] org.springframework.mail.MailSendException: Failed messages: javax.mail.SendFailedException: Invalid Addresses;
  nested exception is:
	com.sun.mail.smtp.SMTPAddressFailedException: 554 RCPT (test@jwis.cn) dosn't exist
;
  nested exception is:
	com.sun.mail.smtp.SMTPAddressFailedException: 554 RCPT (jian.song@jwis.cn) dosn't exist

	at org.springframework.mail.javamail.JavaMailSenderImpl.doSend(JavaMailSenderImpl.java:488)
	at org.springframework.mail.javamail.JavaMailSenderImpl.send(JavaMailSenderImpl.java:359)
	at org.springframework.mail.javamail.JavaMailSenderImpl.send(JavaMailSenderImpl.java:354)
	at cn.jwis.qualityworkflow.util.EmailService.sendHtmlMail(EmailService.java:76)
	at cn.jwis.qualityworkflow.modules.linequalify.service.imp.LineQualifyServiceImpl.sendEmailTohandler(LineQualifyServiceImpl.java:617)
	at cn.jwis.qualityworkflow.modules.linequalify.service.imp.LineQualifyServiceImpl.sendOverTimeMail(LineQualifyServiceImpl.java:594)
	at cn.jwis.qualityworkflow.modules.linequalify.service.imp.LineQualifyServiceImpl$$FastClassBySpringCGLIB$$4ca6f597.invoke(<generated>)
	at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:684)
	at cn.jwis.qualityworkflow.modules.linequalify.service.imp.LineQualifyServiceImpl$$EnhancerBySpringCGLIB$$2a00af9b.sendOverTimeMail(<generated>)
	at cn.jwis.qualityworkflow.modules.linequalify.job.LineQualifyMailJob.sendOverTimeMail(LineQualifyMailJob.java:30)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.springframework.scheduling.support.ScheduledMethodRunnable.run(ScheduledMethodRunnable.java:84)
	at org.springframework.scheduling.support.DelegatingErrorHandlingRunnable.run(DelegatingErrorHandlingRunnable.java:54)
	at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:511)
	at java.util.concurrent.FutureTask.runAndReset(FutureTask.java:308)
	at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.access$301(ScheduledThreadPoolExecutor.java:180)
	at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:294)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)
 Unexpected error occurred in scheduled task.
2020-11-21 22:07:50.243 INFO  c.j.qualityworkflow.modules.ipqc.job.ipqcMailJob[27]  查询IPQC超时任务
2020-11-21 22:07:50.250 DEBUG c.j.q.dao.TaskRecordMapper.getOverTimeTaskRecord[145]  ==>  Preparing: SELECT *, HOUR(timediff(now() , create_date)) overTimeNum FROM task_record WHERE template_key = ? AND task_state IS NULL AND task_name = ? AND HOUR(timediff(now() , create_date)) >= ? 
2020-11-21 22:07:50.250 DEBUG c.j.q.dao.TaskRecordMapper.getOverTimeTaskRecord[145]  ==> Parameters: Line Qualify(String), 文件收集(String), 2(Integer)
2020-11-21 22:07:50.254 DEBUG c.j.q.m.qims.dao.BlackDashBoardMapper.getHoliday[145]  ==>  Preparing: SELECT DISTINCT date FROM holiday_maintenance WHERE type = '节假日' 
2020-11-21 22:07:50.254 DEBUG c.j.q.m.qims.dao.BlackDashBoardMapper.getHoliday[145]  ==> Parameters: 
2020-11-21 22:07:50.254 DEBUG c.j.q.dao.TaskRecordMapper.getOverTimeTaskRecord[145]  ==>  Preparing: SELECT *, HOUR(timediff(now() , create_date)) overTimeNum FROM task_record WHERE template_key = ? AND task_state IS NULL AND task_name = ? AND HOUR(timediff(now() , create_date)) >= ? 
2020-11-21 22:07:50.255 DEBUG c.j.q.dao.TaskRecordMapper.getOverTimeTaskRecord[145]  ==> Parameters: FactoryAuditProcess(String), 部门审核(String), 24(Integer)
2020-11-21 22:07:50.256 DEBUG c.j.q.dao.TaskRecordMapper.getOverTimeTaskRecord2[145]  ==>  Preparing: SELECT *, HOUR(timediff(now() , create_date)) overTimeNum FROM task_record WHERE template_key = ? AND task_state IS NULL AND HOUR(timediff(now() , create_date)) >= ? 
2020-11-21 22:07:50.257 DEBUG c.j.q.dao.TaskRecordMapper.getOverTimeTaskRecord2[145]  ==> Parameters: IPQCAuditProcess(String), 24(Integer)
2020-11-21 22:07:50.262 DEBUG c.j.q.dao.TaskRecordMapper.getOverTimeTaskRecord[145]  <==      Total: 8
2020-11-21 22:07:50.263 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==>  Preparing: select time from email_history_info where id =? 
2020-11-21 22:07:50.263 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==> Parameters: 1294123945645047808(String)
2020-11-21 22:07:50.265 DEBUG c.j.q.m.qims.dao.BlackDashBoardMapper.getHoliday[145]  <==      Total: 6
2020-11-21 22:07:50.266 DEBUG c.j.q.m.q.d.B.getWorkOvertimeList[145]  ==>  Preparing: SELECT DISTINCT date FROM holiday_maintenance WHERE type = '补班' 
2020-11-21 22:07:50.266 DEBUG c.j.q.m.q.d.B.getWorkOvertimeList[145]  ==> Parameters: 
2020-11-21 22:07:50.267 DEBUG c.j.q.dao.TaskRecordMapper.getOverTimeTaskRecord[145]  <==      Total: 3
2020-11-21 22:07:50.267 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==>  Preparing: select time from email_history_info where id =? 
2020-11-21 22:07:50.267 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==> Parameters: 1295192540470837248(String)
2020-11-21 22:07:50.274 DEBUG c.j.q.dao.TaskRecordMapper.getOverTimeTaskRecord2[145]  <==      Total: 18
2020-11-21 22:07:50.274 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==>  Preparing: select time from email_history_info where id =? 
2020-11-21 22:07:50.274 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==> Parameters: 1303868320843300864(String)
2020-11-21 22:07:50.275 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  <==      Total: 1
2020-11-21 22:07:50.275 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  <==      Total: 1
2020-11-21 22:07:50.275 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==>  Preparing: select time from email_history_info where id =? 
2020-11-21 22:07:50.275 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==> Parameters: 1295192619508301824(String)
2020-11-21 22:07:50.275 DEBUG c.j.q.m.q.d.B.getWorkOvertimeList[145]  <==      Total: 4
2020-11-21 22:07:50.276 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getLtStandard[145]  ==>  Preparing: select * from qims_lt_standard_info 
2020-11-21 22:07:50.276 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getLtStandard[145]  ==> Parameters: 
2020-11-21 22:07:50.281 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  <==      Total: 1
2020-11-21 22:07:50.281 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  <==      Total: 1
2020-11-21 22:07:50.282 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==>  Preparing: select time from email_history_info where id =? 
2020-11-21 22:07:50.282 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==>  Preparing: select time from email_history_info where id =? 
2020-11-21 22:07:50.282 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==> Parameters: 1299240419787276288(String)
2020-11-21 22:07:50.282 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==> Parameters: 1303868347422605312(String)
2020-11-21 22:07:50.283 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getLtStandard[145]  <==      Total: 8
2020-11-21 22:07:50.283 INFO  c.j.qualityworkflow.modules.qims.job.qimsMailJob[47]  查询黑色问题超过LT的信息
2020-11-21 22:07:50.283 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getBlackList[145]  ==>  Preparing: select * from task_record where task_name in('初步原因分析','根本原因分析','根本原因审核') and task_state is null and template_key='QIMSBLACK' 
2020-11-21 22:07:50.283 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getBlackList[145]  ==> Parameters: 
2020-11-21 22:07:50.291 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  <==      Total: 1
2020-11-21 22:07:50.291 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  <==      Total: 1
2020-11-21 22:07:50.291 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==>  Preparing: select time from email_history_info where id =? 
2020-11-21 22:07:50.292 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==> Parameters: 1303868393815801856(String)
2020-11-21 22:07:50.297 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getBlackList[145]  <==      Total: 16
2020-11-21 22:07:50.299 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==>  Preparing: select time from email_history_info where id =? 
2020-11-21 22:07:50.299 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==> Parameters: 1286902446076985344(String)
2020-11-21 22:07:50.303 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  <==      Total: 1
2020-11-21 22:07:50.303 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==>  Preparing: select time from email_history_info where id =? 
2020-11-21 22:07:50.303 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==> Parameters: 1303937438065885184(String)
2020-11-21 22:07:50.308 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  <==      Total: 1
2020-11-21 22:07:50.313 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  <==      Total: 1
2020-11-21 22:07:50.314 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==>  Preparing: select time from email_history_info where id =? 
2020-11-21 22:07:50.314 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==> Parameters: 1303939538460082176(String)
2020-11-21 22:07:50.329 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  <==      Total: 1
2020-11-21 22:07:50.329 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==>  Preparing: select time from email_history_info where id =? 
2020-11-21 22:07:50.329 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==> Parameters: 1303939599889858560(String)
2020-11-21 22:07:50.335 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  <==      Total: 1
2020-11-21 22:07:50.336 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==>  Preparing: select time from email_history_info where id =? 
2020-11-21 22:07:50.336 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==> Parameters: 1306059696263659520(String)
2020-11-21 22:07:50.341 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  <==      Total: 1
2020-11-21 22:07:50.342 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==>  Preparing: select time from email_history_info where id =? 
2020-11-21 22:07:50.342 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==> Parameters: 1306155886347026432(String)
2020-11-21 22:07:50.350 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  <==      Total: 1
2020-11-21 22:07:50.350 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==>  Preparing: select time from email_history_info where id =? 
2020-11-21 22:07:50.350 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==> Parameters: 1306201167000240128(String)
2020-11-21 22:07:50.357 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  <==      Total: 1
2020-11-21 22:07:50.357 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==>  Preparing: select time from email_history_info where id =? 
2020-11-21 22:07:50.357 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==> Parameters: 1308013106458263552(String)
2020-11-21 22:07:50.364 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  <==      Total: 0
2020-11-21 22:07:55.297 DEBUG cn.jwis.qualityworkflow.util.EmailService[144]  get handler mail from http://gateway.dev.jwis.io/platform/sys/user/internal-read?name=qualityadmin happen error cause:I/O error on GET request for "http://gateway.dev.jwis.io/platform/sys/user/internal-read": connect timed out; nested exception is java.net.SocketTimeoutException: connect timed out
2020-11-21 22:07:55.297 DEBUG cn.jwis.qualityworkflow.util.EmailService[144]  get handler mail from http://gateway.dev.jwis.io/platform/sys/user/internal-read?name=dz_gyb1 happen error cause:I/O error on GET request for "http://gateway.dev.jwis.io/platform/sys/user/internal-read": connect timed out; nested exception is java.net.SocketTimeoutException: connect timed out
2020-11-21 22:07:55.308 DEBUG cn.jwis.qualityworkflow.dao.UserMapper.getSuperior[145]  ==>  Preparing: select superior from department_mapping where user_account = ? and type = ? limit 0,1 
2020-11-21 22:07:55.308 DEBUG cn.jwis.qualityworkflow.dao.UserMapper.getSuperior[145]  ==> Parameters: qualityadmin(String), COMMON(String)
2020-11-21 22:07:55.309 DEBUG cn.jwis.qualityworkflow.util.EmailService[144]  get handler mail from http://gateway.dev.jwis.io/platform/sys/user/internal-read?name=hualanlan happen error cause:I/O error on GET request for "http://gateway.dev.jwis.io/platform/sys/user/internal-read": connect timed out; nested exception is java.net.SocketTimeoutException: connect timed out
2020-11-21 22:07:55.312 DEBUG cn.jwis.qualityworkflow.dao.UserMapper.getSuperior[145]  ==>  Preparing: select superior from department_mapping where user_account = ? and type = ? limit 0,1 
2020-11-21 22:07:55.313 DEBUG cn.jwis.qualityworkflow.dao.UserMapper.getSuperior[145]  ==> Parameters: dz_gyb1(String), COMMON(String)
2020-11-21 22:07:55.317 DEBUG cn.jwis.qualityworkflow.dao.UserMapper.getSuperior[145]  ==>  Preparing: select superior from department_mapping where user_account = ? and type = ? limit 0,1 
2020-11-21 22:07:55.317 DEBUG cn.jwis.qualityworkflow.dao.UserMapper.getSuperior[145]  ==> Parameters: hualanlan(String), QIMS(String)
2020-11-21 22:07:55.317 DEBUG cn.jwis.qualityworkflow.dao.UserMapper.getSuperior[145]  <==      Total: 1
2020-11-21 22:07:55.320 DEBUG cn.jwis.qualityworkflow.dao.UserMapper.getSuperior[145]  <==      Total: 1
2020-11-21 22:07:55.329 DEBUG cn.jwis.qualityworkflow.dao.UserMapper.getSuperior[145]  <==      Total: 1
2020-11-21 22:07:55.329 DEBUG c.j.q.dao.UserMapper.getSuperiorManagerByUser[145]  ==>  Preparing: select superior_manager from department_mapping where user_account = ? and type = ? limit 0,1 
2020-11-21 22:07:55.329 DEBUG c.j.q.dao.UserMapper.getSuperiorManagerByUser[145]  ==> Parameters: hualanlan(String), QIMS(String)
2020-11-21 22:07:55.339 DEBUG c.j.q.dao.UserMapper.getSuperiorManagerByUser[145]  <==      Total: 1
2020-11-21 22:07:55.362 INFO  cn.jwis.qualityworkflow.util.EmailService[142]  dz_gyb2 email is jian.song@jwis.cn
2020-11-21 22:07:55.363 INFO  cn.jwis.qualityworkflow.util.EmailService[142]  qualityadmin email is 
2020-11-21 22:07:55.363 INFO  c.j.q.m.factoryaudit.job.AuditQuestionMailJob[31]  邮件下发结束
2020-11-21 22:07:55.363 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==>  Preparing: select time from email_history_info where id =? 
2020-11-21 22:07:55.363 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==> Parameters: 1294123945682796544(String)
2020-11-21 22:07:55.365 DEBUG cn.jwis.qualityworkflow.util.EmailService[144]  get handler mail from http://gateway.dev.jwis.io/platform/sys/user/internal-read?name=kiween happen error cause:I/O error on GET request for "http://gateway.dev.jwis.io/platform/sys/user/internal-read": connect timed out; nested exception is java.net.SocketTimeoutException: connect timed out
2020-11-21 22:07:55.367 INFO  cn.jwis.qualityworkflow.util.EmailService[142]  workflow3 email is null
2020-11-21 22:07:55.373 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==>  Preparing: select time from email_history_info where id =? 
2020-11-21 22:07:55.373 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  <==      Total: 1
2020-11-21 22:07:55.374 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==> Parameters: 1308013110702899200(String)
2020-11-21 22:07:55.374 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==>  Preparing: select time from email_history_info where id =? 
2020-11-21 22:07:55.374 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==> Parameters: 1294123945716350976(String)
2020-11-21 22:07:55.380 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  <==      Total: 1
2020-11-21 22:07:55.381 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  <==      Total: 1
2020-11-21 22:07:55.392 INFO  cn.jwis.qualityworkflow.util.EmailService[142]  zhouxianling email is 
2020-11-21 22:07:55.394 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==>  Preparing: select time from email_history_info where id =? 
2020-11-21 22:07:55.394 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==> Parameters: 1286904434760089600(String)
2020-11-21 22:07:55.402 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  <==      Total: 1
2020-11-21 22:07:55.407 INFO  cn.jwis.qualityworkflow.util.EmailService[142]  qualityadmin email is 
2020-11-21 22:07:55.407 DEBUG cn.jwis.qualityworkflow.dao.UserMapper.getSuperior[145]  ==>  Preparing: select superior from department_mapping where user_account = ? and type = ? limit 0,1 
2020-11-21 22:07:55.408 DEBUG cn.jwis.qualityworkflow.dao.UserMapper.getSuperior[145]  ==> Parameters: qualityadmin(String), COMMON(String)
2020-11-21 22:07:55.409 INFO  cn.jwis.qualityworkflow.util.EmailService[142]  xujinbiao email is 
2020-11-21 22:07:55.409 DEBUG cn.jwis.qualityworkflow.dao.UserMapper.getSuperior[145]  ==>  Preparing: select superior from department_mapping where user_account = ? and type = ? limit 0,1 
2020-11-21 22:07:55.409 DEBUG cn.jwis.qualityworkflow.dao.UserMapper.getSuperior[145]  ==> Parameters: xujinbiao(String), COMMON(String)
2020-11-21 22:07:55.416 DEBUG cn.jwis.qualityworkflow.dao.UserMapper.getSuperior[145]  <==      Total: 1
2020-11-21 22:07:55.417 DEBUG cn.jwis.qualityworkflow.dao.UserMapper.getSuperior[145]  <==      Total: 1
2020-11-21 22:07:55.452 INFO  cn.jwis.qualityworkflow.util.EmailService[142]  gupp2 email is null
2020-11-21 22:07:55.452 DEBUG cn.jwis.qualityworkflow.dao.UserMapper.getSuperior[145]  ==>  Preparing: select superior from department_mapping where user_account = ? and type = ? limit 0,1 
2020-11-21 22:07:55.453 DEBUG cn.jwis.qualityworkflow.dao.UserMapper.getSuperior[145]  ==> Parameters: gupp2(String), QIMS(String)
2020-11-21 22:07:55.458 INFO  cn.jwis.qualityworkflow.util.EmailService[142]  qualityadmin email is 
2020-11-21 22:07:55.459 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==>  Preparing: select time from email_history_info where id =? 
2020-11-21 22:07:55.459 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==> Parameters: 1308013113928318976(String)
2020-11-21 22:07:55.460 INFO  cn.jwis.qualityworkflow.util.EmailService[142]  hualanlan email is test@jwis.cn
2020-11-21 22:07:55.460 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==>  Preparing: select time from email_history_info where id =? 
2020-11-21 22:07:55.460 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==> Parameters: 1295193219738370048(String)
2020-11-21 22:07:55.463 DEBUG cn.jwis.qualityworkflow.dao.UserMapper.getSuperior[145]  <==      Total: 0
2020-11-21 22:07:55.464 DEBUG c.j.q.dao.UserMapper.getSuperiorManagerByUser[145]  ==>  Preparing: select superior_manager from department_mapping where user_account = ? and type = ? limit 0,1 
2020-11-21 22:07:55.464 DEBUG c.j.q.dao.UserMapper.getSuperiorManagerByUser[145]  ==> Parameters: gupp2(String), QIMS(String)
2020-11-21 22:07:55.467 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  <==      Total: 1
2020-11-21 22:07:55.470 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  <==      Total: 1
2020-11-21 22:07:55.471 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==>  Preparing: select time from email_history_info where id =? 
2020-11-21 22:07:55.471 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==> Parameters: 1295193220166189056(String)
2020-11-21 22:07:55.473 DEBUG c.j.q.dao.UserMapper.getSuperiorManagerByUser[145]  <==      Total: 0
2020-11-21 22:07:55.475 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==>  Preparing: select time from email_history_info where id =? 
2020-11-21 22:07:55.475 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==> Parameters: 1286916730144161792(String)
2020-11-21 22:07:55.478 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  <==      Total: 1
2020-11-21 22:07:55.482 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  <==      Total: 1
2020-11-21 22:07:55.493 INFO  cn.jwis.qualityworkflow.util.EmailService[142]  qualityadmin email is 
2020-11-21 22:07:55.494 DEBUG cn.jwis.qualityworkflow.dao.UserMapper.getSuperior[145]  ==>  Preparing: select superior from department_mapping where user_account = ? and type = ? limit 0,1 
2020-11-21 22:07:55.494 DEBUG cn.jwis.qualityworkflow.dao.UserMapper.getSuperior[145]  ==> Parameters: qualityadmin(String), COMMON(String)
2020-11-21 22:07:55.501 INFO  cn.jwis.qualityworkflow.util.EmailService[142]  xujinbiao email is 
2020-11-21 22:07:55.501 DEBUG cn.jwis.qualityworkflow.dao.UserMapper.getSuperior[145]  ==>  Preparing: select superior from department_mapping where user_account = ? and type = ? limit 0,1 
2020-11-21 22:07:55.501 DEBUG cn.jwis.qualityworkflow.dao.UserMapper.getSuperior[145]  ==> Parameters: xujinbiao(String), COMMON(String)
2020-11-21 22:07:55.503 DEBUG cn.jwis.qualityworkflow.dao.UserMapper.getSuperior[145]  <==      Total: 1
2020-11-21 22:07:55.506 INFO  cn.jwis.qualityworkflow.util.EmailService[142]  gupp2 email is null
2020-11-21 22:07:55.506 DEBUG cn.jwis.qualityworkflow.dao.UserMapper.getSuperior[145]  ==>  Preparing: select superior from department_mapping where user_account = ? and type = ? limit 0,1 
2020-11-21 22:07:55.506 DEBUG cn.jwis.qualityworkflow.dao.UserMapper.getSuperior[145]  ==> Parameters: gupp2(String), QIMS(String)
2020-11-21 22:07:55.510 DEBUG cn.jwis.qualityworkflow.dao.UserMapper.getSuperior[145]  <==      Total: 1
2020-11-21 22:07:55.515 DEBUG cn.jwis.qualityworkflow.dao.UserMapper.getSuperior[145]  <==      Total: 0
2020-11-21 22:07:55.516 DEBUG c.j.q.dao.UserMapper.getSuperiorManagerByUser[145]  ==>  Preparing: select superior_manager from department_mapping where user_account = ? and type = ? limit 0,1 
2020-11-21 22:07:55.516 DEBUG c.j.q.dao.UserMapper.getSuperiorManagerByUser[145]  ==> Parameters: gupp2(String), QIMS(String)
2020-11-21 22:07:55.529 DEBUG c.j.q.dao.UserMapper.getSuperiorManagerByUser[145]  <==      Total: 0
2020-11-21 22:07:55.529 INFO  cn.jwis.qualityworkflow.util.EmailService[142]  qualityadmin email is 
2020-11-21 22:07:55.529 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==>  Preparing: select time from email_history_info where id =? 
2020-11-21 22:07:55.529 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==> Parameters: 1308013116927246336(String)
2020-11-21 22:07:55.531 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==>  Preparing: select time from email_history_info where id =? 
2020-11-21 22:07:55.531 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==> Parameters: 1287933861786812416(String)
2020-11-21 22:07:55.544 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  <==      Total: 0
2020-11-21 22:07:55.544 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  <==      Total: 1
2020-11-21 22:07:55.544 INFO  cn.jwis.qualityworkflow.util.EmailService[142]  hualanlan email is test@jwis.cn
2020-11-21 22:07:55.545 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==>  Preparing: select time from email_history_info where id =? 
2020-11-21 22:07:55.545 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==> Parameters: 1295193707351375872(String)
2020-11-21 22:07:55.569 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  <==      Total: 1
2020-11-21 22:07:55.569 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==>  Preparing: select time from email_history_info where id =? 
2020-11-21 22:07:55.570 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==> Parameters: 1295193707376541696(String)
2020-11-21 22:07:55.583 INFO  cn.jwis.qualityworkflow.util.EmailService[142]  hualanlan email is test@jwis.cn
2020-11-21 22:07:55.583 INFO  cn.jwis.qualityworkflow.util.EmailService[142]  kiween email is 
2020-11-21 22:07:55.583 DEBUG cn.jwis.qualityworkflow.dao.UserMapper.getSuperior[145]  ==>  Preparing: select superior from department_mapping where user_account = ? and type = ? limit 0,1 
2020-11-21 22:07:55.583 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==>  Preparing: select time from email_history_info where id =? 
2020-11-21 22:07:55.584 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==> Parameters: 1309046852858937344(String)
2020-11-21 22:07:55.584 DEBUG cn.jwis.qualityworkflow.dao.UserMapper.getSuperior[145]  ==> Parameters: hualanlan(String), QIMS(String)
2020-11-21 22:07:55.585 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  <==      Total: 1
2020-11-21 22:07:55.596 DEBUG cn.jwis.qualityworkflow.dao.UserMapper.getSuperior[145]  <==      Total: 1
2020-11-21 22:07:55.596 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  <==      Total: 0
2020-11-21 22:07:55.596 DEBUG c.j.q.dao.UserMapper.getSuperiorManagerByUser[145]  ==>  Preparing: select superior_manager from department_mapping where user_account = ? and type = ? limit 0,1 
2020-11-21 22:07:55.597 DEBUG c.j.q.dao.UserMapper.getSuperiorManagerByUser[145]  ==> Parameters: hualanlan(String), QIMS(String)
2020-11-21 22:07:55.610 DEBUG c.j.q.dao.UserMapper.getSuperiorManagerByUser[145]  <==      Total: 1
2020-11-21 22:07:55.632 INFO  cn.jwis.qualityworkflow.util.EmailService[142]  xujinbiao email is 
2020-11-21 22:07:55.633 INFO  cn.jwis.qualityworkflow.util.EmailService[142]  codisan email is kelvin@jwis.cn
2020-11-21 22:07:55.632 INFO  cn.jwis.qualityworkflow.util.EmailService[142]  workflow3 email is null
2020-11-21 22:07:55.633 DEBUG cn.jwis.qualityworkflow.dao.UserMapper.getSuperior[145]  ==>  Preparing: select superior from department_mapping where user_account = ? and type = ? limit 0,1 
2020-11-21 22:07:55.633 DEBUG c.j.qualityworkflow.dao.CommonMapper.getKeyToName[145]  ==>  Preparing: SELECT * FROM key_to_name 
2020-11-21 22:07:55.633 DEBUG c.j.qualityworkflow.dao.CommonMapper.getKeyToName[145]  ==> Parameters: 
2020-11-21 22:07:55.633 DEBUG cn.jwis.qualityworkflow.dao.UserMapper.getSuperior[145]  ==> Parameters: xujinbiao(String), COMMON(String)
2020-11-21 22:07:55.645 DEBUG cn.jwis.qualityworkflow.dao.UserMapper.getSuperior[145]  <==      Total: 1
2020-11-21 22:07:55.645 DEBUG c.j.qualityworkflow.dao.CommonMapper.getKeyToName[145]  <==      Total: 8
2020-11-21 22:07:55.646 INFO  cn.jwis.qualityworkflow.util.EmailService[74]  haomiao.liu@jwis.cn send a Mail to kelvin@jwis.cn fail, because null
2020-11-21 22:07:55.656 INFO  cn.jwis.qualityworkflow.util.EmailService[142]  zhouxianling email is 
2020-11-21 22:07:55.657 DEBUG c.j.qualityworkflow.dao.TaskRecordMapper.getById[145]  ==>  Preparing: SELECT * from task_record WHERE id = ? 
2020-11-21 22:07:55.657 DEBUG c.j.qualityworkflow.dao.TaskRecordMapper.getById[145]  ==> Parameters: 1287933861786812416(String)
2020-11-21 22:07:55.666 INFO  cn.jwis.qualityworkflow.util.EmailService[142]  hualanlan email is test@jwis.cn
2020-11-21 22:07:55.666 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==>  Preparing: select time from email_history_info where id =? 
2020-11-21 22:07:55.666 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==> Parameters: 1315248790789160960(String)
2020-11-21 22:07:55.667 DEBUG c.j.qualityworkflow.dao.TaskRecordMapper.getById[145]  <==      Total: 1
2020-11-21 22:07:55.667 DEBUG c.j.qualityworkflow.dao.CommonMapper.getKeyToName[145]  ==>  Preparing: SELECT * FROM key_to_name 
2020-11-21 22:07:55.668 DEBUG c.j.qualityworkflow.dao.CommonMapper.getKeyToName[145]  ==> Parameters: 
2020-11-21 22:07:55.674 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  <==      Total: 1
2020-11-21 22:07:55.675 DEBUG c.j.qualityworkflow.dao.CommonMapper.getKeyToName[145]  <==      Total: 8
2020-11-21 22:07:55.676 INFO  cn.jwis.qualityworkflow.util.EmailService[71]  haomiao.liu@jwis.cn send a Mail to test@jwis.cn
2020-11-21 22:07:55.700 INFO  cn.jwis.qualityworkflow.util.EmailService[142]  dz_gyb1 email is test@jwis.cn
2020-11-21 22:07:55.700 DEBUG cn.jwis.qualityworkflow.dao.UserMapper.getSuperior[145]  ==>  Preparing: select superior from department_mapping where user_account = ? and type = ? limit 0,1 
2020-11-21 22:07:55.700 DEBUG cn.jwis.qualityworkflow.dao.UserMapper.getSuperior[145]  ==> Parameters: dz_gyb1(String), COMMON(String)
2020-11-21 22:07:55.707 DEBUG cn.jwis.qualityworkflow.dao.UserMapper.getSuperior[145]  <==      Total: 1
2020-11-21 22:07:55.728 INFO  cn.jwis.qualityworkflow.util.EmailService[142]  dz_gyb2 email is jian.song@jwis.cn
2020-11-21 22:07:55.729 DEBUG c.j.qualityworkflow.dao.CommonMapper.getKeyToName[145]  ==>  Preparing: SELECT * FROM key_to_name 
2020-11-21 22:07:55.729 DEBUG c.j.qualityworkflow.dao.CommonMapper.getKeyToName[145]  ==> Parameters: 
2020-11-21 22:07:55.737 DEBUG c.j.qualityworkflow.dao.CommonMapper.getKeyToName[145]  <==      Total: 8
2020-11-21 22:07:55.737 DEBUG c.j.q.m.l.d.L.getLineQualifyDetailednessInfo[145]  ==>  Preparing: SELECT q.*,ar.processInstanceId ,ar.taskId,ar.assignee,ar.taskState,ar.taskName FROM line_qualify_info q,(SELECT workflow_business_id, process_instance_id as processInstanceId,task_id as taskId,assignee,task_state as taskState,task_name taskName FROM task_record WHERE task_id=?) ar where q.id=ar.workflow_business_id 
2020-11-21 22:07:55.737 DEBUG c.j.q.m.l.d.L.getLineQualifyDetailednessInfo[145]  ==> Parameters: 5506556(String)
2020-11-21 22:07:55.750 DEBUG c.j.q.m.l.d.L.getLineQualifyDetailednessInfo[145]  <==      Total: 1
2020-11-21 22:07:55.752 INFO  cn.jwis.qualityworkflow.util.EmailService[69]  haomiao.liu@jwis.cn send a Mail to test@jwis.cn and make a copy for [jian.song@jwis.cn]
2020-11-21 22:07:56.600 ERROR o.s.s.support.TaskUtils$LoggingErrorHandler[96] org.springframework.mail.MailSendException: Failed messages: javax.mail.SendFailedException: Invalid Addresses;
  nested exception is:
	com.sun.mail.smtp.SMTPAddressFailedException: 554 RCPT (kelvin@jwis.cn) dosn't exist

	at org.springframework.mail.javamail.JavaMailSenderImpl.doSend(JavaMailSenderImpl.java:488)
	at org.springframework.mail.javamail.JavaMailSenderImpl.send(JavaMailSenderImpl.java:359)
	at org.springframework.mail.javamail.JavaMailSenderImpl.send(JavaMailSenderImpl.java:354)
	at cn.jwis.qualityworkflow.util.EmailService.sendHtmlMail(EmailService.java:76)
	at cn.jwis.qualityworkflow.modules.qims.service.imp.QimsSendMailServiceImpl.sendEmailTohandler(QimsSendMailServiceImpl.java:161)
	at cn.jwis.qualityworkflow.modules.ipqc.service.imp.AuditQualityProblemServiceImpl.qimsSendMail(AuditQualityProblemServiceImpl.java:321)
	at cn.jwis.qualityworkflow.modules.ipqc.service.imp.AuditQualityProblemServiceImpl$$FastClassBySpringCGLIB$$15ff325f.invoke(<generated>)
	at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:684)
	at cn.jwis.qualityworkflow.modules.ipqc.service.imp.AuditQualityProblemServiceImpl$$EnhancerBySpringCGLIB$$e291a2f3.qimsSendMail(<generated>)
	at cn.jwis.qualityworkflow.modules.ipqc.job.ipqcMailJob.qimsSendMail(ipqcMailJob.java:28)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.springframework.scheduling.support.ScheduledMethodRunnable.run(ScheduledMethodRunnable.java:84)
	at org.springframework.scheduling.support.DelegatingErrorHandlingRunnable.run(DelegatingErrorHandlingRunnable.java:54)
	at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:511)
	at java.util.concurrent.FutureTask.runAndReset(FutureTask.java:308)
	at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.access$301(ScheduledThreadPoolExecutor.java:180)
	at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:294)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)
 Unexpected error occurred in scheduled task.
2020-11-21 22:07:56.636 ERROR o.s.s.support.TaskUtils$LoggingErrorHandler[96] org.springframework.mail.MailSendException: Failed messages: javax.mail.SendFailedException: Invalid Addresses;
  nested exception is:
	com.sun.mail.smtp.SMTPAddressFailedException: 554 RCPT (test@jwis.cn) dosn't exist

	at org.springframework.mail.javamail.JavaMailSenderImpl.doSend(JavaMailSenderImpl.java:488)
	at org.springframework.mail.javamail.JavaMailSenderImpl.send(JavaMailSenderImpl.java:359)
	at org.springframework.mail.javamail.JavaMailSenderImpl.send(JavaMailSenderImpl.java:354)
	at cn.jwis.qualityworkflow.util.EmailService.sendHtmlMail(EmailService.java:76)
	at cn.jwis.qualityworkflow.modules.qims.service.imp.QimsSendMailServiceImpl.sendEmailTohandler(QimsSendMailServiceImpl.java:161)
	at cn.jwis.qualityworkflow.modules.qims.service.imp.QimsSendMailServiceImpl.qimsSendMail(QimsSendMailServiceImpl.java:90)
	at cn.jwis.qualityworkflow.modules.qims.job.qimsMailJob.qimsSendMail(qimsMailJob.java:49)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.springframework.scheduling.support.ScheduledMethodRunnable.run(ScheduledMethodRunnable.java:84)
	at org.springframework.scheduling.support.DelegatingErrorHandlingRunnable.run(DelegatingErrorHandlingRunnable.java:54)
	at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:511)
	at java.util.concurrent.FutureTask.runAndReset(FutureTask.java:308)
	at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.access$301(ScheduledThreadPoolExecutor.java:180)
	at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:294)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)
 Unexpected error occurred in scheduled task.
2020-11-21 22:07:56.824 ERROR o.s.s.support.TaskUtils$LoggingErrorHandler[96] org.springframework.mail.MailSendException: Failed messages: javax.mail.SendFailedException: Invalid Addresses;
  nested exception is:
	com.sun.mail.smtp.SMTPAddressFailedException: 554 RCPT (test@jwis.cn) dosn't exist
;
  nested exception is:
	com.sun.mail.smtp.SMTPAddressFailedException: 554 RCPT (jian.song@jwis.cn) dosn't exist

	at org.springframework.mail.javamail.JavaMailSenderImpl.doSend(JavaMailSenderImpl.java:488)
	at org.springframework.mail.javamail.JavaMailSenderImpl.send(JavaMailSenderImpl.java:359)
	at org.springframework.mail.javamail.JavaMailSenderImpl.send(JavaMailSenderImpl.java:354)
	at cn.jwis.qualityworkflow.util.EmailService.sendHtmlMail(EmailService.java:76)
	at cn.jwis.qualityworkflow.modules.linequalify.service.imp.LineQualifyServiceImpl.sendEmailTohandler(LineQualifyServiceImpl.java:617)
	at cn.jwis.qualityworkflow.modules.linequalify.service.imp.LineQualifyServiceImpl.sendOverTimeMail(LineQualifyServiceImpl.java:594)
	at cn.jwis.qualityworkflow.modules.linequalify.service.imp.LineQualifyServiceImpl$$FastClassBySpringCGLIB$$4ca6f597.invoke(<generated>)
	at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:684)
	at cn.jwis.qualityworkflow.modules.linequalify.service.imp.LineQualifyServiceImpl$$EnhancerBySpringCGLIB$$2a00af9b.sendOverTimeMail(<generated>)
	at cn.jwis.qualityworkflow.modules.linequalify.job.LineQualifyMailJob.sendOverTimeMail(LineQualifyMailJob.java:30)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.springframework.scheduling.support.ScheduledMethodRunnable.run(ScheduledMethodRunnable.java:84)
	at org.springframework.scheduling.support.DelegatingErrorHandlingRunnable.run(DelegatingErrorHandlingRunnable.java:54)
	at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:511)
	at java.util.concurrent.FutureTask.runAndReset(FutureTask.java:308)
	at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.access$301(ScheduledThreadPoolExecutor.java:180)
	at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:294)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)
 Unexpected error occurred in scheduled task.
2020-11-21 22:10:00.019 INFO  c.j.q.m.t.T.TraceabilityMachineTimerManager[50]  设备定时任务开启
2020-11-21 22:10:00.027 DEBUG c.j.q.m.t.d.T.getTraceabilityMachineList[145]  ==>  Preparing: select table_name from traceability_machine_data group by table_name 
2020-11-21 22:10:00.027 DEBUG c.j.q.m.t.d.T.getTraceabilityMachineList[145]  ==> Parameters: 
2020-11-21 22:10:00.037 DEBUG c.j.q.m.t.d.T.getTraceabilityMachineList[145]  <==      Total: 5
2020-11-21 22:10:00.038 DEBUG c.j.q.m.t.d.T.getTraceabilityMachineFiledName[145]  ==>  Preparing: select filed_name from traceability_machine_data where table_name=? 
2020-11-21 22:10:00.038 DEBUG c.j.q.m.t.d.T.getTraceabilityMachineFiledName[145]  ==> Parameters: dust_free_shed(String)
2020-11-21 22:10:00.049 DEBUG c.j.q.m.t.d.T.getTraceabilityMachineFiledName[145]  <==      Total: 11
2020-11-21 22:10:00.049 DEBUG c.j.q.m.t.d.T.getMaxCreateTime[145]  ==>  Preparing: select max(createtime) from dust_free_shed 
2020-11-21 22:10:00.049 DEBUG c.j.q.m.t.d.T.getMaxCreateTime[145]  ==> Parameters: 
2020-11-21 22:10:00.117 DEBUG c.j.q.m.t.d.T.getMaxCreateTime[145]  <==      Total: 1
2020-11-21 22:10:00.121 ERROR o.s.s.support.TaskUtils$LoggingErrorHandler[96] java.lang.NullPointerException: null
	at cn.jwis.qualityworkflow.modules.traceablity.TimerManager.TraceabilityMachineTimerManager.getLenovoMachineData(TraceabilityMachineTimerManager.java:105)
	at cn.jwis.qualityworkflow.modules.traceablity.TimerManager.TraceabilityMachineTimerManager.MachineTimerManager(TraceabilityMachineTimerManager.java:57)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.springframework.scheduling.support.ScheduledMethodRunnable.run(ScheduledMethodRunnable.java:84)
	at org.springframework.scheduling.support.DelegatingErrorHandlingRunnable.run(DelegatingErrorHandlingRunnable.java:54)
	at org.springframework.scheduling.concurrent.ReschedulingRunnable.run(ReschedulingRunnable.java:93)
	at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:511)
	at java.util.concurrent.FutureTask.run(FutureTask.java:266)
	at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.access$201(ScheduledThreadPoolExecutor.java:180)
	at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:293)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)
 Unexpected error occurred in scheduled task.
2020-11-21 22:12:50.252 INFO  c.j.qualityworkflow.modules.ipqc.job.ipqcMailJob[27]  查询IPQC超时任务
2020-11-21 22:12:50.263 DEBUG c.j.q.dao.TaskRecordMapper.getOverTimeTaskRecord[145]  ==>  Preparing: SELECT *, HOUR(timediff(now() , create_date)) overTimeNum FROM task_record WHERE template_key = ? AND task_state IS NULL AND task_name = ? AND HOUR(timediff(now() , create_date)) >= ? 
2020-11-21 22:12:50.264 DEBUG c.j.q.dao.TaskRecordMapper.getOverTimeTaskRecord[145]  ==>  Preparing: SELECT *, HOUR(timediff(now() , create_date)) overTimeNum FROM task_record WHERE template_key = ? AND task_state IS NULL AND task_name = ? AND HOUR(timediff(now() , create_date)) >= ? 
2020-11-21 22:12:50.264 DEBUG c.j.q.dao.TaskRecordMapper.getOverTimeTaskRecord2[145]  ==>  Preparing: SELECT *, HOUR(timediff(now() , create_date)) overTimeNum FROM task_record WHERE template_key = ? AND task_state IS NULL AND HOUR(timediff(now() , create_date)) >= ? 
2020-11-21 22:12:50.264 DEBUG c.j.q.dao.TaskRecordMapper.getOverTimeTaskRecord[145]  ==> Parameters: Line Qualify(String), 文件收集(String), 2(Integer)
2020-11-21 22:12:50.264 DEBUG c.j.q.m.qims.dao.BlackDashBoardMapper.getHoliday[145]  ==>  Preparing: SELECT DISTINCT date FROM holiday_maintenance WHERE type = '节假日' 
2020-11-21 22:12:50.265 DEBUG c.j.q.dao.TaskRecordMapper.getOverTimeTaskRecord2[145]  ==> Parameters: IPQCAuditProcess(String), 24(Integer)
2020-11-21 22:12:50.265 DEBUG c.j.q.dao.TaskRecordMapper.getOverTimeTaskRecord[145]  ==> Parameters: FactoryAuditProcess(String), 部门审核(String), 24(Integer)
2020-11-21 22:12:50.265 DEBUG c.j.q.m.qims.dao.BlackDashBoardMapper.getHoliday[145]  ==> Parameters: 
2020-11-21 22:12:50.277 DEBUG c.j.q.m.qims.dao.BlackDashBoardMapper.getHoliday[145]  <==      Total: 6
2020-11-21 22:12:50.277 DEBUG c.j.q.m.q.d.B.getWorkOvertimeList[145]  ==>  Preparing: SELECT DISTINCT date FROM holiday_maintenance WHERE type = '补班' 
2020-11-21 22:12:50.278 DEBUG c.j.q.m.q.d.B.getWorkOvertimeList[145]  ==> Parameters: 
2020-11-21 22:12:50.278 DEBUG c.j.q.dao.TaskRecordMapper.getOverTimeTaskRecord[145]  <==      Total: 3
2020-11-21 22:12:50.279 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==>  Preparing: select time from email_history_info where id =? 
2020-11-21 22:12:50.279 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==> Parameters: 1295192540470837248(String)
2020-11-21 22:12:50.280 DEBUG c.j.q.dao.TaskRecordMapper.getOverTimeTaskRecord2[145]  <==      Total: 18
2020-11-21 22:12:50.281 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==>  Preparing: select time from email_history_info where id =? 
2020-11-21 22:12:50.281 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==> Parameters: 1303868320843300864(String)
2020-11-21 22:12:50.281 DEBUG c.j.q.dao.TaskRecordMapper.getOverTimeTaskRecord[145]  <==      Total: 8
2020-11-21 22:12:50.282 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==>  Preparing: select time from email_history_info where id =? 
2020-11-21 22:12:50.282 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==> Parameters: 1294123945645047808(String)
2020-11-21 22:12:50.287 DEBUG c.j.q.m.q.d.B.getWorkOvertimeList[145]  <==      Total: 4
2020-11-21 22:12:50.287 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getLtStandard[145]  ==>  Preparing: select * from qims_lt_standard_info 
2020-11-21 22:12:50.287 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  <==      Total: 1
2020-11-21 22:12:50.287 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getLtStandard[145]  ==> Parameters: 
2020-11-21 22:12:50.288 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==>  Preparing: select time from email_history_info where id =? 
2020-11-21 22:12:50.288 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  <==      Total: 1
2020-11-21 22:12:50.288 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==> Parameters: 1295192619508301824(String)
2020-11-21 22:12:50.288 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==>  Preparing: select time from email_history_info where id =? 
2020-11-21 22:12:50.288 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==> Parameters: 1303868347422605312(String)
2020-11-21 22:12:50.290 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  <==      Total: 1
2020-11-21 22:12:50.297 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  <==      Total: 1
2020-11-21 22:12:50.297 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  <==      Total: 1
2020-11-21 22:12:50.297 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getLtStandard[145]  <==      Total: 8
2020-11-21 22:12:50.298 INFO  c.j.qualityworkflow.modules.qims.job.qimsMailJob[47]  查询黑色问题超过LT的信息
2020-11-21 22:12:50.298 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==>  Preparing: select time from email_history_info where id =? 
2020-11-21 22:12:50.298 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==>  Preparing: select time from email_history_info where id =? 
2020-11-21 22:12:50.298 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getBlackList[145]  ==>  Preparing: select * from task_record where task_name in('初步原因分析','根本原因分析','根本原因审核') and task_state is null and template_key='QIMSBLACK' 
2020-11-21 22:12:50.298 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==> Parameters: 1303868393815801856(String)
2020-11-21 22:12:50.298 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getBlackList[145]  ==> Parameters: 
2020-11-21 22:12:50.298 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==> Parameters: 1299240419787276288(String)
2020-11-21 22:12:50.308 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  <==      Total: 1
2020-11-21 22:12:50.308 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==>  Preparing: select time from email_history_info where id =? 
2020-11-21 22:12:50.308 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==> Parameters: 1303937438065885184(String)
2020-11-21 22:12:50.309 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  <==      Total: 1
2020-11-21 22:12:50.311 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getBlackList[145]  <==      Total: 16
2020-11-21 22:12:50.313 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==>  Preparing: select time from email_history_info where id =? 
2020-11-21 22:12:50.313 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==> Parameters: 1286902446076985344(String)
2020-11-21 22:12:50.318 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  <==      Total: 1
2020-11-21 22:12:50.318 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==>  Preparing: select time from email_history_info where id =? 
2020-11-21 22:12:50.318 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==> Parameters: 1303939538460082176(String)
2020-11-21 22:12:50.322 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  <==      Total: 1
2020-11-21 22:12:50.329 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  <==      Total: 1
2020-11-21 22:12:50.329 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==>  Preparing: select time from email_history_info where id =? 
2020-11-21 22:12:50.329 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==> Parameters: 1303939599889858560(String)
2020-11-21 22:12:50.343 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  <==      Total: 1
2020-11-21 22:12:50.344 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==>  Preparing: select time from email_history_info where id =? 
2020-11-21 22:12:50.344 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==> Parameters: 1306059696263659520(String)
2020-11-21 22:12:50.363 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  <==      Total: 1
2020-11-21 22:12:50.363 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==>  Preparing: select time from email_history_info where id =? 
2020-11-21 22:12:50.363 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==> Parameters: 1306155886347026432(String)
2020-11-21 22:12:50.369 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  <==      Total: 1
2020-11-21 22:12:50.370 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==>  Preparing: select time from email_history_info where id =? 
2020-11-21 22:12:50.370 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==> Parameters: 1306201167000240128(String)
2020-11-21 22:12:50.377 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  <==      Total: 1
2020-11-21 22:12:50.377 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==>  Preparing: select time from email_history_info where id =? 
2020-11-21 22:12:50.377 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==> Parameters: 1308013106458263552(String)
2020-11-21 22:12:50.388 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  <==      Total: 0
2020-11-21 22:12:55.311 DEBUG cn.jwis.qualityworkflow.util.EmailService[144]  get handler mail from http://gateway.dev.jwis.io/platform/sys/user/internal-read?name=qualityadmin happen error cause:I/O error on GET request for "http://gateway.dev.jwis.io/platform/sys/user/internal-read": connect timed out; nested exception is java.net.SocketTimeoutException: connect timed out
2020-11-21 22:12:55.311 DEBUG cn.jwis.qualityworkflow.util.EmailService[144]  get handler mail from http://gateway.dev.jwis.io/platform/sys/user/internal-read?name=dz_gyb1 happen error cause:I/O error on GET request for "http://gateway.dev.jwis.io/platform/sys/user/internal-read": connect timed out; nested exception is java.net.SocketTimeoutException: connect timed out
2020-11-21 22:12:55.322 DEBUG cn.jwis.qualityworkflow.util.EmailService[144]  get handler mail from http://gateway.dev.jwis.io/platform/sys/user/internal-read?name=hualanlan happen error cause:I/O error on GET request for "http://gateway.dev.jwis.io/platform/sys/user/internal-read": connect timed out; nested exception is java.net.SocketTimeoutException: connect timed out
2020-11-21 22:12:55.363 DEBUG cn.jwis.qualityworkflow.dao.UserMapper.getSuperior[145]  ==>  Preparing: select superior from department_mapping where user_account = ? and type = ? limit 0,1 
2020-11-21 22:12:55.363 DEBUG cn.jwis.qualityworkflow.dao.UserMapper.getSuperior[145]  ==>  Preparing: select superior from department_mapping where user_account = ? and type = ? limit 0,1 
2020-11-21 22:12:55.364 DEBUG cn.jwis.qualityworkflow.dao.UserMapper.getSuperior[145]  ==>  Preparing: select superior from department_mapping where user_account = ? and type = ? limit 0,1 
2020-11-21 22:12:55.364 DEBUG cn.jwis.qualityworkflow.dao.UserMapper.getSuperior[145]  ==> Parameters: qualityadmin(String), COMMON(String)
2020-11-21 22:12:55.364 DEBUG cn.jwis.qualityworkflow.dao.UserMapper.getSuperior[145]  ==> Parameters: dz_gyb1(String), COMMON(String)
2020-11-21 22:12:55.364 DEBUG cn.jwis.qualityworkflow.dao.UserMapper.getSuperior[145]  ==> Parameters: hualanlan(String), QIMS(String)
2020-11-21 22:12:55.379 DEBUG cn.jwis.qualityworkflow.dao.UserMapper.getSuperior[145]  <==      Total: 1
2020-11-21 22:12:55.379 DEBUG cn.jwis.qualityworkflow.dao.UserMapper.getSuperior[145]  <==      Total: 1
2020-11-21 22:12:55.380 DEBUG cn.jwis.qualityworkflow.dao.UserMapper.getSuperior[145]  <==      Total: 1
2020-11-21 22:12:55.380 DEBUG c.j.q.dao.UserMapper.getSuperiorManagerByUser[145]  ==>  Preparing: select superior_manager from department_mapping where user_account = ? and type = ? limit 0,1 
2020-11-21 22:12:55.380 DEBUG c.j.q.dao.UserMapper.getSuperiorManagerByUser[145]  ==> Parameters: hualanlan(String), QIMS(String)
2020-11-21 22:12:55.388 DEBUG cn.jwis.qualityworkflow.util.EmailService[144]  get handler mail from http://gateway.dev.jwis.io/platform/sys/user/internal-read?name=kiween happen error cause:I/O error on GET request for "http://gateway.dev.jwis.io/platform/sys/user/internal-read": connect timed out; nested exception is java.net.SocketTimeoutException: connect timed out
2020-11-21 22:12:55.389 DEBUG c.j.q.dao.UserMapper.getSuperiorManagerByUser[145]  <==      Total: 1
2020-11-21 22:12:55.395 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==>  Preparing: select time from email_history_info where id =? 
2020-11-21 22:12:55.396 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==> Parameters: 1308013110702899200(String)
2020-11-21 22:12:55.451 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  <==      Total: 1
2020-11-21 22:12:55.468 INFO  cn.jwis.qualityworkflow.util.EmailService[142]  qualityadmin email is 
2020-11-21 22:12:55.468 INFO  c.j.q.m.factoryaudit.job.AuditQuestionMailJob[31]  邮件下发结束
2020-11-21 22:12:55.468 INFO  cn.jwis.qualityworkflow.util.EmailService[142]  dz_gyb2 email is jian.song@jwis.cn
2020-11-21 22:12:55.469 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==>  Preparing: select time from email_history_info where id =? 
2020-11-21 22:12:55.469 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==> Parameters: 1294123945682796544(String)
2020-11-21 22:12:55.471 INFO  cn.jwis.qualityworkflow.util.EmailService[142]  workflow3 email is null
2020-11-21 22:12:55.483 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  <==      Total: 1
2020-11-21 22:12:55.484 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==>  Preparing: select time from email_history_info where id =? 
2020-11-21 22:12:55.484 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==> Parameters: 1294123945716350976(String)
2020-11-21 22:12:55.490 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  <==      Total: 1
2020-11-21 22:12:55.500 INFO  cn.jwis.qualityworkflow.util.EmailService[142]  qualityadmin email is 
2020-11-21 22:12:55.501 DEBUG cn.jwis.qualityworkflow.dao.UserMapper.getSuperior[145]  ==>  Preparing: select superior from department_mapping where user_account = ? and type = ? limit 0,1 
2020-11-21 22:12:55.501 INFO  cn.jwis.qualityworkflow.util.EmailService[142]  zhouxianling email is 
2020-11-21 22:12:55.501 DEBUG cn.jwis.qualityworkflow.dao.UserMapper.getSuperior[145]  ==> Parameters: qualityadmin(String), COMMON(String)
2020-11-21 22:12:55.503 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==>  Preparing: select time from email_history_info where id =? 
2020-11-21 22:12:55.503 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==> Parameters: 1286904434760089600(String)
2020-11-21 22:12:55.509 DEBUG cn.jwis.qualityworkflow.dao.UserMapper.getSuperior[145]  <==      Total: 1
2020-11-21 22:12:55.511 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  <==      Total: 1
2020-11-21 22:12:55.512 INFO  cn.jwis.qualityworkflow.util.EmailService[142]  xujinbiao email is 
2020-11-21 22:12:55.512 DEBUG cn.jwis.qualityworkflow.dao.UserMapper.getSuperior[145]  ==>  Preparing: select superior from department_mapping where user_account = ? and type = ? limit 0,1 
2020-11-21 22:12:55.512 DEBUG cn.jwis.qualityworkflow.dao.UserMapper.getSuperior[145]  ==> Parameters: xujinbiao(String), COMMON(String)
2020-11-21 22:12:55.522 DEBUG cn.jwis.qualityworkflow.dao.UserMapper.getSuperior[145]  <==      Total: 1
2020-11-21 22:12:55.547 INFO  cn.jwis.qualityworkflow.util.EmailService[142]  qualityadmin email is 
2020-11-21 22:12:55.548 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==>  Preparing: select time from email_history_info where id =? 
2020-11-21 22:12:55.548 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==> Parameters: 1308013113928318976(String)
2020-11-21 22:12:55.553 INFO  cn.jwis.qualityworkflow.util.EmailService[142]  gupp2 email is null
2020-11-21 22:12:55.553 INFO  cn.jwis.qualityworkflow.util.EmailService[142]  hualanlan email is test@jwis.cn
2020-11-21 22:12:55.554 DEBUG cn.jwis.qualityworkflow.dao.UserMapper.getSuperior[145]  ==>  Preparing: select superior from department_mapping where user_account = ? and type = ? limit 0,1 
2020-11-21 22:12:55.554 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==>  Preparing: select time from email_history_info where id =? 
2020-11-21 22:12:55.555 DEBUG cn.jwis.qualityworkflow.dao.UserMapper.getSuperior[145]  ==> Parameters: gupp2(String), QIMS(String)
2020-11-21 22:12:55.555 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==> Parameters: 1295193219738370048(String)
2020-11-21 22:12:55.555 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  <==      Total: 1
2020-11-21 22:12:55.564 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  <==      Total: 1
2020-11-21 22:12:55.564 DEBUG cn.jwis.qualityworkflow.dao.UserMapper.getSuperior[145]  <==      Total: 0
2020-11-21 22:12:55.565 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==>  Preparing: select time from email_history_info where id =? 
2020-11-21 22:12:55.565 DEBUG c.j.q.dao.UserMapper.getSuperiorManagerByUser[145]  ==>  Preparing: select superior_manager from department_mapping where user_account = ? and type = ? limit 0,1 
2020-11-21 22:12:55.565 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==> Parameters: 1295193220166189056(String)
2020-11-21 22:12:55.565 DEBUG c.j.q.dao.UserMapper.getSuperiorManagerByUser[145]  ==> Parameters: gupp2(String), QIMS(String)
2020-11-21 22:12:55.574 DEBUG c.j.q.dao.UserMapper.getSuperiorManagerByUser[145]  <==      Total: 0
2020-11-21 22:12:55.574 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  <==      Total: 1
2020-11-21 22:12:55.576 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==>  Preparing: select time from email_history_info where id =? 
2020-11-21 22:12:55.576 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==> Parameters: 1286916730144161792(String)
2020-11-21 22:12:55.583 INFO  cn.jwis.qualityworkflow.util.EmailService[142]  qualityadmin email is 
2020-11-21 22:12:55.583 DEBUG cn.jwis.qualityworkflow.dao.UserMapper.getSuperior[145]  ==>  Preparing: select superior from department_mapping where user_account = ? and type = ? limit 0,1 
2020-11-21 22:12:55.583 DEBUG cn.jwis.qualityworkflow.dao.UserMapper.getSuperior[145]  ==> Parameters: qualityadmin(String), COMMON(String)
2020-11-21 22:12:55.585 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  <==      Total: 1
2020-11-21 22:12:55.590 DEBUG cn.jwis.qualityworkflow.dao.UserMapper.getSuperior[145]  <==      Total: 1
2020-11-21 22:12:55.595 INFO  cn.jwis.qualityworkflow.util.EmailService[142]  xujinbiao email is 
2020-11-21 22:12:55.596 DEBUG cn.jwis.qualityworkflow.dao.UserMapper.getSuperior[145]  ==>  Preparing: select superior from department_mapping where user_account = ? and type = ? limit 0,1 
2020-11-21 22:12:55.596 DEBUG cn.jwis.qualityworkflow.dao.UserMapper.getSuperior[145]  ==> Parameters: xujinbiao(String), COMMON(String)
2020-11-21 22:12:55.604 DEBUG cn.jwis.qualityworkflow.dao.UserMapper.getSuperior[145]  <==      Total: 1
2020-11-21 22:12:55.610 INFO  cn.jwis.qualityworkflow.util.EmailService[142]  gupp2 email is null
2020-11-21 22:12:55.611 DEBUG cn.jwis.qualityworkflow.dao.UserMapper.getSuperior[145]  ==>  Preparing: select superior from department_mapping where user_account = ? and type = ? limit 0,1 
2020-11-21 22:12:55.611 DEBUG cn.jwis.qualityworkflow.dao.UserMapper.getSuperior[145]  ==> Parameters: gupp2(String), QIMS(String)
2020-11-21 22:12:55.614 INFO  cn.jwis.qualityworkflow.util.EmailService[142]  qualityadmin email is 
2020-11-21 22:12:55.614 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==>  Preparing: select time from email_history_info where id =? 
2020-11-21 22:12:55.614 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==> Parameters: 1308013116927246336(String)
2020-11-21 22:12:55.619 DEBUG cn.jwis.qualityworkflow.dao.UserMapper.getSuperior[145]  <==      Total: 0
2020-11-21 22:12:55.619 DEBUG c.j.q.dao.UserMapper.getSuperiorManagerByUser[145]  ==>  Preparing: select superior_manager from department_mapping where user_account = ? and type = ? limit 0,1 
2020-11-21 22:12:55.619 DEBUG c.j.q.dao.UserMapper.getSuperiorManagerByUser[145]  ==> Parameters: gupp2(String), QIMS(String)
2020-11-21 22:12:55.626 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  <==      Total: 0
2020-11-21 22:12:55.629 DEBUG c.j.q.dao.UserMapper.getSuperiorManagerByUser[145]  <==      Total: 0
2020-11-21 22:12:55.631 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==>  Preparing: select time from email_history_info where id =? 
2020-11-21 22:12:55.631 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==> Parameters: 1287933861786812416(String)
2020-11-21 22:12:55.640 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  <==      Total: 1
2020-11-21 22:12:55.653 INFO  cn.jwis.qualityworkflow.util.EmailService[142]  hualanlan email is test@jwis.cn
2020-11-21 22:12:55.654 INFO  cn.jwis.qualityworkflow.util.EmailService[142]  kiween email is 
2020-11-21 22:12:55.654 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==>  Preparing: select time from email_history_info where id =? 
2020-11-21 22:12:55.654 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==>  Preparing: select time from email_history_info where id =? 
2020-11-21 22:12:55.654 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==> Parameters: 1295193707351375872(String)
2020-11-21 22:12:55.654 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==> Parameters: 1309046852858937344(String)
2020-11-21 22:12:55.659 INFO  cn.jwis.qualityworkflow.util.EmailService[142]  hualanlan email is test@jwis.cn
2020-11-21 22:12:55.659 DEBUG cn.jwis.qualityworkflow.dao.UserMapper.getSuperior[145]  ==>  Preparing: select superior from department_mapping where user_account = ? and type = ? limit 0,1 
2020-11-21 22:12:55.659 DEBUG cn.jwis.qualityworkflow.dao.UserMapper.getSuperior[145]  ==> Parameters: hualanlan(String), QIMS(String)
2020-11-21 22:12:55.669 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  <==      Total: 0
2020-11-21 22:12:55.669 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  <==      Total: 1
2020-11-21 22:12:55.669 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==>  Preparing: select time from email_history_info where id =? 
2020-11-21 22:12:55.669 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==> Parameters: 1295193707376541696(String)
2020-11-21 22:12:55.678 DEBUG cn.jwis.qualityworkflow.dao.UserMapper.getSuperior[145]  <==      Total: 1
2020-11-21 22:12:55.678 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  <==      Total: 1
2020-11-21 22:12:55.678 DEBUG c.j.q.dao.UserMapper.getSuperiorManagerByUser[145]  ==>  Preparing: select superior_manager from department_mapping where user_account = ? and type = ? limit 0,1 
2020-11-21 22:12:55.679 DEBUG c.j.q.dao.UserMapper.getSuperiorManagerByUser[145]  ==> Parameters: hualanlan(String), QIMS(String)
2020-11-21 22:12:55.698 DEBUG c.j.q.dao.UserMapper.getSuperiorManagerByUser[145]  <==      Total: 1
2020-11-21 22:12:55.700 INFO  cn.jwis.qualityworkflow.util.EmailService[142]  codisan email is kelvin@jwis.cn
2020-11-21 22:12:55.700 DEBUG c.j.qualityworkflow.dao.CommonMapper.getKeyToName[145]  ==>  Preparing: SELECT * FROM key_to_name 
2020-11-21 22:12:55.701 DEBUG c.j.qualityworkflow.dao.CommonMapper.getKeyToName[145]  ==> Parameters: 
2020-11-21 22:12:55.706 INFO  cn.jwis.qualityworkflow.util.EmailService[142]  xujinbiao email is 
2020-11-21 22:12:55.706 DEBUG cn.jwis.qualityworkflow.dao.UserMapper.getSuperior[145]  ==>  Preparing: select superior from department_mapping where user_account = ? and type = ? limit 0,1 
2020-11-21 22:12:55.706 DEBUG cn.jwis.qualityworkflow.dao.UserMapper.getSuperior[145]  ==> Parameters: xujinbiao(String), COMMON(String)
2020-11-21 22:12:55.713 DEBUG c.j.qualityworkflow.dao.CommonMapper.getKeyToName[145]  <==      Total: 8
2020-11-21 22:12:55.715 INFO  cn.jwis.qualityworkflow.util.EmailService[74]  haomiao.liu@jwis.cn send a Mail to kelvin@jwis.cn fail, because null
2020-11-21 22:12:55.717 DEBUG cn.jwis.qualityworkflow.dao.UserMapper.getSuperior[145]  <==      Total: 1
2020-11-21 22:12:55.723 INFO  cn.jwis.qualityworkflow.util.EmailService[142]  workflow3 email is null
2020-11-21 22:12:55.739 INFO  cn.jwis.qualityworkflow.util.EmailService[142]  hualanlan email is test@jwis.cn
2020-11-21 22:12:55.739 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==>  Preparing: select time from email_history_info where id =? 
2020-11-21 22:12:55.739 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==> Parameters: 1315248790789160960(String)
2020-11-21 22:12:55.746 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  <==      Total: 1
2020-11-21 22:12:55.774 INFO  cn.jwis.qualityworkflow.util.EmailService[142]  zhouxianling email is 
2020-11-21 22:12:55.775 DEBUG c.j.qualityworkflow.dao.TaskRecordMapper.getById[145]  ==>  Preparing: SELECT * from task_record WHERE id = ? 
2020-11-21 22:12:55.775 DEBUG c.j.qualityworkflow.dao.TaskRecordMapper.getById[145]  ==> Parameters: 1287933861786812416(String)
2020-11-21 22:12:55.790 INFO  cn.jwis.qualityworkflow.util.EmailService[142]  dz_gyb1 email is test@jwis.cn
2020-11-21 22:12:55.790 DEBUG c.j.qualityworkflow.dao.TaskRecordMapper.getById[145]  <==      Total: 1
2020-11-21 22:12:55.790 DEBUG cn.jwis.qualityworkflow.dao.UserMapper.getSuperior[145]  ==>  Preparing: select superior from department_mapping where user_account = ? and type = ? limit 0,1 
2020-11-21 22:12:55.790 DEBUG c.j.qualityworkflow.dao.CommonMapper.getKeyToName[145]  ==>  Preparing: SELECT * FROM key_to_name 
2020-11-21 22:12:55.790 DEBUG c.j.qualityworkflow.dao.CommonMapper.getKeyToName[145]  ==> Parameters: 
2020-11-21 22:12:55.790 DEBUG cn.jwis.qualityworkflow.dao.UserMapper.getSuperior[145]  ==> Parameters: dz_gyb1(String), COMMON(String)
2020-11-21 22:12:55.798 DEBUG cn.jwis.qualityworkflow.dao.UserMapper.getSuperior[145]  <==      Total: 1
2020-11-21 22:12:55.798 DEBUG c.j.qualityworkflow.dao.CommonMapper.getKeyToName[145]  <==      Total: 8
2020-11-21 22:12:55.799 INFO  cn.jwis.qualityworkflow.util.EmailService[71]  haomiao.liu@jwis.cn send a Mail to test@jwis.cn
2020-11-21 22:12:55.851 INFO  cn.jwis.qualityworkflow.util.EmailService[142]  dz_gyb2 email is jian.song@jwis.cn
2020-11-21 22:12:55.852 DEBUG c.j.qualityworkflow.dao.CommonMapper.getKeyToName[145]  ==>  Preparing: SELECT * FROM key_to_name 
2020-11-21 22:12:55.852 DEBUG c.j.qualityworkflow.dao.CommonMapper.getKeyToName[145]  ==> Parameters: 
2020-11-21 22:12:55.862 DEBUG c.j.qualityworkflow.dao.CommonMapper.getKeyToName[145]  <==      Total: 8
2020-11-21 22:12:55.863 DEBUG c.j.q.m.l.d.L.getLineQualifyDetailednessInfo[145]  ==>  Preparing: SELECT q.*,ar.processInstanceId ,ar.taskId,ar.assignee,ar.taskState,ar.taskName FROM line_qualify_info q,(SELECT workflow_business_id, process_instance_id as processInstanceId,task_id as taskId,assignee,task_state as taskState,task_name taskName FROM task_record WHERE task_id=?) ar where q.id=ar.workflow_business_id 
2020-11-21 22:12:55.863 DEBUG c.j.q.m.l.d.L.getLineQualifyDetailednessInfo[145]  ==> Parameters: 5506556(String)
2020-11-21 22:12:55.891 DEBUG c.j.q.m.l.d.L.getLineQualifyDetailednessInfo[145]  <==      Total: 1
2020-11-21 22:12:55.893 INFO  cn.jwis.qualityworkflow.util.EmailService[69]  haomiao.liu@jwis.cn send a Mail to test@jwis.cn and make a copy for [jian.song@jwis.cn]
2020-11-21 22:12:56.421 ERROR o.s.s.support.TaskUtils$LoggingErrorHandler[96] org.springframework.mail.MailSendException: Failed messages: javax.mail.SendFailedException: Invalid Addresses;
  nested exception is:
	com.sun.mail.smtp.SMTPAddressFailedException: 554 RCPT (kelvin@jwis.cn) dosn't exist

	at org.springframework.mail.javamail.JavaMailSenderImpl.doSend(JavaMailSenderImpl.java:488)
	at org.springframework.mail.javamail.JavaMailSenderImpl.send(JavaMailSenderImpl.java:359)
	at org.springframework.mail.javamail.JavaMailSenderImpl.send(JavaMailSenderImpl.java:354)
	at cn.jwis.qualityworkflow.util.EmailService.sendHtmlMail(EmailService.java:76)
	at cn.jwis.qualityworkflow.modules.qims.service.imp.QimsSendMailServiceImpl.sendEmailTohandler(QimsSendMailServiceImpl.java:161)
	at cn.jwis.qualityworkflow.modules.ipqc.service.imp.AuditQualityProblemServiceImpl.qimsSendMail(AuditQualityProblemServiceImpl.java:321)
	at cn.jwis.qualityworkflow.modules.ipqc.service.imp.AuditQualityProblemServiceImpl$$FastClassBySpringCGLIB$$15ff325f.invoke(<generated>)
	at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:684)
	at cn.jwis.qualityworkflow.modules.ipqc.service.imp.AuditQualityProblemServiceImpl$$EnhancerBySpringCGLIB$$e291a2f3.qimsSendMail(<generated>)
	at cn.jwis.qualityworkflow.modules.ipqc.job.ipqcMailJob.qimsSendMail(ipqcMailJob.java:28)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.springframework.scheduling.support.ScheduledMethodRunnable.run(ScheduledMethodRunnable.java:84)
	at org.springframework.scheduling.support.DelegatingErrorHandlingRunnable.run(DelegatingErrorHandlingRunnable.java:54)
	at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:511)
	at java.util.concurrent.FutureTask.runAndReset(FutureTask.java:308)
	at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.access$301(ScheduledThreadPoolExecutor.java:180)
	at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:294)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)
 Unexpected error occurred in scheduled task.
2020-11-21 22:12:56.480 ERROR o.s.s.support.TaskUtils$LoggingErrorHandler[96] org.springframework.mail.MailSendException: Failed messages: javax.mail.SendFailedException: Invalid Addresses;
  nested exception is:
	com.sun.mail.smtp.SMTPAddressFailedException: 554 RCPT (test@jwis.cn) dosn't exist

	at org.springframework.mail.javamail.JavaMailSenderImpl.doSend(JavaMailSenderImpl.java:488)
	at org.springframework.mail.javamail.JavaMailSenderImpl.send(JavaMailSenderImpl.java:359)
	at org.springframework.mail.javamail.JavaMailSenderImpl.send(JavaMailSenderImpl.java:354)
	at cn.jwis.qualityworkflow.util.EmailService.sendHtmlMail(EmailService.java:76)
	at cn.jwis.qualityworkflow.modules.qims.service.imp.QimsSendMailServiceImpl.sendEmailTohandler(QimsSendMailServiceImpl.java:161)
	at cn.jwis.qualityworkflow.modules.qims.service.imp.QimsSendMailServiceImpl.qimsSendMail(QimsSendMailServiceImpl.java:90)
	at cn.jwis.qualityworkflow.modules.qims.job.qimsMailJob.qimsSendMail(qimsMailJob.java:49)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.springframework.scheduling.support.ScheduledMethodRunnable.run(ScheduledMethodRunnable.java:84)
	at org.springframework.scheduling.support.DelegatingErrorHandlingRunnable.run(DelegatingErrorHandlingRunnable.java:54)
	at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:511)
	at java.util.concurrent.FutureTask.runAndReset(FutureTask.java:308)
	at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.access$301(ScheduledThreadPoolExecutor.java:180)
	at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:294)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)
 Unexpected error occurred in scheduled task.
2020-11-21 22:12:56.670 ERROR o.s.s.support.TaskUtils$LoggingErrorHandler[96] org.springframework.mail.MailSendException: Failed messages: javax.mail.SendFailedException: Invalid Addresses;
  nested exception is:
	com.sun.mail.smtp.SMTPAddressFailedException: 554 RCPT (test@jwis.cn) dosn't exist
;
  nested exception is:
	com.sun.mail.smtp.SMTPAddressFailedException: 554 RCPT (jian.song@jwis.cn) dosn't exist

	at org.springframework.mail.javamail.JavaMailSenderImpl.doSend(JavaMailSenderImpl.java:488)
	at org.springframework.mail.javamail.JavaMailSenderImpl.send(JavaMailSenderImpl.java:359)
	at org.springframework.mail.javamail.JavaMailSenderImpl.send(JavaMailSenderImpl.java:354)
	at cn.jwis.qualityworkflow.util.EmailService.sendHtmlMail(EmailService.java:76)
	at cn.jwis.qualityworkflow.modules.linequalify.service.imp.LineQualifyServiceImpl.sendEmailTohandler(LineQualifyServiceImpl.java:617)
	at cn.jwis.qualityworkflow.modules.linequalify.service.imp.LineQualifyServiceImpl.sendOverTimeMail(LineQualifyServiceImpl.java:594)
	at cn.jwis.qualityworkflow.modules.linequalify.service.imp.LineQualifyServiceImpl$$FastClassBySpringCGLIB$$4ca6f597.invoke(<generated>)
	at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:684)
	at cn.jwis.qualityworkflow.modules.linequalify.service.imp.LineQualifyServiceImpl$$EnhancerBySpringCGLIB$$2a00af9b.sendOverTimeMail(<generated>)
	at cn.jwis.qualityworkflow.modules.linequalify.job.LineQualifyMailJob.sendOverTimeMail(LineQualifyMailJob.java:30)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.springframework.scheduling.support.ScheduledMethodRunnable.run(ScheduledMethodRunnable.java:84)
	at org.springframework.scheduling.support.DelegatingErrorHandlingRunnable.run(DelegatingErrorHandlingRunnable.java:54)
	at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:511)
	at java.util.concurrent.FutureTask.runAndReset(FutureTask.java:308)
	at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.access$301(ScheduledThreadPoolExecutor.java:180)
	at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:294)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)
 Unexpected error occurred in scheduled task.
2020-11-21 22:17:50.260 INFO  c.j.qualityworkflow.modules.ipqc.job.ipqcMailJob[27]  查询IPQC超时任务
2020-11-21 22:17:50.274 DEBUG c.j.q.dao.TaskRecordMapper.getOverTimeTaskRecord[145]  ==>  Preparing: SELECT *, HOUR(timediff(now() , create_date)) overTimeNum FROM task_record WHERE template_key = ? AND task_state IS NULL AND task_name = ? AND HOUR(timediff(now() , create_date)) >= ? 
2020-11-21 22:17:50.274 DEBUG c.j.q.m.qims.dao.BlackDashBoardMapper.getHoliday[145]  ==>  Preparing: SELECT DISTINCT date FROM holiday_maintenance WHERE type = '节假日' 
2020-11-21 22:17:50.274 DEBUG c.j.q.m.qims.dao.BlackDashBoardMapper.getHoliday[145]  ==> Parameters: 
2020-11-21 22:17:50.275 DEBUG c.j.q.dao.TaskRecordMapper.getOverTimeTaskRecord[145]  ==>  Preparing: SELECT *, HOUR(timediff(now() , create_date)) overTimeNum FROM task_record WHERE template_key = ? AND task_state IS NULL AND task_name = ? AND HOUR(timediff(now() , create_date)) >= ? 
2020-11-21 22:17:50.275 DEBUG c.j.q.dao.TaskRecordMapper.getOverTimeTaskRecord2[145]  ==>  Preparing: SELECT *, HOUR(timediff(now() , create_date)) overTimeNum FROM task_record WHERE template_key = ? AND task_state IS NULL AND HOUR(timediff(now() , create_date)) >= ? 
2020-11-21 22:17:50.274 DEBUG c.j.q.dao.TaskRecordMapper.getOverTimeTaskRecord[145]  ==> Parameters: Line Qualify(String), 文件收集(String), 2(Integer)
2020-11-21 22:17:50.275 DEBUG c.j.q.dao.TaskRecordMapper.getOverTimeTaskRecord2[145]  ==> Parameters: IPQCAuditProcess(String), 24(Integer)
2020-11-21 22:17:50.275 DEBUG c.j.q.dao.TaskRecordMapper.getOverTimeTaskRecord[145]  ==> Parameters: FactoryAuditProcess(String), 部门审核(String), 24(Integer)
2020-11-21 22:17:50.284 DEBUG c.j.q.m.qims.dao.BlackDashBoardMapper.getHoliday[145]  <==      Total: 6
2020-11-21 22:17:50.285 DEBUG c.j.q.m.q.d.B.getWorkOvertimeList[145]  ==>  Preparing: SELECT DISTINCT date FROM holiday_maintenance WHERE type = '补班' 
2020-11-21 22:17:50.285 DEBUG c.j.q.m.q.d.B.getWorkOvertimeList[145]  ==> Parameters: 
2020-11-21 22:17:50.290 DEBUG c.j.q.dao.TaskRecordMapper.getOverTimeTaskRecord[145]  <==      Total: 3
2020-11-21 22:17:50.290 DEBUG c.j.q.dao.TaskRecordMapper.getOverTimeTaskRecord[145]  <==      Total: 8
2020-11-21 22:17:50.290 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==>  Preparing: select time from email_history_info where id =? 
2020-11-21 22:17:50.290 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==>  Preparing: select time from email_history_info where id =? 
2020-11-21 22:17:50.290 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==> Parameters: 1295192540470837248(String)
2020-11-21 22:17:50.290 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==> Parameters: 1294123945645047808(String)
2020-11-21 22:17:50.297 DEBUG c.j.q.dao.TaskRecordMapper.getOverTimeTaskRecord2[145]  <==      Total: 18
2020-11-21 22:17:50.298 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==>  Preparing: select time from email_history_info where id =? 
2020-11-21 22:17:50.299 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==> Parameters: 1303868320843300864(String)
2020-11-21 22:17:50.301 DEBUG c.j.q.m.q.d.B.getWorkOvertimeList[145]  <==      Total: 4
2020-11-21 22:17:50.301 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getLtStandard[145]  ==>  Preparing: select * from qims_lt_standard_info 
2020-11-21 22:17:50.301 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getLtStandard[145]  ==> Parameters: 
2020-11-21 22:17:50.303 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  <==      Total: 1
2020-11-21 22:17:50.303 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  <==      Total: 1
2020-11-21 22:17:50.304 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==>  Preparing: select time from email_history_info where id =? 
2020-11-21 22:17:50.304 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==> Parameters: 1295192619508301824(String)
2020-11-21 22:17:50.305 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  <==      Total: 1
2020-11-21 22:17:50.305 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==>  Preparing: select time from email_history_info where id =? 
2020-11-21 22:17:50.305 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==> Parameters: 1303868347422605312(String)
2020-11-21 22:17:50.309 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getLtStandard[145]  <==      Total: 8
2020-11-21 22:17:50.310 INFO  c.j.qualityworkflow.modules.qims.job.qimsMailJob[47]  查询黑色问题超过LT的信息
2020-11-21 22:17:50.310 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getBlackList[145]  ==>  Preparing: select * from task_record where task_name in('初步原因分析','根本原因分析','根本原因审核') and task_state is null and template_key='QIMSBLACK' 
2020-11-21 22:17:50.310 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getBlackList[145]  ==> Parameters: 
2020-11-21 22:17:50.311 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  <==      Total: 1
2020-11-21 22:17:50.311 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  <==      Total: 1
2020-11-21 22:17:50.312 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==>  Preparing: select time from email_history_info where id =? 
2020-11-21 22:17:50.312 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==>  Preparing: select time from email_history_info where id =? 
2020-11-21 22:17:50.312 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==> Parameters: 1303868393815801856(String)
2020-11-21 22:17:50.312 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==> Parameters: 1299240419787276288(String)
2020-11-21 22:17:50.319 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  <==      Total: 1
2020-11-21 22:17:50.319 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  <==      Total: 1
2020-11-21 22:17:50.319 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==>  Preparing: select time from email_history_info where id =? 
2020-11-21 22:17:50.319 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==> Parameters: 1303937438065885184(String)
2020-11-21 22:17:50.321 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getBlackList[145]  <==      Total: 16
2020-11-21 22:17:50.323 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==>  Preparing: select time from email_history_info where id =? 
2020-11-21 22:17:50.323 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==> Parameters: 1286902446076985344(String)
2020-11-21 22:17:50.326 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  <==      Total: 1
2020-11-21 22:17:50.327 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==>  Preparing: select time from email_history_info where id =? 
2020-11-21 22:17:50.327 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==> Parameters: 1303939538460082176(String)
2020-11-21 22:17:50.329 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  <==      Total: 1
2020-11-21 22:17:50.337 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  <==      Total: 1
2020-11-21 22:17:50.338 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==>  Preparing: select time from email_history_info where id =? 
2020-11-21 22:17:50.338 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==> Parameters: 1303939599889858560(String)
2020-11-21 22:17:50.352 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  <==      Total: 1
2020-11-21 22:17:50.353 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==>  Preparing: select time from email_history_info where id =? 
2020-11-21 22:17:50.353 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==> Parameters: 1306059696263659520(String)
2020-11-21 22:17:50.360 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  <==      Total: 1
2020-11-21 22:17:50.360 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==>  Preparing: select time from email_history_info where id =? 
2020-11-21 22:17:50.360 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==> Parameters: 1306155886347026432(String)
2020-11-21 22:17:50.375 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  <==      Total: 1
2020-11-21 22:17:50.375 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==>  Preparing: select time from email_history_info where id =? 
2020-11-21 22:17:50.375 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==> Parameters: 1306201167000240128(String)
2020-11-21 22:17:50.384 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  <==      Total: 1
2020-11-21 22:17:50.384 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==>  Preparing: select time from email_history_info where id =? 
2020-11-21 22:17:50.384 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==> Parameters: 1308013106458263552(String)
2020-11-21 22:17:50.393 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  <==      Total: 0
2020-11-21 22:17:55.327 DEBUG cn.jwis.qualityworkflow.util.EmailService[144]  get handler mail from http://gateway.dev.jwis.io/platform/sys/user/internal-read?name=qualityadmin happen error cause:I/O error on GET request for "http://gateway.dev.jwis.io/platform/sys/user/internal-read": connect timed out; nested exception is java.net.SocketTimeoutException: connect timed out
2020-11-21 22:17:55.327 DEBUG cn.jwis.qualityworkflow.util.EmailService[144]  get handler mail from http://gateway.dev.jwis.io/platform/sys/user/internal-read?name=dz_gyb1 happen error cause:I/O error on GET request for "http://gateway.dev.jwis.io/platform/sys/user/internal-read": connect timed out; nested exception is java.net.SocketTimeoutException: connect timed out
2020-11-21 22:17:55.330 DEBUG cn.jwis.qualityworkflow.util.EmailService[144]  get handler mail from http://gateway.dev.jwis.io/platform/sys/user/internal-read?name=hualanlan happen error cause:I/O error on GET request for "http://gateway.dev.jwis.io/platform/sys/user/internal-read": connect timed out; nested exception is java.net.SocketTimeoutException: connect timed out
2020-11-21 22:17:55.341 DEBUG cn.jwis.qualityworkflow.dao.UserMapper.getSuperior[145]  ==>  Preparing: select superior from department_mapping where user_account = ? and type = ? limit 0,1 
2020-11-21 22:17:55.341 DEBUG cn.jwis.qualityworkflow.dao.UserMapper.getSuperior[145]  ==> Parameters: dz_gyb1(String), COMMON(String)
2020-11-21 22:17:55.341 DEBUG cn.jwis.qualityworkflow.dao.UserMapper.getSuperior[145]  ==>  Preparing: select superior from department_mapping where user_account = ? and type = ? limit 0,1 
2020-11-21 22:17:55.341 DEBUG cn.jwis.qualityworkflow.dao.UserMapper.getSuperior[145]  ==> Parameters: qualityadmin(String), COMMON(String)
2020-11-21 22:17:55.342 DEBUG cn.jwis.qualityworkflow.dao.UserMapper.getSuperior[145]  ==>  Preparing: select superior from department_mapping where user_account = ? and type = ? limit 0,1 
2020-11-21 22:17:55.342 DEBUG cn.jwis.qualityworkflow.dao.UserMapper.getSuperior[145]  ==> Parameters: hualanlan(String), QIMS(String)
2020-11-21 22:17:55.352 DEBUG cn.jwis.qualityworkflow.dao.UserMapper.getSuperior[145]  <==      Total: 1
2020-11-21 22:17:55.352 DEBUG cn.jwis.qualityworkflow.dao.UserMapper.getSuperior[145]  <==      Total: 1
2020-11-21 22:17:55.352 DEBUG c.j.q.dao.UserMapper.getSuperiorManagerByUser[145]  ==>  Preparing: select superior_manager from department_mapping where user_account = ? and type = ? limit 0,1 
2020-11-21 22:17:55.352 DEBUG c.j.q.dao.UserMapper.getSuperiorManagerByUser[145]  ==> Parameters: hualanlan(String), QIMS(String)
2020-11-21 22:17:55.353 DEBUG cn.jwis.qualityworkflow.dao.UserMapper.getSuperior[145]  <==      Total: 1
2020-11-21 22:17:55.360 DEBUG c.j.q.dao.UserMapper.getSuperiorManagerByUser[145]  <==      Total: 1
2020-11-21 22:17:55.394 DEBUG cn.jwis.qualityworkflow.util.EmailService[144]  get handler mail from http://gateway.dev.jwis.io/platform/sys/user/internal-read?name=kiween happen error cause:I/O error on GET request for "http://gateway.dev.jwis.io/platform/sys/user/internal-read": connect timed out; nested exception is java.net.SocketTimeoutException: connect timed out
2020-11-21 22:17:55.396 INFO  cn.jwis.qualityworkflow.util.EmailService[142]  dz_gyb2 email is jian.song@jwis.cn
2020-11-21 22:17:55.396 INFO  cn.jwis.qualityworkflow.util.EmailService[142]  qualityadmin email is 
2020-11-21 22:17:55.396 INFO  c.j.q.m.factoryaudit.job.AuditQuestionMailJob[31]  邮件下发结束
2020-11-21 22:17:55.396 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==>  Preparing: select time from email_history_info where id =? 
2020-11-21 22:17:55.397 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==> Parameters: 1294123945682796544(String)
2020-11-21 22:17:55.401 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==>  Preparing: select time from email_history_info where id =? 
2020-11-21 22:17:55.401 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==> Parameters: 1308013110702899200(String)
2020-11-21 22:17:55.401 INFO  cn.jwis.qualityworkflow.util.EmailService[142]  workflow3 email is null
2020-11-21 22:17:55.402 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  <==      Total: 1
2020-11-21 22:17:55.403 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==>  Preparing: select time from email_history_info where id =? 
2020-11-21 22:17:55.403 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==> Parameters: 1294123945716350976(String)
2020-11-21 22:17:55.415 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  <==      Total: 1
2020-11-21 22:17:55.418 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  <==      Total: 1
2020-11-21 22:17:55.436 INFO  cn.jwis.qualityworkflow.util.EmailService[142]  zhouxianling email is 
2020-11-21 22:17:55.438 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==>  Preparing: select time from email_history_info where id =? 
2020-11-21 22:17:55.439 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==> Parameters: 1286904434760089600(String)
2020-11-21 22:17:55.445 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  <==      Total: 1
2020-11-21 22:17:55.449 INFO  cn.jwis.qualityworkflow.util.EmailService[142]  qualityadmin email is 
2020-11-21 22:17:55.449 INFO  cn.jwis.qualityworkflow.util.EmailService[142]  xujinbiao email is 
2020-11-21 22:17:55.450 DEBUG cn.jwis.qualityworkflow.dao.UserMapper.getSuperior[145]  ==>  Preparing: select superior from department_mapping where user_account = ? and type = ? limit 0,1 
2020-11-21 22:17:55.450 DEBUG cn.jwis.qualityworkflow.dao.UserMapper.getSuperior[145]  ==>  Preparing: select superior from department_mapping where user_account = ? and type = ? limit 0,1 
2020-11-21 22:17:55.450 DEBUG cn.jwis.qualityworkflow.dao.UserMapper.getSuperior[145]  ==> Parameters: xujinbiao(String), COMMON(String)
2020-11-21 22:17:55.450 DEBUG cn.jwis.qualityworkflow.dao.UserMapper.getSuperior[145]  ==> Parameters: qualityadmin(String), COMMON(String)
2020-11-21 22:17:55.465 DEBUG cn.jwis.qualityworkflow.dao.UserMapper.getSuperior[145]  <==      Total: 1
2020-11-21 22:17:55.466 DEBUG cn.jwis.qualityworkflow.dao.UserMapper.getSuperior[145]  <==      Total: 1
2020-11-21 22:17:55.472 INFO  cn.jwis.qualityworkflow.util.EmailService[142]  gupp2 email is null
2020-11-21 22:17:55.472 DEBUG cn.jwis.qualityworkflow.dao.UserMapper.getSuperior[145]  ==>  Preparing: select superior from department_mapping where user_account = ? and type = ? limit 0,1 
2020-11-21 22:17:55.473 DEBUG cn.jwis.qualityworkflow.dao.UserMapper.getSuperior[145]  ==> Parameters: gupp2(String), QIMS(String)
2020-11-21 22:17:55.482 DEBUG cn.jwis.qualityworkflow.dao.UserMapper.getSuperior[145]  <==      Total: 0
2020-11-21 22:17:55.483 DEBUG c.j.q.dao.UserMapper.getSuperiorManagerByUser[145]  ==>  Preparing: select superior_manager from department_mapping where user_account = ? and type = ? limit 0,1 
2020-11-21 22:17:55.483 DEBUG c.j.q.dao.UserMapper.getSuperiorManagerByUser[145]  ==> Parameters: gupp2(String), QIMS(String)
2020-11-21 22:17:55.491 INFO  cn.jwis.qualityworkflow.util.EmailService[142]  qualityadmin email is 
2020-11-21 22:17:55.491 INFO  cn.jwis.qualityworkflow.util.EmailService[142]  hualanlan email is test@jwis.cn
2020-11-21 22:17:55.491 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==>  Preparing: select time from email_history_info where id =? 
2020-11-21 22:17:55.491 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==>  Preparing: select time from email_history_info where id =? 
2020-11-21 22:17:55.491 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==> Parameters: 1295193219738370048(String)
2020-11-21 22:17:55.491 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==> Parameters: 1308013113928318976(String)
2020-11-21 22:17:55.496 DEBUG c.j.q.dao.UserMapper.getSuperiorManagerByUser[145]  <==      Total: 0
2020-11-21 22:17:55.498 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==>  Preparing: select time from email_history_info where id =? 
2020-11-21 22:17:55.498 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==> Parameters: 1286916730144161792(String)
2020-11-21 22:17:55.515 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  <==      Total: 1
2020-11-21 22:17:55.516 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==>  Preparing: select time from email_history_info where id =? 
2020-11-21 22:17:55.516 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==> Parameters: 1295193220166189056(String)
2020-11-21 22:17:55.517 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  <==      Total: 1
2020-11-21 22:17:55.518 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  <==      Total: 1
2020-11-21 22:17:55.522 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  <==      Total: 1
2020-11-21 22:17:55.548 INFO  cn.jwis.qualityworkflow.util.EmailService[142]  qualityadmin email is 
2020-11-21 22:17:55.548 INFO  cn.jwis.qualityworkflow.util.EmailService[142]  xujinbiao email is 
2020-11-21 22:17:55.549 DEBUG cn.jwis.qualityworkflow.dao.UserMapper.getSuperior[145]  ==>  Preparing: select superior from department_mapping where user_account = ? and type = ? limit 0,1 
2020-11-21 22:17:55.549 DEBUG cn.jwis.qualityworkflow.dao.UserMapper.getSuperior[145]  ==>  Preparing: select superior from department_mapping where user_account = ? and type = ? limit 0,1 
2020-11-21 22:17:55.549 DEBUG cn.jwis.qualityworkflow.dao.UserMapper.getSuperior[145]  ==> Parameters: qualityadmin(String), COMMON(String)
2020-11-21 22:17:55.549 DEBUG cn.jwis.qualityworkflow.dao.UserMapper.getSuperior[145]  ==> Parameters: xujinbiao(String), COMMON(String)
2020-11-21 22:17:55.551 INFO  cn.jwis.qualityworkflow.util.EmailService[142]  gupp2 email is null
2020-11-21 22:17:55.551 DEBUG cn.jwis.qualityworkflow.dao.UserMapper.getSuperior[145]  ==>  Preparing: select superior from department_mapping where user_account = ? and type = ? limit 0,1 
2020-11-21 22:17:55.552 DEBUG cn.jwis.qualityworkflow.dao.UserMapper.getSuperior[145]  ==> Parameters: gupp2(String), QIMS(String)
2020-11-21 22:17:55.560 DEBUG cn.jwis.qualityworkflow.dao.UserMapper.getSuperior[145]  <==      Total: 1
2020-11-21 22:17:55.560 DEBUG cn.jwis.qualityworkflow.dao.UserMapper.getSuperior[145]  <==      Total: 1
2020-11-21 22:17:55.566 DEBUG cn.jwis.qualityworkflow.dao.UserMapper.getSuperior[145]  <==      Total: 0
2020-11-21 22:17:55.567 DEBUG c.j.q.dao.UserMapper.getSuperiorManagerByUser[145]  ==>  Preparing: select superior_manager from department_mapping where user_account = ? and type = ? limit 0,1 
2020-11-21 22:17:55.567 DEBUG c.j.q.dao.UserMapper.getSuperiorManagerByUser[145]  ==> Parameters: gupp2(String), QIMS(String)
2020-11-21 22:17:55.576 DEBUG c.j.q.dao.UserMapper.getSuperiorManagerByUser[145]  <==      Total: 0
2020-11-21 22:17:55.578 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==>  Preparing: select time from email_history_info where id =? 
2020-11-21 22:17:55.578 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==> Parameters: 1287933861786812416(String)
2020-11-21 22:17:55.583 INFO  cn.jwis.qualityworkflow.util.EmailService[142]  hualanlan email is test@jwis.cn
2020-11-21 22:17:55.583 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==>  Preparing: select time from email_history_info where id =? 
2020-11-21 22:17:55.583 INFO  cn.jwis.qualityworkflow.util.EmailService[142]  qualityadmin email is 
2020-11-21 22:17:55.583 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==> Parameters: 1295193707351375872(String)
2020-11-21 22:17:55.584 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==>  Preparing: select time from email_history_info where id =? 
2020-11-21 22:17:55.584 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==> Parameters: 1308013116927246336(String)
2020-11-21 22:17:55.587 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  <==      Total: 1
2020-11-21 22:17:55.598 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  <==      Total: 0
2020-11-21 22:17:55.598 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  <==      Total: 1
2020-11-21 22:17:55.598 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==>  Preparing: select time from email_history_info where id =? 
2020-11-21 22:17:55.599 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==> Parameters: 1295193707376541696(String)
2020-11-21 22:17:55.608 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  <==      Total: 1
2020-11-21 22:17:55.609 INFO  cn.jwis.qualityworkflow.util.EmailService[142]  hualanlan email is test@jwis.cn
2020-11-21 22:17:55.609 DEBUG cn.jwis.qualityworkflow.dao.UserMapper.getSuperior[145]  ==>  Preparing: select superior from department_mapping where user_account = ? and type = ? limit 0,1 
2020-11-21 22:17:55.609 DEBUG cn.jwis.qualityworkflow.dao.UserMapper.getSuperior[145]  ==> Parameters: hualanlan(String), QIMS(String)
2020-11-21 22:17:55.620 DEBUG cn.jwis.qualityworkflow.dao.UserMapper.getSuperior[145]  <==      Total: 1
2020-11-21 22:17:55.620 INFO  cn.jwis.qualityworkflow.util.EmailService[142]  kiween email is 
2020-11-21 22:17:55.620 DEBUG c.j.q.dao.UserMapper.getSuperiorManagerByUser[145]  ==>  Preparing: select superior_manager from department_mapping where user_account = ? and type = ? limit 0,1 
2020-11-21 22:17:55.621 DEBUG c.j.q.dao.UserMapper.getSuperiorManagerByUser[145]  ==> Parameters: hualanlan(String), QIMS(String)
2020-11-21 22:17:55.621 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==>  Preparing: select time from email_history_info where id =? 
2020-11-21 22:17:55.621 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==> Parameters: 1309046852858937344(String)
2020-11-21 22:17:55.627 INFO  cn.jwis.qualityworkflow.util.EmailService[142]  xujinbiao email is 
2020-11-21 22:17:55.627 DEBUG cn.jwis.qualityworkflow.dao.UserMapper.getSuperior[145]  ==>  Preparing: select superior from department_mapping where user_account = ? and type = ? limit 0,1 
2020-11-21 22:17:55.627 DEBUG cn.jwis.qualityworkflow.dao.UserMapper.getSuperior[145]  ==> Parameters: xujinbiao(String), COMMON(String)
2020-11-21 22:17:55.630 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  <==      Total: 0
2020-11-21 22:17:55.630 DEBUG c.j.q.dao.UserMapper.getSuperiorManagerByUser[145]  <==      Total: 1
2020-11-21 22:17:55.633 DEBUG cn.jwis.qualityworkflow.dao.UserMapper.getSuperior[145]  <==      Total: 1
2020-11-21 22:17:55.653 INFO  cn.jwis.qualityworkflow.util.EmailService[142]  codisan email is kelvin@jwis.cn
2020-11-21 22:17:55.653 DEBUG c.j.qualityworkflow.dao.CommonMapper.getKeyToName[145]  ==>  Preparing: SELECT * FROM key_to_name 
2020-11-21 22:17:55.653 DEBUG c.j.qualityworkflow.dao.CommonMapper.getKeyToName[145]  ==> Parameters: 
2020-11-21 22:17:55.654 INFO  cn.jwis.qualityworkflow.util.EmailService[142]  workflow3 email is null
2020-11-21 22:17:55.654 INFO  cn.jwis.qualityworkflow.util.EmailService[142]  hualanlan email is test@jwis.cn
2020-11-21 22:17:55.655 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==>  Preparing: select time from email_history_info where id =? 
2020-11-21 22:17:55.655 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==> Parameters: 1315248790789160960(String)
2020-11-21 22:17:55.660 DEBUG c.j.qualityworkflow.dao.CommonMapper.getKeyToName[145]  <==      Total: 8
2020-11-21 22:17:55.661 INFO  cn.jwis.qualityworkflow.util.EmailService[74]  haomiao.liu@jwis.cn send a Mail to kelvin@jwis.cn fail, because null
2020-11-21 22:17:55.663 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  <==      Total: 1
2020-11-21 22:17:55.674 INFO  cn.jwis.qualityworkflow.util.EmailService[142]  zhouxianling email is 
2020-11-21 22:17:55.675 DEBUG c.j.qualityworkflow.dao.TaskRecordMapper.getById[145]  ==>  Preparing: SELECT * from task_record WHERE id = ? 
2020-11-21 22:17:55.675 DEBUG c.j.qualityworkflow.dao.TaskRecordMapper.getById[145]  ==> Parameters: 1287933861786812416(String)
2020-11-21 22:17:55.684 DEBUG c.j.qualityworkflow.dao.TaskRecordMapper.getById[145]  <==      Total: 1
2020-11-21 22:17:55.684 DEBUG c.j.qualityworkflow.dao.CommonMapper.getKeyToName[145]  ==>  Preparing: SELECT * FROM key_to_name 
2020-11-21 22:17:55.684 DEBUG c.j.qualityworkflow.dao.CommonMapper.getKeyToName[145]  ==> Parameters: 
2020-11-21 22:17:55.710 INFO  cn.jwis.qualityworkflow.util.EmailService[142]  dz_gyb1 email is test@jwis.cn
2020-11-21 22:17:55.710 DEBUG c.j.qualityworkflow.dao.CommonMapper.getKeyToName[145]  <==      Total: 8
2020-11-21 22:17:55.710 DEBUG cn.jwis.qualityworkflow.dao.UserMapper.getSuperior[145]  ==>  Preparing: select superior from department_mapping where user_account = ? and type = ? limit 0,1 
2020-11-21 22:17:55.710 DEBUG cn.jwis.qualityworkflow.dao.UserMapper.getSuperior[145]  ==> Parameters: dz_gyb1(String), COMMON(String)
2020-11-21 22:17:55.711 INFO  cn.jwis.qualityworkflow.util.EmailService[71]  haomiao.liu@jwis.cn send a Mail to test@jwis.cn
2020-11-21 22:17:55.718 DEBUG cn.jwis.qualityworkflow.dao.UserMapper.getSuperior[145]  <==      Total: 1
2020-11-21 22:17:55.741 INFO  cn.jwis.qualityworkflow.util.EmailService[142]  dz_gyb2 email is jian.song@jwis.cn
2020-11-21 22:17:55.741 DEBUG c.j.qualityworkflow.dao.CommonMapper.getKeyToName[145]  ==>  Preparing: SELECT * FROM key_to_name 
2020-11-21 22:17:55.741 DEBUG c.j.qualityworkflow.dao.CommonMapper.getKeyToName[145]  ==> Parameters: 
2020-11-21 22:17:55.748 DEBUG c.j.qualityworkflow.dao.CommonMapper.getKeyToName[145]  <==      Total: 8
2020-11-21 22:17:55.748 DEBUG c.j.q.m.l.d.L.getLineQualifyDetailednessInfo[145]  ==>  Preparing: SELECT q.*,ar.processInstanceId ,ar.taskId,ar.assignee,ar.taskState,ar.taskName FROM line_qualify_info q,(SELECT workflow_business_id, process_instance_id as processInstanceId,task_id as taskId,assignee,task_state as taskState,task_name taskName FROM task_record WHERE task_id=?) ar where q.id=ar.workflow_business_id 
2020-11-21 22:17:55.749 DEBUG c.j.q.m.l.d.L.getLineQualifyDetailednessInfo[145]  ==> Parameters: 5506556(String)
2020-11-21 22:17:55.760 DEBUG c.j.q.m.l.d.L.getLineQualifyDetailednessInfo[145]  <==      Total: 1
2020-11-21 22:17:55.761 INFO  cn.jwis.qualityworkflow.util.EmailService[69]  haomiao.liu@jwis.cn send a Mail to test@jwis.cn and make a copy for [jian.song@jwis.cn]
2020-11-21 22:17:56.288 ERROR o.s.s.support.TaskUtils$LoggingErrorHandler[96] org.springframework.mail.MailSendException: Failed messages: javax.mail.SendFailedException: Invalid Addresses;
  nested exception is:
	com.sun.mail.smtp.SMTPAddressFailedException: 554 RCPT (test@jwis.cn) dosn't exist

	at org.springframework.mail.javamail.JavaMailSenderImpl.doSend(JavaMailSenderImpl.java:488)
	at org.springframework.mail.javamail.JavaMailSenderImpl.send(JavaMailSenderImpl.java:359)
	at org.springframework.mail.javamail.JavaMailSenderImpl.send(JavaMailSenderImpl.java:354)
	at cn.jwis.qualityworkflow.util.EmailService.sendHtmlMail(EmailService.java:76)
	at cn.jwis.qualityworkflow.modules.qims.service.imp.QimsSendMailServiceImpl.sendEmailTohandler(QimsSendMailServiceImpl.java:161)
	at cn.jwis.qualityworkflow.modules.qims.service.imp.QimsSendMailServiceImpl.qimsSendMail(QimsSendMailServiceImpl.java:90)
	at cn.jwis.qualityworkflow.modules.qims.job.qimsMailJob.qimsSendMail(qimsMailJob.java:49)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.springframework.scheduling.support.ScheduledMethodRunnable.run(ScheduledMethodRunnable.java:84)
	at org.springframework.scheduling.support.DelegatingErrorHandlingRunnable.run(DelegatingErrorHandlingRunnable.java:54)
	at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:511)
	at java.util.concurrent.FutureTask.runAndReset(FutureTask.java:308)
	at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.access$301(ScheduledThreadPoolExecutor.java:180)
	at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:294)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)
 Unexpected error occurred in scheduled task.
2020-11-21 22:17:56.316 ERROR o.s.s.support.TaskUtils$LoggingErrorHandler[96] org.springframework.mail.MailSendException: Failed messages: javax.mail.SendFailedException: Invalid Addresses;
  nested exception is:
	com.sun.mail.smtp.SMTPAddressFailedException: 554 RCPT (kelvin@jwis.cn) dosn't exist

	at org.springframework.mail.javamail.JavaMailSenderImpl.doSend(JavaMailSenderImpl.java:488)
	at org.springframework.mail.javamail.JavaMailSenderImpl.send(JavaMailSenderImpl.java:359)
	at org.springframework.mail.javamail.JavaMailSenderImpl.send(JavaMailSenderImpl.java:354)
	at cn.jwis.qualityworkflow.util.EmailService.sendHtmlMail(EmailService.java:76)
	at cn.jwis.qualityworkflow.modules.qims.service.imp.QimsSendMailServiceImpl.sendEmailTohandler(QimsSendMailServiceImpl.java:161)
	at cn.jwis.qualityworkflow.modules.ipqc.service.imp.AuditQualityProblemServiceImpl.qimsSendMail(AuditQualityProblemServiceImpl.java:321)
	at cn.jwis.qualityworkflow.modules.ipqc.service.imp.AuditQualityProblemServiceImpl$$FastClassBySpringCGLIB$$15ff325f.invoke(<generated>)
	at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:684)
	at cn.jwis.qualityworkflow.modules.ipqc.service.imp.AuditQualityProblemServiceImpl$$EnhancerBySpringCGLIB$$e291a2f3.qimsSendMail(<generated>)
	at cn.jwis.qualityworkflow.modules.ipqc.job.ipqcMailJob.qimsSendMail(ipqcMailJob.java:28)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.springframework.scheduling.support.ScheduledMethodRunnable.run(ScheduledMethodRunnable.java:84)
	at org.springframework.scheduling.support.DelegatingErrorHandlingRunnable.run(DelegatingErrorHandlingRunnable.java:54)
	at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:511)
	at java.util.concurrent.FutureTask.runAndReset(FutureTask.java:308)
	at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.access$301(ScheduledThreadPoolExecutor.java:180)
	at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:294)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)
 Unexpected error occurred in scheduled task.
2020-11-21 22:17:56.423 ERROR o.s.s.support.TaskUtils$LoggingErrorHandler[96] org.springframework.mail.MailSendException: Failed messages: javax.mail.SendFailedException: Invalid Addresses;
  nested exception is:
	com.sun.mail.smtp.SMTPAddressFailedException: 554 RCPT (test@jwis.cn) dosn't exist
;
  nested exception is:
	com.sun.mail.smtp.SMTPAddressFailedException: 554 RCPT (jian.song@jwis.cn) dosn't exist

	at org.springframework.mail.javamail.JavaMailSenderImpl.doSend(JavaMailSenderImpl.java:488)
	at org.springframework.mail.javamail.JavaMailSenderImpl.send(JavaMailSenderImpl.java:359)
	at org.springframework.mail.javamail.JavaMailSenderImpl.send(JavaMailSenderImpl.java:354)
	at cn.jwis.qualityworkflow.util.EmailService.sendHtmlMail(EmailService.java:76)
	at cn.jwis.qualityworkflow.modules.linequalify.service.imp.LineQualifyServiceImpl.sendEmailTohandler(LineQualifyServiceImpl.java:617)
	at cn.jwis.qualityworkflow.modules.linequalify.service.imp.LineQualifyServiceImpl.sendOverTimeMail(LineQualifyServiceImpl.java:594)
	at cn.jwis.qualityworkflow.modules.linequalify.service.imp.LineQualifyServiceImpl$$FastClassBySpringCGLIB$$4ca6f597.invoke(<generated>)
	at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:684)
	at cn.jwis.qualityworkflow.modules.linequalify.service.imp.LineQualifyServiceImpl$$EnhancerBySpringCGLIB$$2a00af9b.sendOverTimeMail(<generated>)
	at cn.jwis.qualityworkflow.modules.linequalify.job.LineQualifyMailJob.sendOverTimeMail(LineQualifyMailJob.java:30)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.springframework.scheduling.support.ScheduledMethodRunnable.run(ScheduledMethodRunnable.java:84)
	at org.springframework.scheduling.support.DelegatingErrorHandlingRunnable.run(DelegatingErrorHandlingRunnable.java:54)
	at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:511)
	at java.util.concurrent.FutureTask.runAndReset(FutureTask.java:308)
	at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.access$301(ScheduledThreadPoolExecutor.java:180)
	at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:294)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)
 Unexpected error occurred in scheduled task.
2020-11-21 22:20:00.019 INFO  c.j.q.m.t.T.TraceabilityMachineTimerManager[50]  设备定时任务开启
2020-11-21 22:20:00.029 DEBUG c.j.q.m.t.d.T.getTraceabilityMachineList[145]  ==>  Preparing: select table_name from traceability_machine_data group by table_name 
2020-11-21 22:20:00.030 DEBUG c.j.q.m.t.d.T.getTraceabilityMachineList[145]  ==> Parameters: 
2020-11-21 22:20:00.037 DEBUG c.j.q.m.t.d.T.getTraceabilityMachineList[145]  <==      Total: 5
2020-11-21 22:20:00.037 DEBUG c.j.q.m.t.d.T.getTraceabilityMachineFiledName[145]  ==>  Preparing: select filed_name from traceability_machine_data where table_name=? 
2020-11-21 22:20:00.038 DEBUG c.j.q.m.t.d.T.getTraceabilityMachineFiledName[145]  ==> Parameters: dust_free_shed(String)
2020-11-21 22:20:00.045 DEBUG c.j.q.m.t.d.T.getTraceabilityMachineFiledName[145]  <==      Total: 11
2020-11-21 22:20:00.045 DEBUG c.j.q.m.t.d.T.getMaxCreateTime[145]  ==>  Preparing: select max(createtime) from dust_free_shed 
2020-11-21 22:20:00.045 DEBUG c.j.q.m.t.d.T.getMaxCreateTime[145]  ==> Parameters: 
2020-11-21 22:20:00.117 DEBUG c.j.q.m.t.d.T.getMaxCreateTime[145]  <==      Total: 1
2020-11-21 22:20:00.122 ERROR o.s.s.support.TaskUtils$LoggingErrorHandler[96] java.lang.NullPointerException: null
	at cn.jwis.qualityworkflow.modules.traceablity.TimerManager.TraceabilityMachineTimerManager.getLenovoMachineData(TraceabilityMachineTimerManager.java:105)
	at cn.jwis.qualityworkflow.modules.traceablity.TimerManager.TraceabilityMachineTimerManager.MachineTimerManager(TraceabilityMachineTimerManager.java:57)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.springframework.scheduling.support.ScheduledMethodRunnable.run(ScheduledMethodRunnable.java:84)
	at org.springframework.scheduling.support.DelegatingErrorHandlingRunnable.run(DelegatingErrorHandlingRunnable.java:54)
	at org.springframework.scheduling.concurrent.ReschedulingRunnable.run(ReschedulingRunnable.java:93)
	at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:511)
	at java.util.concurrent.FutureTask.run(FutureTask.java:266)
	at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.access$201(ScheduledThreadPoolExecutor.java:180)
	at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:293)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)
 Unexpected error occurred in scheduled task.
2020-11-21 22:22:50.269 INFO  c.j.qualityworkflow.modules.ipqc.job.ipqcMailJob[27]  查询IPQC超时任务
2020-11-21 22:22:50.280 DEBUG c.j.q.dao.TaskRecordMapper.getOverTimeTaskRecord[145]  ==>  Preparing: SELECT *, HOUR(timediff(now() , create_date)) overTimeNum FROM task_record WHERE template_key = ? AND task_state IS NULL AND task_name = ? AND HOUR(timediff(now() , create_date)) >= ? 
2020-11-21 22:22:50.281 DEBUG c.j.q.dao.TaskRecordMapper.getOverTimeTaskRecord[145]  ==> Parameters: Line Qualify(String), 文件收集(String), 2(Integer)
2020-11-21 22:22:50.285 DEBUG c.j.q.m.qims.dao.BlackDashBoardMapper.getHoliday[145]  ==>  Preparing: SELECT DISTINCT date FROM holiday_maintenance WHERE type = '节假日' 
2020-11-21 22:22:50.285 DEBUG c.j.q.m.qims.dao.BlackDashBoardMapper.getHoliday[145]  ==> Parameters: 
2020-11-21 22:22:50.286 DEBUG c.j.q.dao.TaskRecordMapper.getOverTimeTaskRecord[145]  ==>  Preparing: SELECT *, HOUR(timediff(now() , create_date)) overTimeNum FROM task_record WHERE template_key = ? AND task_state IS NULL AND task_name = ? AND HOUR(timediff(now() , create_date)) >= ? 
2020-11-21 22:22:50.286 DEBUG c.j.q.dao.TaskRecordMapper.getOverTimeTaskRecord2[145]  ==>  Preparing: SELECT *, HOUR(timediff(now() , create_date)) overTimeNum FROM task_record WHERE template_key = ? AND task_state IS NULL AND HOUR(timediff(now() , create_date)) >= ? 
2020-11-21 22:22:50.287 DEBUG c.j.q.dao.TaskRecordMapper.getOverTimeTaskRecord[145]  ==> Parameters: FactoryAuditProcess(String), 部门审核(String), 24(Integer)
2020-11-21 22:22:50.287 DEBUG c.j.q.dao.TaskRecordMapper.getOverTimeTaskRecord2[145]  ==> Parameters: IPQCAuditProcess(String), 24(Integer)
2020-11-21 22:22:50.307 DEBUG c.j.q.m.qims.dao.BlackDashBoardMapper.getHoliday[145]  <==      Total: 6
2020-11-21 22:22:50.308 DEBUG c.j.q.dao.TaskRecordMapper.getOverTimeTaskRecord[145]  <==      Total: 3
2020-11-21 22:22:50.308 DEBUG c.j.q.dao.TaskRecordMapper.getOverTimeTaskRecord[145]  <==      Total: 8
2020-11-21 22:22:50.308 DEBUG c.j.q.dao.TaskRecordMapper.getOverTimeTaskRecord2[145]  <==      Total: 18
2020-11-21 22:22:50.309 DEBUG c.j.q.m.q.d.B.getWorkOvertimeList[145]  ==>  Preparing: SELECT DISTINCT date FROM holiday_maintenance WHERE type = '补班' 
2020-11-21 22:22:50.309 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==>  Preparing: select time from email_history_info where id =? 
2020-11-21 22:22:50.309 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==>  Preparing: select time from email_history_info where id =? 
2020-11-21 22:22:50.309 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==>  Preparing: select time from email_history_info where id =? 
2020-11-21 22:22:50.309 DEBUG c.j.q.m.q.d.B.getWorkOvertimeList[145]  ==> Parameters: 
2020-11-21 22:22:50.309 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==> Parameters: 1295192540470837248(String)
2020-11-21 22:22:50.309 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==> Parameters: 1294123945645047808(String)
2020-11-21 22:22:50.309 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==> Parameters: 1303868320843300864(String)
2020-11-21 22:22:50.318 DEBUG c.j.q.m.q.d.B.getWorkOvertimeList[145]  <==      Total: 4
2020-11-21 22:22:50.318 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getLtStandard[145]  ==>  Preparing: select * from qims_lt_standard_info 
2020-11-21 22:22:50.318 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  <==      Total: 1
2020-11-21 22:22:50.319 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getLtStandard[145]  ==> Parameters: 
2020-11-21 22:22:50.319 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==>  Preparing: select time from email_history_info where id =? 
2020-11-21 22:22:50.320 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==> Parameters: 1295192619508301824(String)
2020-11-21 22:22:50.320 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  <==      Total: 1
2020-11-21 22:22:50.320 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  <==      Total: 1
2020-11-21 22:22:50.320 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==>  Preparing: select time from email_history_info where id =? 
2020-11-21 22:22:50.321 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==> Parameters: 1303868347422605312(String)
2020-11-21 22:22:50.327 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  <==      Total: 1
2020-11-21 22:22:50.327 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  <==      Total: 1
2020-11-21 22:22:50.327 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getLtStandard[145]  <==      Total: 8
2020-11-21 22:22:50.327 INFO  c.j.qualityworkflow.modules.qims.job.qimsMailJob[47]  查询黑色问题超过LT的信息
2020-11-21 22:22:50.327 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==>  Preparing: select time from email_history_info where id =? 
2020-11-21 22:22:50.327 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==>  Preparing: select time from email_history_info where id =? 
2020-11-21 22:22:50.327 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getBlackList[145]  ==>  Preparing: select * from task_record where task_name in('初步原因分析','根本原因分析','根本原因审核') and task_state is null and template_key='QIMSBLACK' 
2020-11-21 22:22:50.327 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==> Parameters: 1303868393815801856(String)
2020-11-21 22:22:50.327 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getBlackList[145]  ==> Parameters: 
2020-11-21 22:22:50.327 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==> Parameters: 1299240419787276288(String)
2020-11-21 22:22:50.334 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  <==      Total: 1
2020-11-21 22:22:50.335 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==>  Preparing: select time from email_history_info where id =? 
2020-11-21 22:22:50.335 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==> Parameters: 1303937438065885184(String)
2020-11-21 22:22:50.337 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  <==      Total: 1
2020-11-21 22:22:50.337 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getBlackList[145]  <==      Total: 16
2020-11-21 22:22:50.339 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==>  Preparing: select time from email_history_info where id =? 
2020-11-21 22:22:50.340 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==> Parameters: 1286902446076985344(String)
2020-11-21 22:22:50.343 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  <==      Total: 1
2020-11-21 22:22:50.343 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==>  Preparing: select time from email_history_info where id =? 
2020-11-21 22:22:50.343 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==> Parameters: 1303939538460082176(String)
2020-11-21 22:22:50.346 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  <==      Total: 1
2020-11-21 22:22:50.350 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  <==      Total: 1
2020-11-21 22:22:50.351 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==>  Preparing: select time from email_history_info where id =? 
2020-11-21 22:22:50.351 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==> Parameters: 1303939599889858560(String)
2020-11-21 22:22:50.358 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  <==      Total: 1
2020-11-21 22:22:50.358 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==>  Preparing: select time from email_history_info where id =? 
2020-11-21 22:22:50.358 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==> Parameters: 1306059696263659520(String)
2020-11-21 22:22:50.365 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  <==      Total: 1
2020-11-21 22:22:50.366 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==>  Preparing: select time from email_history_info where id =? 
2020-11-21 22:22:50.366 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==> Parameters: 1306155886347026432(String)
2020-11-21 22:22:50.374 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  <==      Total: 1
2020-11-21 22:22:50.374 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==>  Preparing: select time from email_history_info where id =? 
2020-11-21 22:22:50.374 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==> Parameters: 1306201167000240128(String)
2020-11-21 22:22:50.379 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  <==      Total: 1
2020-11-21 22:22:50.380 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==>  Preparing: select time from email_history_info where id =? 
2020-11-21 22:22:50.380 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==> Parameters: 1308013106458263552(String)
2020-11-21 22:22:50.385 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  <==      Total: 0
2020-11-21 22:22:55.341 DEBUG cn.jwis.qualityworkflow.util.EmailService[144]  get handler mail from http://gateway.dev.jwis.io/platform/sys/user/internal-read?name=qualityadmin happen error cause:I/O error on GET request for "http://gateway.dev.jwis.io/platform/sys/user/internal-read": connect timed out; nested exception is java.net.SocketTimeoutException: connect timed out
2020-11-21 22:22:55.341 DEBUG cn.jwis.qualityworkflow.util.EmailService[144]  get handler mail from http://gateway.dev.jwis.io/platform/sys/user/internal-read?name=dz_gyb1 happen error cause:I/O error on GET request for "http://gateway.dev.jwis.io/platform/sys/user/internal-read": connect timed out; nested exception is java.net.SocketTimeoutException: connect timed out
2020-11-21 22:22:55.347 DEBUG cn.jwis.qualityworkflow.util.EmailService[144]  get handler mail from http://gateway.dev.jwis.io/platform/sys/user/internal-read?name=hualanlan happen error cause:I/O error on GET request for "http://gateway.dev.jwis.io/platform/sys/user/internal-read": connect timed out; nested exception is java.net.SocketTimeoutException: connect timed out
2020-11-21 22:22:55.351 DEBUG cn.jwis.qualityworkflow.dao.UserMapper.getSuperior[145]  ==>  Preparing: select superior from department_mapping where user_account = ? and type = ? limit 0,1 
2020-11-21 22:22:55.351 DEBUG cn.jwis.qualityworkflow.dao.UserMapper.getSuperior[145]  ==> Parameters: qualityadmin(String), COMMON(String)
2020-11-21 22:22:55.353 DEBUG cn.jwis.qualityworkflow.dao.UserMapper.getSuperior[145]  ==>  Preparing: select superior from department_mapping where user_account = ? and type = ? limit 0,1 
2020-11-21 22:22:55.354 DEBUG cn.jwis.qualityworkflow.dao.UserMapper.getSuperior[145]  ==>  Preparing: select superior from department_mapping where user_account = ? and type = ? limit 0,1 
2020-11-21 22:22:55.354 DEBUG cn.jwis.qualityworkflow.dao.UserMapper.getSuperior[145]  ==> Parameters: hualanlan(String), QIMS(String)
2020-11-21 22:22:55.354 DEBUG cn.jwis.qualityworkflow.dao.UserMapper.getSuperior[145]  ==> Parameters: dz_gyb1(String), COMMON(String)
2020-11-21 22:22:55.360 DEBUG cn.jwis.qualityworkflow.dao.UserMapper.getSuperior[145]  <==      Total: 1
2020-11-21 22:22:55.365 DEBUG cn.jwis.qualityworkflow.dao.UserMapper.getSuperior[145]  <==      Total: 1
2020-11-21 22:22:55.365 DEBUG cn.jwis.qualityworkflow.dao.UserMapper.getSuperior[145]  <==      Total: 1
2020-11-21 22:22:55.366 DEBUG c.j.q.dao.UserMapper.getSuperiorManagerByUser[145]  ==>  Preparing: select superior_manager from department_mapping where user_account = ? and type = ? limit 0,1 
2020-11-21 22:22:55.366 DEBUG c.j.q.dao.UserMapper.getSuperiorManagerByUser[145]  ==> Parameters: hualanlan(String), QIMS(String)
2020-11-21 22:22:55.375 DEBUG c.j.q.dao.UserMapper.getSuperiorManagerByUser[145]  <==      Total: 1
2020-11-21 22:22:55.387 DEBUG cn.jwis.qualityworkflow.util.EmailService[144]  get handler mail from http://gateway.dev.jwis.io/platform/sys/user/internal-read?name=kiween happen error cause:I/O error on GET request for "http://gateway.dev.jwis.io/platform/sys/user/internal-read": connect timed out; nested exception is java.net.SocketTimeoutException: connect timed out
2020-11-21 22:22:55.397 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==>  Preparing: select time from email_history_info where id =? 
2020-11-21 22:22:55.397 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==> Parameters: 1308013110702899200(String)
2020-11-21 22:22:55.398 INFO  cn.jwis.qualityworkflow.util.EmailService[142]  qualityadmin email is 
2020-11-21 22:22:55.398 INFO  c.j.q.m.factoryaudit.job.AuditQuestionMailJob[31]  邮件下发结束
2020-11-21 22:22:55.400 INFO  cn.jwis.qualityworkflow.util.EmailService[142]  dz_gyb2 email is jian.song@jwis.cn
2020-11-21 22:22:55.400 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==>  Preparing: select time from email_history_info where id =? 
2020-11-21 22:22:55.400 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==> Parameters: 1294123945682796544(String)
2020-11-21 22:22:55.405 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  <==      Total: 1
2020-11-21 22:22:55.407 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  <==      Total: 1
2020-11-21 22:22:55.407 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==>  Preparing: select time from email_history_info where id =? 
2020-11-21 22:22:55.408 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==> Parameters: 1294123945716350976(String)
2020-11-21 22:22:55.411 INFO  cn.jwis.qualityworkflow.util.EmailService[142]  workflow3 email is null
2020-11-21 22:22:55.434 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  <==      Total: 1
2020-11-21 22:22:55.435 INFO  cn.jwis.qualityworkflow.util.EmailService[142]  qualityadmin email is 
2020-11-21 22:22:55.437 INFO  cn.jwis.qualityworkflow.util.EmailService[142]  zhouxianling email is 
2020-11-21 22:22:55.437 DEBUG cn.jwis.qualityworkflow.dao.UserMapper.getSuperior[145]  ==>  Preparing: select superior from department_mapping where user_account = ? and type = ? limit 0,1 
2020-11-21 22:22:55.437 DEBUG cn.jwis.qualityworkflow.dao.UserMapper.getSuperior[145]  ==> Parameters: qualityadmin(String), COMMON(String)
2020-11-21 22:22:55.439 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==>  Preparing: select time from email_history_info where id =? 
2020-11-21 22:22:55.439 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==> Parameters: 1286904434760089600(String)
2020-11-21 22:22:55.453 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  <==      Total: 1
2020-11-21 22:22:55.453 DEBUG cn.jwis.qualityworkflow.dao.UserMapper.getSuperior[145]  <==      Total: 1
2020-11-21 22:22:55.458 INFO  cn.jwis.qualityworkflow.util.EmailService[142]  xujinbiao email is 
2020-11-21 22:22:55.459 DEBUG cn.jwis.qualityworkflow.dao.UserMapper.getSuperior[145]  ==>  Preparing: select superior from department_mapping where user_account = ? and type = ? limit 0,1 
2020-11-21 22:22:55.460 DEBUG cn.jwis.qualityworkflow.dao.UserMapper.getSuperior[145]  ==> Parameters: xujinbiao(String), COMMON(String)
2020-11-21 22:22:55.468 DEBUG cn.jwis.qualityworkflow.dao.UserMapper.getSuperior[145]  <==      Total: 1
2020-11-21 22:22:55.482 INFO  cn.jwis.qualityworkflow.util.EmailService[142]  qualityadmin email is 
2020-11-21 22:22:55.482 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==>  Preparing: select time from email_history_info where id =? 
2020-11-21 22:22:55.483 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==> Parameters: 1308013113928318976(String)
2020-11-21 22:22:55.494 INFO  cn.jwis.qualityworkflow.util.EmailService[142]  gupp2 email is null
2020-11-21 22:22:55.494 INFO  cn.jwis.qualityworkflow.util.EmailService[142]  hualanlan email is test@jwis.cn
2020-11-21 22:22:55.494 DEBUG cn.jwis.qualityworkflow.dao.UserMapper.getSuperior[145]  ==>  Preparing: select superior from department_mapping where user_account = ? and type = ? limit 0,1 
2020-11-21 22:22:55.494 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==>  Preparing: select time from email_history_info where id =? 
2020-11-21 22:22:55.494 DEBUG cn.jwis.qualityworkflow.dao.UserMapper.getSuperior[145]  ==> Parameters: gupp2(String), QIMS(String)
2020-11-21 22:22:55.494 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==> Parameters: 1295193219738370048(String)
2020-11-21 22:22:55.506 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  <==      Total: 1
2020-11-21 22:22:55.506 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  <==      Total: 1
2020-11-21 22:22:55.507 DEBUG cn.jwis.qualityworkflow.dao.UserMapper.getSuperior[145]  <==      Total: 0
2020-11-21 22:22:55.507 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==>  Preparing: select time from email_history_info where id =? 
2020-11-21 22:22:55.507 DEBUG c.j.q.dao.UserMapper.getSuperiorManagerByUser[145]  ==>  Preparing: select superior_manager from department_mapping where user_account = ? and type = ? limit 0,1 
2020-11-21 22:22:55.507 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==> Parameters: 1295193220166189056(String)
2020-11-21 22:22:55.507 DEBUG c.j.q.dao.UserMapper.getSuperiorManagerByUser[145]  ==> Parameters: gupp2(String), QIMS(String)
2020-11-21 22:22:55.519 DEBUG c.j.q.dao.UserMapper.getSuperiorManagerByUser[145]  <==      Total: 0
2020-11-21 22:22:55.519 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  <==      Total: 1
2020-11-21 22:22:55.521 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==>  Preparing: select time from email_history_info where id =? 
2020-11-21 22:22:55.522 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==> Parameters: 1286916730144161792(String)
2020-11-21 22:22:55.536 INFO  cn.jwis.qualityworkflow.util.EmailService[142]  qualityadmin email is 
2020-11-21 22:22:55.537 DEBUG cn.jwis.qualityworkflow.dao.UserMapper.getSuperior[145]  ==>  Preparing: select superior from department_mapping where user_account = ? and type = ? limit 0,1 
2020-11-21 22:22:55.537 DEBUG cn.jwis.qualityworkflow.dao.UserMapper.getSuperior[145]  ==> Parameters: qualityadmin(String), COMMON(String)
2020-11-21 22:22:55.542 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  <==      Total: 1
2020-11-21 22:22:55.542 INFO  cn.jwis.qualityworkflow.util.EmailService[142]  xujinbiao email is 
2020-11-21 22:22:55.543 DEBUG cn.jwis.qualityworkflow.dao.UserMapper.getSuperior[145]  ==>  Preparing: select superior from department_mapping where user_account = ? and type = ? limit 0,1 
2020-11-21 22:22:55.543 DEBUG cn.jwis.qualityworkflow.dao.UserMapper.getSuperior[145]  ==> Parameters: xujinbiao(String), COMMON(String)
2020-11-21 22:22:55.552 DEBUG cn.jwis.qualityworkflow.dao.UserMapper.getSuperior[145]  <==      Total: 1
2020-11-21 22:22:55.554 DEBUG cn.jwis.qualityworkflow.dao.UserMapper.getSuperior[145]  <==      Total: 1
2020-11-21 22:22:55.571 INFO  cn.jwis.qualityworkflow.util.EmailService[142]  gupp2 email is null
2020-11-21 22:22:55.571 DEBUG cn.jwis.qualityworkflow.dao.UserMapper.getSuperior[145]  ==>  Preparing: select superior from department_mapping where user_account = ? and type = ? limit 0,1 
2020-11-21 22:22:55.572 DEBUG cn.jwis.qualityworkflow.dao.UserMapper.getSuperior[145]  ==> Parameters: gupp2(String), QIMS(String)
2020-11-21 22:22:55.575 INFO  cn.jwis.qualityworkflow.util.EmailService[142]  qualityadmin email is 
2020-11-21 22:22:55.575 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==>  Preparing: select time from email_history_info where id =? 
2020-11-21 22:22:55.575 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==> Parameters: 1308013116927246336(String)
2020-11-21 22:22:55.581 DEBUG cn.jwis.qualityworkflow.dao.UserMapper.getSuperior[145]  <==      Total: 0
2020-11-21 22:22:55.581 INFO  cn.jwis.qualityworkflow.util.EmailService[142]  hualanlan email is test@jwis.cn
2020-11-21 22:22:55.581 DEBUG c.j.q.dao.UserMapper.getSuperiorManagerByUser[145]  ==>  Preparing: select superior_manager from department_mapping where user_account = ? and type = ? limit 0,1 
2020-11-21 22:22:55.581 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==>  Preparing: select time from email_history_info where id =? 
2020-11-21 22:22:55.581 DEBUG c.j.q.dao.UserMapper.getSuperiorManagerByUser[145]  ==> Parameters: gupp2(String), QIMS(String)
2020-11-21 22:22:55.581 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==> Parameters: 1295193707351375872(String)
2020-11-21 22:22:55.584 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  <==      Total: 0
2020-11-21 22:22:55.589 DEBUG c.j.q.dao.UserMapper.getSuperiorManagerByUser[145]  <==      Total: 0
2020-11-21 22:22:55.589 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  <==      Total: 1
2020-11-21 22:22:55.590 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==>  Preparing: select time from email_history_info where id =? 
2020-11-21 22:22:55.590 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==> Parameters: 1295193707376541696(String)
2020-11-21 22:22:55.591 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==>  Preparing: select time from email_history_info where id =? 
2020-11-21 22:22:55.592 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==> Parameters: 1287933861786812416(String)
2020-11-21 22:22:55.611 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  <==      Total: 1
2020-11-21 22:22:55.612 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  <==      Total: 1
2020-11-21 22:22:55.622 INFO  cn.jwis.qualityworkflow.util.EmailService[142]  kiween email is 
2020-11-21 22:22:55.622 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==>  Preparing: select time from email_history_info where id =? 
2020-11-21 22:22:55.623 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==> Parameters: 1309046852858937344(String)
2020-11-21 22:22:55.632 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  <==      Total: 0
2020-11-21 22:22:55.667 INFO  cn.jwis.qualityworkflow.util.EmailService[142]  xujinbiao email is 
2020-11-21 22:22:55.667 INFO  cn.jwis.qualityworkflow.util.EmailService[142]  hualanlan email is test@jwis.cn
2020-11-21 22:22:55.667 DEBUG cn.jwis.qualityworkflow.dao.UserMapper.getSuperior[145]  ==>  Preparing: select superior from department_mapping where user_account = ? and type = ? limit 0,1 
2020-11-21 22:22:55.667 DEBUG cn.jwis.qualityworkflow.dao.UserMapper.getSuperior[145]  ==>  Preparing: select superior from department_mapping where user_account = ? and type = ? limit 0,1 
2020-11-21 22:22:55.668 DEBUG cn.jwis.qualityworkflow.dao.UserMapper.getSuperior[145]  ==> Parameters: hualanlan(String), QIMS(String)
2020-11-21 22:22:55.668 DEBUG cn.jwis.qualityworkflow.dao.UserMapper.getSuperior[145]  ==> Parameters: xujinbiao(String), COMMON(String)
2020-11-21 22:22:55.671 INFO  cn.jwis.qualityworkflow.util.EmailService[142]  codisan email is kelvin@jwis.cn
2020-11-21 22:22:55.671 DEBUG c.j.qualityworkflow.dao.CommonMapper.getKeyToName[145]  ==>  Preparing: SELECT * FROM key_to_name 
2020-11-21 22:22:55.671 DEBUG c.j.qualityworkflow.dao.CommonMapper.getKeyToName[145]  ==> Parameters: 
2020-11-21 22:22:55.681 DEBUG cn.jwis.qualityworkflow.dao.UserMapper.getSuperior[145]  <==      Total: 1
2020-11-21 22:22:55.682 DEBUG c.j.qualityworkflow.dao.CommonMapper.getKeyToName[145]  <==      Total: 8
2020-11-21 22:22:55.683 DEBUG cn.jwis.qualityworkflow.dao.UserMapper.getSuperior[145]  <==      Total: 1
2020-11-21 22:22:55.683 INFO  cn.jwis.qualityworkflow.util.EmailService[74]  haomiao.liu@jwis.cn send a Mail to kelvin@jwis.cn fail, because null
2020-11-21 22:22:55.683 DEBUG c.j.q.dao.UserMapper.getSuperiorManagerByUser[145]  ==>  Preparing: select superior_manager from department_mapping where user_account = ? and type = ? limit 0,1 
2020-11-21 22:22:55.683 DEBUG c.j.q.dao.UserMapper.getSuperiorManagerByUser[145]  ==> Parameters: hualanlan(String), QIMS(String)
2020-11-21 22:22:55.693 DEBUG c.j.q.dao.UserMapper.getSuperiorManagerByUser[145]  <==      Total: 1
2020-11-21 22:22:55.699 INFO  cn.jwis.qualityworkflow.util.EmailService[142]  hualanlan email is test@jwis.cn
2020-11-21 22:22:55.699 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==>  Preparing: select time from email_history_info where id =? 
2020-11-21 22:22:55.700 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==> Parameters: 1315248790789160960(String)
2020-11-21 22:22:55.705 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  <==      Total: 1
2020-11-21 22:22:55.711 INFO  cn.jwis.qualityworkflow.util.EmailService[142]  workflow3 email is null
2020-11-21 22:22:55.759 INFO  cn.jwis.qualityworkflow.util.EmailService[142]  dz_gyb1 email is test@jwis.cn
2020-11-21 22:22:55.760 INFO  cn.jwis.qualityworkflow.util.EmailService[142]  zhouxianling email is 
2020-11-21 22:22:55.760 DEBUG cn.jwis.qualityworkflow.dao.UserMapper.getSuperior[145]  ==>  Preparing: select superior from department_mapping where user_account = ? and type = ? limit 0,1 
2020-11-21 22:22:55.760 DEBUG c.j.qualityworkflow.dao.TaskRecordMapper.getById[145]  ==>  Preparing: SELECT * from task_record WHERE id = ? 
2020-11-21 22:22:55.760 DEBUG cn.jwis.qualityworkflow.dao.UserMapper.getSuperior[145]  ==> Parameters: dz_gyb1(String), COMMON(String)
2020-11-21 22:22:55.760 DEBUG c.j.qualityworkflow.dao.TaskRecordMapper.getById[145]  ==> Parameters: 1287933861786812416(String)
2020-11-21 22:22:55.770 DEBUG cn.jwis.qualityworkflow.dao.UserMapper.getSuperior[145]  <==      Total: 1
2020-11-21 22:22:55.771 DEBUG c.j.qualityworkflow.dao.TaskRecordMapper.getById[145]  <==      Total: 1
2020-11-21 22:22:55.772 DEBUG c.j.qualityworkflow.dao.CommonMapper.getKeyToName[145]  ==>  Preparing: SELECT * FROM key_to_name 
2020-11-21 22:22:55.772 DEBUG c.j.qualityworkflow.dao.CommonMapper.getKeyToName[145]  ==> Parameters: 
2020-11-21 22:22:55.784 DEBUG c.j.qualityworkflow.dao.CommonMapper.getKeyToName[145]  <==      Total: 8
2020-11-21 22:22:55.785 INFO  cn.jwis.qualityworkflow.util.EmailService[71]  haomiao.liu@jwis.cn send a Mail to test@jwis.cn
2020-11-21 22:22:55.792 INFO  cn.jwis.qualityworkflow.util.EmailService[142]  dz_gyb2 email is jian.song@jwis.cn
2020-11-21 22:22:55.793 DEBUG c.j.qualityworkflow.dao.CommonMapper.getKeyToName[145]  ==>  Preparing: SELECT * FROM key_to_name 
2020-11-21 22:22:55.793 DEBUG c.j.qualityworkflow.dao.CommonMapper.getKeyToName[145]  ==> Parameters: 
2020-11-21 22:22:55.799 DEBUG c.j.qualityworkflow.dao.CommonMapper.getKeyToName[145]  <==      Total: 8
2020-11-21 22:22:55.800 DEBUG c.j.q.m.l.d.L.getLineQualifyDetailednessInfo[145]  ==>  Preparing: SELECT q.*,ar.processInstanceId ,ar.taskId,ar.assignee,ar.taskState,ar.taskName FROM line_qualify_info q,(SELECT workflow_business_id, process_instance_id as processInstanceId,task_id as taskId,assignee,task_state as taskState,task_name taskName FROM task_record WHERE task_id=?) ar where q.id=ar.workflow_business_id 
2020-11-21 22:22:55.800 DEBUG c.j.q.m.l.d.L.getLineQualifyDetailednessInfo[145]  ==> Parameters: 5506556(String)
2020-11-21 22:22:55.819 DEBUG c.j.q.m.l.d.L.getLineQualifyDetailednessInfo[145]  <==      Total: 1
2020-11-21 22:22:55.821 INFO  cn.jwis.qualityworkflow.util.EmailService[69]  haomiao.liu@jwis.cn send a Mail to test@jwis.cn and make a copy for [jian.song@jwis.cn]
2020-11-21 22:22:56.305 ERROR o.s.s.support.TaskUtils$LoggingErrorHandler[96] org.springframework.mail.MailSendException: Failed messages: javax.mail.SendFailedException: Invalid Addresses;
  nested exception is:
	com.sun.mail.smtp.SMTPAddressFailedException: 554 RCPT (kelvin@jwis.cn) dosn't exist

	at org.springframework.mail.javamail.JavaMailSenderImpl.doSend(JavaMailSenderImpl.java:488)
	at org.springframework.mail.javamail.JavaMailSenderImpl.send(JavaMailSenderImpl.java:359)
	at org.springframework.mail.javamail.JavaMailSenderImpl.send(JavaMailSenderImpl.java:354)
	at cn.jwis.qualityworkflow.util.EmailService.sendHtmlMail(EmailService.java:76)
	at cn.jwis.qualityworkflow.modules.qims.service.imp.QimsSendMailServiceImpl.sendEmailTohandler(QimsSendMailServiceImpl.java:161)
	at cn.jwis.qualityworkflow.modules.ipqc.service.imp.AuditQualityProblemServiceImpl.qimsSendMail(AuditQualityProblemServiceImpl.java:321)
	at cn.jwis.qualityworkflow.modules.ipqc.service.imp.AuditQualityProblemServiceImpl$$FastClassBySpringCGLIB$$15ff325f.invoke(<generated>)
	at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:684)
	at cn.jwis.qualityworkflow.modules.ipqc.service.imp.AuditQualityProblemServiceImpl$$EnhancerBySpringCGLIB$$e291a2f3.qimsSendMail(<generated>)
	at cn.jwis.qualityworkflow.modules.ipqc.job.ipqcMailJob.qimsSendMail(ipqcMailJob.java:28)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.springframework.scheduling.support.ScheduledMethodRunnable.run(ScheduledMethodRunnable.java:84)
	at org.springframework.scheduling.support.DelegatingErrorHandlingRunnable.run(DelegatingErrorHandlingRunnable.java:54)
	at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:511)
	at java.util.concurrent.FutureTask.runAndReset(FutureTask.java:308)
	at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.access$301(ScheduledThreadPoolExecutor.java:180)
	at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:294)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)
 Unexpected error occurred in scheduled task.
2020-11-21 22:22:56.362 ERROR o.s.s.support.TaskUtils$LoggingErrorHandler[96] org.springframework.mail.MailSendException: Failed messages: javax.mail.SendFailedException: Invalid Addresses;
  nested exception is:
	com.sun.mail.smtp.SMTPAddressFailedException: 554 RCPT (test@jwis.cn) dosn't exist

	at org.springframework.mail.javamail.JavaMailSenderImpl.doSend(JavaMailSenderImpl.java:488)
	at org.springframework.mail.javamail.JavaMailSenderImpl.send(JavaMailSenderImpl.java:359)
	at org.springframework.mail.javamail.JavaMailSenderImpl.send(JavaMailSenderImpl.java:354)
	at cn.jwis.qualityworkflow.util.EmailService.sendHtmlMail(EmailService.java:76)
	at cn.jwis.qualityworkflow.modules.qims.service.imp.QimsSendMailServiceImpl.sendEmailTohandler(QimsSendMailServiceImpl.java:161)
	at cn.jwis.qualityworkflow.modules.qims.service.imp.QimsSendMailServiceImpl.qimsSendMail(QimsSendMailServiceImpl.java:90)
	at cn.jwis.qualityworkflow.modules.qims.job.qimsMailJob.qimsSendMail(qimsMailJob.java:49)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.springframework.scheduling.support.ScheduledMethodRunnable.run(ScheduledMethodRunnable.java:84)
	at org.springframework.scheduling.support.DelegatingErrorHandlingRunnable.run(DelegatingErrorHandlingRunnable.java:54)
	at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:511)
	at java.util.concurrent.FutureTask.runAndReset(FutureTask.java:308)
	at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.access$301(ScheduledThreadPoolExecutor.java:180)
	at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:294)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)
 Unexpected error occurred in scheduled task.
2020-11-21 22:22:56.510 ERROR o.s.s.support.TaskUtils$LoggingErrorHandler[96] org.springframework.mail.MailSendException: Failed messages: javax.mail.SendFailedException: Invalid Addresses;
  nested exception is:
	com.sun.mail.smtp.SMTPAddressFailedException: 554 RCPT (test@jwis.cn) dosn't exist
;
  nested exception is:
	com.sun.mail.smtp.SMTPAddressFailedException: 554 RCPT (jian.song@jwis.cn) dosn't exist

	at org.springframework.mail.javamail.JavaMailSenderImpl.doSend(JavaMailSenderImpl.java:488)
	at org.springframework.mail.javamail.JavaMailSenderImpl.send(JavaMailSenderImpl.java:359)
	at org.springframework.mail.javamail.JavaMailSenderImpl.send(JavaMailSenderImpl.java:354)
	at cn.jwis.qualityworkflow.util.EmailService.sendHtmlMail(EmailService.java:76)
	at cn.jwis.qualityworkflow.modules.linequalify.service.imp.LineQualifyServiceImpl.sendEmailTohandler(LineQualifyServiceImpl.java:617)
	at cn.jwis.qualityworkflow.modules.linequalify.service.imp.LineQualifyServiceImpl.sendOverTimeMail(LineQualifyServiceImpl.java:594)
	at cn.jwis.qualityworkflow.modules.linequalify.service.imp.LineQualifyServiceImpl$$FastClassBySpringCGLIB$$4ca6f597.invoke(<generated>)
	at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:684)
	at cn.jwis.qualityworkflow.modules.linequalify.service.imp.LineQualifyServiceImpl$$EnhancerBySpringCGLIB$$2a00af9b.sendOverTimeMail(<generated>)
	at cn.jwis.qualityworkflow.modules.linequalify.job.LineQualifyMailJob.sendOverTimeMail(LineQualifyMailJob.java:30)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.springframework.scheduling.support.ScheduledMethodRunnable.run(ScheduledMethodRunnable.java:84)
	at org.springframework.scheduling.support.DelegatingErrorHandlingRunnable.run(DelegatingErrorHandlingRunnable.java:54)
	at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:511)
	at java.util.concurrent.FutureTask.runAndReset(FutureTask.java:308)
	at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.access$301(ScheduledThreadPoolExecutor.java:180)
	at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:294)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)
 Unexpected error occurred in scheduled task.
2020-11-21 22:27:50.278 INFO  c.j.qualityworkflow.modules.ipqc.job.ipqcMailJob[27]  查询IPQC超时任务
2020-11-21 22:27:50.285 DEBUG c.j.q.m.qims.dao.BlackDashBoardMapper.getHoliday[145]  ==>  Preparing: SELECT DISTINCT date FROM holiday_maintenance WHERE type = '节假日' 
2020-11-21 22:27:50.285 DEBUG c.j.q.m.qims.dao.BlackDashBoardMapper.getHoliday[145]  ==> Parameters: 
2020-11-21 22:27:50.285 DEBUG c.j.q.dao.TaskRecordMapper.getOverTimeTaskRecord[145]  ==>  Preparing: SELECT *, HOUR(timediff(now() , create_date)) overTimeNum FROM task_record WHERE template_key = ? AND task_state IS NULL AND task_name = ? AND HOUR(timediff(now() , create_date)) >= ? 
2020-11-21 22:27:50.285 DEBUG c.j.q.dao.TaskRecordMapper.getOverTimeTaskRecord[145]  ==>  Preparing: SELECT *, HOUR(timediff(now() , create_date)) overTimeNum FROM task_record WHERE template_key = ? AND task_state IS NULL AND task_name = ? AND HOUR(timediff(now() , create_date)) >= ? 
2020-11-21 22:27:50.286 DEBUG c.j.q.dao.TaskRecordMapper.getOverTimeTaskRecord[145]  ==> Parameters: Line Qualify(String), 文件收集(String), 2(Integer)
2020-11-21 22:27:50.286 DEBUG c.j.q.dao.TaskRecordMapper.getOverTimeTaskRecord[145]  ==> Parameters: FactoryAuditProcess(String), 部门审核(String), 24(Integer)
2020-11-21 22:27:50.286 DEBUG c.j.q.dao.TaskRecordMapper.getOverTimeTaskRecord2[145]  ==>  Preparing: SELECT *, HOUR(timediff(now() , create_date)) overTimeNum FROM task_record WHERE template_key = ? AND task_state IS NULL AND HOUR(timediff(now() , create_date)) >= ? 
2020-11-21 22:27:50.286 DEBUG c.j.q.dao.TaskRecordMapper.getOverTimeTaskRecord2[145]  ==> Parameters: IPQCAuditProcess(String), 24(Integer)
2020-11-21 22:27:50.295 DEBUG c.j.q.m.qims.dao.BlackDashBoardMapper.getHoliday[145]  <==      Total: 6
2020-11-21 22:27:50.296 DEBUG c.j.q.m.q.d.B.getWorkOvertimeList[145]  ==>  Preparing: SELECT DISTINCT date FROM holiday_maintenance WHERE type = '补班' 
2020-11-21 22:27:50.296 DEBUG c.j.q.m.q.d.B.getWorkOvertimeList[145]  ==> Parameters: 
2020-11-21 22:27:50.300 DEBUG c.j.q.dao.TaskRecordMapper.getOverTimeTaskRecord[145]  <==      Total: 3
2020-11-21 22:27:50.300 DEBUG c.j.q.dao.TaskRecordMapper.getOverTimeTaskRecord[145]  <==      Total: 8
2020-11-21 22:27:50.300 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==>  Preparing: select time from email_history_info where id =? 
2020-11-21 22:27:50.300 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==>  Preparing: select time from email_history_info where id =? 
2020-11-21 22:27:50.300 DEBUG c.j.q.dao.TaskRecordMapper.getOverTimeTaskRecord2[145]  <==      Total: 18
2020-11-21 22:27:50.300 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==> Parameters: 1295192540470837248(String)
2020-11-21 22:27:50.300 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==> Parameters: 1294123945645047808(String)
2020-11-21 22:27:50.301 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==>  Preparing: select time from email_history_info where id =? 
2020-11-21 22:27:50.301 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==> Parameters: 1303868320843300864(String)
2020-11-21 22:27:50.305 DEBUG c.j.q.m.q.d.B.getWorkOvertimeList[145]  <==      Total: 4
2020-11-21 22:27:50.306 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getLtStandard[145]  ==>  Preparing: select * from qims_lt_standard_info 
2020-11-21 22:27:50.306 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getLtStandard[145]  ==> Parameters: 
2020-11-21 22:27:50.309 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  <==      Total: 1
2020-11-21 22:27:50.309 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==>  Preparing: select time from email_history_info where id =? 
2020-11-21 22:27:50.309 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==> Parameters: 1295192619508301824(String)
2020-11-21 22:27:50.311 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  <==      Total: 1
2020-11-21 22:27:50.311 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  <==      Total: 1
2020-11-21 22:27:50.311 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==>  Preparing: select time from email_history_info where id =? 
2020-11-21 22:27:50.311 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==> Parameters: 1303868347422605312(String)
2020-11-21 22:27:50.313 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getLtStandard[145]  <==      Total: 8
2020-11-21 22:27:50.314 INFO  c.j.qualityworkflow.modules.qims.job.qimsMailJob[47]  查询黑色问题超过LT的信息
2020-11-21 22:27:50.314 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getBlackList[145]  ==>  Preparing: select * from task_record where task_name in('初步原因分析','根本原因分析','根本原因审核') and task_state is null and template_key='QIMSBLACK' 
2020-11-21 22:27:50.314 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getBlackList[145]  ==> Parameters: 
2020-11-21 22:27:50.317 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  <==      Total: 1
2020-11-21 22:27:50.317 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==>  Preparing: select time from email_history_info where id =? 
2020-11-21 22:27:50.317 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==> Parameters: 1299240419787276288(String)
2020-11-21 22:27:50.318 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  <==      Total: 1
2020-11-21 22:27:50.318 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==>  Preparing: select time from email_history_info where id =? 
2020-11-21 22:27:50.318 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==> Parameters: 1303868393815801856(String)
2020-11-21 22:27:50.331 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  <==      Total: 1
2020-11-21 22:27:50.331 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  <==      Total: 1
2020-11-21 22:27:50.331 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==>  Preparing: select time from email_history_info where id =? 
2020-11-21 22:27:50.331 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==> Parameters: 1303937438065885184(String)
2020-11-21 22:27:50.352 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getBlackList[145]  <==      Total: 16
2020-11-21 22:27:50.354 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==>  Preparing: select time from email_history_info where id =? 
2020-11-21 22:27:50.354 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==> Parameters: 1286902446076985344(String)
2020-11-21 22:27:50.369 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  <==      Total: 1
2020-11-21 22:27:50.369 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==>  Preparing: select time from email_history_info where id =? 
2020-11-21 22:27:50.369 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==> Parameters: 1303939538460082176(String)
2020-11-21 22:27:50.370 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  <==      Total: 1
2020-11-21 22:27:50.376 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  <==      Total: 1
2020-11-21 22:27:50.377 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==>  Preparing: select time from email_history_info where id =? 
2020-11-21 22:27:50.377 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==> Parameters: 1303939599889858560(String)
2020-11-21 22:27:50.387 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  <==      Total: 1
2020-11-21 22:27:50.387 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==>  Preparing: select time from email_history_info where id =? 
2020-11-21 22:27:50.387 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==> Parameters: 1306059696263659520(String)
2020-11-21 22:27:50.394 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  <==      Total: 1
2020-11-21 22:27:50.394 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==>  Preparing: select time from email_history_info where id =? 
2020-11-21 22:27:50.395 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==> Parameters: 1306155886347026432(String)
2020-11-21 22:27:50.402 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  <==      Total: 1
2020-11-21 22:27:50.402 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==>  Preparing: select time from email_history_info where id =? 
2020-11-21 22:27:50.402 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==> Parameters: 1306201167000240128(String)
2020-11-21 22:27:50.411 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  <==      Total: 1
2020-11-21 22:27:50.412 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==>  Preparing: select time from email_history_info where id =? 
2020-11-21 22:27:50.412 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==> Parameters: 1308013106458263552(String)
2020-11-21 22:27:50.419 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  <==      Total: 0
2020-11-21 22:27:55.352 DEBUG cn.jwis.qualityworkflow.util.EmailService[144]  get handler mail from http://gateway.dev.jwis.io/platform/sys/user/internal-read?name=qualityadmin happen error cause:I/O error on GET request for "http://gateway.dev.jwis.io/platform/sys/user/internal-read": connect timed out; nested exception is java.net.SocketTimeoutException: connect timed out
2020-11-21 22:27:55.352 DEBUG cn.jwis.qualityworkflow.util.EmailService[144]  get handler mail from http://gateway.dev.jwis.io/platform/sys/user/internal-read?name=dz_gyb1 happen error cause:I/O error on GET request for "http://gateway.dev.jwis.io/platform/sys/user/internal-read": connect timed out; nested exception is java.net.SocketTimeoutException: connect timed out
2020-11-21 22:27:55.370 DEBUG cn.jwis.qualityworkflow.util.EmailService[144]  get handler mail from http://gateway.dev.jwis.io/platform/sys/user/internal-read?name=hualanlan happen error cause:I/O error on GET request for "http://gateway.dev.jwis.io/platform/sys/user/internal-read": connect timed out; nested exception is java.net.SocketTimeoutException: connect timed out
2020-11-21 22:27:55.420 DEBUG cn.jwis.qualityworkflow.util.EmailService[144]  get handler mail from http://gateway.dev.jwis.io/platform/sys/user/internal-read?name=kiween happen error cause:I/O error on GET request for "http://gateway.dev.jwis.io/platform/sys/user/internal-read": connect timed out; nested exception is java.net.SocketTimeoutException: connect timed out
2020-11-21 22:27:55.474 DEBUG cn.jwis.qualityworkflow.dao.UserMapper.getSuperior[145]  ==>  Preparing: select superior from department_mapping where user_account = ? and type = ? limit 0,1 
2020-11-21 22:27:55.474 DEBUG cn.jwis.qualityworkflow.dao.UserMapper.getSuperior[145]  ==> Parameters: qualityadmin(String), COMMON(String)
2020-11-21 22:27:55.476 DEBUG cn.jwis.qualityworkflow.dao.UserMapper.getSuperior[145]  ==>  Preparing: select superior from department_mapping where user_account = ? and type = ? limit 0,1 
2020-11-21 22:27:55.476 DEBUG cn.jwis.qualityworkflow.dao.UserMapper.getSuperior[145]  ==> Parameters: dz_gyb1(String), COMMON(String)
2020-11-21 22:27:55.507 DEBUG cn.jwis.qualityworkflow.dao.UserMapper.getSuperior[145]  ==>  Preparing: select superior from department_mapping where user_account = ? and type = ? limit 0,1 
2020-11-21 22:27:55.507 DEBUG cn.jwis.qualityworkflow.dao.UserMapper.getSuperior[145]  ==> Parameters: hualanlan(String), QIMS(String)
2020-11-21 22:27:55.507 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==>  Preparing: select time from email_history_info where id =? 
2020-11-21 22:27:55.508 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==> Parameters: 1308013110702899200(String)
2020-11-21 22:27:55.508 DEBUG cn.jwis.qualityworkflow.dao.UserMapper.getSuperior[145]  <==      Total: 1
2020-11-21 22:27:55.508 DEBUG cn.jwis.qualityworkflow.dao.UserMapper.getSuperior[145]  <==      Total: 1
2020-11-21 22:27:55.518 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  <==      Total: 1
2020-11-21 22:27:55.519 DEBUG cn.jwis.qualityworkflow.dao.UserMapper.getSuperior[145]  <==      Total: 1
2020-11-21 22:27:55.520 DEBUG c.j.q.dao.UserMapper.getSuperiorManagerByUser[145]  ==>  Preparing: select superior_manager from department_mapping where user_account = ? and type = ? limit 0,1 
2020-11-21 22:27:55.520 DEBUG c.j.q.dao.UserMapper.getSuperiorManagerByUser[145]  ==> Parameters: hualanlan(String), QIMS(String)
2020-11-21 22:27:55.602 INFO  cn.jwis.qualityworkflow.util.EmailService[142]  qualityadmin email is 
2020-11-21 22:27:55.602 INFO  c.j.q.m.factoryaudit.job.AuditQuestionMailJob[31]  邮件下发结束
2020-11-21 22:27:55.613 DEBUG c.j.q.dao.UserMapper.getSuperiorManagerByUser[145]  <==      Total: 1
2020-11-21 22:27:55.615 INFO  cn.jwis.qualityworkflow.util.EmailService[142]  dz_gyb2 email is jian.song@jwis.cn
2020-11-21 22:27:55.615 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==>  Preparing: select time from email_history_info where id =? 
2020-11-21 22:27:55.616 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==> Parameters: 1294123945682796544(String)
2020-11-21 22:27:55.622 INFO  cn.jwis.qualityworkflow.util.EmailService[142]  qualityadmin email is 
2020-11-21 22:27:55.622 DEBUG cn.jwis.qualityworkflow.dao.UserMapper.getSuperior[145]  ==>  Preparing: select superior from department_mapping where user_account = ? and type = ? limit 0,1 
2020-11-21 22:27:55.623 DEBUG cn.jwis.qualityworkflow.dao.UserMapper.getSuperior[145]  ==> Parameters: qualityadmin(String), COMMON(String)
2020-11-21 22:27:55.725 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  <==      Total: 1
2020-11-21 22:27:55.726 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==>  Preparing: select time from email_history_info where id =? 
2020-11-21 22:27:55.726 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==> Parameters: 1294123945716350976(String)
2020-11-21 22:27:55.743 DEBUG cn.jwis.qualityworkflow.dao.UserMapper.getSuperior[145]  <==      Total: 1
2020-11-21 22:27:55.750 INFO  cn.jwis.qualityworkflow.util.EmailService[142]  workflow3 email is null
2020-11-21 22:27:55.816 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  <==      Total: 1
2020-11-21 22:27:55.828 INFO  cn.jwis.qualityworkflow.util.EmailService[142]  qualityadmin email is 
2020-11-21 22:27:55.828 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==>  Preparing: select time from email_history_info where id =? 
2020-11-21 22:27:55.829 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==> Parameters: 1308013113928318976(String)
2020-11-21 22:27:55.830 INFO  cn.jwis.qualityworkflow.util.EmailService[142]  zhouxianling email is 
2020-11-21 22:27:55.832 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==>  Preparing: select time from email_history_info where id =? 
2020-11-21 22:27:55.832 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==> Parameters: 1286904434760089600(String)
2020-11-21 22:27:55.947 INFO  cn.jwis.qualityworkflow.util.EmailService[142]  xujinbiao email is 
2020-11-21 22:27:55.948 DEBUG cn.jwis.qualityworkflow.dao.UserMapper.getSuperior[145]  ==>  Preparing: select superior from department_mapping where user_account = ? and type = ? limit 0,1 
2020-11-21 22:27:55.948 DEBUG cn.jwis.qualityworkflow.dao.UserMapper.getSuperior[145]  ==> Parameters: xujinbiao(String), COMMON(String)
2020-11-21 22:27:56.257 DEBUG cn.jwis.qualityworkflow.dao.UserMapper.getSuperior[145]  <==      Total: 1
2020-11-21 22:27:56.257 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  <==      Total: 1
2020-11-21 22:27:56.257 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  <==      Total: 1
2020-11-21 22:27:56.291 INFO  cn.jwis.qualityworkflow.util.EmailService[142]  hualanlan email is test@jwis.cn
2020-11-21 22:27:56.291 INFO  cn.jwis.qualityworkflow.util.EmailService[142]  qualityadmin email is 
2020-11-21 22:27:56.292 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==>  Preparing: select time from email_history_info where id =? 
2020-11-21 22:27:56.292 DEBUG cn.jwis.qualityworkflow.dao.UserMapper.getSuperior[145]  ==>  Preparing: select superior from department_mapping where user_account = ? and type = ? limit 0,1 
2020-11-21 22:27:56.292 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==> Parameters: 1295193219738370048(String)
2020-11-21 22:27:56.292 DEBUG cn.jwis.qualityworkflow.dao.UserMapper.getSuperior[145]  ==> Parameters: qualityadmin(String), COMMON(String)
2020-11-21 22:27:56.298 INFO  cn.jwis.qualityworkflow.util.EmailService[142]  gupp2 email is null
2020-11-21 22:27:56.298 DEBUG cn.jwis.qualityworkflow.dao.UserMapper.getSuperior[145]  ==>  Preparing: select superior from department_mapping where user_account = ? and type = ? limit 0,1 
2020-11-21 22:27:56.298 DEBUG cn.jwis.qualityworkflow.dao.UserMapper.getSuperior[145]  ==> Parameters: gupp2(String), QIMS(String)
2020-11-21 22:27:56.299 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  <==      Total: 1
2020-11-21 22:27:56.299 DEBUG cn.jwis.qualityworkflow.dao.UserMapper.getSuperior[145]  <==      Total: 1
2020-11-21 22:27:56.300 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==>  Preparing: select time from email_history_info where id =? 
2020-11-21 22:27:56.300 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==> Parameters: 1295193220166189056(String)
2020-11-21 22:27:56.306 DEBUG cn.jwis.qualityworkflow.dao.UserMapper.getSuperior[145]  <==      Total: 0
2020-11-21 22:27:56.306 DEBUG c.j.q.dao.UserMapper.getSuperiorManagerByUser[145]  ==>  Preparing: select superior_manager from department_mapping where user_account = ? and type = ? limit 0,1 
2020-11-21 22:27:56.307 DEBUG c.j.q.dao.UserMapper.getSuperiorManagerByUser[145]  ==> Parameters: gupp2(String), QIMS(String)
2020-11-21 22:27:56.309 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  <==      Total: 1
2020-11-21 22:27:56.315 DEBUG c.j.q.dao.UserMapper.getSuperiorManagerByUser[145]  <==      Total: 0
2020-11-21 22:27:56.317 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==>  Preparing: select time from email_history_info where id =? 
2020-11-21 22:27:56.317 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==> Parameters: 1286916730144161792(String)
2020-11-21 22:27:56.327 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  <==      Total: 1
2020-11-21 22:27:56.366 INFO  cn.jwis.qualityworkflow.util.EmailService[142]  qualityadmin email is 
2020-11-21 22:27:56.366 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==>  Preparing: select time from email_history_info where id =? 
2020-11-21 22:27:56.367 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==> Parameters: 1308013116927246336(String)
2020-11-21 22:27:56.371 INFO  cn.jwis.qualityworkflow.util.EmailService[142]  xujinbiao email is 
2020-11-21 22:27:56.372 DEBUG cn.jwis.qualityworkflow.dao.UserMapper.getSuperior[145]  ==>  Preparing: select superior from department_mapping where user_account = ? and type = ? limit 0,1 
2020-11-21 22:27:56.372 DEBUG cn.jwis.qualityworkflow.dao.UserMapper.getSuperior[145]  ==> Parameters: xujinbiao(String), COMMON(String)
2020-11-21 22:27:56.375 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  <==      Total: 0
2020-11-21 22:27:56.375 INFO  cn.jwis.qualityworkflow.util.EmailService[142]  gupp2 email is null
2020-11-21 22:27:56.375 DEBUG cn.jwis.qualityworkflow.dao.UserMapper.getSuperior[145]  ==>  Preparing: select superior from department_mapping where user_account = ? and type = ? limit 0,1 
2020-11-21 22:27:56.376 DEBUG cn.jwis.qualityworkflow.dao.UserMapper.getSuperior[145]  ==> Parameters: gupp2(String), QIMS(String)
2020-11-21 22:27:56.389 DEBUG cn.jwis.qualityworkflow.dao.UserMapper.getSuperior[145]  <==      Total: 0
2020-11-21 22:27:56.389 DEBUG cn.jwis.qualityworkflow.dao.UserMapper.getSuperior[145]  <==      Total: 1
2020-11-21 22:27:56.389 DEBUG c.j.q.dao.UserMapper.getSuperiorManagerByUser[145]  ==>  Preparing: select superior_manager from department_mapping where user_account = ? and type = ? limit 0,1 
2020-11-21 22:27:56.389 DEBUG c.j.q.dao.UserMapper.getSuperiorManagerByUser[145]  ==> Parameters: gupp2(String), QIMS(String)
2020-11-21 22:27:56.407 DEBUG c.j.q.dao.UserMapper.getSuperiorManagerByUser[145]  <==      Total: 0
2020-11-21 22:27:56.408 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==>  Preparing: select time from email_history_info where id =? 
2020-11-21 22:27:56.409 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==> Parameters: 1287933861786812416(String)
2020-11-21 22:27:56.416 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  <==      Total: 1
2020-11-21 22:27:56.469 INFO  cn.jwis.qualityworkflow.util.EmailService[142]  kiween email is 
2020-11-21 22:27:56.469 INFO  cn.jwis.qualityworkflow.util.EmailService[142]  hualanlan email is test@jwis.cn
2020-11-21 22:27:56.469 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==>  Preparing: select time from email_history_info where id =? 
2020-11-21 22:27:56.469 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==>  Preparing: select time from email_history_info where id =? 
2020-11-21 22:27:56.470 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==> Parameters: 1295193707351375872(String)
2020-11-21 22:27:56.470 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==> Parameters: 1309046852858937344(String)
2020-11-21 22:27:56.474 INFO  cn.jwis.qualityworkflow.util.EmailService[142]  hualanlan email is test@jwis.cn
2020-11-21 22:27:56.474 DEBUG cn.jwis.qualityworkflow.dao.UserMapper.getSuperior[145]  ==>  Preparing: select superior from department_mapping where user_account = ? and type = ? limit 0,1 
2020-11-21 22:27:56.474 DEBUG cn.jwis.qualityworkflow.dao.UserMapper.getSuperior[145]  ==> Parameters: hualanlan(String), QIMS(String)
2020-11-21 22:27:56.479 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  <==      Total: 1
2020-11-21 22:27:56.480 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==>  Preparing: select time from email_history_info where id =? 
2020-11-21 22:27:56.480 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  <==      Total: 0
2020-11-21 22:27:56.480 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==> Parameters: 1295193707376541696(String)
2020-11-21 22:27:56.488 DEBUG cn.jwis.qualityworkflow.dao.UserMapper.getSuperior[145]  <==      Total: 1
2020-11-21 22:27:56.488 DEBUG c.j.q.dao.UserMapper.getSuperiorManagerByUser[145]  ==>  Preparing: select superior_manager from department_mapping where user_account = ? and type = ? limit 0,1 
2020-11-21 22:27:56.489 DEBUG c.j.q.dao.UserMapper.getSuperiorManagerByUser[145]  ==> Parameters: hualanlan(String), QIMS(String)
2020-11-21 22:27:56.491 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  <==      Total: 1
2020-11-21 22:27:56.521 DEBUG c.j.q.dao.UserMapper.getSuperiorManagerByUser[145]  <==      Total: 1
2020-11-21 22:27:56.556 INFO  cn.jwis.qualityworkflow.util.EmailService[142]  codisan email is kelvin@jwis.cn
2020-11-21 22:27:56.557 DEBUG c.j.qualityworkflow.dao.CommonMapper.getKeyToName[145]  ==>  Preparing: SELECT * FROM key_to_name 
2020-11-21 22:27:56.557 DEBUG c.j.qualityworkflow.dao.CommonMapper.getKeyToName[145]  ==> Parameters: 
2020-11-21 22:27:56.570 INFO  cn.jwis.qualityworkflow.util.EmailService[142]  workflow3 email is null
2020-11-21 22:27:56.570 INFO  cn.jwis.qualityworkflow.util.EmailService[142]  xujinbiao email is 
2020-11-21 22:27:56.570 DEBUG c.j.qualityworkflow.dao.CommonMapper.getKeyToName[145]  <==      Total: 8
2020-11-21 22:27:56.571 DEBUG cn.jwis.qualityworkflow.dao.UserMapper.getSuperior[145]  ==>  Preparing: select superior from department_mapping where user_account = ? and type = ? limit 0,1 
2020-11-21 22:27:56.571 DEBUG cn.jwis.qualityworkflow.dao.UserMapper.getSuperior[145]  ==> Parameters: xujinbiao(String), COMMON(String)
2020-11-21 22:27:56.572 INFO  cn.jwis.qualityworkflow.util.EmailService[74]  haomiao.liu@jwis.cn send a Mail to kelvin@jwis.cn fail, because null
2020-11-21 22:27:56.609 DEBUG cn.jwis.qualityworkflow.dao.UserMapper.getSuperior[145]  <==      Total: 1
2020-11-21 22:27:56.613 INFO  cn.jwis.qualityworkflow.util.EmailService[142]  zhouxianling email is 
2020-11-21 22:27:56.613 DEBUG c.j.qualityworkflow.dao.TaskRecordMapper.getById[145]  ==>  Preparing: SELECT * from task_record WHERE id = ? 
2020-11-21 22:27:56.613 DEBUG c.j.qualityworkflow.dao.TaskRecordMapper.getById[145]  ==> Parameters: 1287933861786812416(String)
2020-11-21 22:27:56.785 DEBUG c.j.qualityworkflow.dao.TaskRecordMapper.getById[145]  <==      Total: 1
2020-11-21 22:27:56.785 INFO  cn.jwis.qualityworkflow.util.EmailService[142]  hualanlan email is test@jwis.cn
2020-11-21 22:27:56.786 DEBUG c.j.qualityworkflow.dao.CommonMapper.getKeyToName[145]  ==>  Preparing: SELECT * FROM key_to_name 
2020-11-21 22:27:56.786 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==>  Preparing: select time from email_history_info where id =? 
2020-11-21 22:27:56.786 DEBUG c.j.qualityworkflow.dao.CommonMapper.getKeyToName[145]  ==> Parameters: 
2020-11-21 22:27:56.787 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==> Parameters: 1315248790789160960(String)
2020-11-21 22:27:56.806 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  <==      Total: 1
2020-11-21 22:27:56.806 DEBUG c.j.qualityworkflow.dao.CommonMapper.getKeyToName[145]  <==      Total: 8
2020-11-21 22:27:56.807 INFO  cn.jwis.qualityworkflow.util.EmailService[71]  haomiao.liu@jwis.cn send a Mail to test@jwis.cn
2020-11-21 22:27:56.863 INFO  cn.jwis.qualityworkflow.util.EmailService[142]  dz_gyb1 email is test@jwis.cn
2020-11-21 22:27:56.863 DEBUG cn.jwis.qualityworkflow.dao.UserMapper.getSuperior[145]  ==>  Preparing: select superior from department_mapping where user_account = ? and type = ? limit 0,1 
2020-11-21 22:27:56.864 DEBUG cn.jwis.qualityworkflow.dao.UserMapper.getSuperior[145]  ==> Parameters: dz_gyb1(String), COMMON(String)
2020-11-21 22:27:56.887 DEBUG cn.jwis.qualityworkflow.dao.UserMapper.getSuperior[145]  <==      Total: 1
2020-11-21 22:27:56.924 INFO  cn.jwis.qualityworkflow.util.EmailService[142]  dz_gyb2 email is jian.song@jwis.cn
2020-11-21 22:27:56.925 DEBUG c.j.qualityworkflow.dao.CommonMapper.getKeyToName[145]  ==>  Preparing: SELECT * FROM key_to_name 
2020-11-21 22:27:56.925 DEBUG c.j.qualityworkflow.dao.CommonMapper.getKeyToName[145]  ==> Parameters: 
2020-11-21 22:27:56.942 DEBUG c.j.qualityworkflow.dao.CommonMapper.getKeyToName[145]  <==      Total: 8
2020-11-21 22:27:56.942 DEBUG c.j.q.m.l.d.L.getLineQualifyDetailednessInfo[145]  ==>  Preparing: SELECT q.*,ar.processInstanceId ,ar.taskId,ar.assignee,ar.taskState,ar.taskName FROM line_qualify_info q,(SELECT workflow_business_id, process_instance_id as processInstanceId,task_id as taskId,assignee,task_state as taskState,task_name taskName FROM task_record WHERE task_id=?) ar where q.id=ar.workflow_business_id 
2020-11-21 22:27:56.942 DEBUG c.j.q.m.l.d.L.getLineQualifyDetailednessInfo[145]  ==> Parameters: 5506556(String)
2020-11-21 22:27:56.956 DEBUG c.j.q.m.l.d.L.getLineQualifyDetailednessInfo[145]  <==      Total: 1
2020-11-21 22:27:56.957 INFO  cn.jwis.qualityworkflow.util.EmailService[69]  haomiao.liu@jwis.cn send a Mail to test@jwis.cn and make a copy for [jian.song@jwis.cn]
2020-11-21 22:27:57.624 ERROR o.s.s.support.TaskUtils$LoggingErrorHandler[96] org.springframework.mail.MailSendException: Failed messages: javax.mail.SendFailedException: Invalid Addresses;
  nested exception is:
	com.sun.mail.smtp.SMTPAddressFailedException: 554 RCPT (kelvin@jwis.cn) dosn't exist

	at org.springframework.mail.javamail.JavaMailSenderImpl.doSend(JavaMailSenderImpl.java:488)
	at org.springframework.mail.javamail.JavaMailSenderImpl.send(JavaMailSenderImpl.java:359)
	at org.springframework.mail.javamail.JavaMailSenderImpl.send(JavaMailSenderImpl.java:354)
	at cn.jwis.qualityworkflow.util.EmailService.sendHtmlMail(EmailService.java:76)
	at cn.jwis.qualityworkflow.modules.qims.service.imp.QimsSendMailServiceImpl.sendEmailTohandler(QimsSendMailServiceImpl.java:161)
	at cn.jwis.qualityworkflow.modules.ipqc.service.imp.AuditQualityProblemServiceImpl.qimsSendMail(AuditQualityProblemServiceImpl.java:321)
	at cn.jwis.qualityworkflow.modules.ipqc.service.imp.AuditQualityProblemServiceImpl$$FastClassBySpringCGLIB$$15ff325f.invoke(<generated>)
	at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:684)
	at cn.jwis.qualityworkflow.modules.ipqc.service.imp.AuditQualityProblemServiceImpl$$EnhancerBySpringCGLIB$$e291a2f3.qimsSendMail(<generated>)
	at cn.jwis.qualityworkflow.modules.ipqc.job.ipqcMailJob.qimsSendMail(ipqcMailJob.java:28)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.springframework.scheduling.support.ScheduledMethodRunnable.run(ScheduledMethodRunnable.java:84)
	at org.springframework.scheduling.support.DelegatingErrorHandlingRunnable.run(DelegatingErrorHandlingRunnable.java:54)
	at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:511)
	at java.util.concurrent.FutureTask.runAndReset(FutureTask.java:308)
	at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.access$301(ScheduledThreadPoolExecutor.java:180)
	at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:294)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)
 Unexpected error occurred in scheduled task.
2020-11-21 22:27:57.695 ERROR o.s.s.support.TaskUtils$LoggingErrorHandler[96] org.springframework.mail.MailSendException: Failed messages: javax.mail.SendFailedException: Invalid Addresses;
  nested exception is:
	com.sun.mail.smtp.SMTPAddressFailedException: 554 RCPT (test@jwis.cn) dosn't exist

	at org.springframework.mail.javamail.JavaMailSenderImpl.doSend(JavaMailSenderImpl.java:488)
	at org.springframework.mail.javamail.JavaMailSenderImpl.send(JavaMailSenderImpl.java:359)
	at org.springframework.mail.javamail.JavaMailSenderImpl.send(JavaMailSenderImpl.java:354)
	at cn.jwis.qualityworkflow.util.EmailService.sendHtmlMail(EmailService.java:76)
	at cn.jwis.qualityworkflow.modules.qims.service.imp.QimsSendMailServiceImpl.sendEmailTohandler(QimsSendMailServiceImpl.java:161)
	at cn.jwis.qualityworkflow.modules.qims.service.imp.QimsSendMailServiceImpl.qimsSendMail(QimsSendMailServiceImpl.java:90)
	at cn.jwis.qualityworkflow.modules.qims.job.qimsMailJob.qimsSendMail(qimsMailJob.java:49)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.springframework.scheduling.support.ScheduledMethodRunnable.run(ScheduledMethodRunnable.java:84)
	at org.springframework.scheduling.support.DelegatingErrorHandlingRunnable.run(DelegatingErrorHandlingRunnable.java:54)
	at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:511)
	at java.util.concurrent.FutureTask.runAndReset(FutureTask.java:308)
	at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.access$301(ScheduledThreadPoolExecutor.java:180)
	at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:294)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)
 Unexpected error occurred in scheduled task.
2020-11-21 22:27:57.868 ERROR o.s.s.support.TaskUtils$LoggingErrorHandler[96] org.springframework.mail.MailSendException: Failed messages: javax.mail.SendFailedException: Invalid Addresses;
  nested exception is:
	com.sun.mail.smtp.SMTPAddressFailedException: 554 RCPT (test@jwis.cn) dosn't exist
;
  nested exception is:
	com.sun.mail.smtp.SMTPAddressFailedException: 554 RCPT (jian.song@jwis.cn) dosn't exist

	at org.springframework.mail.javamail.JavaMailSenderImpl.doSend(JavaMailSenderImpl.java:488)
	at org.springframework.mail.javamail.JavaMailSenderImpl.send(JavaMailSenderImpl.java:359)
	at org.springframework.mail.javamail.JavaMailSenderImpl.send(JavaMailSenderImpl.java:354)
	at cn.jwis.qualityworkflow.util.EmailService.sendHtmlMail(EmailService.java:76)
	at cn.jwis.qualityworkflow.modules.linequalify.service.imp.LineQualifyServiceImpl.sendEmailTohandler(LineQualifyServiceImpl.java:617)
	at cn.jwis.qualityworkflow.modules.linequalify.service.imp.LineQualifyServiceImpl.sendOverTimeMail(LineQualifyServiceImpl.java:594)
	at cn.jwis.qualityworkflow.modules.linequalify.service.imp.LineQualifyServiceImpl$$FastClassBySpringCGLIB$$4ca6f597.invoke(<generated>)
	at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:684)
	at cn.jwis.qualityworkflow.modules.linequalify.service.imp.LineQualifyServiceImpl$$EnhancerBySpringCGLIB$$2a00af9b.sendOverTimeMail(<generated>)
	at cn.jwis.qualityworkflow.modules.linequalify.job.LineQualifyMailJob.sendOverTimeMail(LineQualifyMailJob.java:30)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.springframework.scheduling.support.ScheduledMethodRunnable.run(ScheduledMethodRunnable.java:84)
	at org.springframework.scheduling.support.DelegatingErrorHandlingRunnable.run(DelegatingErrorHandlingRunnable.java:54)
	at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:511)
	at java.util.concurrent.FutureTask.runAndReset(FutureTask.java:308)
	at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.access$301(ScheduledThreadPoolExecutor.java:180)
	at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:294)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)
 Unexpected error occurred in scheduled task.
2020-11-21 22:30:00.018 INFO  c.j.q.m.t.T.TraceabilityMachineTimerManager[50]  设备定时任务开启
2020-11-21 22:30:00.035 DEBUG c.j.q.m.t.d.T.getTraceabilityMachineList[145]  ==>  Preparing: select table_name from traceability_machine_data group by table_name 
2020-11-21 22:30:00.036 DEBUG c.j.q.m.t.d.T.getTraceabilityMachineList[145]  ==> Parameters: 
2020-11-21 22:30:00.050 DEBUG c.j.q.m.t.d.T.getTraceabilityMachineList[145]  <==      Total: 5
2020-11-21 22:30:00.051 DEBUG c.j.q.m.t.d.T.getTraceabilityMachineFiledName[145]  ==>  Preparing: select filed_name from traceability_machine_data where table_name=? 
2020-11-21 22:30:00.051 DEBUG c.j.q.m.t.d.T.getTraceabilityMachineFiledName[145]  ==> Parameters: dust_free_shed(String)
2020-11-21 22:30:00.080 DEBUG c.j.q.m.t.d.T.getTraceabilityMachineFiledName[145]  <==      Total: 11
2020-11-21 22:30:00.080 DEBUG c.j.q.m.t.d.T.getMaxCreateTime[145]  ==>  Preparing: select max(createtime) from dust_free_shed 
2020-11-21 22:30:00.080 DEBUG c.j.q.m.t.d.T.getMaxCreateTime[145]  ==> Parameters: 
2020-11-21 22:30:00.158 DEBUG c.j.q.m.t.d.T.getMaxCreateTime[145]  <==      Total: 1
2020-11-21 22:30:00.162 ERROR o.s.s.support.TaskUtils$LoggingErrorHandler[96] java.lang.NullPointerException: null
	at cn.jwis.qualityworkflow.modules.traceablity.TimerManager.TraceabilityMachineTimerManager.getLenovoMachineData(TraceabilityMachineTimerManager.java:105)
	at cn.jwis.qualityworkflow.modules.traceablity.TimerManager.TraceabilityMachineTimerManager.MachineTimerManager(TraceabilityMachineTimerManager.java:57)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.springframework.scheduling.support.ScheduledMethodRunnable.run(ScheduledMethodRunnable.java:84)
	at org.springframework.scheduling.support.DelegatingErrorHandlingRunnable.run(DelegatingErrorHandlingRunnable.java:54)
	at org.springframework.scheduling.concurrent.ReschedulingRunnable.run(ReschedulingRunnable.java:93)
	at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:511)
	at java.util.concurrent.FutureTask.run(FutureTask.java:266)
	at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.access$201(ScheduledThreadPoolExecutor.java:180)
	at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:293)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)
 Unexpected error occurred in scheduled task.
2020-11-21 22:32:50.287 INFO  c.j.qualityworkflow.modules.ipqc.job.ipqcMailJob[27]  查询IPQC超时任务
2020-11-21 22:32:50.294 DEBUG c.j.q.m.qims.dao.BlackDashBoardMapper.getHoliday[145]  ==>  Preparing: SELECT DISTINCT date FROM holiday_maintenance WHERE type = '节假日' 
2020-11-21 22:32:50.294 DEBUG c.j.q.dao.TaskRecordMapper.getOverTimeTaskRecord[145]  ==>  Preparing: SELECT *, HOUR(timediff(now() , create_date)) overTimeNum FROM task_record WHERE template_key = ? AND task_state IS NULL AND task_name = ? AND HOUR(timediff(now() , create_date)) >= ? 
2020-11-21 22:32:50.294 DEBUG c.j.q.m.qims.dao.BlackDashBoardMapper.getHoliday[145]  ==> Parameters: 
2020-11-21 22:32:50.294 DEBUG c.j.q.dao.TaskRecordMapper.getOverTimeTaskRecord[145]  ==> Parameters: FactoryAuditProcess(String), 部门审核(String), 24(Integer)
2020-11-21 22:32:50.294 DEBUG c.j.q.dao.TaskRecordMapper.getOverTimeTaskRecord[145]  ==>  Preparing: SELECT *, HOUR(timediff(now() , create_date)) overTimeNum FROM task_record WHERE template_key = ? AND task_state IS NULL AND task_name = ? AND HOUR(timediff(now() , create_date)) >= ? 
2020-11-21 22:32:50.295 DEBUG c.j.q.dao.TaskRecordMapper.getOverTimeTaskRecord[145]  ==> Parameters: Line Qualify(String), 文件收集(String), 2(Integer)
2020-11-21 22:32:50.295 DEBUG c.j.q.dao.TaskRecordMapper.getOverTimeTaskRecord2[145]  ==>  Preparing: SELECT *, HOUR(timediff(now() , create_date)) overTimeNum FROM task_record WHERE template_key = ? AND task_state IS NULL AND HOUR(timediff(now() , create_date)) >= ? 
2020-11-21 22:32:50.295 DEBUG c.j.q.dao.TaskRecordMapper.getOverTimeTaskRecord2[145]  ==> Parameters: IPQCAuditProcess(String), 24(Integer)
2020-11-21 22:32:50.307 DEBUG c.j.q.m.qims.dao.BlackDashBoardMapper.getHoliday[145]  <==      Total: 6
2020-11-21 22:32:50.307 DEBUG c.j.q.m.q.d.B.getWorkOvertimeList[145]  ==>  Preparing: SELECT DISTINCT date FROM holiday_maintenance WHERE type = '补班' 
2020-11-21 22:32:50.308 DEBUG c.j.q.m.q.d.B.getWorkOvertimeList[145]  ==> Parameters: 
2020-11-21 22:32:50.317 DEBUG c.j.q.dao.TaskRecordMapper.getOverTimeTaskRecord[145]  <==      Total: 8
2020-11-21 22:32:50.317 DEBUG c.j.q.dao.TaskRecordMapper.getOverTimeTaskRecord[145]  <==      Total: 3
2020-11-21 22:32:50.317 DEBUG c.j.q.dao.TaskRecordMapper.getOverTimeTaskRecord2[145]  <==      Total: 18
2020-11-21 22:32:50.317 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==>  Preparing: select time from email_history_info where id =? 
2020-11-21 22:32:50.317 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==>  Preparing: select time from email_history_info where id =? 
2020-11-21 22:32:50.318 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==> Parameters: 1295192540470837248(String)
2020-11-21 22:32:50.317 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==>  Preparing: select time from email_history_info where id =? 
2020-11-21 22:32:50.318 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==> Parameters: 1294123945645047808(String)
2020-11-21 22:32:50.318 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==> Parameters: 1303868320843300864(String)
2020-11-21 22:32:50.320 DEBUG c.j.q.m.q.d.B.getWorkOvertimeList[145]  <==      Total: 4
2020-11-21 22:32:50.320 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getLtStandard[145]  ==>  Preparing: select * from qims_lt_standard_info 
2020-11-21 22:32:50.320 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getLtStandard[145]  ==> Parameters: 
2020-11-21 22:32:50.333 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  <==      Total: 1
2020-11-21 22:32:50.333 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  <==      Total: 1
2020-11-21 22:32:50.333 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  <==      Total: 1
2020-11-21 22:32:50.333 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getLtStandard[145]  <==      Total: 8
2020-11-21 22:32:50.334 INFO  c.j.qualityworkflow.modules.qims.job.qimsMailJob[47]  查询黑色问题超过LT的信息
2020-11-21 22:32:50.334 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==>  Preparing: select time from email_history_info where id =? 
2020-11-21 22:32:50.334 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==>  Preparing: select time from email_history_info where id =? 
2020-11-21 22:32:50.334 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getBlackList[145]  ==>  Preparing: select * from task_record where task_name in('初步原因分析','根本原因分析','根本原因审核') and task_state is null and template_key='QIMSBLACK' 
2020-11-21 22:32:50.334 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==> Parameters: 1295192619508301824(String)
2020-11-21 22:32:50.334 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getBlackList[145]  ==> Parameters: 
2020-11-21 22:32:50.334 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==> Parameters: 1303868347422605312(String)
2020-11-21 22:32:50.342 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  <==      Total: 1
2020-11-21 22:32:50.343 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==>  Preparing: select time from email_history_info where id =? 
2020-11-21 22:32:50.343 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==> Parameters: 1303868393815801856(String)
2020-11-21 22:32:50.343 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  <==      Total: 1
2020-11-21 22:32:50.344 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==>  Preparing: select time from email_history_info where id =? 
2020-11-21 22:32:50.344 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==> Parameters: 1299240419787276288(String)
2020-11-21 22:32:50.347 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getBlackList[145]  <==      Total: 16
2020-11-21 22:32:50.349 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==>  Preparing: select time from email_history_info where id =? 
2020-11-21 22:32:50.350 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==> Parameters: 1286902446076985344(String)
2020-11-21 22:32:50.359 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  <==      Total: 1
2020-11-21 22:32:50.359 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  <==      Total: 1
2020-11-21 22:32:50.359 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==>  Preparing: select time from email_history_info where id =? 
2020-11-21 22:32:50.359 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==> Parameters: 1303937438065885184(String)
2020-11-21 22:32:50.380 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  <==      Total: 1
2020-11-21 22:32:50.380 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  <==      Total: 1
2020-11-21 22:32:50.380 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==>  Preparing: select time from email_history_info where id =? 
2020-11-21 22:32:50.381 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==> Parameters: 1303939538460082176(String)
2020-11-21 22:32:50.391 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  <==      Total: 1
2020-11-21 22:32:50.391 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==>  Preparing: select time from email_history_info where id =? 
2020-11-21 22:32:50.391 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==> Parameters: 1303939599889858560(String)
2020-11-21 22:32:50.398 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  <==      Total: 1
2020-11-21 22:32:50.398 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==>  Preparing: select time from email_history_info where id =? 
2020-11-21 22:32:50.398 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==> Parameters: 1306059696263659520(String)
2020-11-21 22:32:50.406 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  <==      Total: 1
2020-11-21 22:32:50.406 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==>  Preparing: select time from email_history_info where id =? 
2020-11-21 22:32:50.406 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==> Parameters: 1306155886347026432(String)
2020-11-21 22:32:50.413 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  <==      Total: 1
2020-11-21 22:32:50.413 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==>  Preparing: select time from email_history_info where id =? 
2020-11-21 22:32:50.413 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==> Parameters: 1306201167000240128(String)
2020-11-21 22:32:50.423 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  <==      Total: 1
2020-11-21 22:32:50.423 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==>  Preparing: select time from email_history_info where id =? 
2020-11-21 22:32:50.423 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==> Parameters: 1308013106458263552(String)
2020-11-21 22:32:50.430 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  <==      Total: 0
2020-11-21 22:32:55.380 DEBUG cn.jwis.qualityworkflow.util.EmailService[144]  get handler mail from http://gateway.dev.jwis.io/platform/sys/user/internal-read?name=qualityadmin happen error cause:I/O error on GET request for "http://gateway.dev.jwis.io/platform/sys/user/internal-read": connect timed out; nested exception is java.net.SocketTimeoutException: connect timed out
2020-11-21 22:32:55.380 DEBUG cn.jwis.qualityworkflow.util.EmailService[144]  get handler mail from http://gateway.dev.jwis.io/platform/sys/user/internal-read?name=dz_gyb1 happen error cause:I/O error on GET request for "http://gateway.dev.jwis.io/platform/sys/user/internal-read": connect timed out; nested exception is java.net.SocketTimeoutException: connect timed out
2020-11-21 22:32:55.381 DEBUG cn.jwis.qualityworkflow.util.EmailService[144]  get handler mail from http://gateway.dev.jwis.io/platform/sys/user/internal-read?name=hualanlan happen error cause:I/O error on GET request for "http://gateway.dev.jwis.io/platform/sys/user/internal-read": connect timed out; nested exception is java.net.SocketTimeoutException: connect timed out
2020-11-21 22:32:55.396 DEBUG cn.jwis.qualityworkflow.dao.UserMapper.getSuperior[145]  ==>  Preparing: select superior from department_mapping where user_account = ? and type = ? limit 0,1 
2020-11-21 22:32:55.396 DEBUG cn.jwis.qualityworkflow.dao.UserMapper.getSuperior[145]  ==>  Preparing: select superior from department_mapping where user_account = ? and type = ? limit 0,1 
2020-11-21 22:32:55.396 DEBUG cn.jwis.qualityworkflow.dao.UserMapper.getSuperior[145]  ==>  Preparing: select superior from department_mapping where user_account = ? and type = ? limit 0,1 
2020-11-21 22:32:55.397 DEBUG cn.jwis.qualityworkflow.dao.UserMapper.getSuperior[145]  ==> Parameters: dz_gyb1(String), COMMON(String)
2020-11-21 22:32:55.397 DEBUG cn.jwis.qualityworkflow.dao.UserMapper.getSuperior[145]  ==> Parameters: hualanlan(String), QIMS(String)
2020-11-21 22:32:55.397 DEBUG cn.jwis.qualityworkflow.dao.UserMapper.getSuperior[145]  ==> Parameters: qualityadmin(String), COMMON(String)
2020-11-21 22:32:55.406 DEBUG cn.jwis.qualityworkflow.dao.UserMapper.getSuperior[145]  <==      Total: 1
2020-11-21 22:32:55.409 DEBUG cn.jwis.qualityworkflow.dao.UserMapper.getSuperior[145]  <==      Total: 1
2020-11-21 22:32:55.409 DEBUG cn.jwis.qualityworkflow.dao.UserMapper.getSuperior[145]  <==      Total: 1
2020-11-21 22:32:55.409 DEBUG c.j.q.dao.UserMapper.getSuperiorManagerByUser[145]  ==>  Preparing: select superior_manager from department_mapping where user_account = ? and type = ? limit 0,1 
2020-11-21 22:32:55.411 DEBUG c.j.q.dao.UserMapper.getSuperiorManagerByUser[145]  ==> Parameters: hualanlan(String), QIMS(String)
2020-11-21 22:32:55.418 DEBUG c.j.q.dao.UserMapper.getSuperiorManagerByUser[145]  <==      Total: 1
2020-11-21 22:32:55.431 DEBUG cn.jwis.qualityworkflow.util.EmailService[144]  get handler mail from http://gateway.dev.jwis.io/platform/sys/user/internal-read?name=kiween happen error cause:I/O error on GET request for "http://gateway.dev.jwis.io/platform/sys/user/internal-read": connect timed out; nested exception is java.net.SocketTimeoutException: connect timed out
2020-11-21 22:32:55.440 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==>  Preparing: select time from email_history_info where id =? 
2020-11-21 22:32:55.440 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==> Parameters: 1308013110702899200(String)
2020-11-21 22:32:55.447 INFO  cn.jwis.qualityworkflow.util.EmailService[142]  dz_gyb2 email is jian.song@jwis.cn
2020-11-21 22:32:55.447 INFO  cn.jwis.qualityworkflow.util.EmailService[142]  qualityadmin email is 
2020-11-21 22:32:55.447 INFO  c.j.q.m.factoryaudit.job.AuditQuestionMailJob[31]  邮件下发结束
2020-11-21 22:32:55.447 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==>  Preparing: select time from email_history_info where id =? 
2020-11-21 22:32:55.447 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==> Parameters: 1294123945682796544(String)
2020-11-21 22:32:55.450 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  <==      Total: 1
2020-11-21 22:32:55.450 INFO  cn.jwis.qualityworkflow.util.EmailService[142]  workflow3 email is null
2020-11-21 22:32:55.462 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  <==      Total: 1
2020-11-21 22:32:55.463 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==>  Preparing: select time from email_history_info where id =? 
2020-11-21 22:32:55.463 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==> Parameters: 1294123945716350976(String)
2020-11-21 22:32:55.471 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  <==      Total: 1
2020-11-21 22:32:55.480 INFO  cn.jwis.qualityworkflow.util.EmailService[142]  zhouxianling email is 
2020-11-21 22:32:55.480 INFO  cn.jwis.qualityworkflow.util.EmailService[142]  qualityadmin email is 
2020-11-21 22:32:55.481 DEBUG cn.jwis.qualityworkflow.dao.UserMapper.getSuperior[145]  ==>  Preparing: select superior from department_mapping where user_account = ? and type = ? limit 0,1 
2020-11-21 22:32:55.481 DEBUG cn.jwis.qualityworkflow.dao.UserMapper.getSuperior[145]  ==> Parameters: qualityadmin(String), COMMON(String)
2020-11-21 22:32:55.482 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==>  Preparing: select time from email_history_info where id =? 
2020-11-21 22:32:55.483 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==> Parameters: 1286904434760089600(String)
2020-11-21 22:32:55.496 DEBUG cn.jwis.qualityworkflow.dao.UserMapper.getSuperior[145]  <==      Total: 1
2020-11-21 22:32:55.496 INFO  cn.jwis.qualityworkflow.util.EmailService[142]  xujinbiao email is 
2020-11-21 22:32:55.496 DEBUG cn.jwis.qualityworkflow.dao.UserMapper.getSuperior[145]  ==>  Preparing: select superior from department_mapping where user_account = ? and type = ? limit 0,1 
2020-11-21 22:32:55.497 DEBUG cn.jwis.qualityworkflow.dao.UserMapper.getSuperior[145]  ==> Parameters: xujinbiao(String), COMMON(String)
2020-11-21 22:32:55.497 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  <==      Total: 1
2020-11-21 22:32:55.513 DEBUG cn.jwis.qualityworkflow.dao.UserMapper.getSuperior[145]  <==      Total: 1
2020-11-21 22:32:55.523 INFO  cn.jwis.qualityworkflow.util.EmailService[142]  qualityadmin email is 
2020-11-21 22:32:55.523 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==>  Preparing: select time from email_history_info where id =? 
2020-11-21 22:32:55.524 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==> Parameters: 1308013113928318976(String)
2020-11-21 22:32:55.533 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  <==      Total: 1
2020-11-21 22:32:55.561 INFO  cn.jwis.qualityworkflow.util.EmailService[142]  gupp2 email is null
2020-11-21 22:32:55.561 DEBUG cn.jwis.qualityworkflow.dao.UserMapper.getSuperior[145]  ==>  Preparing: select superior from department_mapping where user_account = ? and type = ? limit 0,1 
2020-11-21 22:32:55.561 DEBUG cn.jwis.qualityworkflow.dao.UserMapper.getSuperior[145]  ==> Parameters: gupp2(String), QIMS(String)
2020-11-21 22:32:55.562 INFO  cn.jwis.qualityworkflow.util.EmailService[142]  hualanlan email is test@jwis.cn
2020-11-21 22:32:55.562 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==>  Preparing: select time from email_history_info where id =? 
2020-11-21 22:32:55.562 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==> Parameters: 1295193219738370048(String)
2020-11-21 22:32:55.567 INFO  cn.jwis.qualityworkflow.util.EmailService[142]  qualityadmin email is 
2020-11-21 22:32:55.567 DEBUG cn.jwis.qualityworkflow.dao.UserMapper.getSuperior[145]  ==>  Preparing: select superior from department_mapping where user_account = ? and type = ? limit 0,1 
2020-11-21 22:32:55.567 DEBUG cn.jwis.qualityworkflow.dao.UserMapper.getSuperior[145]  ==> Parameters: qualityadmin(String), COMMON(String)
2020-11-21 22:32:55.569 DEBUG cn.jwis.qualityworkflow.dao.UserMapper.getSuperior[145]  <==      Total: 0
2020-11-21 22:32:55.570 DEBUG c.j.q.dao.UserMapper.getSuperiorManagerByUser[145]  ==>  Preparing: select superior_manager from department_mapping where user_account = ? and type = ? limit 0,1 
2020-11-21 22:32:55.570 DEBUG c.j.q.dao.UserMapper.getSuperiorManagerByUser[145]  ==> Parameters: gupp2(String), QIMS(String)
2020-11-21 22:32:55.572 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  <==      Total: 1
2020-11-21 22:32:55.573 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==>  Preparing: select time from email_history_info where id =? 
2020-11-21 22:32:55.573 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==> Parameters: 1295193220166189056(String)
2020-11-21 22:32:55.573 DEBUG cn.jwis.qualityworkflow.dao.UserMapper.getSuperior[145]  <==      Total: 1
2020-11-21 22:32:55.588 DEBUG c.j.q.dao.UserMapper.getSuperiorManagerByUser[145]  <==      Total: 0
2020-11-21 22:32:55.590 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==>  Preparing: select time from email_history_info where id =? 
2020-11-21 22:32:55.591 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==> Parameters: 1286916730144161792(String)
2020-11-21 22:32:55.593 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  <==      Total: 1
2020-11-21 22:32:55.608 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  <==      Total: 1
2020-11-21 22:32:55.609 INFO  cn.jwis.qualityworkflow.util.EmailService[142]  qualityadmin email is 
2020-11-21 22:32:55.610 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==>  Preparing: select time from email_history_info where id =? 
2020-11-21 22:32:55.610 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==> Parameters: 1308013116927246336(String)
2020-11-21 22:32:55.617 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  <==      Total: 0
2020-11-21 22:32:55.618 INFO  cn.jwis.qualityworkflow.util.EmailService[142]  xujinbiao email is 
2020-11-21 22:32:55.618 DEBUG cn.jwis.qualityworkflow.dao.UserMapper.getSuperior[145]  ==>  Preparing: select superior from department_mapping where user_account = ? and type = ? limit 0,1 
2020-11-21 22:32:55.619 DEBUG cn.jwis.qualityworkflow.dao.UserMapper.getSuperior[145]  ==> Parameters: xujinbiao(String), COMMON(String)
2020-11-21 22:32:55.639 DEBUG cn.jwis.qualityworkflow.dao.UserMapper.getSuperior[145]  <==      Total: 1
2020-11-21 22:32:55.676 INFO  cn.jwis.qualityworkflow.util.EmailService[142]  gupp2 email is null
2020-11-21 22:32:55.676 DEBUG cn.jwis.qualityworkflow.dao.UserMapper.getSuperior[145]  ==>  Preparing: select superior from department_mapping where user_account = ? and type = ? limit 0,1 
2020-11-21 22:32:55.676 DEBUG cn.jwis.qualityworkflow.dao.UserMapper.getSuperior[145]  ==> Parameters: gupp2(String), QIMS(String)
2020-11-21 22:32:55.679 INFO  cn.jwis.qualityworkflow.util.EmailService[142]  kiween email is 
2020-11-21 22:32:55.679 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==>  Preparing: select time from email_history_info where id =? 
2020-11-21 22:32:55.679 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==> Parameters: 1309046852858937344(String)
2020-11-21 22:32:55.680 INFO  cn.jwis.qualityworkflow.util.EmailService[142]  hualanlan email is test@jwis.cn
2020-11-21 22:32:55.680 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==>  Preparing: select time from email_history_info where id =? 
2020-11-21 22:32:55.680 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==> Parameters: 1295193707351375872(String)
2020-11-21 22:32:55.686 DEBUG cn.jwis.qualityworkflow.dao.UserMapper.getSuperior[145]  <==      Total: 0
2020-11-21 22:32:55.687 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  <==      Total: 0
2020-11-21 22:32:55.687 DEBUG c.j.q.dao.UserMapper.getSuperiorManagerByUser[145]  ==>  Preparing: select superior_manager from department_mapping where user_account = ? and type = ? limit 0,1 
2020-11-21 22:32:55.687 DEBUG c.j.q.dao.UserMapper.getSuperiorManagerByUser[145]  ==> Parameters: gupp2(String), QIMS(String)
2020-11-21 22:32:55.691 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  <==      Total: 1
2020-11-21 22:32:55.692 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==>  Preparing: select time from email_history_info where id =? 
2020-11-21 22:32:55.692 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==> Parameters: 1295193707376541696(String)
2020-11-21 22:32:55.696 DEBUG c.j.q.dao.UserMapper.getSuperiorManagerByUser[145]  <==      Total: 0
2020-11-21 22:32:55.698 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==>  Preparing: select time from email_history_info where id =? 
2020-11-21 22:32:55.699 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==> Parameters: 1287933861786812416(String)
2020-11-21 22:32:55.702 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  <==      Total: 1
2020-11-21 22:32:55.710 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  <==      Total: 1
2020-11-21 22:32:55.717 INFO  cn.jwis.qualityworkflow.util.EmailService[142]  codisan email is kelvin@jwis.cn
2020-11-21 22:32:55.717 DEBUG c.j.qualityworkflow.dao.CommonMapper.getKeyToName[145]  ==>  Preparing: SELECT * FROM key_to_name 
2020-11-21 22:32:55.717 DEBUG c.j.qualityworkflow.dao.CommonMapper.getKeyToName[145]  ==> Parameters: 
2020-11-21 22:32:55.742 DEBUG c.j.qualityworkflow.dao.CommonMapper.getKeyToName[145]  <==      Total: 8
2020-11-21 22:32:55.743 INFO  cn.jwis.qualityworkflow.util.EmailService[74]  haomiao.liu@jwis.cn send a Mail to kelvin@jwis.cn fail, because null
2020-11-21 22:32:55.765 INFO  cn.jwis.qualityworkflow.util.EmailService[142]  xujinbiao email is 
2020-11-21 22:32:55.765 INFO  cn.jwis.qualityworkflow.util.EmailService[142]  hualanlan email is test@jwis.cn
2020-11-21 22:32:55.765 DEBUG cn.jwis.qualityworkflow.dao.UserMapper.getSuperior[145]  ==>  Preparing: select superior from department_mapping where user_account = ? and type = ? limit 0,1 
2020-11-21 22:32:55.765 DEBUG cn.jwis.qualityworkflow.dao.UserMapper.getSuperior[145]  ==>  Preparing: select superior from department_mapping where user_account = ? and type = ? limit 0,1 
2020-11-21 22:32:55.765 DEBUG cn.jwis.qualityworkflow.dao.UserMapper.getSuperior[145]  ==> Parameters: hualanlan(String), QIMS(String)
2020-11-21 22:32:55.765 DEBUG cn.jwis.qualityworkflow.dao.UserMapper.getSuperior[145]  ==> Parameters: xujinbiao(String), COMMON(String)
2020-11-21 22:32:55.772 DEBUG cn.jwis.qualityworkflow.dao.UserMapper.getSuperior[145]  <==      Total: 1
2020-11-21 22:32:55.772 DEBUG c.j.q.dao.UserMapper.getSuperiorManagerByUser[145]  ==>  Preparing: select superior_manager from department_mapping where user_account = ? and type = ? limit 0,1 
2020-11-21 22:32:55.772 DEBUG c.j.q.dao.UserMapper.getSuperiorManagerByUser[145]  ==> Parameters: hualanlan(String), QIMS(String)
2020-11-21 22:32:55.772 DEBUG cn.jwis.qualityworkflow.dao.UserMapper.getSuperior[145]  <==      Total: 1
2020-11-21 22:32:55.787 DEBUG c.j.q.dao.UserMapper.getSuperiorManagerByUser[145]  <==      Total: 1
2020-11-21 22:32:55.805 INFO  cn.jwis.qualityworkflow.util.EmailService[142]  hualanlan email is test@jwis.cn
2020-11-21 22:32:55.805 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==>  Preparing: select time from email_history_info where id =? 
2020-11-21 22:32:55.806 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==> Parameters: 1315248790789160960(String)
2020-11-21 22:32:55.811 INFO  cn.jwis.qualityworkflow.util.EmailService[142]  workflow3 email is null
2020-11-21 22:32:55.814 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  <==      Total: 1
2020-11-21 22:32:55.859 INFO  cn.jwis.qualityworkflow.util.EmailService[142]  zhouxianling email is 
2020-11-21 22:32:55.860 DEBUG c.j.qualityworkflow.dao.TaskRecordMapper.getById[145]  ==>  Preparing: SELECT * from task_record WHERE id = ? 
2020-11-21 22:32:55.860 DEBUG c.j.qualityworkflow.dao.TaskRecordMapper.getById[145]  ==> Parameters: 1287933861786812416(String)
2020-11-21 22:32:55.863 INFO  cn.jwis.qualityworkflow.util.EmailService[142]  dz_gyb1 email is test@jwis.cn
2020-11-21 22:32:55.863 DEBUG cn.jwis.qualityworkflow.dao.UserMapper.getSuperior[145]  ==>  Preparing: select superior from department_mapping where user_account = ? and type = ? limit 0,1 
2020-11-21 22:32:55.863 DEBUG cn.jwis.qualityworkflow.dao.UserMapper.getSuperior[145]  ==> Parameters: dz_gyb1(String), COMMON(String)
2020-11-21 22:32:55.869 DEBUG c.j.qualityworkflow.dao.TaskRecordMapper.getById[145]  <==      Total: 1
2020-11-21 22:32:55.869 DEBUG c.j.qualityworkflow.dao.CommonMapper.getKeyToName[145]  ==>  Preparing: SELECT * FROM key_to_name 
2020-11-21 22:32:55.869 DEBUG c.j.qualityworkflow.dao.CommonMapper.getKeyToName[145]  ==> Parameters: 
2020-11-21 22:32:55.878 DEBUG cn.jwis.qualityworkflow.dao.UserMapper.getSuperior[145]  <==      Total: 1
2020-11-21 22:32:55.878 DEBUG c.j.qualityworkflow.dao.CommonMapper.getKeyToName[145]  <==      Total: 8
2020-11-21 22:32:55.879 INFO  cn.jwis.qualityworkflow.util.EmailService[71]  haomiao.liu@jwis.cn send a Mail to test@jwis.cn
2020-11-21 22:32:55.900 INFO  cn.jwis.qualityworkflow.util.EmailService[142]  dz_gyb2 email is jian.song@jwis.cn
2020-11-21 22:32:55.901 DEBUG c.j.qualityworkflow.dao.CommonMapper.getKeyToName[145]  ==>  Preparing: SELECT * FROM key_to_name 
2020-11-21 22:32:55.901 DEBUG c.j.qualityworkflow.dao.CommonMapper.getKeyToName[145]  ==> Parameters: 
2020-11-21 22:32:55.917 DEBUG c.j.qualityworkflow.dao.CommonMapper.getKeyToName[145]  <==      Total: 8
2020-11-21 22:32:55.918 DEBUG c.j.q.m.l.d.L.getLineQualifyDetailednessInfo[145]  ==>  Preparing: SELECT q.*,ar.processInstanceId ,ar.taskId,ar.assignee,ar.taskState,ar.taskName FROM line_qualify_info q,(SELECT workflow_business_id, process_instance_id as processInstanceId,task_id as taskId,assignee,task_state as taskState,task_name taskName FROM task_record WHERE task_id=?) ar where q.id=ar.workflow_business_id 
2020-11-21 22:32:55.918 DEBUG c.j.q.m.l.d.L.getLineQualifyDetailednessInfo[145]  ==> Parameters: 5506556(String)
2020-11-21 22:32:55.928 DEBUG c.j.q.m.l.d.L.getLineQualifyDetailednessInfo[145]  <==      Total: 1
2020-11-21 22:32:55.929 INFO  cn.jwis.qualityworkflow.util.EmailService[69]  haomiao.liu@jwis.cn send a Mail to test@jwis.cn and make a copy for [jian.song@jwis.cn]
2020-11-21 22:32:56.367 ERROR o.s.s.support.TaskUtils$LoggingErrorHandler[96] org.springframework.mail.MailSendException: Failed messages: javax.mail.SendFailedException: Invalid Addresses;
  nested exception is:
	com.sun.mail.smtp.SMTPAddressFailedException: 554 RCPT (kelvin@jwis.cn) dosn't exist

	at org.springframework.mail.javamail.JavaMailSenderImpl.doSend(JavaMailSenderImpl.java:488)
	at org.springframework.mail.javamail.JavaMailSenderImpl.send(JavaMailSenderImpl.java:359)
	at org.springframework.mail.javamail.JavaMailSenderImpl.send(JavaMailSenderImpl.java:354)
	at cn.jwis.qualityworkflow.util.EmailService.sendHtmlMail(EmailService.java:76)
	at cn.jwis.qualityworkflow.modules.qims.service.imp.QimsSendMailServiceImpl.sendEmailTohandler(QimsSendMailServiceImpl.java:161)
	at cn.jwis.qualityworkflow.modules.ipqc.service.imp.AuditQualityProblemServiceImpl.qimsSendMail(AuditQualityProblemServiceImpl.java:321)
	at cn.jwis.qualityworkflow.modules.ipqc.service.imp.AuditQualityProblemServiceImpl$$FastClassBySpringCGLIB$$15ff325f.invoke(<generated>)
	at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:684)
	at cn.jwis.qualityworkflow.modules.ipqc.service.imp.AuditQualityProblemServiceImpl$$EnhancerBySpringCGLIB$$e291a2f3.qimsSendMail(<generated>)
	at cn.jwis.qualityworkflow.modules.ipqc.job.ipqcMailJob.qimsSendMail(ipqcMailJob.java:28)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.springframework.scheduling.support.ScheduledMethodRunnable.run(ScheduledMethodRunnable.java:84)
	at org.springframework.scheduling.support.DelegatingErrorHandlingRunnable.run(DelegatingErrorHandlingRunnable.java:54)
	at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:511)
	at java.util.concurrent.FutureTask.runAndReset(FutureTask.java:308)
	at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.access$301(ScheduledThreadPoolExecutor.java:180)
	at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:294)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)
 Unexpected error occurred in scheduled task.
2020-11-21 22:32:56.427 ERROR o.s.s.support.TaskUtils$LoggingErrorHandler[96] org.springframework.mail.MailSendException: Failed messages: javax.mail.SendFailedException: Invalid Addresses;
  nested exception is:
	com.sun.mail.smtp.SMTPAddressFailedException: 554 RCPT (test@jwis.cn) dosn't exist

	at org.springframework.mail.javamail.JavaMailSenderImpl.doSend(JavaMailSenderImpl.java:488)
	at org.springframework.mail.javamail.JavaMailSenderImpl.send(JavaMailSenderImpl.java:359)
	at org.springframework.mail.javamail.JavaMailSenderImpl.send(JavaMailSenderImpl.java:354)
	at cn.jwis.qualityworkflow.util.EmailService.sendHtmlMail(EmailService.java:76)
	at cn.jwis.qualityworkflow.modules.qims.service.imp.QimsSendMailServiceImpl.sendEmailTohandler(QimsSendMailServiceImpl.java:161)
	at cn.jwis.qualityworkflow.modules.qims.service.imp.QimsSendMailServiceImpl.qimsSendMail(QimsSendMailServiceImpl.java:90)
	at cn.jwis.qualityworkflow.modules.qims.job.qimsMailJob.qimsSendMail(qimsMailJob.java:49)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.springframework.scheduling.support.ScheduledMethodRunnable.run(ScheduledMethodRunnable.java:84)
	at org.springframework.scheduling.support.DelegatingErrorHandlingRunnable.run(DelegatingErrorHandlingRunnable.java:54)
	at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:511)
	at java.util.concurrent.FutureTask.runAndReset(FutureTask.java:308)
	at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.access$301(ScheduledThreadPoolExecutor.java:180)
	at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:294)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)
 Unexpected error occurred in scheduled task.
2020-11-21 22:32:56.503 ERROR o.s.s.support.TaskUtils$LoggingErrorHandler[96] org.springframework.mail.MailSendException: Failed messages: javax.mail.SendFailedException: Invalid Addresses;
  nested exception is:
	com.sun.mail.smtp.SMTPAddressFailedException: 554 RCPT (test@jwis.cn) dosn't exist
;
  nested exception is:
	com.sun.mail.smtp.SMTPAddressFailedException: 554 RCPT (jian.song@jwis.cn) dosn't exist

	at org.springframework.mail.javamail.JavaMailSenderImpl.doSend(JavaMailSenderImpl.java:488)
	at org.springframework.mail.javamail.JavaMailSenderImpl.send(JavaMailSenderImpl.java:359)
	at org.springframework.mail.javamail.JavaMailSenderImpl.send(JavaMailSenderImpl.java:354)
	at cn.jwis.qualityworkflow.util.EmailService.sendHtmlMail(EmailService.java:76)
	at cn.jwis.qualityworkflow.modules.linequalify.service.imp.LineQualifyServiceImpl.sendEmailTohandler(LineQualifyServiceImpl.java:617)
	at cn.jwis.qualityworkflow.modules.linequalify.service.imp.LineQualifyServiceImpl.sendOverTimeMail(LineQualifyServiceImpl.java:594)
	at cn.jwis.qualityworkflow.modules.linequalify.service.imp.LineQualifyServiceImpl$$FastClassBySpringCGLIB$$4ca6f597.invoke(<generated>)
	at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:684)
	at cn.jwis.qualityworkflow.modules.linequalify.service.imp.LineQualifyServiceImpl$$EnhancerBySpringCGLIB$$2a00af9b.sendOverTimeMail(<generated>)
	at cn.jwis.qualityworkflow.modules.linequalify.job.LineQualifyMailJob.sendOverTimeMail(LineQualifyMailJob.java:30)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.springframework.scheduling.support.ScheduledMethodRunnable.run(ScheduledMethodRunnable.java:84)
	at org.springframework.scheduling.support.DelegatingErrorHandlingRunnable.run(DelegatingErrorHandlingRunnable.java:54)
	at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:511)
	at java.util.concurrent.FutureTask.runAndReset(FutureTask.java:308)
	at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.access$301(ScheduledThreadPoolExecutor.java:180)
	at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:294)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)
 Unexpected error occurred in scheduled task.
2020-11-21 22:37:50.296 INFO  c.j.qualityworkflow.modules.ipqc.job.ipqcMailJob[27]  查询IPQC超时任务
2020-11-21 22:37:50.308 DEBUG c.j.q.dao.TaskRecordMapper.getOverTimeTaskRecord[145]  ==>  Preparing: SELECT *, HOUR(timediff(now() , create_date)) overTimeNum FROM task_record WHERE template_key = ? AND task_state IS NULL AND task_name = ? AND HOUR(timediff(now() , create_date)) >= ? 
2020-11-21 22:37:50.309 DEBUG c.j.q.dao.TaskRecordMapper.getOverTimeTaskRecord2[145]  ==>  Preparing: SELECT *, HOUR(timediff(now() , create_date)) overTimeNum FROM task_record WHERE template_key = ? AND task_state IS NULL AND HOUR(timediff(now() , create_date)) >= ? 
2020-11-21 22:37:50.308 DEBUG c.j.q.dao.TaskRecordMapper.getOverTimeTaskRecord[145]  ==>  Preparing: SELECT *, HOUR(timediff(now() , create_date)) overTimeNum FROM task_record WHERE template_key = ? AND task_state IS NULL AND task_name = ? AND HOUR(timediff(now() , create_date)) >= ? 
2020-11-21 22:37:50.308 DEBUG c.j.q.m.qims.dao.BlackDashBoardMapper.getHoliday[145]  ==>  Preparing: SELECT DISTINCT date FROM holiday_maintenance WHERE type = '节假日' 
2020-11-21 22:37:50.309 DEBUG c.j.q.m.qims.dao.BlackDashBoardMapper.getHoliday[145]  ==> Parameters: 
2020-11-21 22:37:50.309 DEBUG c.j.q.dao.TaskRecordMapper.getOverTimeTaskRecord2[145]  ==> Parameters: IPQCAuditProcess(String), 24(Integer)
2020-11-21 22:37:50.309 DEBUG c.j.q.dao.TaskRecordMapper.getOverTimeTaskRecord[145]  ==> Parameters: Line Qualify(String), 文件收集(String), 2(Integer)
2020-11-21 22:37:50.309 DEBUG c.j.q.dao.TaskRecordMapper.getOverTimeTaskRecord[145]  ==> Parameters: FactoryAuditProcess(String), 部门审核(String), 24(Integer)
2020-11-21 22:37:50.317 DEBUG c.j.q.m.qims.dao.BlackDashBoardMapper.getHoliday[145]  <==      Total: 6
2020-11-21 22:37:50.318 DEBUG c.j.q.m.q.d.B.getWorkOvertimeList[145]  ==>  Preparing: SELECT DISTINCT date FROM holiday_maintenance WHERE type = '补班' 
2020-11-21 22:37:50.318 DEBUG c.j.q.m.q.d.B.getWorkOvertimeList[145]  ==> Parameters: 
2020-11-21 22:37:50.320 DEBUG c.j.q.dao.TaskRecordMapper.getOverTimeTaskRecord2[145]  <==      Total: 18
2020-11-21 22:37:50.320 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==>  Preparing: select time from email_history_info where id =? 
2020-11-21 22:37:50.320 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==> Parameters: 1303868320843300864(String)
2020-11-21 22:37:50.321 DEBUG c.j.q.dao.TaskRecordMapper.getOverTimeTaskRecord[145]  <==      Total: 3
2020-11-21 22:37:50.321 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==>  Preparing: select time from email_history_info where id =? 
2020-11-21 22:37:50.321 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==> Parameters: 1295192540470837248(String)
2020-11-21 22:37:50.321 DEBUG c.j.q.dao.TaskRecordMapper.getOverTimeTaskRecord[145]  <==      Total: 8
2020-11-21 22:37:50.322 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==>  Preparing: select time from email_history_info where id =? 
2020-11-21 22:37:50.322 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==> Parameters: 1294123945645047808(String)
2020-11-21 22:37:50.325 DEBUG c.j.q.m.q.d.B.getWorkOvertimeList[145]  <==      Total: 4
2020-11-21 22:37:50.326 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getLtStandard[145]  ==>  Preparing: select * from qims_lt_standard_info 
2020-11-21 22:37:50.326 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getLtStandard[145]  ==> Parameters: 
2020-11-21 22:37:50.326 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  <==      Total: 1
2020-11-21 22:37:50.327 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==>  Preparing: select time from email_history_info where id =? 
2020-11-21 22:37:50.327 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==> Parameters: 1303868347422605312(String)
2020-11-21 22:37:50.328 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  <==      Total: 1
2020-11-21 22:37:50.328 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  <==      Total: 1
2020-11-21 22:37:50.328 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==>  Preparing: select time from email_history_info where id =? 
2020-11-21 22:37:50.328 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==> Parameters: 1295192619508301824(String)
2020-11-21 22:37:50.334 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getLtStandard[145]  <==      Total: 8
2020-11-21 22:37:50.335 INFO  c.j.qualityworkflow.modules.qims.job.qimsMailJob[47]  查询黑色问题超过LT的信息
2020-11-21 22:37:50.335 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getBlackList[145]  ==>  Preparing: select * from task_record where task_name in('初步原因分析','根本原因分析','根本原因审核') and task_state is null and template_key='QIMSBLACK' 
2020-11-21 22:37:50.335 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getBlackList[145]  ==> Parameters: 
2020-11-21 22:37:50.336 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  <==      Total: 1
2020-11-21 22:37:50.336 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  <==      Total: 1
2020-11-21 22:37:50.337 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==>  Preparing: select time from email_history_info where id =? 
2020-11-21 22:37:50.337 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==>  Preparing: select time from email_history_info where id =? 
2020-11-21 22:37:50.337 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==> Parameters: 1303868393815801856(String)
2020-11-21 22:37:50.337 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==> Parameters: 1299240419787276288(String)
2020-11-21 22:37:50.347 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getBlackList[145]  <==      Total: 16
2020-11-21 22:37:50.347 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  <==      Total: 1
2020-11-21 22:37:50.347 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  <==      Total: 1
2020-11-21 22:37:50.347 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==>  Preparing: select time from email_history_info where id =? 
2020-11-21 22:37:50.347 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==> Parameters: 1303937438065885184(String)
2020-11-21 22:37:50.349 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==>  Preparing: select time from email_history_info where id =? 
2020-11-21 22:37:50.349 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==> Parameters: 1286902446076985344(String)
2020-11-21 22:37:50.354 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  <==      Total: 1
2020-11-21 22:37:50.354 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==>  Preparing: select time from email_history_info where id =? 
2020-11-21 22:37:50.355 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  <==      Total: 1
2020-11-21 22:37:50.355 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==> Parameters: 1303939538460082176(String)
2020-11-21 22:37:50.365 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  <==      Total: 1
2020-11-21 22:37:50.365 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==>  Preparing: select time from email_history_info where id =? 
2020-11-21 22:37:50.366 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==> Parameters: 1303939599889858560(String)
2020-11-21 22:37:50.374 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  <==      Total: 1
2020-11-21 22:37:50.374 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==>  Preparing: select time from email_history_info where id =? 
2020-11-21 22:37:50.374 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==> Parameters: 1306059696263659520(String)
2020-11-21 22:37:50.381 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  <==      Total: 1
2020-11-21 22:37:50.381 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==>  Preparing: select time from email_history_info where id =? 
2020-11-21 22:37:50.381 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==> Parameters: 1306155886347026432(String)
2020-11-21 22:37:50.391 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  <==      Total: 1
2020-11-21 22:37:50.391 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==>  Preparing: select time from email_history_info where id =? 
2020-11-21 22:37:50.391 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==> Parameters: 1306201167000240128(String)
2020-11-21 22:37:50.399 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  <==      Total: 1
2020-11-21 22:37:50.399 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==>  Preparing: select time from email_history_info where id =? 
2020-11-21 22:37:50.400 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==> Parameters: 1308013106458263552(String)
2020-11-21 22:37:50.408 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  <==      Total: 0
2020-11-21 22:37:55.348 DEBUG cn.jwis.qualityworkflow.util.EmailService[144]  get handler mail from http://gateway.dev.jwis.io/platform/sys/user/internal-read?name=qualityadmin happen error cause:I/O error on GET request for "http://gateway.dev.jwis.io/platform/sys/user/internal-read": connect timed out; nested exception is java.net.SocketTimeoutException: connect timed out
2020-11-21 22:37:55.348 DEBUG cn.jwis.qualityworkflow.util.EmailService[144]  get handler mail from http://gateway.dev.jwis.io/platform/sys/user/internal-read?name=dz_gyb1 happen error cause:I/O error on GET request for "http://gateway.dev.jwis.io/platform/sys/user/internal-read": connect timed out; nested exception is java.net.SocketTimeoutException: connect timed out
2020-11-21 22:37:55.356 DEBUG cn.jwis.qualityworkflow.util.EmailService[144]  get handler mail from http://gateway.dev.jwis.io/platform/sys/user/internal-read?name=hualanlan happen error cause:I/O error on GET request for "http://gateway.dev.jwis.io/platform/sys/user/internal-read": connect timed out; nested exception is java.net.SocketTimeoutException: connect timed out
2020-11-21 22:37:55.366 DEBUG cn.jwis.qualityworkflow.dao.UserMapper.getSuperior[145]  ==>  Preparing: select superior from department_mapping where user_account = ? and type = ? limit 0,1 
2020-11-21 22:37:55.366 DEBUG cn.jwis.qualityworkflow.dao.UserMapper.getSuperior[145]  ==>  Preparing: select superior from department_mapping where user_account = ? and type = ? limit 0,1 
2020-11-21 22:37:55.366 DEBUG cn.jwis.qualityworkflow.dao.UserMapper.getSuperior[145]  ==> Parameters: qualityadmin(String), COMMON(String)
2020-11-21 22:37:55.366 DEBUG cn.jwis.qualityworkflow.dao.UserMapper.getSuperior[145]  ==> Parameters: dz_gyb1(String), COMMON(String)
2020-11-21 22:37:55.366 DEBUG cn.jwis.qualityworkflow.dao.UserMapper.getSuperior[145]  ==>  Preparing: select superior from department_mapping where user_account = ? and type = ? limit 0,1 
2020-11-21 22:37:55.366 DEBUG cn.jwis.qualityworkflow.dao.UserMapper.getSuperior[145]  ==> Parameters: hualanlan(String), QIMS(String)
2020-11-21 22:37:55.374 DEBUG cn.jwis.qualityworkflow.dao.UserMapper.getSuperior[145]  <==      Total: 1
2020-11-21 22:37:55.374 DEBUG cn.jwis.qualityworkflow.dao.UserMapper.getSuperior[145]  <==      Total: 1
2020-11-21 22:37:55.375 DEBUG cn.jwis.qualityworkflow.dao.UserMapper.getSuperior[145]  <==      Total: 1
2020-11-21 22:37:55.375 DEBUG c.j.q.dao.UserMapper.getSuperiorManagerByUser[145]  ==>  Preparing: select superior_manager from department_mapping where user_account = ? and type = ? limit 0,1 
2020-11-21 22:37:55.376 DEBUG c.j.q.dao.UserMapper.getSuperiorManagerByUser[145]  ==> Parameters: hualanlan(String), QIMS(String)
2020-11-21 22:37:55.385 DEBUG c.j.q.dao.UserMapper.getSuperiorManagerByUser[145]  <==      Total: 1
2020-11-21 22:37:55.409 DEBUG cn.jwis.qualityworkflow.util.EmailService[144]  get handler mail from http://gateway.dev.jwis.io/platform/sys/user/internal-read?name=kiween happen error cause:I/O error on GET request for "http://gateway.dev.jwis.io/platform/sys/user/internal-read": connect timed out; nested exception is java.net.SocketTimeoutException: connect timed out
2020-11-21 22:37:55.420 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==>  Preparing: select time from email_history_info where id =? 
2020-11-21 22:37:55.421 INFO  cn.jwis.qualityworkflow.util.EmailService[142]  qualityadmin email is 
2020-11-21 22:37:55.421 INFO  cn.jwis.qualityworkflow.util.EmailService[142]  dz_gyb2 email is jian.song@jwis.cn
2020-11-21 22:37:55.421 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==> Parameters: 1308013110702899200(String)
2020-11-21 22:37:55.421 INFO  c.j.q.m.factoryaudit.job.AuditQuestionMailJob[31]  邮件下发结束
2020-11-21 22:37:55.421 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==>  Preparing: select time from email_history_info where id =? 
2020-11-21 22:37:55.421 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==> Parameters: 1294123945682796544(String)
2020-11-21 22:37:55.421 INFO  cn.jwis.qualityworkflow.util.EmailService[142]  workflow3 email is null
2020-11-21 22:37:55.435 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  <==      Total: 1
2020-11-21 22:37:55.435 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  <==      Total: 1
2020-11-21 22:37:55.435 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==>  Preparing: select time from email_history_info where id =? 
2020-11-21 22:37:55.436 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==> Parameters: 1294123945716350976(String)
2020-11-21 22:37:55.446 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  <==      Total: 1
2020-11-21 22:37:55.455 INFO  cn.jwis.qualityworkflow.util.EmailService[142]  zhouxianling email is 
2020-11-21 22:37:55.457 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==>  Preparing: select time from email_history_info where id =? 
2020-11-21 22:37:55.457 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==> Parameters: 1286904434760089600(String)
2020-11-21 22:37:55.465 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  <==      Total: 1
2020-11-21 22:37:55.473 INFO  cn.jwis.qualityworkflow.util.EmailService[142]  qualityadmin email is 
2020-11-21 22:37:55.473 DEBUG cn.jwis.qualityworkflow.dao.UserMapper.getSuperior[145]  ==>  Preparing: select superior from department_mapping where user_account = ? and type = ? limit 0,1 
2020-11-21 22:37:55.474 DEBUG cn.jwis.qualityworkflow.dao.UserMapper.getSuperior[145]  ==> Parameters: qualityadmin(String), COMMON(String)
2020-11-21 22:37:55.476 INFO  cn.jwis.qualityworkflow.util.EmailService[142]  xujinbiao email is 
2020-11-21 22:37:55.476 DEBUG cn.jwis.qualityworkflow.dao.UserMapper.getSuperior[145]  ==>  Preparing: select superior from department_mapping where user_account = ? and type = ? limit 0,1 
2020-11-21 22:37:55.476 DEBUG cn.jwis.qualityworkflow.dao.UserMapper.getSuperior[145]  ==> Parameters: xujinbiao(String), COMMON(String)
2020-11-21 22:37:55.482 DEBUG cn.jwis.qualityworkflow.dao.UserMapper.getSuperior[145]  <==      Total: 1
2020-11-21 22:37:55.487 DEBUG cn.jwis.qualityworkflow.dao.UserMapper.getSuperior[145]  <==      Total: 1
2020-11-21 22:37:55.496 INFO  cn.jwis.qualityworkflow.util.EmailService[142]  gupp2 email is null
2020-11-21 22:37:55.496 DEBUG cn.jwis.qualityworkflow.dao.UserMapper.getSuperior[145]  ==>  Preparing: select superior from department_mapping where user_account = ? and type = ? limit 0,1 
2020-11-21 22:37:55.496 DEBUG cn.jwis.qualityworkflow.dao.UserMapper.getSuperior[145]  ==> Parameters: gupp2(String), QIMS(String)
2020-11-21 22:37:55.510 DEBUG cn.jwis.qualityworkflow.dao.UserMapper.getSuperior[145]  <==      Total: 0
2020-11-21 22:37:55.511 DEBUG c.j.q.dao.UserMapper.getSuperiorManagerByUser[145]  ==>  Preparing: select superior_manager from department_mapping where user_account = ? and type = ? limit 0,1 
2020-11-21 22:37:55.512 DEBUG c.j.q.dao.UserMapper.getSuperiorManagerByUser[145]  ==> Parameters: gupp2(String), QIMS(String)
2020-11-21 22:37:55.519 INFO  cn.jwis.qualityworkflow.util.EmailService[142]  qualityadmin email is 
2020-11-21 22:37:55.520 INFO  cn.jwis.qualityworkflow.util.EmailService[142]  hualanlan email is test@jwis.cn
2020-11-21 22:37:55.520 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==>  Preparing: select time from email_history_info where id =? 
2020-11-21 22:37:55.520 DEBUG c.j.q.dao.UserMapper.getSuperiorManagerByUser[145]  <==      Total: 0
2020-11-21 22:37:55.520 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==>  Preparing: select time from email_history_info where id =? 
2020-11-21 22:37:55.520 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==> Parameters: 1308013113928318976(String)
2020-11-21 22:37:55.520 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==> Parameters: 1295193219738370048(String)
2020-11-21 22:37:55.522 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==>  Preparing: select time from email_history_info where id =? 
2020-11-21 22:37:55.522 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==> Parameters: 1286916730144161792(String)
2020-11-21 22:37:55.527 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  <==      Total: 1
2020-11-21 22:37:55.527 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  <==      Total: 1
2020-11-21 22:37:55.527 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==>  Preparing: select time from email_history_info where id =? 
2020-11-21 22:37:55.527 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==> Parameters: 1295193220166189056(String)
2020-11-21 22:37:55.529 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  <==      Total: 1
2020-11-21 22:37:55.536 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  <==      Total: 1
2020-11-21 22:37:55.567 INFO  cn.jwis.qualityworkflow.util.EmailService[142]  qualityadmin email is 
2020-11-21 22:37:55.567 INFO  cn.jwis.qualityworkflow.util.EmailService[142]  xujinbiao email is 
2020-11-21 22:37:55.567 DEBUG cn.jwis.qualityworkflow.dao.UserMapper.getSuperior[145]  ==>  Preparing: select superior from department_mapping where user_account = ? and type = ? limit 0,1 
2020-11-21 22:37:55.567 DEBUG cn.jwis.qualityworkflow.dao.UserMapper.getSuperior[145]  ==>  Preparing: select superior from department_mapping where user_account = ? and type = ? limit 0,1 
2020-11-21 22:37:55.568 DEBUG cn.jwis.qualityworkflow.dao.UserMapper.getSuperior[145]  ==> Parameters: qualityadmin(String), COMMON(String)
2020-11-21 22:37:55.568 DEBUG cn.jwis.qualityworkflow.dao.UserMapper.getSuperior[145]  ==> Parameters: xujinbiao(String), COMMON(String)
2020-11-21 22:37:55.571 INFO  cn.jwis.qualityworkflow.util.EmailService[142]  gupp2 email is null
2020-11-21 22:37:55.571 DEBUG cn.jwis.qualityworkflow.dao.UserMapper.getSuperior[145]  ==>  Preparing: select superior from department_mapping where user_account = ? and type = ? limit 0,1 
2020-11-21 22:37:55.571 DEBUG cn.jwis.qualityworkflow.dao.UserMapper.getSuperior[145]  ==> Parameters: gupp2(String), QIMS(String)
2020-11-21 22:37:55.574 DEBUG cn.jwis.qualityworkflow.dao.UserMapper.getSuperior[145]  <==      Total: 1
2020-11-21 22:37:55.574 DEBUG cn.jwis.qualityworkflow.dao.UserMapper.getSuperior[145]  <==      Total: 1
2020-11-21 22:37:55.578 DEBUG cn.jwis.qualityworkflow.dao.UserMapper.getSuperior[145]  <==      Total: 0
2020-11-21 22:37:55.579 DEBUG c.j.q.dao.UserMapper.getSuperiorManagerByUser[145]  ==>  Preparing: select superior_manager from department_mapping where user_account = ? and type = ? limit 0,1 
2020-11-21 22:37:55.579 DEBUG c.j.q.dao.UserMapper.getSuperiorManagerByUser[145]  ==> Parameters: gupp2(String), QIMS(String)
2020-11-21 22:37:55.586 DEBUG c.j.q.dao.UserMapper.getSuperiorManagerByUser[145]  <==      Total: 0
2020-11-21 22:37:55.588 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==>  Preparing: select time from email_history_info where id =? 
2020-11-21 22:37:55.589 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==> Parameters: 1287933861786812416(String)
2020-11-21 22:37:55.595 INFO  cn.jwis.qualityworkflow.util.EmailService[142]  hualanlan email is test@jwis.cn
2020-11-21 22:37:55.595 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==>  Preparing: select time from email_history_info where id =? 
2020-11-21 22:37:55.596 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==> Parameters: 1295193707351375872(String)
2020-11-21 22:37:55.597 INFO  cn.jwis.qualityworkflow.util.EmailService[142]  qualityadmin email is 
2020-11-21 22:37:55.597 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  <==      Total: 1
2020-11-21 22:37:55.598 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==>  Preparing: select time from email_history_info where id =? 
2020-11-21 22:37:55.598 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==> Parameters: 1308013116927246336(String)
2020-11-21 22:37:55.603 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  <==      Total: 1
2020-11-21 22:37:55.604 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==>  Preparing: select time from email_history_info where id =? 
2020-11-21 22:37:55.604 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==> Parameters: 1295193707376541696(String)
2020-11-21 22:37:55.606 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  <==      Total: 0
2020-11-21 22:37:55.619 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  <==      Total: 1
2020-11-21 22:37:55.619 INFO  cn.jwis.qualityworkflow.util.EmailService[142]  hualanlan email is test@jwis.cn
2020-11-21 22:37:55.619 DEBUG cn.jwis.qualityworkflow.dao.UserMapper.getSuperior[145]  ==>  Preparing: select superior from department_mapping where user_account = ? and type = ? limit 0,1 
2020-11-21 22:37:55.619 DEBUG cn.jwis.qualityworkflow.dao.UserMapper.getSuperior[145]  ==> Parameters: hualanlan(String), QIMS(String)
2020-11-21 22:37:55.629 DEBUG cn.jwis.qualityworkflow.dao.UserMapper.getSuperior[145]  <==      Total: 1
2020-11-21 22:37:55.630 DEBUG c.j.q.dao.UserMapper.getSuperiorManagerByUser[145]  ==>  Preparing: select superior_manager from department_mapping where user_account = ? and type = ? limit 0,1 
2020-11-21 22:37:55.630 DEBUG c.j.q.dao.UserMapper.getSuperiorManagerByUser[145]  ==> Parameters: hualanlan(String), QIMS(String)
2020-11-21 22:37:55.640 DEBUG c.j.q.dao.UserMapper.getSuperiorManagerByUser[145]  <==      Total: 1
2020-11-21 22:37:55.670 INFO  cn.jwis.qualityworkflow.util.EmailService[142]  workflow3 email is null
2020-11-21 22:37:55.673 INFO  cn.jwis.qualityworkflow.util.EmailService[142]  xujinbiao email is 
2020-11-21 22:37:55.673 INFO  cn.jwis.qualityworkflow.util.EmailService[142]  kiween email is 
2020-11-21 22:37:55.674 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==>  Preparing: select time from email_history_info where id =? 
2020-11-21 22:37:55.674 DEBUG cn.jwis.qualityworkflow.dao.UserMapper.getSuperior[145]  ==>  Preparing: select superior from department_mapping where user_account = ? and type = ? limit 0,1 
2020-11-21 22:37:55.674 DEBUG cn.jwis.qualityworkflow.dao.UserMapper.getSuperior[145]  ==> Parameters: xujinbiao(String), COMMON(String)
2020-11-21 22:37:55.674 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==> Parameters: 1309046852858937344(String)
2020-11-21 22:37:55.682 DEBUG cn.jwis.qualityworkflow.dao.UserMapper.getSuperior[145]  <==      Total: 1
2020-11-21 22:37:55.684 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  <==      Total: 0
2020-11-21 22:37:55.694 INFO  cn.jwis.qualityworkflow.util.EmailService[142]  zhouxianling email is 
2020-11-21 22:37:55.695 DEBUG c.j.qualityworkflow.dao.TaskRecordMapper.getById[145]  ==>  Preparing: SELECT * from task_record WHERE id = ? 
2020-11-21 22:37:55.695 DEBUG c.j.qualityworkflow.dao.TaskRecordMapper.getById[145]  ==> Parameters: 1287933861786812416(String)
2020-11-21 22:37:55.702 DEBUG c.j.qualityworkflow.dao.TaskRecordMapper.getById[145]  <==      Total: 1
2020-11-21 22:37:55.703 DEBUG c.j.qualityworkflow.dao.CommonMapper.getKeyToName[145]  ==>  Preparing: SELECT * FROM key_to_name 
2020-11-21 22:37:55.703 DEBUG c.j.qualityworkflow.dao.CommonMapper.getKeyToName[145]  ==> Parameters: 
2020-11-21 22:37:55.707 INFO  cn.jwis.qualityworkflow.util.EmailService[142]  codisan email is kelvin@jwis.cn
2020-11-21 22:37:55.707 DEBUG c.j.qualityworkflow.dao.CommonMapper.getKeyToName[145]  ==>  Preparing: SELECT * FROM key_to_name 
2020-11-21 22:37:55.707 DEBUG c.j.qualityworkflow.dao.CommonMapper.getKeyToName[145]  ==> Parameters: 
2020-11-21 22:37:55.717 INFO  cn.jwis.qualityworkflow.util.EmailService[142]  hualanlan email is test@jwis.cn
2020-11-21 22:37:55.716 DEBUG c.j.qualityworkflow.dao.CommonMapper.getKeyToName[145]  <==      Total: 8
2020-11-21 22:37:55.717 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==>  Preparing: select time from email_history_info where id =? 
2020-11-21 22:37:55.717 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==> Parameters: 1315248790789160960(String)
2020-11-21 22:37:55.718 INFO  cn.jwis.qualityworkflow.util.EmailService[71]  haomiao.liu@jwis.cn send a Mail to test@jwis.cn
2020-11-21 22:37:55.722 DEBUG c.j.qualityworkflow.dao.CommonMapper.getKeyToName[145]  <==      Total: 8
2020-11-21 22:37:55.723 INFO  cn.jwis.qualityworkflow.util.EmailService[74]  haomiao.liu@jwis.cn send a Mail to kelvin@jwis.cn fail, because null
2020-11-21 22:37:55.725 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  <==      Total: 1
2020-11-21 22:37:55.762 INFO  cn.jwis.qualityworkflow.util.EmailService[142]  dz_gyb1 email is test@jwis.cn
2020-11-21 22:37:55.762 DEBUG cn.jwis.qualityworkflow.dao.UserMapper.getSuperior[145]  ==>  Preparing: select superior from department_mapping where user_account = ? and type = ? limit 0,1 
2020-11-21 22:37:55.763 DEBUG cn.jwis.qualityworkflow.dao.UserMapper.getSuperior[145]  ==> Parameters: dz_gyb1(String), COMMON(String)
2020-11-21 22:37:55.773 DEBUG cn.jwis.qualityworkflow.dao.UserMapper.getSuperior[145]  <==      Total: 1
2020-11-21 22:37:55.795 INFO  cn.jwis.qualityworkflow.util.EmailService[142]  dz_gyb2 email is jian.song@jwis.cn
2020-11-21 22:37:55.796 DEBUG c.j.qualityworkflow.dao.CommonMapper.getKeyToName[145]  ==>  Preparing: SELECT * FROM key_to_name 
2020-11-21 22:37:55.796 DEBUG c.j.qualityworkflow.dao.CommonMapper.getKeyToName[145]  ==> Parameters: 
2020-11-21 22:37:55.803 DEBUG c.j.qualityworkflow.dao.CommonMapper.getKeyToName[145]  <==      Total: 8
2020-11-21 22:37:55.803 DEBUG c.j.q.m.l.d.L.getLineQualifyDetailednessInfo[145]  ==>  Preparing: SELECT q.*,ar.processInstanceId ,ar.taskId,ar.assignee,ar.taskState,ar.taskName FROM line_qualify_info q,(SELECT workflow_business_id, process_instance_id as processInstanceId,task_id as taskId,assignee,task_state as taskState,task_name taskName FROM task_record WHERE task_id=?) ar where q.id=ar.workflow_business_id 
2020-11-21 22:37:55.803 DEBUG c.j.q.m.l.d.L.getLineQualifyDetailednessInfo[145]  ==> Parameters: 5506556(String)
2020-11-21 22:37:55.815 DEBUG c.j.q.m.l.d.L.getLineQualifyDetailednessInfo[145]  <==      Total: 1
2020-11-21 22:37:55.816 INFO  cn.jwis.qualityworkflow.util.EmailService[69]  haomiao.liu@jwis.cn send a Mail to test@jwis.cn and make a copy for [jian.song@jwis.cn]
2020-11-21 22:37:56.409 ERROR o.s.s.support.TaskUtils$LoggingErrorHandler[96] org.springframework.mail.MailSendException: Failed messages: javax.mail.SendFailedException: Invalid Addresses;
  nested exception is:
	com.sun.mail.smtp.SMTPAddressFailedException: 554 RCPT (test@jwis.cn) dosn't exist

	at org.springframework.mail.javamail.JavaMailSenderImpl.doSend(JavaMailSenderImpl.java:488)
	at org.springframework.mail.javamail.JavaMailSenderImpl.send(JavaMailSenderImpl.java:359)
	at org.springframework.mail.javamail.JavaMailSenderImpl.send(JavaMailSenderImpl.java:354)
	at cn.jwis.qualityworkflow.util.EmailService.sendHtmlMail(EmailService.java:76)
	at cn.jwis.qualityworkflow.modules.qims.service.imp.QimsSendMailServiceImpl.sendEmailTohandler(QimsSendMailServiceImpl.java:161)
	at cn.jwis.qualityworkflow.modules.qims.service.imp.QimsSendMailServiceImpl.qimsSendMail(QimsSendMailServiceImpl.java:90)
	at cn.jwis.qualityworkflow.modules.qims.job.qimsMailJob.qimsSendMail(qimsMailJob.java:49)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.springframework.scheduling.support.ScheduledMethodRunnable.run(ScheduledMethodRunnable.java:84)
	at org.springframework.scheduling.support.DelegatingErrorHandlingRunnable.run(DelegatingErrorHandlingRunnable.java:54)
	at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:511)
	at java.util.concurrent.FutureTask.runAndReset(FutureTask.java:308)
	at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.access$301(ScheduledThreadPoolExecutor.java:180)
	at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:294)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)
 Unexpected error occurred in scheduled task.
2020-11-21 22:37:56.409 ERROR o.s.s.support.TaskUtils$LoggingErrorHandler[96] org.springframework.mail.MailSendException: Failed messages: javax.mail.SendFailedException: Invalid Addresses;
  nested exception is:
	com.sun.mail.smtp.SMTPAddressFailedException: 554 RCPT (kelvin@jwis.cn) dosn't exist

	at org.springframework.mail.javamail.JavaMailSenderImpl.doSend(JavaMailSenderImpl.java:488)
	at org.springframework.mail.javamail.JavaMailSenderImpl.send(JavaMailSenderImpl.java:359)
	at org.springframework.mail.javamail.JavaMailSenderImpl.send(JavaMailSenderImpl.java:354)
	at cn.jwis.qualityworkflow.util.EmailService.sendHtmlMail(EmailService.java:76)
	at cn.jwis.qualityworkflow.modules.qims.service.imp.QimsSendMailServiceImpl.sendEmailTohandler(QimsSendMailServiceImpl.java:161)
	at cn.jwis.qualityworkflow.modules.ipqc.service.imp.AuditQualityProblemServiceImpl.qimsSendMail(AuditQualityProblemServiceImpl.java:321)
	at cn.jwis.qualityworkflow.modules.ipqc.service.imp.AuditQualityProblemServiceImpl$$FastClassBySpringCGLIB$$15ff325f.invoke(<generated>)
	at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:684)
	at cn.jwis.qualityworkflow.modules.ipqc.service.imp.AuditQualityProblemServiceImpl$$EnhancerBySpringCGLIB$$e291a2f3.qimsSendMail(<generated>)
	at cn.jwis.qualityworkflow.modules.ipqc.job.ipqcMailJob.qimsSendMail(ipqcMailJob.java:28)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.springframework.scheduling.support.ScheduledMethodRunnable.run(ScheduledMethodRunnable.java:84)
	at org.springframework.scheduling.support.DelegatingErrorHandlingRunnable.run(DelegatingErrorHandlingRunnable.java:54)
	at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:511)
	at java.util.concurrent.FutureTask.runAndReset(FutureTask.java:308)
	at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.access$301(ScheduledThreadPoolExecutor.java:180)
	at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:294)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)
 Unexpected error occurred in scheduled task.
2020-11-21 22:37:56.542 ERROR o.s.s.support.TaskUtils$LoggingErrorHandler[96] org.springframework.mail.MailSendException: Failed messages: javax.mail.SendFailedException: Invalid Addresses;
  nested exception is:
	com.sun.mail.smtp.SMTPAddressFailedException: 554 RCPT (test@jwis.cn) dosn't exist
;
  nested exception is:
	com.sun.mail.smtp.SMTPAddressFailedException: 554 RCPT (jian.song@jwis.cn) dosn't exist

	at org.springframework.mail.javamail.JavaMailSenderImpl.doSend(JavaMailSenderImpl.java:488)
	at org.springframework.mail.javamail.JavaMailSenderImpl.send(JavaMailSenderImpl.java:359)
	at org.springframework.mail.javamail.JavaMailSenderImpl.send(JavaMailSenderImpl.java:354)
	at cn.jwis.qualityworkflow.util.EmailService.sendHtmlMail(EmailService.java:76)
	at cn.jwis.qualityworkflow.modules.linequalify.service.imp.LineQualifyServiceImpl.sendEmailTohandler(LineQualifyServiceImpl.java:617)
	at cn.jwis.qualityworkflow.modules.linequalify.service.imp.LineQualifyServiceImpl.sendOverTimeMail(LineQualifyServiceImpl.java:594)
	at cn.jwis.qualityworkflow.modules.linequalify.service.imp.LineQualifyServiceImpl$$FastClassBySpringCGLIB$$4ca6f597.invoke(<generated>)
	at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:684)
	at cn.jwis.qualityworkflow.modules.linequalify.service.imp.LineQualifyServiceImpl$$EnhancerBySpringCGLIB$$2a00af9b.sendOverTimeMail(<generated>)
	at cn.jwis.qualityworkflow.modules.linequalify.job.LineQualifyMailJob.sendOverTimeMail(LineQualifyMailJob.java:30)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.springframework.scheduling.support.ScheduledMethodRunnable.run(ScheduledMethodRunnable.java:84)
	at org.springframework.scheduling.support.DelegatingErrorHandlingRunnable.run(DelegatingErrorHandlingRunnable.java:54)
	at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:511)
	at java.util.concurrent.FutureTask.runAndReset(FutureTask.java:308)
	at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.access$301(ScheduledThreadPoolExecutor.java:180)
	at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:294)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)
 Unexpected error occurred in scheduled task.
2020-11-21 22:40:00.018 INFO  c.j.q.m.t.T.TraceabilityMachineTimerManager[50]  设备定时任务开启
2020-11-21 22:40:00.047 DEBUG c.j.q.m.t.d.T.getTraceabilityMachineList[145]  ==>  Preparing: select table_name from traceability_machine_data group by table_name 
2020-11-21 22:40:00.047 DEBUG c.j.q.m.t.d.T.getTraceabilityMachineList[145]  ==> Parameters: 
2020-11-21 22:40:00.074 DEBUG c.j.q.m.t.d.T.getTraceabilityMachineList[145]  <==      Total: 5
2020-11-21 22:40:00.074 DEBUG c.j.q.m.t.d.T.getTraceabilityMachineFiledName[145]  ==>  Preparing: select filed_name from traceability_machine_data where table_name=? 
2020-11-21 22:40:00.074 DEBUG c.j.q.m.t.d.T.getTraceabilityMachineFiledName[145]  ==> Parameters: dust_free_shed(String)
2020-11-21 22:40:00.087 DEBUG c.j.q.m.t.d.T.getTraceabilityMachineFiledName[145]  <==      Total: 11
2020-11-21 22:40:00.087 DEBUG c.j.q.m.t.d.T.getMaxCreateTime[145]  ==>  Preparing: select max(createtime) from dust_free_shed 
2020-11-21 22:40:00.087 DEBUG c.j.q.m.t.d.T.getMaxCreateTime[145]  ==> Parameters: 
2020-11-21 22:40:00.158 DEBUG c.j.q.m.t.d.T.getMaxCreateTime[145]  <==      Total: 1
2020-11-21 22:40:00.163 ERROR o.s.s.support.TaskUtils$LoggingErrorHandler[96] java.lang.NullPointerException: null
	at cn.jwis.qualityworkflow.modules.traceablity.TimerManager.TraceabilityMachineTimerManager.getLenovoMachineData(TraceabilityMachineTimerManager.java:105)
	at cn.jwis.qualityworkflow.modules.traceablity.TimerManager.TraceabilityMachineTimerManager.MachineTimerManager(TraceabilityMachineTimerManager.java:57)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.springframework.scheduling.support.ScheduledMethodRunnable.run(ScheduledMethodRunnable.java:84)
	at org.springframework.scheduling.support.DelegatingErrorHandlingRunnable.run(DelegatingErrorHandlingRunnable.java:54)
	at org.springframework.scheduling.concurrent.ReschedulingRunnable.run(ReschedulingRunnable.java:93)
	at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:511)
	at java.util.concurrent.FutureTask.run(FutureTask.java:266)
	at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.access$201(ScheduledThreadPoolExecutor.java:180)
	at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:293)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)
 Unexpected error occurred in scheduled task.
2020-11-21 22:42:50.304 INFO  c.j.qualityworkflow.modules.ipqc.job.ipqcMailJob[27]  查询IPQC超时任务
2020-11-21 22:42:50.329 DEBUG c.j.q.m.qims.dao.BlackDashBoardMapper.getHoliday[145]  ==>  Preparing: SELECT DISTINCT date FROM holiday_maintenance WHERE type = '节假日' 
2020-11-21 22:42:50.329 DEBUG c.j.q.dao.TaskRecordMapper.getOverTimeTaskRecord[145]  ==>  Preparing: SELECT *, HOUR(timediff(now() , create_date)) overTimeNum FROM task_record WHERE template_key = ? AND task_state IS NULL AND task_name = ? AND HOUR(timediff(now() , create_date)) >= ? 
2020-11-21 22:42:50.329 DEBUG c.j.q.dao.TaskRecordMapper.getOverTimeTaskRecord[145]  ==>  Preparing: SELECT *, HOUR(timediff(now() , create_date)) overTimeNum FROM task_record WHERE template_key = ? AND task_state IS NULL AND task_name = ? AND HOUR(timediff(now() , create_date)) >= ? 
2020-11-21 22:42:50.330 DEBUG c.j.q.dao.TaskRecordMapper.getOverTimeTaskRecord[145]  ==> Parameters: Line Qualify(String), 文件收集(String), 2(Integer)
2020-11-21 22:42:50.330 DEBUG c.j.q.m.qims.dao.BlackDashBoardMapper.getHoliday[145]  ==> Parameters: 
2020-11-21 22:42:50.330 DEBUG c.j.q.dao.TaskRecordMapper.getOverTimeTaskRecord[145]  ==> Parameters: FactoryAuditProcess(String), 部门审核(String), 24(Integer)
2020-11-21 22:42:50.332 DEBUG c.j.q.dao.TaskRecordMapper.getOverTimeTaskRecord2[145]  ==>  Preparing: SELECT *, HOUR(timediff(now() , create_date)) overTimeNum FROM task_record WHERE template_key = ? AND task_state IS NULL AND HOUR(timediff(now() , create_date)) >= ? 
2020-11-21 22:42:50.332 DEBUG c.j.q.dao.TaskRecordMapper.getOverTimeTaskRecord2[145]  ==> Parameters: IPQCAuditProcess(String), 24(Integer)
2020-11-21 22:42:50.345 DEBUG c.j.q.m.qims.dao.BlackDashBoardMapper.getHoliday[145]  <==      Total: 6
2020-11-21 22:42:50.346 DEBUG c.j.q.m.q.d.B.getWorkOvertimeList[145]  ==>  Preparing: SELECT DISTINCT date FROM holiday_maintenance WHERE type = '补班' 
2020-11-21 22:42:50.346 DEBUG c.j.q.m.q.d.B.getWorkOvertimeList[145]  ==> Parameters: 
2020-11-21 22:42:50.347 DEBUG c.j.q.dao.TaskRecordMapper.getOverTimeTaskRecord[145]  <==      Total: 3
2020-11-21 22:42:50.347 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==>  Preparing: select time from email_history_info where id =? 
2020-11-21 22:42:50.347 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==> Parameters: 1295192540470837248(String)
2020-11-21 22:42:50.350 DEBUG c.j.q.dao.TaskRecordMapper.getOverTimeTaskRecord[145]  <==      Total: 8
2020-11-21 22:42:50.350 DEBUG c.j.q.dao.TaskRecordMapper.getOverTimeTaskRecord2[145]  <==      Total: 18
2020-11-21 22:42:50.351 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==>  Preparing: select time from email_history_info where id =? 
2020-11-21 22:42:50.351 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==> Parameters: 1294123945645047808(String)
2020-11-21 22:42:50.351 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==>  Preparing: select time from email_history_info where id =? 
2020-11-21 22:42:50.351 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==> Parameters: 1303868320843300864(String)
2020-11-21 22:42:50.358 DEBUG c.j.q.m.q.d.B.getWorkOvertimeList[145]  <==      Total: 4
2020-11-21 22:42:50.358 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  <==      Total: 1
2020-11-21 22:42:50.358 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getLtStandard[145]  ==>  Preparing: select * from qims_lt_standard_info 
2020-11-21 22:42:50.358 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==>  Preparing: select time from email_history_info where id =? 
2020-11-21 22:42:50.359 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getLtStandard[145]  ==> Parameters: 
2020-11-21 22:42:50.359 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==> Parameters: 1295192619508301824(String)
2020-11-21 22:42:50.370 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  <==      Total: 1
2020-11-21 22:42:50.370 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  <==      Total: 1
2020-11-21 22:42:50.370 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==>  Preparing: select time from email_history_info where id =? 
2020-11-21 22:42:50.370 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==> Parameters: 1303868347422605312(String)
2020-11-21 22:42:50.381 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  <==      Total: 1
2020-11-21 22:42:50.381 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==>  Preparing: select time from email_history_info where id =? 
2020-11-21 22:42:50.381 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getLtStandard[145]  <==      Total: 8
2020-11-21 22:42:50.381 INFO  c.j.qualityworkflow.modules.qims.job.qimsMailJob[47]  查询黑色问题超过LT的信息
2020-11-21 22:42:50.381 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==> Parameters: 1299240419787276288(String)
2020-11-21 22:42:50.381 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getBlackList[145]  ==>  Preparing: select * from task_record where task_name in('初步原因分析','根本原因分析','根本原因审核') and task_state is null and template_key='QIMSBLACK' 
2020-11-21 22:42:50.382 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getBlackList[145]  ==> Parameters: 
2020-11-21 22:42:50.414 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  <==      Total: 1
2020-11-21 22:42:50.414 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==>  Preparing: select time from email_history_info where id =? 
2020-11-21 22:42:50.414 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==> Parameters: 1303868393815801856(String)
2020-11-21 22:42:50.415 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  <==      Total: 1
2020-11-21 22:42:50.416 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getBlackList[145]  <==      Total: 16
2020-11-21 22:42:50.418 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==>  Preparing: select time from email_history_info where id =? 
2020-11-21 22:42:50.418 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==> Parameters: 1286902446076985344(String)
2020-11-21 22:42:50.435 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  <==      Total: 1
2020-11-21 22:42:50.436 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==>  Preparing: select time from email_history_info where id =? 
2020-11-21 22:42:50.436 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==> Parameters: 1303937438065885184(String)
2020-11-21 22:42:50.444 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  <==      Total: 1
2020-11-21 22:42:50.461 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  <==      Total: 1
2020-11-21 22:42:50.461 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==>  Preparing: select time from email_history_info where id =? 
2020-11-21 22:42:50.461 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==> Parameters: 1303939538460082176(String)
2020-11-21 22:42:50.487 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  <==      Total: 1
2020-11-21 22:42:50.488 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==>  Preparing: select time from email_history_info where id =? 
2020-11-21 22:42:50.488 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==> Parameters: 1303939599889858560(String)
2020-11-21 22:42:50.508 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  <==      Total: 1
2020-11-21 22:42:50.509 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==>  Preparing: select time from email_history_info where id =? 
2020-11-21 22:42:50.509 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==> Parameters: 1306059696263659520(String)
2020-11-21 22:42:50.520 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  <==      Total: 1
2020-11-21 22:42:50.520 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==>  Preparing: select time from email_history_info where id =? 
2020-11-21 22:42:50.521 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==> Parameters: 1306155886347026432(String)
2020-11-21 22:42:50.531 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  <==      Total: 1
2020-11-21 22:42:50.532 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==>  Preparing: select time from email_history_info where id =? 
2020-11-21 22:42:50.532 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==> Parameters: 1306201167000240128(String)
2020-11-21 22:42:50.542 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  <==      Total: 1
2020-11-21 22:42:50.542 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==>  Preparing: select time from email_history_info where id =? 
2020-11-21 22:42:50.543 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==> Parameters: 1308013106458263552(String)
2020-11-21 22:42:50.563 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  <==      Total: 0
2020-11-21 22:42:55.444 DEBUG cn.jwis.qualityworkflow.util.EmailService[144]  get handler mail from http://gateway.dev.jwis.io/platform/sys/user/internal-read?name=hualanlan happen error cause:I/O error on GET request for "http://gateway.dev.jwis.io/platform/sys/user/internal-read": connect timed out; nested exception is java.net.SocketTimeoutException: connect timed out
2020-11-21 22:42:55.444 DEBUG cn.jwis.qualityworkflow.util.EmailService[144]  get handler mail from http://gateway.dev.jwis.io/platform/sys/user/internal-read?name=qualityadmin happen error cause:I/O error on GET request for "http://gateway.dev.jwis.io/platform/sys/user/internal-read": connect timed out; nested exception is java.net.SocketTimeoutException: connect timed out
2020-11-21 22:42:55.444 DEBUG cn.jwis.qualityworkflow.util.EmailService[144]  get handler mail from http://gateway.dev.jwis.io/platform/sys/user/internal-read?name=dz_gyb1 happen error cause:I/O error on GET request for "http://gateway.dev.jwis.io/platform/sys/user/internal-read": connect timed out; nested exception is java.net.SocketTimeoutException: connect timed out
2020-11-21 22:42:55.456 DEBUG cn.jwis.qualityworkflow.dao.UserMapper.getSuperior[145]  ==>  Preparing: select superior from department_mapping where user_account = ? and type = ? limit 0,1 
2020-11-21 22:42:55.457 DEBUG cn.jwis.qualityworkflow.dao.UserMapper.getSuperior[145]  ==> Parameters: dz_gyb1(String), COMMON(String)
2020-11-21 22:42:55.457 DEBUG cn.jwis.qualityworkflow.dao.UserMapper.getSuperior[145]  ==>  Preparing: select superior from department_mapping where user_account = ? and type = ? limit 0,1 
2020-11-21 22:42:55.457 DEBUG cn.jwis.qualityworkflow.dao.UserMapper.getSuperior[145]  ==> Parameters: qualityadmin(String), COMMON(String)
2020-11-21 22:42:55.457 DEBUG cn.jwis.qualityworkflow.dao.UserMapper.getSuperior[145]  ==>  Preparing: select superior from department_mapping where user_account = ? and type = ? limit 0,1 
2020-11-21 22:42:55.457 DEBUG cn.jwis.qualityworkflow.dao.UserMapper.getSuperior[145]  ==> Parameters: hualanlan(String), QIMS(String)
2020-11-21 22:42:55.470 DEBUG cn.jwis.qualityworkflow.dao.UserMapper.getSuperior[145]  <==      Total: 1
2020-11-21 22:42:55.470 DEBUG cn.jwis.qualityworkflow.dao.UserMapper.getSuperior[145]  <==      Total: 1
2020-11-21 22:42:55.470 DEBUG cn.jwis.qualityworkflow.dao.UserMapper.getSuperior[145]  <==      Total: 1
2020-11-21 22:42:55.471 DEBUG c.j.q.dao.UserMapper.getSuperiorManagerByUser[145]  ==>  Preparing: select superior_manager from department_mapping where user_account = ? and type = ? limit 0,1 
2020-11-21 22:42:55.471 DEBUG c.j.q.dao.UserMapper.getSuperiorManagerByUser[145]  ==> Parameters: hualanlan(String), QIMS(String)
2020-11-21 22:42:55.479 DEBUG c.j.q.dao.UserMapper.getSuperiorManagerByUser[145]  <==      Total: 1
2020-11-21 22:42:55.520 INFO  cn.jwis.qualityworkflow.util.EmailService[142]  workflow3 email is null
2020-11-21 22:42:55.520 INFO  cn.jwis.qualityworkflow.util.EmailService[142]  qualityadmin email is 
2020-11-21 22:42:55.520 INFO  cn.jwis.qualityworkflow.util.EmailService[142]  dz_gyb2 email is jian.song@jwis.cn
2020-11-21 22:42:55.520 INFO  c.j.q.m.factoryaudit.job.AuditQuestionMailJob[31]  邮件下发结束
2020-11-21 22:42:55.520 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==>  Preparing: select time from email_history_info where id =? 
2020-11-21 22:42:55.522 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==> Parameters: 1294123945682796544(String)
2020-11-21 22:42:55.532 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  <==      Total: 1
2020-11-21 22:42:55.532 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==>  Preparing: select time from email_history_info where id =? 
2020-11-21 22:42:55.533 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==> Parameters: 1294123945716350976(String)
2020-11-21 22:42:55.543 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  <==      Total: 1
2020-11-21 22:42:55.548 INFO  cn.jwis.qualityworkflow.util.EmailService[142]  zhouxianling email is 
2020-11-21 22:42:55.550 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==>  Preparing: select time from email_history_info where id =? 
2020-11-21 22:42:55.550 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==> Parameters: 1286904434760089600(String)
2020-11-21 22:42:55.560 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  <==      Total: 1
2020-11-21 22:42:55.564 DEBUG cn.jwis.qualityworkflow.util.EmailService[144]  get handler mail from http://gateway.dev.jwis.io/platform/sys/user/internal-read?name=kiween happen error cause:I/O error on GET request for "http://gateway.dev.jwis.io/platform/sys/user/internal-read": connect timed out; nested exception is java.net.SocketTimeoutException: connect timed out
2020-11-21 22:42:55.570 INFO  cn.jwis.qualityworkflow.util.EmailService[142]  xujinbiao email is 
2020-11-21 22:42:55.570 DEBUG cn.jwis.qualityworkflow.dao.UserMapper.getSuperior[145]  ==>  Preparing: select superior from department_mapping where user_account = ? and type = ? limit 0,1 
2020-11-21 22:42:55.570 DEBUG cn.jwis.qualityworkflow.dao.UserMapper.getSuperior[145]  ==> Parameters: xujinbiao(String), COMMON(String)
2020-11-21 22:42:55.575 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==>  Preparing: select time from email_history_info where id =? 
2020-11-21 22:42:55.575 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==> Parameters: 1308013110702899200(String)
2020-11-21 22:42:55.578 DEBUG cn.jwis.qualityworkflow.dao.UserMapper.getSuperior[145]  <==      Total: 1
2020-11-21 22:42:55.582 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  <==      Total: 1
2020-11-21 22:42:55.591 INFO  cn.jwis.qualityworkflow.util.EmailService[142]  gupp2 email is null
2020-11-21 22:42:55.592 DEBUG cn.jwis.qualityworkflow.dao.UserMapper.getSuperior[145]  ==>  Preparing: select superior from department_mapping where user_account = ? and type = ? limit 0,1 
2020-11-21 22:42:55.592 DEBUG cn.jwis.qualityworkflow.dao.UserMapper.getSuperior[145]  ==> Parameters: gupp2(String), QIMS(String)
2020-11-21 22:42:55.597 INFO  cn.jwis.qualityworkflow.util.EmailService[142]  hualanlan email is test@jwis.cn
2020-11-21 22:42:55.597 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==>  Preparing: select time from email_history_info where id =? 
2020-11-21 22:42:55.597 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==> Parameters: 1295193219738370048(String)
2020-11-21 22:42:55.603 INFO  cn.jwis.qualityworkflow.util.EmailService[142]  qualityadmin email is 
2020-11-21 22:42:55.603 DEBUG cn.jwis.qualityworkflow.dao.UserMapper.getSuperior[145]  ==>  Preparing: select superior from department_mapping where user_account = ? and type = ? limit 0,1 
2020-11-21 22:42:55.603 DEBUG cn.jwis.qualityworkflow.dao.UserMapper.getSuperior[145]  ==> Parameters: qualityadmin(String), COMMON(String)
2020-11-21 22:42:55.605 DEBUG cn.jwis.qualityworkflow.dao.UserMapper.getSuperior[145]  <==      Total: 0
2020-11-21 22:42:55.605 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  <==      Total: 1
2020-11-21 22:42:55.606 DEBUG c.j.q.dao.UserMapper.getSuperiorManagerByUser[145]  ==>  Preparing: select superior_manager from department_mapping where user_account = ? and type = ? limit 0,1 
2020-11-21 22:42:55.606 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==>  Preparing: select time from email_history_info where id =? 
2020-11-21 22:42:55.606 DEBUG c.j.q.dao.UserMapper.getSuperiorManagerByUser[145]  ==> Parameters: gupp2(String), QIMS(String)
2020-11-21 22:42:55.606 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==> Parameters: 1295193220166189056(String)
2020-11-21 22:42:55.612 DEBUG cn.jwis.qualityworkflow.dao.UserMapper.getSuperior[145]  <==      Total: 1
2020-11-21 22:42:55.620 DEBUG c.j.q.dao.UserMapper.getSuperiorManagerByUser[145]  <==      Total: 0
2020-11-21 22:42:55.620 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  <==      Total: 1
2020-11-21 22:42:55.622 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==>  Preparing: select time from email_history_info where id =? 
2020-11-21 22:42:55.622 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==> Parameters: 1286916730144161792(String)
2020-11-21 22:42:55.630 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  <==      Total: 1
2020-11-21 22:42:55.649 INFO  cn.jwis.qualityworkflow.util.EmailService[142]  xujinbiao email is 
2020-11-21 22:42:55.649 INFO  cn.jwis.qualityworkflow.util.EmailService[142]  qualityadmin email is 
2020-11-21 22:42:55.650 DEBUG cn.jwis.qualityworkflow.dao.UserMapper.getSuperior[145]  ==>  Preparing: select superior from department_mapping where user_account = ? and type = ? limit 0,1 
2020-11-21 22:42:55.650 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==>  Preparing: select time from email_history_info where id =? 
2020-11-21 22:42:55.650 DEBUG cn.jwis.qualityworkflow.dao.UserMapper.getSuperior[145]  ==> Parameters: xujinbiao(String), COMMON(String)
2020-11-21 22:42:55.650 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==> Parameters: 1308013113928318976(String)
2020-11-21 22:42:55.664 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  <==      Total: 1
2020-11-21 22:42:55.664 DEBUG cn.jwis.qualityworkflow.dao.UserMapper.getSuperior[145]  <==      Total: 1
2020-11-21 22:42:55.769 INFO  cn.jwis.qualityworkflow.util.EmailService[142]  gupp2 email is null
2020-11-21 22:42:55.769 DEBUG cn.jwis.qualityworkflow.dao.UserMapper.getSuperior[145]  ==>  Preparing: select superior from department_mapping where user_account = ? and type = ? limit 0,1 
2020-11-21 22:42:55.769 DEBUG cn.jwis.qualityworkflow.dao.UserMapper.getSuperior[145]  ==> Parameters: gupp2(String), QIMS(String)
2020-11-21 22:42:55.770 INFO  cn.jwis.qualityworkflow.util.EmailService[142]  hualanlan email is test@jwis.cn
2020-11-21 22:42:55.770 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==>  Preparing: select time from email_history_info where id =? 
2020-11-21 22:42:55.770 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==> Parameters: 1295193707351375872(String)
2020-11-21 22:42:55.772 INFO  cn.jwis.qualityworkflow.util.EmailService[142]  qualityadmin email is 
2020-11-21 22:42:55.773 DEBUG cn.jwis.qualityworkflow.dao.UserMapper.getSuperior[145]  ==>  Preparing: select superior from department_mapping where user_account = ? and type = ? limit 0,1 
2020-11-21 22:42:55.773 DEBUG cn.jwis.qualityworkflow.dao.UserMapper.getSuperior[145]  ==> Parameters: qualityadmin(String), COMMON(String)
2020-11-21 22:42:55.780 DEBUG cn.jwis.qualityworkflow.dao.UserMapper.getSuperior[145]  <==      Total: 0
2020-11-21 22:42:55.780 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  <==      Total: 1
2020-11-21 22:42:55.780 DEBUG c.j.q.dao.UserMapper.getSuperiorManagerByUser[145]  ==>  Preparing: select superior_manager from department_mapping where user_account = ? and type = ? limit 0,1 
2020-11-21 22:42:55.780 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==>  Preparing: select time from email_history_info where id =? 
2020-11-21 22:42:55.780 DEBUG c.j.q.dao.UserMapper.getSuperiorManagerByUser[145]  ==> Parameters: gupp2(String), QIMS(String)
2020-11-21 22:42:55.780 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==> Parameters: 1295193707376541696(String)
2020-11-21 22:42:55.783 DEBUG cn.jwis.qualityworkflow.dao.UserMapper.getSuperior[145]  <==      Total: 1
2020-11-21 22:42:55.786 DEBUG c.j.q.dao.UserMapper.getSuperiorManagerByUser[145]  <==      Total: 0
2020-11-21 22:42:55.787 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  <==      Total: 1
2020-11-21 22:42:55.788 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==>  Preparing: select time from email_history_info where id =? 
2020-11-21 22:42:55.789 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==> Parameters: 1287933861786812416(String)
2020-11-21 22:42:55.798 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  <==      Total: 1
2020-11-21 22:42:55.807 INFO  cn.jwis.qualityworkflow.util.EmailService[142]  qualityadmin email is 
2020-11-21 22:42:55.807 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==>  Preparing: select time from email_history_info where id =? 
2020-11-21 22:42:55.808 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==> Parameters: 1308013116927246336(String)
2020-11-21 22:42:55.811 INFO  cn.jwis.qualityworkflow.util.EmailService[142]  xujinbiao email is 
2020-11-21 22:42:55.811 DEBUG cn.jwis.qualityworkflow.dao.UserMapper.getSuperior[145]  ==>  Preparing: select superior from department_mapping where user_account = ? and type = ? limit 0,1 
2020-11-21 22:42:55.811 DEBUG cn.jwis.qualityworkflow.dao.UserMapper.getSuperior[145]  ==> Parameters: xujinbiao(String), COMMON(String)
2020-11-21 22:42:55.817 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  <==      Total: 0
2020-11-21 22:42:55.820 DEBUG cn.jwis.qualityworkflow.dao.UserMapper.getSuperior[145]  <==      Total: 1
2020-11-21 22:42:55.821 INFO  cn.jwis.qualityworkflow.util.EmailService[142]  hualanlan email is test@jwis.cn
2020-11-21 22:42:55.821 DEBUG cn.jwis.qualityworkflow.dao.UserMapper.getSuperior[145]  ==>  Preparing: select superior from department_mapping where user_account = ? and type = ? limit 0,1 
2020-11-21 22:42:55.821 DEBUG cn.jwis.qualityworkflow.dao.UserMapper.getSuperior[145]  ==> Parameters: hualanlan(String), QIMS(String)
2020-11-21 22:42:55.832 DEBUG cn.jwis.qualityworkflow.dao.UserMapper.getSuperior[145]  <==      Total: 1
2020-11-21 22:42:55.832 DEBUG c.j.q.dao.UserMapper.getSuperiorManagerByUser[145]  ==>  Preparing: select superior_manager from department_mapping where user_account = ? and type = ? limit 0,1 
2020-11-21 22:42:55.832 DEBUG c.j.q.dao.UserMapper.getSuperiorManagerByUser[145]  ==> Parameters: hualanlan(String), QIMS(String)
2020-11-21 22:42:55.837 DEBUG c.j.q.dao.UserMapper.getSuperiorManagerByUser[145]  <==      Total: 1
2020-11-21 22:42:55.866 INFO  cn.jwis.qualityworkflow.util.EmailService[142]  kiween email is 
2020-11-21 22:42:55.866 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==>  Preparing: select time from email_history_info where id =? 
2020-11-21 22:42:55.866 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==> Parameters: 1309046852858937344(String)
2020-11-21 22:42:55.872 INFO  cn.jwis.qualityworkflow.util.EmailService[142]  hualanlan email is test@jwis.cn
2020-11-21 22:42:55.872 INFO  cn.jwis.qualityworkflow.util.EmailService[142]  workflow3 email is null
2020-11-21 22:42:55.872 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==>  Preparing: select time from email_history_info where id =? 
2020-11-21 22:42:55.873 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==> Parameters: 1315248790789160960(String)
2020-11-21 22:42:55.881 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  <==      Total: 0
2020-11-21 22:42:55.892 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  <==      Total: 1
2020-11-21 22:42:55.921 INFO  cn.jwis.qualityworkflow.util.EmailService[142]  zhouxianling email is 
2020-11-21 22:42:55.922 DEBUG c.j.qualityworkflow.dao.TaskRecordMapper.getById[145]  ==>  Preparing: SELECT * from task_record WHERE id = ? 
2020-11-21 22:42:55.922 DEBUG c.j.qualityworkflow.dao.TaskRecordMapper.getById[145]  ==> Parameters: 1287933861786812416(String)
2020-11-21 22:42:55.940 DEBUG c.j.qualityworkflow.dao.TaskRecordMapper.getById[145]  <==      Total: 1
2020-11-21 22:42:55.940 DEBUG c.j.qualityworkflow.dao.CommonMapper.getKeyToName[145]  ==>  Preparing: SELECT * FROM key_to_name 
2020-11-21 22:42:55.941 DEBUG c.j.qualityworkflow.dao.CommonMapper.getKeyToName[145]  ==> Parameters: 
2020-11-21 22:42:55.951 DEBUG c.j.qualityworkflow.dao.CommonMapper.getKeyToName[145]  <==      Total: 8
2020-11-21 22:42:55.952 INFO  cn.jwis.qualityworkflow.util.EmailService[71]  haomiao.liu@jwis.cn send a Mail to test@jwis.cn
2020-11-21 22:42:55.959 INFO  cn.jwis.qualityworkflow.util.EmailService[142]  codisan email is kelvin@jwis.cn
2020-11-21 22:42:55.959 DEBUG c.j.qualityworkflow.dao.CommonMapper.getKeyToName[145]  ==>  Preparing: SELECT * FROM key_to_name 
2020-11-21 22:42:55.959 DEBUG c.j.qualityworkflow.dao.CommonMapper.getKeyToName[145]  ==> Parameters: 
2020-11-21 22:42:55.973 INFO  cn.jwis.qualityworkflow.util.EmailService[142]  dz_gyb1 email is test@jwis.cn
2020-11-21 22:42:55.973 DEBUG c.j.qualityworkflow.dao.CommonMapper.getKeyToName[145]  <==      Total: 8
2020-11-21 22:42:55.974 DEBUG cn.jwis.qualityworkflow.dao.UserMapper.getSuperior[145]  ==>  Preparing: select superior from department_mapping where user_account = ? and type = ? limit 0,1 
2020-11-21 22:42:55.974 DEBUG cn.jwis.qualityworkflow.dao.UserMapper.getSuperior[145]  ==> Parameters: dz_gyb1(String), COMMON(String)
2020-11-21 22:42:55.974 INFO  cn.jwis.qualityworkflow.util.EmailService[74]  haomiao.liu@jwis.cn send a Mail to kelvin@jwis.cn fail, because null
2020-11-21 22:42:55.991 DEBUG cn.jwis.qualityworkflow.dao.UserMapper.getSuperior[145]  <==      Total: 1
2020-11-21 22:42:56.014 INFO  cn.jwis.qualityworkflow.util.EmailService[142]  dz_gyb2 email is jian.song@jwis.cn
2020-11-21 22:42:56.014 DEBUG c.j.qualityworkflow.dao.CommonMapper.getKeyToName[145]  ==>  Preparing: SELECT * FROM key_to_name 
2020-11-21 22:42:56.014 DEBUG c.j.qualityworkflow.dao.CommonMapper.getKeyToName[145]  ==> Parameters: 
2020-11-21 22:42:56.023 DEBUG c.j.qualityworkflow.dao.CommonMapper.getKeyToName[145]  <==      Total: 8
2020-11-21 22:42:56.023 DEBUG c.j.q.m.l.d.L.getLineQualifyDetailednessInfo[145]  ==>  Preparing: SELECT q.*,ar.processInstanceId ,ar.taskId,ar.assignee,ar.taskState,ar.taskName FROM line_qualify_info q,(SELECT workflow_business_id, process_instance_id as processInstanceId,task_id as taskId,assignee,task_state as taskState,task_name taskName FROM task_record WHERE task_id=?) ar where q.id=ar.workflow_business_id 
2020-11-21 22:42:56.024 DEBUG c.j.q.m.l.d.L.getLineQualifyDetailednessInfo[145]  ==> Parameters: 5506556(String)
2020-11-21 22:42:56.046 DEBUG c.j.q.m.l.d.L.getLineQualifyDetailednessInfo[145]  <==      Total: 1
2020-11-21 22:42:56.047 INFO  cn.jwis.qualityworkflow.util.EmailService[69]  haomiao.liu@jwis.cn send a Mail to test@jwis.cn and make a copy for [jian.song@jwis.cn]
2020-11-21 22:42:56.627 ERROR o.s.s.support.TaskUtils$LoggingErrorHandler[96] org.springframework.mail.MailSendException: Failed messages: javax.mail.SendFailedException: Invalid Addresses;
  nested exception is:
	com.sun.mail.smtp.SMTPAddressFailedException: 554 RCPT (kelvin@jwis.cn) dosn't exist

	at org.springframework.mail.javamail.JavaMailSenderImpl.doSend(JavaMailSenderImpl.java:488)
	at org.springframework.mail.javamail.JavaMailSenderImpl.send(JavaMailSenderImpl.java:359)
	at org.springframework.mail.javamail.JavaMailSenderImpl.send(JavaMailSenderImpl.java:354)
	at cn.jwis.qualityworkflow.util.EmailService.sendHtmlMail(EmailService.java:76)
	at cn.jwis.qualityworkflow.modules.qims.service.imp.QimsSendMailServiceImpl.sendEmailTohandler(QimsSendMailServiceImpl.java:161)
	at cn.jwis.qualityworkflow.modules.ipqc.service.imp.AuditQualityProblemServiceImpl.qimsSendMail(AuditQualityProblemServiceImpl.java:321)
	at cn.jwis.qualityworkflow.modules.ipqc.service.imp.AuditQualityProblemServiceImpl$$FastClassBySpringCGLIB$$15ff325f.invoke(<generated>)
	at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:684)
	at cn.jwis.qualityworkflow.modules.ipqc.service.imp.AuditQualityProblemServiceImpl$$EnhancerBySpringCGLIB$$e291a2f3.qimsSendMail(<generated>)
	at cn.jwis.qualityworkflow.modules.ipqc.job.ipqcMailJob.qimsSendMail(ipqcMailJob.java:28)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.springframework.scheduling.support.ScheduledMethodRunnable.run(ScheduledMethodRunnable.java:84)
	at org.springframework.scheduling.support.DelegatingErrorHandlingRunnable.run(DelegatingErrorHandlingRunnable.java:54)
	at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:511)
	at java.util.concurrent.FutureTask.runAndReset(FutureTask.java:308)
	at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.access$301(ScheduledThreadPoolExecutor.java:180)
	at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:294)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)
 Unexpected error occurred in scheduled task.
2020-11-21 22:42:56.668 ERROR o.s.s.support.TaskUtils$LoggingErrorHandler[96] org.springframework.mail.MailSendException: Failed messages: javax.mail.SendFailedException: Invalid Addresses;
  nested exception is:
	com.sun.mail.smtp.SMTPAddressFailedException: 554 RCPT (test@jwis.cn) dosn't exist

	at org.springframework.mail.javamail.JavaMailSenderImpl.doSend(JavaMailSenderImpl.java:488)
	at org.springframework.mail.javamail.JavaMailSenderImpl.send(JavaMailSenderImpl.java:359)
	at org.springframework.mail.javamail.JavaMailSenderImpl.send(JavaMailSenderImpl.java:354)
	at cn.jwis.qualityworkflow.util.EmailService.sendHtmlMail(EmailService.java:76)
	at cn.jwis.qualityworkflow.modules.qims.service.imp.QimsSendMailServiceImpl.sendEmailTohandler(QimsSendMailServiceImpl.java:161)
	at cn.jwis.qualityworkflow.modules.qims.service.imp.QimsSendMailServiceImpl.qimsSendMail(QimsSendMailServiceImpl.java:90)
	at cn.jwis.qualityworkflow.modules.qims.job.qimsMailJob.qimsSendMail(qimsMailJob.java:49)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.springframework.scheduling.support.ScheduledMethodRunnable.run(ScheduledMethodRunnable.java:84)
	at org.springframework.scheduling.support.DelegatingErrorHandlingRunnable.run(DelegatingErrorHandlingRunnable.java:54)
	at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:511)
	at java.util.concurrent.FutureTask.runAndReset(FutureTask.java:308)
	at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.access$301(ScheduledThreadPoolExecutor.java:180)
	at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:294)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)
 Unexpected error occurred in scheduled task.
2020-11-21 22:42:56.752 ERROR o.s.s.support.TaskUtils$LoggingErrorHandler[96] org.springframework.mail.MailSendException: Failed messages: javax.mail.SendFailedException: Invalid Addresses;
  nested exception is:
	com.sun.mail.smtp.SMTPAddressFailedException: 554 RCPT (test@jwis.cn) dosn't exist
;
  nested exception is:
	com.sun.mail.smtp.SMTPAddressFailedException: 554 RCPT (jian.song@jwis.cn) dosn't exist

	at org.springframework.mail.javamail.JavaMailSenderImpl.doSend(JavaMailSenderImpl.java:488)
	at org.springframework.mail.javamail.JavaMailSenderImpl.send(JavaMailSenderImpl.java:359)
	at org.springframework.mail.javamail.JavaMailSenderImpl.send(JavaMailSenderImpl.java:354)
	at cn.jwis.qualityworkflow.util.EmailService.sendHtmlMail(EmailService.java:76)
	at cn.jwis.qualityworkflow.modules.linequalify.service.imp.LineQualifyServiceImpl.sendEmailTohandler(LineQualifyServiceImpl.java:617)
	at cn.jwis.qualityworkflow.modules.linequalify.service.imp.LineQualifyServiceImpl.sendOverTimeMail(LineQualifyServiceImpl.java:594)
	at cn.jwis.qualityworkflow.modules.linequalify.service.imp.LineQualifyServiceImpl$$FastClassBySpringCGLIB$$4ca6f597.invoke(<generated>)
	at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:684)
	at cn.jwis.qualityworkflow.modules.linequalify.service.imp.LineQualifyServiceImpl$$EnhancerBySpringCGLIB$$2a00af9b.sendOverTimeMail(<generated>)
	at cn.jwis.qualityworkflow.modules.linequalify.job.LineQualifyMailJob.sendOverTimeMail(LineQualifyMailJob.java:30)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.springframework.scheduling.support.ScheduledMethodRunnable.run(ScheduledMethodRunnable.java:84)
	at org.springframework.scheduling.support.DelegatingErrorHandlingRunnable.run(DelegatingErrorHandlingRunnable.java:54)
	at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:511)
	at java.util.concurrent.FutureTask.runAndReset(FutureTask.java:308)
	at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.access$301(ScheduledThreadPoolExecutor.java:180)
	at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:294)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)
 Unexpected error occurred in scheduled task.
2020-11-21 22:47:50.313 INFO  c.j.qualityworkflow.modules.ipqc.job.ipqcMailJob[27]  查询IPQC超时任务
2020-11-21 22:47:50.329 DEBUG c.j.q.dao.TaskRecordMapper.getOverTimeTaskRecord[145]  ==>  Preparing: SELECT *, HOUR(timediff(now() , create_date)) overTimeNum FROM task_record WHERE template_key = ? AND task_state IS NULL AND task_name = ? AND HOUR(timediff(now() , create_date)) >= ? 
2020-11-21 22:47:50.330 DEBUG c.j.q.dao.TaskRecordMapper.getOverTimeTaskRecord[145]  ==> Parameters: FactoryAuditProcess(String), 部门审核(String), 24(Integer)
2020-11-21 22:47:50.331 DEBUG c.j.q.m.qims.dao.BlackDashBoardMapper.getHoliday[145]  ==>  Preparing: SELECT DISTINCT date FROM holiday_maintenance WHERE type = '节假日' 
2020-11-21 22:47:50.331 DEBUG c.j.q.m.qims.dao.BlackDashBoardMapper.getHoliday[145]  ==> Parameters: 
2020-11-21 22:47:50.333 DEBUG c.j.q.dao.TaskRecordMapper.getOverTimeTaskRecord2[145]  ==>  Preparing: SELECT *, HOUR(timediff(now() , create_date)) overTimeNum FROM task_record WHERE template_key = ? AND task_state IS NULL AND HOUR(timediff(now() , create_date)) >= ? 
2020-11-21 22:47:50.334 DEBUG c.j.q.dao.TaskRecordMapper.getOverTimeTaskRecord2[145]  ==> Parameters: IPQCAuditProcess(String), 24(Integer)
2020-11-21 22:47:50.334 DEBUG c.j.q.dao.TaskRecordMapper.getOverTimeTaskRecord[145]  ==>  Preparing: SELECT *, HOUR(timediff(now() , create_date)) overTimeNum FROM task_record WHERE template_key = ? AND task_state IS NULL AND task_name = ? AND HOUR(timediff(now() , create_date)) >= ? 
2020-11-21 22:47:50.335 DEBUG c.j.q.dao.TaskRecordMapper.getOverTimeTaskRecord[145]  ==> Parameters: Line Qualify(String), 文件收集(String), 2(Integer)
2020-11-21 22:47:50.361 DEBUG c.j.q.m.qims.dao.BlackDashBoardMapper.getHoliday[145]  <==      Total: 6
2020-11-21 22:47:50.361 DEBUG c.j.q.dao.TaskRecordMapper.getOverTimeTaskRecord[145]  <==      Total: 3
2020-11-21 22:47:50.362 DEBUG c.j.q.m.q.d.B.getWorkOvertimeList[145]  ==>  Preparing: SELECT DISTINCT date FROM holiday_maintenance WHERE type = '补班' 
2020-11-21 22:47:50.362 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==>  Preparing: select time from email_history_info where id =? 
2020-11-21 22:47:50.362 DEBUG c.j.q.dao.TaskRecordMapper.getOverTimeTaskRecord2[145]  <==      Total: 18
2020-11-21 22:47:50.362 DEBUG c.j.q.m.q.d.B.getWorkOvertimeList[145]  ==> Parameters: 
2020-11-21 22:47:50.362 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==> Parameters: 1295192540470837248(String)
2020-11-21 22:47:50.362 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==>  Preparing: select time from email_history_info where id =? 
2020-11-21 22:47:50.362 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==> Parameters: 1303868320843300864(String)
2020-11-21 22:47:50.362 DEBUG c.j.q.dao.TaskRecordMapper.getOverTimeTaskRecord[145]  <==      Total: 8
2020-11-21 22:47:50.362 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==>  Preparing: select time from email_history_info where id =? 
2020-11-21 22:47:50.363 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==> Parameters: 1294123945645047808(String)
2020-11-21 22:47:50.386 DEBUG c.j.q.m.q.d.B.getWorkOvertimeList[145]  <==      Total: 4
2020-11-21 22:47:50.386 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getLtStandard[145]  ==>  Preparing: select * from qims_lt_standard_info 
2020-11-21 22:47:50.386 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getLtStandard[145]  ==> Parameters: 
2020-11-21 22:47:50.400 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  <==      Total: 1
2020-11-21 22:47:50.400 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  <==      Total: 1
2020-11-21 22:47:50.400 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  <==      Total: 1
2020-11-21 22:47:50.401 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==>  Preparing: select time from email_history_info where id =? 
2020-11-21 22:47:50.401 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==>  Preparing: select time from email_history_info where id =? 
2020-11-21 22:47:50.401 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==> Parameters: 1303868347422605312(String)
2020-11-21 22:47:50.401 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==> Parameters: 1295192619508301824(String)
2020-11-21 22:47:50.438 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getLtStandard[145]  <==      Total: 8
2020-11-21 22:47:50.439 INFO  c.j.qualityworkflow.modules.qims.job.qimsMailJob[47]  查询黑色问题超过LT的信息
2020-11-21 22:47:50.439 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getBlackList[145]  ==>  Preparing: select * from task_record where task_name in('初步原因分析','根本原因分析','根本原因审核') and task_state is null and template_key='QIMSBLACK' 
2020-11-21 22:47:50.439 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getBlackList[145]  ==> Parameters: 
2020-11-21 22:47:50.440 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  <==      Total: 1
2020-11-21 22:47:50.440 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  <==      Total: 1
2020-11-21 22:47:50.440 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==>  Preparing: select time from email_history_info where id =? 
2020-11-21 22:47:50.440 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==>  Preparing: select time from email_history_info where id =? 
2020-11-21 22:47:50.440 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==> Parameters: 1299240419787276288(String)
2020-11-21 22:47:50.440 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==> Parameters: 1303868393815801856(String)
2020-11-21 22:47:50.460 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  <==      Total: 1
2020-11-21 22:47:50.461 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getBlackList[145]  <==      Total: 16
2020-11-21 22:47:50.463 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==>  Preparing: select time from email_history_info where id =? 
2020-11-21 22:47:50.463 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==> Parameters: 1286902446076985344(String)
2020-11-21 22:47:50.471 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  <==      Total: 1
2020-11-21 22:47:50.472 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==>  Preparing: select time from email_history_info where id =? 
2020-11-21 22:47:50.472 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==> Parameters: 1303937438065885184(String)
2020-11-21 22:47:50.481 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  <==      Total: 1
2020-11-21 22:47:50.489 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  <==      Total: 1
2020-11-21 22:47:50.490 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==>  Preparing: select time from email_history_info where id =? 
2020-11-21 22:47:50.490 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==> Parameters: 1303939538460082176(String)
2020-11-21 22:47:50.499 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  <==      Total: 1
2020-11-21 22:47:50.499 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==>  Preparing: select time from email_history_info where id =? 
2020-11-21 22:47:50.499 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==> Parameters: 1303939599889858560(String)
2020-11-21 22:47:50.533 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  <==      Total: 1
2020-11-21 22:47:50.533 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==>  Preparing: select time from email_history_info where id =? 
2020-11-21 22:47:50.534 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==> Parameters: 1306059696263659520(String)
2020-11-21 22:47:50.549 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  <==      Total: 1
2020-11-21 22:47:50.549 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==>  Preparing: select time from email_history_info where id =? 
2020-11-21 22:47:50.549 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==> Parameters: 1306155886347026432(String)
2020-11-21 22:47:50.565 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  <==      Total: 1
2020-11-21 22:47:50.565 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==>  Preparing: select time from email_history_info where id =? 
2020-11-21 22:47:50.566 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==> Parameters: 1306201167000240128(String)
2020-11-21 22:47:50.574 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  <==      Total: 1
2020-11-21 22:47:50.574 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==>  Preparing: select time from email_history_info where id =? 
2020-11-21 22:47:50.575 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==> Parameters: 1308013106458263552(String)
2020-11-21 22:47:50.587 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  <==      Total: 0
2020-11-21 22:47:55.462 DEBUG cn.jwis.qualityworkflow.util.EmailService[144]  get handler mail from http://gateway.dev.jwis.io/platform/sys/user/internal-read?name=qualityadmin happen error cause:I/O error on GET request for "http://gateway.dev.jwis.io/platform/sys/user/internal-read": connect timed out; nested exception is java.net.SocketTimeoutException: connect timed out
2020-11-21 22:47:55.462 DEBUG cn.jwis.qualityworkflow.util.EmailService[144]  get handler mail from http://gateway.dev.jwis.io/platform/sys/user/internal-read?name=dz_gyb1 happen error cause:I/O error on GET request for "http://gateway.dev.jwis.io/platform/sys/user/internal-read": connect timed out; nested exception is java.net.SocketTimeoutException: connect timed out
2020-11-21 22:47:55.470 DEBUG cn.jwis.qualityworkflow.dao.UserMapper.getSuperior[145]  ==>  Preparing: select superior from department_mapping where user_account = ? and type = ? limit 0,1 
2020-11-21 22:47:55.470 DEBUG cn.jwis.qualityworkflow.dao.UserMapper.getSuperior[145]  ==> Parameters: dz_gyb1(String), COMMON(String)
2020-11-21 22:47:55.470 DEBUG cn.jwis.qualityworkflow.dao.UserMapper.getSuperior[145]  ==>  Preparing: select superior from department_mapping where user_account = ? and type = ? limit 0,1 
2020-11-21 22:47:55.471 DEBUG cn.jwis.qualityworkflow.dao.UserMapper.getSuperior[145]  ==> Parameters: qualityadmin(String), COMMON(String)
2020-11-21 22:47:55.483 DEBUG cn.jwis.qualityworkflow.util.EmailService[144]  get handler mail from http://gateway.dev.jwis.io/platform/sys/user/internal-read?name=hualanlan happen error cause:I/O error on GET request for "http://gateway.dev.jwis.io/platform/sys/user/internal-read": connect timed out; nested exception is java.net.SocketTimeoutException: connect timed out
2020-11-21 22:47:55.483 DEBUG cn.jwis.qualityworkflow.dao.UserMapper.getSuperior[145]  <==      Total: 1
2020-11-21 22:47:55.497 DEBUG cn.jwis.qualityworkflow.dao.UserMapper.getSuperior[145]  ==>  Preparing: select superior from department_mapping where user_account = ? and type = ? limit 0,1 
2020-11-21 22:47:55.497 DEBUG cn.jwis.qualityworkflow.dao.UserMapper.getSuperior[145]  ==> Parameters: hualanlan(String), QIMS(String)
2020-11-21 22:47:55.506 DEBUG cn.jwis.qualityworkflow.dao.UserMapper.getSuperior[145]  <==      Total: 1
2020-11-21 22:47:55.506 DEBUG c.j.q.dao.UserMapper.getSuperiorManagerByUser[145]  ==>  Preparing: select superior_manager from department_mapping where user_account = ? and type = ? limit 0,1 
2020-11-21 22:47:55.506 DEBUG c.j.q.dao.UserMapper.getSuperiorManagerByUser[145]  ==> Parameters: hualanlan(String), QIMS(String)
2020-11-21 22:47:55.515 DEBUG c.j.q.dao.UserMapper.getSuperiorManagerByUser[145]  <==      Total: 1
2020-11-21 22:47:55.522 INFO  cn.jwis.qualityworkflow.util.EmailService[142]  qualityadmin email is 
2020-11-21 22:47:55.522 INFO  c.j.q.m.factoryaudit.job.AuditQuestionMailJob[31]  邮件下发结束
2020-11-21 22:47:55.563 INFO  cn.jwis.qualityworkflow.util.EmailService[142]  workflow3 email is null
2020-11-21 22:47:55.589 DEBUG cn.jwis.qualityworkflow.util.EmailService[144]  get handler mail from http://gateway.dev.jwis.io/platform/sys/user/internal-read?name=kiween happen error cause:I/O error on GET request for "http://gateway.dev.jwis.io/platform/sys/user/internal-read": connect timed out; nested exception is java.net.SocketTimeoutException: connect timed out
2020-11-21 22:47:55.603 INFO  cn.jwis.qualityworkflow.util.EmailService[142]  zhouxianling email is 
2020-11-21 22:47:55.604 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==>  Preparing: select time from email_history_info where id =? 
2020-11-21 22:47:55.605 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==> Parameters: 1286904434760089600(String)
2020-11-21 22:47:55.618 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==>  Preparing: select time from email_history_info where id =? 
2020-11-21 22:47:55.618 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==> Parameters: 1308013110702899200(String)
2020-11-21 22:47:55.632 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  <==      Total: 1
2020-11-21 22:47:55.638 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  <==      Total: 1
2020-11-21 22:47:55.685 INFO  cn.jwis.qualityworkflow.util.EmailService[142]  qualityadmin email is 
2020-11-21 22:47:55.685 DEBUG cn.jwis.qualityworkflow.dao.UserMapper.getSuperior[145]  ==>  Preparing: select superior from department_mapping where user_account = ? and type = ? limit 0,1 
2020-11-21 22:47:55.686 DEBUG cn.jwis.qualityworkflow.dao.UserMapper.getSuperior[145]  ==> Parameters: qualityadmin(String), COMMON(String)
2020-11-21 22:47:55.710 INFO  cn.jwis.qualityworkflow.util.EmailService[142]  gupp2 email is null
2020-11-21 22:47:55.711 DEBUG cn.jwis.qualityworkflow.dao.UserMapper.getSuperior[145]  ==>  Preparing: select superior from department_mapping where user_account = ? and type = ? limit 0,1 
2020-11-21 22:47:55.711 DEBUG cn.jwis.qualityworkflow.dao.UserMapper.getSuperior[145]  ==> Parameters: gupp2(String), QIMS(String)
2020-11-21 22:47:55.714 DEBUG cn.jwis.qualityworkflow.dao.UserMapper.getSuperior[145]  <==      Total: 1
2020-11-21 22:47:55.715 DEBUG cn.jwis.qualityworkflow.dao.UserMapper.getSuperior[145]  <==      Total: 1
2020-11-21 22:47:55.741 DEBUG cn.jwis.qualityworkflow.dao.UserMapper.getSuperior[145]  <==      Total: 0
2020-11-21 22:47:55.741 DEBUG c.j.q.dao.UserMapper.getSuperiorManagerByUser[145]  ==>  Preparing: select superior_manager from department_mapping where user_account = ? and type = ? limit 0,1 
2020-11-21 22:47:55.741 DEBUG c.j.q.dao.UserMapper.getSuperiorManagerByUser[145]  ==> Parameters: gupp2(String), QIMS(String)
2020-11-21 22:47:55.752 DEBUG c.j.q.dao.UserMapper.getSuperiorManagerByUser[145]  <==      Total: 0
2020-11-21 22:47:55.755 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==>  Preparing: select time from email_history_info where id =? 
2020-11-21 22:47:55.755 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==> Parameters: 1286916730144161792(String)
2020-11-21 22:47:55.762 INFO  cn.jwis.qualityworkflow.util.EmailService[142]  dz_gyb2 email is jian.song@jwis.cn
2020-11-21 22:47:55.763 INFO  cn.jwis.qualityworkflow.util.EmailService[142]  qualityadmin email is 
2020-11-21 22:47:55.763 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  <==      Total: 1
2020-11-21 22:47:55.763 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==>  Preparing: select time from email_history_info where id =? 
2020-11-21 22:47:55.763 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==>  Preparing: select time from email_history_info where id =? 
2020-11-21 22:47:55.763 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==> Parameters: 1294123945682796544(String)
2020-11-21 22:47:55.763 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==> Parameters: 1308013113928318976(String)
2020-11-21 22:47:55.774 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  <==      Total: 1
2020-11-21 22:47:55.774 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==>  Preparing: select time from email_history_info where id =? 
2020-11-21 22:47:55.774 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==> Parameters: 1294123945716350976(String)
2020-11-21 22:47:55.775 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  <==      Total: 1
2020-11-21 22:47:55.784 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  <==      Total: 1
2020-11-21 22:47:55.807 INFO  cn.jwis.qualityworkflow.util.EmailService[142]  gupp2 email is null
2020-11-21 22:47:55.807 INFO  cn.jwis.qualityworkflow.util.EmailService[142]  qualityadmin email is 
2020-11-21 22:47:55.808 DEBUG cn.jwis.qualityworkflow.dao.UserMapper.getSuperior[145]  ==>  Preparing: select superior from department_mapping where user_account = ? and type = ? limit 0,1 
2020-11-21 22:47:55.808 DEBUG cn.jwis.qualityworkflow.dao.UserMapper.getSuperior[145]  ==>  Preparing: select superior from department_mapping where user_account = ? and type = ? limit 0,1 
2020-11-21 22:47:55.808 DEBUG cn.jwis.qualityworkflow.dao.UserMapper.getSuperior[145]  ==> Parameters: gupp2(String), QIMS(String)
2020-11-21 22:47:55.808 DEBUG cn.jwis.qualityworkflow.dao.UserMapper.getSuperior[145]  ==> Parameters: qualityadmin(String), COMMON(String)
2020-11-21 22:47:55.818 DEBUG cn.jwis.qualityworkflow.dao.UserMapper.getSuperior[145]  <==      Total: 0
2020-11-21 22:47:55.818 DEBUG cn.jwis.qualityworkflow.dao.UserMapper.getSuperior[145]  <==      Total: 1
2020-11-21 22:47:55.818 DEBUG c.j.q.dao.UserMapper.getSuperiorManagerByUser[145]  ==>  Preparing: select superior_manager from department_mapping where user_account = ? and type = ? limit 0,1 
2020-11-21 22:47:55.818 DEBUG c.j.q.dao.UserMapper.getSuperiorManagerByUser[145]  ==> Parameters: gupp2(String), QIMS(String)
2020-11-21 22:47:55.821 INFO  cn.jwis.qualityworkflow.util.EmailService[142]  xujinbiao email is 
2020-11-21 22:47:55.821 DEBUG cn.jwis.qualityworkflow.dao.UserMapper.getSuperior[145]  ==>  Preparing: select superior from department_mapping where user_account = ? and type = ? limit 0,1 
2020-11-21 22:47:55.821 DEBUG cn.jwis.qualityworkflow.dao.UserMapper.getSuperior[145]  ==> Parameters: xujinbiao(String), COMMON(String)
2020-11-21 22:47:55.828 DEBUG c.j.q.dao.UserMapper.getSuperiorManagerByUser[145]  <==      Total: 0
2020-11-21 22:47:55.829 DEBUG cn.jwis.qualityworkflow.dao.UserMapper.getSuperior[145]  <==      Total: 1
2020-11-21 22:47:55.830 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==>  Preparing: select time from email_history_info where id =? 
2020-11-21 22:47:55.830 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==> Parameters: 1287933861786812416(String)
2020-11-21 22:47:55.841 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  <==      Total: 1
2020-11-21 22:47:55.841 INFO  cn.jwis.qualityworkflow.util.EmailService[142]  qualityadmin email is 
2020-11-21 22:47:55.842 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==>  Preparing: select time from email_history_info where id =? 
2020-11-21 22:47:55.842 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==> Parameters: 1308013116927246336(String)
2020-11-21 22:47:55.860 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  <==      Total: 0
2020-11-21 22:47:55.860 INFO  cn.jwis.qualityworkflow.util.EmailService[142]  hualanlan email is test@jwis.cn
2020-11-21 22:47:55.860 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==>  Preparing: select time from email_history_info where id =? 
2020-11-21 22:47:55.860 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==> Parameters: 1295193219738370048(String)
2020-11-21 22:47:55.862 INFO  cn.jwis.qualityworkflow.util.EmailService[142]  hualanlan email is test@jwis.cn
2020-11-21 22:47:55.863 DEBUG cn.jwis.qualityworkflow.dao.UserMapper.getSuperior[145]  ==>  Preparing: select superior from department_mapping where user_account = ? and type = ? limit 0,1 
2020-11-21 22:47:55.863 DEBUG cn.jwis.qualityworkflow.dao.UserMapper.getSuperior[145]  ==> Parameters: hualanlan(String), QIMS(String)
2020-11-21 22:47:55.868 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  <==      Total: 1
2020-11-21 22:47:55.868 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==>  Preparing: select time from email_history_info where id =? 
2020-11-21 22:47:55.868 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==> Parameters: 1295193220166189056(String)
2020-11-21 22:47:55.871 DEBUG cn.jwis.qualityworkflow.dao.UserMapper.getSuperior[145]  <==      Total: 1
2020-11-21 22:47:55.871 DEBUG c.j.q.dao.UserMapper.getSuperiorManagerByUser[145]  ==>  Preparing: select superior_manager from department_mapping where user_account = ? and type = ? limit 0,1 
2020-11-21 22:47:55.871 DEBUG c.j.q.dao.UserMapper.getSuperiorManagerByUser[145]  ==> Parameters: hualanlan(String), QIMS(String)
2020-11-21 22:47:55.876 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  <==      Total: 1
2020-11-21 22:47:55.879 DEBUG c.j.q.dao.UserMapper.getSuperiorManagerByUser[145]  <==      Total: 1
2020-11-21 22:47:55.924 INFO  cn.jwis.qualityworkflow.util.EmailService[142]  xujinbiao email is 
2020-11-21 22:47:55.924 INFO  cn.jwis.qualityworkflow.util.EmailService[142]  kiween email is 
2020-11-21 22:47:55.924 DEBUG cn.jwis.qualityworkflow.dao.UserMapper.getSuperior[145]  ==>  Preparing: select superior from department_mapping where user_account = ? and type = ? limit 0,1 
2020-11-21 22:47:55.924 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==>  Preparing: select time from email_history_info where id =? 
2020-11-21 22:47:55.924 INFO  cn.jwis.qualityworkflow.util.EmailService[142]  workflow3 email is null
2020-11-21 22:47:55.924 DEBUG cn.jwis.qualityworkflow.dao.UserMapper.getSuperior[145]  ==> Parameters: xujinbiao(String), COMMON(String)
2020-11-21 22:47:55.924 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==> Parameters: 1309046852858937344(String)
2020-11-21 22:47:55.941 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  <==      Total: 0
2020-11-21 22:47:55.941 DEBUG cn.jwis.qualityworkflow.dao.UserMapper.getSuperior[145]  <==      Total: 1
2020-11-21 22:47:55.954 INFO  cn.jwis.qualityworkflow.util.EmailService[142]  zhouxianling email is 
2020-11-21 22:47:55.954 DEBUG c.j.qualityworkflow.dao.TaskRecordMapper.getById[145]  ==>  Preparing: SELECT * from task_record WHERE id = ? 
2020-11-21 22:47:55.954 DEBUG c.j.qualityworkflow.dao.TaskRecordMapper.getById[145]  ==> Parameters: 1287933861786812416(String)
2020-11-21 22:47:55.963 DEBUG c.j.qualityworkflow.dao.TaskRecordMapper.getById[145]  <==      Total: 1
2020-11-21 22:47:55.963 DEBUG c.j.qualityworkflow.dao.CommonMapper.getKeyToName[145]  ==>  Preparing: SELECT * FROM key_to_name 
2020-11-21 22:47:55.964 DEBUG c.j.qualityworkflow.dao.CommonMapper.getKeyToName[145]  ==> Parameters: 
2020-11-21 22:47:55.969 INFO  cn.jwis.qualityworkflow.util.EmailService[142]  codisan email is kelvin@jwis.cn
2020-11-21 22:47:55.970 INFO  cn.jwis.qualityworkflow.util.EmailService[142]  hualanlan email is test@jwis.cn
2020-11-21 22:47:55.970 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==>  Preparing: select time from email_history_info where id =? 
2020-11-21 22:47:55.970 DEBUG c.j.qualityworkflow.dao.CommonMapper.getKeyToName[145]  ==>  Preparing: SELECT * FROM key_to_name 
2020-11-21 22:47:55.970 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==> Parameters: 1295193707351375872(String)
2020-11-21 22:47:55.970 DEBUG c.j.qualityworkflow.dao.CommonMapper.getKeyToName[145]  ==> Parameters: 
2020-11-21 22:47:55.971 DEBUG c.j.qualityworkflow.dao.CommonMapper.getKeyToName[145]  <==      Total: 8
2020-11-21 22:47:55.972 INFO  cn.jwis.qualityworkflow.util.EmailService[71]  haomiao.liu@jwis.cn send a Mail to test@jwis.cn
2020-11-21 22:47:55.980 DEBUG c.j.qualityworkflow.dao.CommonMapper.getKeyToName[145]  <==      Total: 8
2020-11-21 22:47:55.980 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  <==      Total: 1
2020-11-21 22:47:55.981 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==>  Preparing: select time from email_history_info where id =? 
2020-11-21 22:47:55.981 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==> Parameters: 1295193707376541696(String)
2020-11-21 22:47:55.981 INFO  cn.jwis.qualityworkflow.util.EmailService[74]  haomiao.liu@jwis.cn send a Mail to kelvin@jwis.cn fail, because null
2020-11-21 22:47:55.991 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  <==      Total: 1
2020-11-21 22:47:56.018 INFO  cn.jwis.qualityworkflow.util.EmailService[142]  xujinbiao email is 
2020-11-21 22:47:56.018 DEBUG cn.jwis.qualityworkflow.dao.UserMapper.getSuperior[145]  ==>  Preparing: select superior from department_mapping where user_account = ? and type = ? limit 0,1 
2020-11-21 22:47:56.018 DEBUG cn.jwis.qualityworkflow.dao.UserMapper.getSuperior[145]  ==> Parameters: xujinbiao(String), COMMON(String)
2020-11-21 22:47:56.038 DEBUG cn.jwis.qualityworkflow.dao.UserMapper.getSuperior[145]  <==      Total: 1
2020-11-21 22:47:56.058 INFO  cn.jwis.qualityworkflow.util.EmailService[142]  hualanlan email is test@jwis.cn
2020-11-21 22:47:56.058 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==>  Preparing: select time from email_history_info where id =? 
2020-11-21 22:47:56.058 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==> Parameters: 1315248790789160960(String)
2020-11-21 22:47:56.067 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  <==      Total: 1
2020-11-21 22:47:56.090 INFO  cn.jwis.qualityworkflow.util.EmailService[142]  dz_gyb1 email is test@jwis.cn
2020-11-21 22:47:56.091 DEBUG cn.jwis.qualityworkflow.dao.UserMapper.getSuperior[145]  ==>  Preparing: select superior from department_mapping where user_account = ? and type = ? limit 0,1 
2020-11-21 22:47:56.091 DEBUG cn.jwis.qualityworkflow.dao.UserMapper.getSuperior[145]  ==> Parameters: dz_gyb1(String), COMMON(String)
2020-11-21 22:47:56.102 DEBUG cn.jwis.qualityworkflow.dao.UserMapper.getSuperior[145]  <==      Total: 1
2020-11-21 22:47:56.139 INFO  cn.jwis.qualityworkflow.util.EmailService[142]  dz_gyb2 email is jian.song@jwis.cn
2020-11-21 22:47:56.139 DEBUG c.j.qualityworkflow.dao.CommonMapper.getKeyToName[145]  ==>  Preparing: SELECT * FROM key_to_name 
2020-11-21 22:47:56.139 DEBUG c.j.qualityworkflow.dao.CommonMapper.getKeyToName[145]  ==> Parameters: 
2020-11-21 22:47:56.149 DEBUG c.j.qualityworkflow.dao.CommonMapper.getKeyToName[145]  <==      Total: 8
2020-11-21 22:47:56.150 DEBUG c.j.q.m.l.d.L.getLineQualifyDetailednessInfo[145]  ==>  Preparing: SELECT q.*,ar.processInstanceId ,ar.taskId,ar.assignee,ar.taskState,ar.taskName FROM line_qualify_info q,(SELECT workflow_business_id, process_instance_id as processInstanceId,task_id as taskId,assignee,task_state as taskState,task_name taskName FROM task_record WHERE task_id=?) ar where q.id=ar.workflow_business_id 
2020-11-21 22:47:56.150 DEBUG c.j.q.m.l.d.L.getLineQualifyDetailednessInfo[145]  ==> Parameters: 5506556(String)
2020-11-21 22:47:56.162 DEBUG c.j.q.m.l.d.L.getLineQualifyDetailednessInfo[145]  <==      Total: 1
2020-11-21 22:47:56.163 INFO  cn.jwis.qualityworkflow.util.EmailService[69]  haomiao.liu@jwis.cn send a Mail to test@jwis.cn and make a copy for [jian.song@jwis.cn]
2020-11-21 22:47:56.658 ERROR o.s.s.support.TaskUtils$LoggingErrorHandler[96] org.springframework.mail.MailSendException: Failed messages: javax.mail.SendFailedException: Invalid Addresses;
  nested exception is:
	com.sun.mail.smtp.SMTPAddressFailedException: 554 RCPT (test@jwis.cn) dosn't exist

	at org.springframework.mail.javamail.JavaMailSenderImpl.doSend(JavaMailSenderImpl.java:488)
	at org.springframework.mail.javamail.JavaMailSenderImpl.send(JavaMailSenderImpl.java:359)
	at org.springframework.mail.javamail.JavaMailSenderImpl.send(JavaMailSenderImpl.java:354)
	at cn.jwis.qualityworkflow.util.EmailService.sendHtmlMail(EmailService.java:76)
	at cn.jwis.qualityworkflow.modules.qims.service.imp.QimsSendMailServiceImpl.sendEmailTohandler(QimsSendMailServiceImpl.java:161)
	at cn.jwis.qualityworkflow.modules.qims.service.imp.QimsSendMailServiceImpl.qimsSendMail(QimsSendMailServiceImpl.java:90)
	at cn.jwis.qualityworkflow.modules.qims.job.qimsMailJob.qimsSendMail(qimsMailJob.java:49)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.springframework.scheduling.support.ScheduledMethodRunnable.run(ScheduledMethodRunnable.java:84)
	at org.springframework.scheduling.support.DelegatingErrorHandlingRunnable.run(DelegatingErrorHandlingRunnable.java:54)
	at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:511)
	at java.util.concurrent.FutureTask.runAndReset(FutureTask.java:308)
	at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.access$301(ScheduledThreadPoolExecutor.java:180)
	at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:294)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)
 Unexpected error occurred in scheduled task.
2020-11-21 22:47:56.658 ERROR o.s.s.support.TaskUtils$LoggingErrorHandler[96] org.springframework.mail.MailSendException: Failed messages: javax.mail.SendFailedException: Invalid Addresses;
  nested exception is:
	com.sun.mail.smtp.SMTPAddressFailedException: 554 RCPT (kelvin@jwis.cn) dosn't exist

	at org.springframework.mail.javamail.JavaMailSenderImpl.doSend(JavaMailSenderImpl.java:488)
	at org.springframework.mail.javamail.JavaMailSenderImpl.send(JavaMailSenderImpl.java:359)
	at org.springframework.mail.javamail.JavaMailSenderImpl.send(JavaMailSenderImpl.java:354)
	at cn.jwis.qualityworkflow.util.EmailService.sendHtmlMail(EmailService.java:76)
	at cn.jwis.qualityworkflow.modules.qims.service.imp.QimsSendMailServiceImpl.sendEmailTohandler(QimsSendMailServiceImpl.java:161)
	at cn.jwis.qualityworkflow.modules.ipqc.service.imp.AuditQualityProblemServiceImpl.qimsSendMail(AuditQualityProblemServiceImpl.java:321)
	at cn.jwis.qualityworkflow.modules.ipqc.service.imp.AuditQualityProblemServiceImpl$$FastClassBySpringCGLIB$$15ff325f.invoke(<generated>)
	at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:684)
	at cn.jwis.qualityworkflow.modules.ipqc.service.imp.AuditQualityProblemServiceImpl$$EnhancerBySpringCGLIB$$e291a2f3.qimsSendMail(<generated>)
	at cn.jwis.qualityworkflow.modules.ipqc.job.ipqcMailJob.qimsSendMail(ipqcMailJob.java:28)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.springframework.scheduling.support.ScheduledMethodRunnable.run(ScheduledMethodRunnable.java:84)
	at org.springframework.scheduling.support.DelegatingErrorHandlingRunnable.run(DelegatingErrorHandlingRunnable.java:54)
	at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:511)
	at java.util.concurrent.FutureTask.runAndReset(FutureTask.java:308)
	at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.access$301(ScheduledThreadPoolExecutor.java:180)
	at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:294)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)
 Unexpected error occurred in scheduled task.
2020-11-21 22:47:56.822 ERROR o.s.s.support.TaskUtils$LoggingErrorHandler[96] org.springframework.mail.MailSendException: Failed messages: javax.mail.SendFailedException: Invalid Addresses;
  nested exception is:
	com.sun.mail.smtp.SMTPAddressFailedException: 554 RCPT (test@jwis.cn) dosn't exist
;
  nested exception is:
	com.sun.mail.smtp.SMTPAddressFailedException: 554 RCPT (jian.song@jwis.cn) dosn't exist

	at org.springframework.mail.javamail.JavaMailSenderImpl.doSend(JavaMailSenderImpl.java:488)
	at org.springframework.mail.javamail.JavaMailSenderImpl.send(JavaMailSenderImpl.java:359)
	at org.springframework.mail.javamail.JavaMailSenderImpl.send(JavaMailSenderImpl.java:354)
	at cn.jwis.qualityworkflow.util.EmailService.sendHtmlMail(EmailService.java:76)
	at cn.jwis.qualityworkflow.modules.linequalify.service.imp.LineQualifyServiceImpl.sendEmailTohandler(LineQualifyServiceImpl.java:617)
	at cn.jwis.qualityworkflow.modules.linequalify.service.imp.LineQualifyServiceImpl.sendOverTimeMail(LineQualifyServiceImpl.java:594)
	at cn.jwis.qualityworkflow.modules.linequalify.service.imp.LineQualifyServiceImpl$$FastClassBySpringCGLIB$$4ca6f597.invoke(<generated>)
	at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:684)
	at cn.jwis.qualityworkflow.modules.linequalify.service.imp.LineQualifyServiceImpl$$EnhancerBySpringCGLIB$$2a00af9b.sendOverTimeMail(<generated>)
	at cn.jwis.qualityworkflow.modules.linequalify.job.LineQualifyMailJob.sendOverTimeMail(LineQualifyMailJob.java:30)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.springframework.scheduling.support.ScheduledMethodRunnable.run(ScheduledMethodRunnable.java:84)
	at org.springframework.scheduling.support.DelegatingErrorHandlingRunnable.run(DelegatingErrorHandlingRunnable.java:54)
	at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:511)
	at java.util.concurrent.FutureTask.runAndReset(FutureTask.java:308)
	at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.access$301(ScheduledThreadPoolExecutor.java:180)
	at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:294)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)
 Unexpected error occurred in scheduled task.
2020-11-21 22:50:00.020 INFO  c.j.q.m.t.T.TraceabilityMachineTimerManager[50]  设备定时任务开启
2020-11-21 22:50:00.027 DEBUG c.j.q.m.t.d.T.getTraceabilityMachineList[145]  ==>  Preparing: select table_name from traceability_machine_data group by table_name 
2020-11-21 22:50:00.028 DEBUG c.j.q.m.t.d.T.getTraceabilityMachineList[145]  ==> Parameters: 
2020-11-21 22:50:00.036 DEBUG c.j.q.m.t.d.T.getTraceabilityMachineList[145]  <==      Total: 5
2020-11-21 22:50:00.036 DEBUG c.j.q.m.t.d.T.getTraceabilityMachineFiledName[145]  ==>  Preparing: select filed_name from traceability_machine_data where table_name=? 
2020-11-21 22:50:00.036 DEBUG c.j.q.m.t.d.T.getTraceabilityMachineFiledName[145]  ==> Parameters: dust_free_shed(String)
2020-11-21 22:50:00.060 DEBUG c.j.q.m.t.d.T.getTraceabilityMachineFiledName[145]  <==      Total: 11
2020-11-21 22:50:00.060 DEBUG c.j.q.m.t.d.T.getMaxCreateTime[145]  ==>  Preparing: select max(createtime) from dust_free_shed 
2020-11-21 22:50:00.061 DEBUG c.j.q.m.t.d.T.getMaxCreateTime[145]  ==> Parameters: 
2020-11-21 22:50:00.129 DEBUG c.j.q.m.t.d.T.getMaxCreateTime[145]  <==      Total: 1
2020-11-21 22:50:00.135 ERROR o.s.s.support.TaskUtils$LoggingErrorHandler[96] java.lang.NullPointerException: null
	at cn.jwis.qualityworkflow.modules.traceablity.TimerManager.TraceabilityMachineTimerManager.getLenovoMachineData(TraceabilityMachineTimerManager.java:105)
	at cn.jwis.qualityworkflow.modules.traceablity.TimerManager.TraceabilityMachineTimerManager.MachineTimerManager(TraceabilityMachineTimerManager.java:57)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.springframework.scheduling.support.ScheduledMethodRunnable.run(ScheduledMethodRunnable.java:84)
	at org.springframework.scheduling.support.DelegatingErrorHandlingRunnable.run(DelegatingErrorHandlingRunnable.java:54)
	at org.springframework.scheduling.concurrent.ReschedulingRunnable.run(ReschedulingRunnable.java:93)
	at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:511)
	at java.util.concurrent.FutureTask.run(FutureTask.java:266)
	at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.access$201(ScheduledThreadPoolExecutor.java:180)
	at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:293)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)
 Unexpected error occurred in scheduled task.
2020-11-21 22:52:50.322 INFO  c.j.qualityworkflow.modules.ipqc.job.ipqcMailJob[27]  查询IPQC超时任务
2020-11-21 22:52:50.344 DEBUG c.j.q.dao.TaskRecordMapper.getOverTimeTaskRecord[145]  ==>  Preparing: SELECT *, HOUR(timediff(now() , create_date)) overTimeNum FROM task_record WHERE template_key = ? AND task_state IS NULL AND task_name = ? AND HOUR(timediff(now() , create_date)) >= ? 
2020-11-21 22:52:50.344 DEBUG c.j.q.dao.TaskRecordMapper.getOverTimeTaskRecord[145]  ==> Parameters: FactoryAuditProcess(String), 部门审核(String), 24(Integer)
2020-11-21 22:52:50.345 DEBUG c.j.q.m.qims.dao.BlackDashBoardMapper.getHoliday[145]  ==>  Preparing: SELECT DISTINCT date FROM holiday_maintenance WHERE type = '节假日' 
2020-11-21 22:52:50.345 DEBUG c.j.q.m.qims.dao.BlackDashBoardMapper.getHoliday[145]  ==> Parameters: 
2020-11-21 22:52:50.346 DEBUG c.j.q.dao.TaskRecordMapper.getOverTimeTaskRecord[145]  ==>  Preparing: SELECT *, HOUR(timediff(now() , create_date)) overTimeNum FROM task_record WHERE template_key = ? AND task_state IS NULL AND task_name = ? AND HOUR(timediff(now() , create_date)) >= ? 
2020-11-21 22:52:50.346 DEBUG c.j.q.dao.TaskRecordMapper.getOverTimeTaskRecord[145]  ==> Parameters: Line Qualify(String), 文件收集(String), 2(Integer)
2020-11-21 22:52:50.347 DEBUG c.j.q.dao.TaskRecordMapper.getOverTimeTaskRecord2[145]  ==>  Preparing: SELECT *, HOUR(timediff(now() , create_date)) overTimeNum FROM task_record WHERE template_key = ? AND task_state IS NULL AND HOUR(timediff(now() , create_date)) >= ? 
2020-11-21 22:52:50.347 DEBUG c.j.q.dao.TaskRecordMapper.getOverTimeTaskRecord2[145]  ==> Parameters: IPQCAuditProcess(String), 24(Integer)
2020-11-21 22:52:50.356 DEBUG c.j.q.m.qims.dao.BlackDashBoardMapper.getHoliday[145]  <==      Total: 6
2020-11-21 22:52:50.356 DEBUG c.j.q.m.q.d.B.getWorkOvertimeList[145]  ==>  Preparing: SELECT DISTINCT date FROM holiday_maintenance WHERE type = '补班' 
2020-11-21 22:52:50.356 DEBUG c.j.q.m.q.d.B.getWorkOvertimeList[145]  ==> Parameters: 
2020-11-21 22:52:50.360 DEBUG c.j.q.dao.TaskRecordMapper.getOverTimeTaskRecord[145]  <==      Total: 3
2020-11-21 22:52:50.360 DEBUG c.j.q.dao.TaskRecordMapper.getOverTimeTaskRecord[145]  <==      Total: 8
2020-11-21 22:52:50.360 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==>  Preparing: select time from email_history_info where id =? 
2020-11-21 22:52:50.360 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==>  Preparing: select time from email_history_info where id =? 
2020-11-21 22:52:50.361 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==> Parameters: 1295192540470837248(String)
2020-11-21 22:52:50.361 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==> Parameters: 1294123945645047808(String)
2020-11-21 22:52:50.362 DEBUG c.j.q.dao.TaskRecordMapper.getOverTimeTaskRecord2[145]  <==      Total: 18
2020-11-21 22:52:50.362 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==>  Preparing: select time from email_history_info where id =? 
2020-11-21 22:52:50.363 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==> Parameters: 1303868320843300864(String)
2020-11-21 22:52:50.366 DEBUG c.j.q.m.q.d.B.getWorkOvertimeList[145]  <==      Total: 4
2020-11-21 22:52:50.367 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getLtStandard[145]  ==>  Preparing: select * from qims_lt_standard_info 
2020-11-21 22:52:50.367 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getLtStandard[145]  ==> Parameters: 
2020-11-21 22:52:50.370 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  <==      Total: 1
2020-11-21 22:52:50.370 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==>  Preparing: select time from email_history_info where id =? 
2020-11-21 22:52:50.370 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  <==      Total: 1
2020-11-21 22:52:50.370 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==> Parameters: 1295192619508301824(String)
2020-11-21 22:52:50.371 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  <==      Total: 1
2020-11-21 22:52:50.371 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==>  Preparing: select time from email_history_info where id =? 
2020-11-21 22:52:50.371 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==> Parameters: 1303868347422605312(String)
2020-11-21 22:52:50.378 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getLtStandard[145]  <==      Total: 8
2020-11-21 22:52:50.378 INFO  c.j.qualityworkflow.modules.qims.job.qimsMailJob[47]  查询黑色问题超过LT的信息
2020-11-21 22:52:50.378 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getBlackList[145]  ==>  Preparing: select * from task_record where task_name in('初步原因分析','根本原因分析','根本原因审核') and task_state is null and template_key='QIMSBLACK' 
2020-11-21 22:52:50.378 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getBlackList[145]  ==> Parameters: 
2020-11-21 22:52:50.384 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  <==      Total: 1
2020-11-21 22:52:50.384 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  <==      Total: 1
2020-11-21 22:52:50.384 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==>  Preparing: select time from email_history_info where id =? 
2020-11-21 22:52:50.384 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==>  Preparing: select time from email_history_info where id =? 
2020-11-21 22:52:50.385 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==> Parameters: 1303868393815801856(String)
2020-11-21 22:52:50.385 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==> Parameters: 1299240419787276288(String)
2020-11-21 22:52:50.394 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getBlackList[145]  <==      Total: 16
2020-11-21 22:52:50.395 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  <==      Total: 1
2020-11-21 22:52:50.395 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  <==      Total: 1
2020-11-21 22:52:50.395 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==>  Preparing: select time from email_history_info where id =? 
2020-11-21 22:52:50.396 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==>  Preparing: select time from email_history_info where id =? 
2020-11-21 22:52:50.396 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==> Parameters: 1303937438065885184(String)
2020-11-21 22:52:50.396 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==> Parameters: 1286902446076985344(String)
2020-11-21 22:52:50.406 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  <==      Total: 1
2020-11-21 22:52:50.407 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  <==      Total: 1
2020-11-21 22:52:50.407 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==>  Preparing: select time from email_history_info where id =? 
2020-11-21 22:52:50.407 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==> Parameters: 1303939538460082176(String)
2020-11-21 22:52:50.417 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  <==      Total: 1
2020-11-21 22:52:50.417 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==>  Preparing: select time from email_history_info where id =? 
2020-11-21 22:52:50.417 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==> Parameters: 1303939599889858560(String)
2020-11-21 22:52:50.426 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  <==      Total: 1
2020-11-21 22:52:50.426 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==>  Preparing: select time from email_history_info where id =? 
2020-11-21 22:52:50.427 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==> Parameters: 1306059696263659520(String)
2020-11-21 22:52:50.434 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  <==      Total: 1
2020-11-21 22:52:50.434 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==>  Preparing: select time from email_history_info where id =? 
2020-11-21 22:52:50.434 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==> Parameters: 1306155886347026432(String)
2020-11-21 22:52:50.441 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  <==      Total: 1
2020-11-21 22:52:50.441 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==>  Preparing: select time from email_history_info where id =? 
2020-11-21 22:52:50.441 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==> Parameters: 1306201167000240128(String)
2020-11-21 22:52:50.469 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  <==      Total: 1
2020-11-21 22:52:50.470 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==>  Preparing: select time from email_history_info where id =? 
2020-11-21 22:52:50.470 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==> Parameters: 1308013106458263552(String)
2020-11-21 22:52:50.479 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  <==      Total: 0
2020-11-21 22:52:55.400 DEBUG cn.jwis.qualityworkflow.util.EmailService[144]  get handler mail from http://gateway.dev.jwis.io/platform/sys/user/internal-read?name=qualityadmin happen error cause:I/O error on GET request for "http://gateway.dev.jwis.io/platform/sys/user/internal-read": connect timed out; nested exception is java.net.SocketTimeoutException: connect timed out
2020-11-21 22:52:55.400 DEBUG cn.jwis.qualityworkflow.util.EmailService[144]  get handler mail from http://gateway.dev.jwis.io/platform/sys/user/internal-read?name=dz_gyb1 happen error cause:I/O error on GET request for "http://gateway.dev.jwis.io/platform/sys/user/internal-read": connect timed out; nested exception is java.net.SocketTimeoutException: connect timed out
2020-11-21 22:52:55.408 DEBUG cn.jwis.qualityworkflow.util.EmailService[144]  get handler mail from http://gateway.dev.jwis.io/platform/sys/user/internal-read?name=hualanlan happen error cause:I/O error on GET request for "http://gateway.dev.jwis.io/platform/sys/user/internal-read": connect timed out; nested exception is java.net.SocketTimeoutException: connect timed out
2020-11-21 22:52:55.434 DEBUG cn.jwis.qualityworkflow.dao.UserMapper.getSuperior[145]  ==>  Preparing: select superior from department_mapping where user_account = ? and type = ? limit 0,1 
2020-11-21 22:52:55.435 DEBUG cn.jwis.qualityworkflow.dao.UserMapper.getSuperior[145]  ==>  Preparing: select superior from department_mapping where user_account = ? and type = ? limit 0,1 
2020-11-21 22:52:55.435 DEBUG cn.jwis.qualityworkflow.dao.UserMapper.getSuperior[145]  ==>  Preparing: select superior from department_mapping where user_account = ? and type = ? limit 0,1 
2020-11-21 22:52:55.435 DEBUG cn.jwis.qualityworkflow.dao.UserMapper.getSuperior[145]  ==> Parameters: qualityadmin(String), COMMON(String)
2020-11-21 22:52:55.435 DEBUG cn.jwis.qualityworkflow.dao.UserMapper.getSuperior[145]  ==> Parameters: hualanlan(String), QIMS(String)
2020-11-21 22:52:55.435 DEBUG cn.jwis.qualityworkflow.dao.UserMapper.getSuperior[145]  ==> Parameters: dz_gyb1(String), COMMON(String)
2020-11-21 22:52:55.450 DEBUG cn.jwis.qualityworkflow.dao.UserMapper.getSuperior[145]  <==      Total: 1
2020-11-21 22:52:55.450 DEBUG cn.jwis.qualityworkflow.dao.UserMapper.getSuperior[145]  <==      Total: 1
2020-11-21 22:52:55.450 DEBUG cn.jwis.qualityworkflow.dao.UserMapper.getSuperior[145]  <==      Total: 1
2020-11-21 22:52:55.451 DEBUG c.j.q.dao.UserMapper.getSuperiorManagerByUser[145]  ==>  Preparing: select superior_manager from department_mapping where user_account = ? and type = ? limit 0,1 
2020-11-21 22:52:55.451 DEBUG c.j.q.dao.UserMapper.getSuperiorManagerByUser[145]  ==> Parameters: hualanlan(String), QIMS(String)
2020-11-21 22:52:55.463 DEBUG c.j.q.dao.UserMapper.getSuperiorManagerByUser[145]  <==      Total: 1
2020-11-21 22:52:55.481 DEBUG cn.jwis.qualityworkflow.util.EmailService[144]  get handler mail from http://gateway.dev.jwis.io/platform/sys/user/internal-read?name=kiween happen error cause:I/O error on GET request for "http://gateway.dev.jwis.io/platform/sys/user/internal-read": connect timed out; nested exception is java.net.SocketTimeoutException: connect timed out
2020-11-21 22:52:55.495 INFO  cn.jwis.qualityworkflow.util.EmailService[142]  dz_gyb2 email is jian.song@jwis.cn
2020-11-21 22:52:55.495 INFO  cn.jwis.qualityworkflow.util.EmailService[142]  qualityadmin email is 
2020-11-21 22:52:55.495 INFO  c.j.q.m.factoryaudit.job.AuditQuestionMailJob[31]  邮件下发结束
2020-11-21 22:52:55.495 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==>  Preparing: select time from email_history_info where id =? 
2020-11-21 22:52:55.495 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==> Parameters: 1294123945682796544(String)
2020-11-21 22:52:55.502 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==>  Preparing: select time from email_history_info where id =? 
2020-11-21 22:52:55.502 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==> Parameters: 1308013110702899200(String)
2020-11-21 22:52:55.506 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  <==      Total: 1
2020-11-21 22:52:55.506 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==>  Preparing: select time from email_history_info where id =? 
2020-11-21 22:52:55.506 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==> Parameters: 1294123945716350976(String)
2020-11-21 22:52:55.510 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  <==      Total: 1
2020-11-21 22:52:55.514 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  <==      Total: 1
2020-11-21 22:52:55.530 INFO  cn.jwis.qualityworkflow.util.EmailService[142]  workflow3 email is null
2020-11-21 22:52:55.563 INFO  cn.jwis.qualityworkflow.util.EmailService[142]  qualityadmin email is 
2020-11-21 22:52:55.563 DEBUG cn.jwis.qualityworkflow.dao.UserMapper.getSuperior[145]  ==>  Preparing: select superior from department_mapping where user_account = ? and type = ? limit 0,1 
2020-11-21 22:52:55.564 DEBUG cn.jwis.qualityworkflow.dao.UserMapper.getSuperior[145]  ==> Parameters: qualityadmin(String), COMMON(String)
2020-11-21 22:52:55.564 INFO  cn.jwis.qualityworkflow.util.EmailService[142]  xujinbiao email is 
2020-11-21 22:52:55.564 DEBUG cn.jwis.qualityworkflow.dao.UserMapper.getSuperior[145]  ==>  Preparing: select superior from department_mapping where user_account = ? and type = ? limit 0,1 
2020-11-21 22:52:55.564 DEBUG cn.jwis.qualityworkflow.dao.UserMapper.getSuperior[145]  ==> Parameters: xujinbiao(String), COMMON(String)
2020-11-21 22:52:55.583 INFO  cn.jwis.qualityworkflow.util.EmailService[142]  zhouxianling email is 
2020-11-21 22:52:55.585 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==>  Preparing: select time from email_history_info where id =? 
2020-11-21 22:52:55.585 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==> Parameters: 1286904434760089600(String)
2020-11-21 22:52:55.598 DEBUG cn.jwis.qualityworkflow.dao.UserMapper.getSuperior[145]  <==      Total: 1
2020-11-21 22:52:55.598 DEBUG cn.jwis.qualityworkflow.dao.UserMapper.getSuperior[145]  <==      Total: 1
2020-11-21 22:52:55.628 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  <==      Total: 1
2020-11-21 22:52:55.635 INFO  cn.jwis.qualityworkflow.util.EmailService[142]  hualanlan email is test@jwis.cn
2020-11-21 22:52:55.635 INFO  cn.jwis.qualityworkflow.util.EmailService[142]  qualityadmin email is 
2020-11-21 22:52:55.635 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==>  Preparing: select time from email_history_info where id =? 
2020-11-21 22:52:55.636 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==>  Preparing: select time from email_history_info where id =? 
2020-11-21 22:52:55.636 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==> Parameters: 1295193219738370048(String)
2020-11-21 22:52:55.636 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==> Parameters: 1308013113928318976(String)
2020-11-21 22:52:55.656 INFO  cn.jwis.qualityworkflow.util.EmailService[142]  gupp2 email is null
2020-11-21 22:52:55.656 DEBUG cn.jwis.qualityworkflow.dao.UserMapper.getSuperior[145]  ==>  Preparing: select superior from department_mapping where user_account = ? and type = ? limit 0,1 
2020-11-21 22:52:55.657 DEBUG cn.jwis.qualityworkflow.dao.UserMapper.getSuperior[145]  ==> Parameters: gupp2(String), QIMS(String)
2020-11-21 22:52:55.657 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  <==      Total: 1
2020-11-21 22:52:55.657 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  <==      Total: 1
2020-11-21 22:52:55.657 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==>  Preparing: select time from email_history_info where id =? 
2020-11-21 22:52:55.658 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==> Parameters: 1295193220166189056(String)
2020-11-21 22:52:55.688 DEBUG cn.jwis.qualityworkflow.dao.UserMapper.getSuperior[145]  <==      Total: 0
2020-11-21 22:52:55.688 DEBUG c.j.q.dao.UserMapper.getSuperiorManagerByUser[145]  ==>  Preparing: select superior_manager from department_mapping where user_account = ? and type = ? limit 0,1 
2020-11-21 22:52:55.689 DEBUG c.j.q.dao.UserMapper.getSuperiorManagerByUser[145]  ==> Parameters: gupp2(String), QIMS(String)
2020-11-21 22:52:55.695 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  <==      Total: 1
2020-11-21 22:52:55.714 DEBUG c.j.q.dao.UserMapper.getSuperiorManagerByUser[145]  <==      Total: 0
2020-11-21 22:52:55.716 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==>  Preparing: select time from email_history_info where id =? 
2020-11-21 22:52:55.716 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==> Parameters: 1286916730144161792(String)
2020-11-21 22:52:55.736 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  <==      Total: 1
2020-11-21 22:52:55.782 INFO  cn.jwis.qualityworkflow.util.EmailService[142]  xujinbiao email is 
2020-11-21 22:52:55.782 INFO  cn.jwis.qualityworkflow.util.EmailService[142]  qualityadmin email is 
2020-11-21 22:52:55.782 INFO  cn.jwis.qualityworkflow.util.EmailService[142]  gupp2 email is null
2020-11-21 22:52:55.782 DEBUG cn.jwis.qualityworkflow.dao.UserMapper.getSuperior[145]  ==>  Preparing: select superior from department_mapping where user_account = ? and type = ? limit 0,1 
2020-11-21 22:52:55.782 DEBUG cn.jwis.qualityworkflow.dao.UserMapper.getSuperior[145]  ==>  Preparing: select superior from department_mapping where user_account = ? and type = ? limit 0,1 
2020-11-21 22:52:55.782 DEBUG cn.jwis.qualityworkflow.dao.UserMapper.getSuperior[145]  ==>  Preparing: select superior from department_mapping where user_account = ? and type = ? limit 0,1 
2020-11-21 22:52:55.782 DEBUG cn.jwis.qualityworkflow.dao.UserMapper.getSuperior[145]  ==> Parameters: qualityadmin(String), COMMON(String)
2020-11-21 22:52:55.782 DEBUG cn.jwis.qualityworkflow.dao.UserMapper.getSuperior[145]  ==> Parameters: xujinbiao(String), COMMON(String)
2020-11-21 22:52:55.782 DEBUG cn.jwis.qualityworkflow.dao.UserMapper.getSuperior[145]  ==> Parameters: gupp2(String), QIMS(String)
2020-11-21 22:52:55.791 DEBUG cn.jwis.qualityworkflow.dao.UserMapper.getSuperior[145]  <==      Total: 1
2020-11-21 22:52:55.792 DEBUG cn.jwis.qualityworkflow.dao.UserMapper.getSuperior[145]  <==      Total: 1
2020-11-21 22:52:55.794 DEBUG cn.jwis.qualityworkflow.dao.UserMapper.getSuperior[145]  <==      Total: 0
2020-11-21 22:52:55.794 DEBUG c.j.q.dao.UserMapper.getSuperiorManagerByUser[145]  ==>  Preparing: select superior_manager from department_mapping where user_account = ? and type = ? limit 0,1 
2020-11-21 22:52:55.795 DEBUG c.j.q.dao.UserMapper.getSuperiorManagerByUser[145]  ==> Parameters: gupp2(String), QIMS(String)
2020-11-21 22:52:55.829 DEBUG c.j.q.dao.UserMapper.getSuperiorManagerByUser[145]  <==      Total: 0
2020-11-21 22:52:55.829 INFO  cn.jwis.qualityworkflow.util.EmailService[142]  qualityadmin email is 
2020-11-21 22:52:55.829 INFO  cn.jwis.qualityworkflow.util.EmailService[142]  hualanlan email is test@jwis.cn
2020-11-21 22:52:55.830 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==>  Preparing: select time from email_history_info where id =? 
2020-11-21 22:52:55.830 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==>  Preparing: select time from email_history_info where id =? 
2020-11-21 22:52:55.830 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==> Parameters: 1308013116927246336(String)
2020-11-21 22:52:55.830 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==> Parameters: 1295193707351375872(String)
2020-11-21 22:52:55.831 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==>  Preparing: select time from email_history_info where id =? 
2020-11-21 22:52:55.831 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==> Parameters: 1287933861786812416(String)
2020-11-21 22:52:55.844 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  <==      Total: 0
2020-11-21 22:52:55.849 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  <==      Total: 1
2020-11-21 22:52:55.850 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==>  Preparing: select time from email_history_info where id =? 
2020-11-21 22:52:55.850 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==> Parameters: 1295193707376541696(String)
2020-11-21 22:52:55.852 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  <==      Total: 1
2020-11-21 22:52:55.857 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  <==      Total: 1
2020-11-21 22:52:55.872 INFO  cn.jwis.qualityworkflow.util.EmailService[142]  kiween email is 
2020-11-21 22:52:55.872 INFO  cn.jwis.qualityworkflow.util.EmailService[142]  hualanlan email is test@jwis.cn
2020-11-21 22:52:55.872 DEBUG cn.jwis.qualityworkflow.dao.UserMapper.getSuperior[145]  ==>  Preparing: select superior from department_mapping where user_account = ? and type = ? limit 0,1 
2020-11-21 22:52:55.872 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==>  Preparing: select time from email_history_info where id =? 
2020-11-21 22:52:55.872 DEBUG cn.jwis.qualityworkflow.dao.UserMapper.getSuperior[145]  ==> Parameters: hualanlan(String), QIMS(String)
2020-11-21 22:52:55.872 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==> Parameters: 1309046852858937344(String)
2020-11-21 22:52:55.876 INFO  cn.jwis.qualityworkflow.util.EmailService[142]  xujinbiao email is 
2020-11-21 22:52:55.876 DEBUG cn.jwis.qualityworkflow.dao.UserMapper.getSuperior[145]  ==>  Preparing: select superior from department_mapping where user_account = ? and type = ? limit 0,1 
2020-11-21 22:52:55.877 DEBUG cn.jwis.qualityworkflow.dao.UserMapper.getSuperior[145]  ==> Parameters: xujinbiao(String), COMMON(String)
2020-11-21 22:52:55.891 DEBUG cn.jwis.qualityworkflow.dao.UserMapper.getSuperior[145]  <==      Total: 1
2020-11-21 22:52:55.891 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  <==      Total: 0
2020-11-21 22:52:55.892 DEBUG c.j.q.dao.UserMapper.getSuperiorManagerByUser[145]  ==>  Preparing: select superior_manager from department_mapping where user_account = ? and type = ? limit 0,1 
2020-11-21 22:52:55.892 DEBUG c.j.q.dao.UserMapper.getSuperiorManagerByUser[145]  ==> Parameters: hualanlan(String), QIMS(String)
2020-11-21 22:52:55.903 DEBUG cn.jwis.qualityworkflow.dao.UserMapper.getSuperior[145]  <==      Total: 1
2020-11-21 22:52:55.903 DEBUG c.j.q.dao.UserMapper.getSuperiorManagerByUser[145]  <==      Total: 1
2020-11-21 22:52:55.920 INFO  cn.jwis.qualityworkflow.util.EmailService[142]  codisan email is kelvin@jwis.cn
2020-11-21 22:52:55.921 DEBUG c.j.qualityworkflow.dao.CommonMapper.getKeyToName[145]  ==>  Preparing: SELECT * FROM key_to_name 
2020-11-21 22:52:55.921 DEBUG c.j.qualityworkflow.dao.CommonMapper.getKeyToName[145]  ==> Parameters: 
2020-11-21 22:52:55.925 INFO  cn.jwis.qualityworkflow.util.EmailService[142]  workflow3 email is null
2020-11-21 22:52:55.926 INFO  cn.jwis.qualityworkflow.util.EmailService[142]  hualanlan email is test@jwis.cn
2020-11-21 22:52:55.926 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==>  Preparing: select time from email_history_info where id =? 
2020-11-21 22:52:55.926 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==> Parameters: 1315248790789160960(String)
2020-11-21 22:52:55.929 DEBUG c.j.qualityworkflow.dao.CommonMapper.getKeyToName[145]  <==      Total: 8
2020-11-21 22:52:55.930 INFO  cn.jwis.qualityworkflow.util.EmailService[74]  haomiao.liu@jwis.cn send a Mail to kelvin@jwis.cn fail, because null
2020-11-21 22:52:55.949 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  <==      Total: 1
2020-11-21 22:52:55.954 INFO  cn.jwis.qualityworkflow.util.EmailService[142]  zhouxianling email is 
2020-11-21 22:52:55.954 DEBUG c.j.qualityworkflow.dao.TaskRecordMapper.getById[145]  ==>  Preparing: SELECT * from task_record WHERE id = ? 
2020-11-21 22:52:55.955 DEBUG c.j.qualityworkflow.dao.TaskRecordMapper.getById[145]  ==> Parameters: 1287933861786812416(String)
2020-11-21 22:52:55.976 INFO  cn.jwis.qualityworkflow.util.EmailService[142]  dz_gyb1 email is test@jwis.cn
2020-11-21 22:52:55.976 DEBUG c.j.qualityworkflow.dao.TaskRecordMapper.getById[145]  <==      Total: 1
2020-11-21 22:52:55.976 DEBUG cn.jwis.qualityworkflow.dao.UserMapper.getSuperior[145]  ==>  Preparing: select superior from department_mapping where user_account = ? and type = ? limit 0,1 
2020-11-21 22:52:55.976 DEBUG c.j.qualityworkflow.dao.CommonMapper.getKeyToName[145]  ==>  Preparing: SELECT * FROM key_to_name 
2020-11-21 22:52:55.976 DEBUG c.j.qualityworkflow.dao.CommonMapper.getKeyToName[145]  ==> Parameters: 
2020-11-21 22:52:55.976 DEBUG cn.jwis.qualityworkflow.dao.UserMapper.getSuperior[145]  ==> Parameters: dz_gyb1(String), COMMON(String)
2020-11-21 22:52:55.986 DEBUG cn.jwis.qualityworkflow.dao.UserMapper.getSuperior[145]  <==      Total: 1
2020-11-21 22:52:55.986 DEBUG c.j.qualityworkflow.dao.CommonMapper.getKeyToName[145]  <==      Total: 8
2020-11-21 22:52:55.987 INFO  cn.jwis.qualityworkflow.util.EmailService[71]  haomiao.liu@jwis.cn send a Mail to test@jwis.cn
2020-11-21 22:52:56.013 INFO  cn.jwis.qualityworkflow.util.EmailService[142]  dz_gyb2 email is jian.song@jwis.cn
2020-11-21 22:52:56.014 DEBUG c.j.qualityworkflow.dao.CommonMapper.getKeyToName[145]  ==>  Preparing: SELECT * FROM key_to_name 
2020-11-21 22:52:56.014 DEBUG c.j.qualityworkflow.dao.CommonMapper.getKeyToName[145]  ==> Parameters: 
2020-11-21 22:52:56.023 DEBUG c.j.qualityworkflow.dao.CommonMapper.getKeyToName[145]  <==      Total: 8
2020-11-21 22:52:56.023 DEBUG c.j.q.m.l.d.L.getLineQualifyDetailednessInfo[145]  ==>  Preparing: SELECT q.*,ar.processInstanceId ,ar.taskId,ar.assignee,ar.taskState,ar.taskName FROM line_qualify_info q,(SELECT workflow_business_id, process_instance_id as processInstanceId,task_id as taskId,assignee,task_state as taskState,task_name taskName FROM task_record WHERE task_id=?) ar where q.id=ar.workflow_business_id 
2020-11-21 22:52:56.024 DEBUG c.j.q.m.l.d.L.getLineQualifyDetailednessInfo[145]  ==> Parameters: 5506556(String)
2020-11-21 22:52:56.035 DEBUG c.j.q.m.l.d.L.getLineQualifyDetailednessInfo[145]  <==      Total: 1
2020-11-21 22:52:56.036 INFO  cn.jwis.qualityworkflow.util.EmailService[69]  haomiao.liu@jwis.cn send a Mail to test@jwis.cn and make a copy for [jian.song@jwis.cn]
2020-11-21 22:52:56.840 ERROR o.s.s.support.TaskUtils$LoggingErrorHandler[96] org.springframework.mail.MailSendException: Failed messages: javax.mail.SendFailedException: Invalid Addresses;
  nested exception is:
	com.sun.mail.smtp.SMTPAddressFailedException: 554 RCPT (kelvin@jwis.cn) dosn't exist

	at org.springframework.mail.javamail.JavaMailSenderImpl.doSend(JavaMailSenderImpl.java:488)
	at org.springframework.mail.javamail.JavaMailSenderImpl.send(JavaMailSenderImpl.java:359)
	at org.springframework.mail.javamail.JavaMailSenderImpl.send(JavaMailSenderImpl.java:354)
	at cn.jwis.qualityworkflow.util.EmailService.sendHtmlMail(EmailService.java:76)
	at cn.jwis.qualityworkflow.modules.qims.service.imp.QimsSendMailServiceImpl.sendEmailTohandler(QimsSendMailServiceImpl.java:161)
	at cn.jwis.qualityworkflow.modules.ipqc.service.imp.AuditQualityProblemServiceImpl.qimsSendMail(AuditQualityProblemServiceImpl.java:321)
	at cn.jwis.qualityworkflow.modules.ipqc.service.imp.AuditQualityProblemServiceImpl$$FastClassBySpringCGLIB$$15ff325f.invoke(<generated>)
	at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:684)
	at cn.jwis.qualityworkflow.modules.ipqc.service.imp.AuditQualityProblemServiceImpl$$EnhancerBySpringCGLIB$$e291a2f3.qimsSendMail(<generated>)
	at cn.jwis.qualityworkflow.modules.ipqc.job.ipqcMailJob.qimsSendMail(ipqcMailJob.java:28)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.springframework.scheduling.support.ScheduledMethodRunnable.run(ScheduledMethodRunnable.java:84)
	at org.springframework.scheduling.support.DelegatingErrorHandlingRunnable.run(DelegatingErrorHandlingRunnable.java:54)
	at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:511)
	at java.util.concurrent.FutureTask.runAndReset(FutureTask.java:308)
	at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.access$301(ScheduledThreadPoolExecutor.java:180)
	at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:294)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)
 Unexpected error occurred in scheduled task.
2020-11-21 22:52:56.888 ERROR o.s.s.support.TaskUtils$LoggingErrorHandler[96] org.springframework.mail.MailSendException: Failed messages: javax.mail.SendFailedException: Invalid Addresses;
  nested exception is:
	com.sun.mail.smtp.SMTPAddressFailedException: 554 RCPT (test@jwis.cn) dosn't exist

	at org.springframework.mail.javamail.JavaMailSenderImpl.doSend(JavaMailSenderImpl.java:488)
	at org.springframework.mail.javamail.JavaMailSenderImpl.send(JavaMailSenderImpl.java:359)
	at org.springframework.mail.javamail.JavaMailSenderImpl.send(JavaMailSenderImpl.java:354)
	at cn.jwis.qualityworkflow.util.EmailService.sendHtmlMail(EmailService.java:76)
	at cn.jwis.qualityworkflow.modules.qims.service.imp.QimsSendMailServiceImpl.sendEmailTohandler(QimsSendMailServiceImpl.java:161)
	at cn.jwis.qualityworkflow.modules.qims.service.imp.QimsSendMailServiceImpl.qimsSendMail(QimsSendMailServiceImpl.java:90)
	at cn.jwis.qualityworkflow.modules.qims.job.qimsMailJob.qimsSendMail(qimsMailJob.java:49)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.springframework.scheduling.support.ScheduledMethodRunnable.run(ScheduledMethodRunnable.java:84)
	at org.springframework.scheduling.support.DelegatingErrorHandlingRunnable.run(DelegatingErrorHandlingRunnable.java:54)
	at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:511)
	at java.util.concurrent.FutureTask.runAndReset(FutureTask.java:308)
	at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.access$301(ScheduledThreadPoolExecutor.java:180)
	at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:294)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)
 Unexpected error occurred in scheduled task.
2020-11-21 22:52:57.030 ERROR o.s.s.support.TaskUtils$LoggingErrorHandler[96] org.springframework.mail.MailSendException: Failed messages: javax.mail.SendFailedException: Invalid Addresses;
  nested exception is:
	com.sun.mail.smtp.SMTPAddressFailedException: 554 RCPT (test@jwis.cn) dosn't exist
;
  nested exception is:
	com.sun.mail.smtp.SMTPAddressFailedException: 554 RCPT (jian.song@jwis.cn) dosn't exist

	at org.springframework.mail.javamail.JavaMailSenderImpl.doSend(JavaMailSenderImpl.java:488)
	at org.springframework.mail.javamail.JavaMailSenderImpl.send(JavaMailSenderImpl.java:359)
	at org.springframework.mail.javamail.JavaMailSenderImpl.send(JavaMailSenderImpl.java:354)
	at cn.jwis.qualityworkflow.util.EmailService.sendHtmlMail(EmailService.java:76)
	at cn.jwis.qualityworkflow.modules.linequalify.service.imp.LineQualifyServiceImpl.sendEmailTohandler(LineQualifyServiceImpl.java:617)
	at cn.jwis.qualityworkflow.modules.linequalify.service.imp.LineQualifyServiceImpl.sendOverTimeMail(LineQualifyServiceImpl.java:594)
	at cn.jwis.qualityworkflow.modules.linequalify.service.imp.LineQualifyServiceImpl$$FastClassBySpringCGLIB$$4ca6f597.invoke(<generated>)
	at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:684)
	at cn.jwis.qualityworkflow.modules.linequalify.service.imp.LineQualifyServiceImpl$$EnhancerBySpringCGLIB$$2a00af9b.sendOverTimeMail(<generated>)
	at cn.jwis.qualityworkflow.modules.linequalify.job.LineQualifyMailJob.sendOverTimeMail(LineQualifyMailJob.java:30)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.springframework.scheduling.support.ScheduledMethodRunnable.run(ScheduledMethodRunnable.java:84)
	at org.springframework.scheduling.support.DelegatingErrorHandlingRunnable.run(DelegatingErrorHandlingRunnable.java:54)
	at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:511)
	at java.util.concurrent.FutureTask.runAndReset(FutureTask.java:308)
	at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.access$301(ScheduledThreadPoolExecutor.java:180)
	at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:294)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)
 Unexpected error occurred in scheduled task.
2020-11-21 22:57:50.331 INFO  c.j.qualityworkflow.modules.ipqc.job.ipqcMailJob[27]  查询IPQC超时任务
2020-11-21 22:57:50.340 DEBUG c.j.q.m.qims.dao.BlackDashBoardMapper.getHoliday[145]  ==>  Preparing: SELECT DISTINCT date FROM holiday_maintenance WHERE type = '节假日' 
2020-11-21 22:57:50.341 DEBUG c.j.q.dao.TaskRecordMapper.getOverTimeTaskRecord[145]  ==>  Preparing: SELECT *, HOUR(timediff(now() , create_date)) overTimeNum FROM task_record WHERE template_key = ? AND task_state IS NULL AND task_name = ? AND HOUR(timediff(now() , create_date)) >= ? 
2020-11-21 22:57:50.341 DEBUG c.j.q.dao.TaskRecordMapper.getOverTimeTaskRecord[145]  ==>  Preparing: SELECT *, HOUR(timediff(now() , create_date)) overTimeNum FROM task_record WHERE template_key = ? AND task_state IS NULL AND task_name = ? AND HOUR(timediff(now() , create_date)) >= ? 
2020-11-21 22:57:50.341 DEBUG c.j.q.dao.TaskRecordMapper.getOverTimeTaskRecord2[145]  ==>  Preparing: SELECT *, HOUR(timediff(now() , create_date)) overTimeNum FROM task_record WHERE template_key = ? AND task_state IS NULL AND HOUR(timediff(now() , create_date)) >= ? 
2020-11-21 22:57:50.341 DEBUG c.j.q.dao.TaskRecordMapper.getOverTimeTaskRecord[145]  ==> Parameters: Line Qualify(String), 文件收集(String), 2(Integer)
2020-11-21 22:57:50.341 DEBUG c.j.q.m.qims.dao.BlackDashBoardMapper.getHoliday[145]  ==> Parameters: 
2020-11-21 22:57:50.342 DEBUG c.j.q.dao.TaskRecordMapper.getOverTimeTaskRecord[145]  ==> Parameters: FactoryAuditProcess(String), 部门审核(String), 24(Integer)
2020-11-21 22:57:50.342 DEBUG c.j.q.dao.TaskRecordMapper.getOverTimeTaskRecord2[145]  ==> Parameters: IPQCAuditProcess(String), 24(Integer)
2020-11-21 22:57:50.349 DEBUG c.j.q.m.qims.dao.BlackDashBoardMapper.getHoliday[145]  <==      Total: 6
2020-11-21 22:57:50.350 DEBUG c.j.q.m.q.d.B.getWorkOvertimeList[145]  ==>  Preparing: SELECT DISTINCT date FROM holiday_maintenance WHERE type = '补班' 
2020-11-21 22:57:50.350 DEBUG c.j.q.m.q.d.B.getWorkOvertimeList[145]  ==> Parameters: 
2020-11-21 22:57:50.354 DEBUG c.j.q.dao.TaskRecordMapper.getOverTimeTaskRecord[145]  <==      Total: 3
2020-11-21 22:57:50.355 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==>  Preparing: select time from email_history_info where id =? 
2020-11-21 22:57:50.355 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==> Parameters: 1295192540470837248(String)
2020-11-21 22:57:50.356 DEBUG c.j.q.dao.TaskRecordMapper.getOverTimeTaskRecord2[145]  <==      Total: 18
2020-11-21 22:57:50.357 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==>  Preparing: select time from email_history_info where id =? 
2020-11-21 22:57:50.357 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==> Parameters: 1303868320843300864(String)
2020-11-21 22:57:50.364 DEBUG c.j.q.m.q.d.B.getWorkOvertimeList[145]  <==      Total: 4
2020-11-21 22:57:50.364 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getLtStandard[145]  ==>  Preparing: select * from qims_lt_standard_info 
2020-11-21 22:57:50.364 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getLtStandard[145]  ==> Parameters: 
2020-11-21 22:57:50.366 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  <==      Total: 1
2020-11-21 22:57:50.366 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==>  Preparing: select time from email_history_info where id =? 
2020-11-21 22:57:50.366 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==> Parameters: 1295192619508301824(String)
2020-11-21 22:57:50.367 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  <==      Total: 1
2020-11-21 22:57:50.367 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==>  Preparing: select time from email_history_info where id =? 
2020-11-21 22:57:50.367 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==> Parameters: 1303868347422605312(String)
2020-11-21 22:57:50.375 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getLtStandard[145]  <==      Total: 8
2020-11-21 22:57:50.375 INFO  c.j.qualityworkflow.modules.qims.job.qimsMailJob[47]  查询黑色问题超过LT的信息
2020-11-21 22:57:50.375 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getBlackList[145]  ==>  Preparing: select * from task_record where task_name in('初步原因分析','根本原因分析','根本原因审核') and task_state is null and template_key='QIMSBLACK' 
2020-11-21 22:57:50.375 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getBlackList[145]  ==> Parameters: 
2020-11-21 22:57:50.375 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  <==      Total: 1
2020-11-21 22:57:50.376 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==>  Preparing: select time from email_history_info where id =? 
2020-11-21 22:57:50.376 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==> Parameters: 1299240419787276288(String)
2020-11-21 22:57:50.377 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  <==      Total: 1
2020-11-21 22:57:50.377 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==>  Preparing: select time from email_history_info where id =? 
2020-11-21 22:57:50.377 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==> Parameters: 1303868393815801856(String)
2020-11-21 22:57:50.389 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  <==      Total: 1
2020-11-21 22:57:50.389 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  <==      Total: 1
2020-11-21 22:57:50.389 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==>  Preparing: select time from email_history_info where id =? 
2020-11-21 22:57:50.389 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getBlackList[145]  <==      Total: 16
2020-11-21 22:57:50.389 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==> Parameters: 1303937438065885184(String)
2020-11-21 22:57:50.391 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==>  Preparing: select time from email_history_info where id =? 
2020-11-21 22:57:50.392 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==> Parameters: 1286902446076985344(String)
2020-11-21 22:57:50.425 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  <==      Total: 1
2020-11-21 22:57:50.425 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  <==      Total: 1
2020-11-21 22:57:50.425 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==>  Preparing: select time from email_history_info where id =? 
2020-11-21 22:57:50.426 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==> Parameters: 1303939538460082176(String)
2020-11-21 22:57:50.504 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  <==      Total: 1
2020-11-21 22:57:50.504 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==>  Preparing: select time from email_history_info where id =? 
2020-11-21 22:57:50.505 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==> Parameters: 1303939599889858560(String)
2020-11-21 22:57:50.521 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  <==      Total: 1
2020-11-21 22:57:50.522 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==>  Preparing: select time from email_history_info where id =? 
2020-11-21 22:57:50.522 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==> Parameters: 1306059696263659520(String)
2020-11-21 22:57:50.544 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  <==      Total: 1
2020-11-21 22:57:50.544 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==>  Preparing: select time from email_history_info where id =? 
2020-11-21 22:57:50.545 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==> Parameters: 1306155886347026432(String)
2020-11-21 22:57:50.579 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  <==      Total: 1
2020-11-21 22:57:50.579 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==>  Preparing: select time from email_history_info where id =? 
2020-11-21 22:57:50.580 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==> Parameters: 1306201167000240128(String)
2020-11-21 22:57:50.593 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  <==      Total: 1
2020-11-21 22:57:50.593 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==>  Preparing: select time from email_history_info where id =? 
2020-11-21 22:57:50.594 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==> Parameters: 1308013106458263552(String)
2020-11-21 22:57:50.603 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  <==      Total: 0
2020-11-21 22:57:50.842 DEBUG c.j.q.dao.TaskRecordMapper.getOverTimeTaskRecord[145]  <==      Total: 8
2020-11-21 22:57:50.842 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==>  Preparing: select time from email_history_info where id =? 
2020-11-21 22:57:50.842 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==> Parameters: 1294123945645047808(String)
2020-11-21 22:57:51.021 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  <==      Total: 1
2020-11-21 22:57:55.505 DEBUG cn.jwis.qualityworkflow.util.EmailService[144]  get handler mail from http://gateway.dev.jwis.io/platform/sys/user/internal-read?name=hualanlan happen error cause:I/O error on GET request for "http://gateway.dev.jwis.io/platform/sys/user/internal-read": connect timed out; nested exception is java.net.SocketTimeoutException: connect timed out
2020-11-21 22:57:55.505 DEBUG cn.jwis.qualityworkflow.util.EmailService[144]  get handler mail from http://gateway.dev.jwis.io/platform/sys/user/internal-read?name=qualityadmin happen error cause:I/O error on GET request for "http://gateway.dev.jwis.io/platform/sys/user/internal-read": connect timed out; nested exception is java.net.SocketTimeoutException: connect timed out
2020-11-21 22:57:55.515 DEBUG cn.jwis.qualityworkflow.dao.UserMapper.getSuperior[145]  ==>  Preparing: select superior from department_mapping where user_account = ? and type = ? limit 0,1 
2020-11-21 22:57:55.515 DEBUG cn.jwis.qualityworkflow.dao.UserMapper.getSuperior[145]  ==> Parameters: hualanlan(String), QIMS(String)
2020-11-21 22:57:55.515 DEBUG cn.jwis.qualityworkflow.dao.UserMapper.getSuperior[145]  ==>  Preparing: select superior from department_mapping where user_account = ? and type = ? limit 0,1 
2020-11-21 22:57:55.516 DEBUG cn.jwis.qualityworkflow.dao.UserMapper.getSuperior[145]  ==> Parameters: qualityadmin(String), COMMON(String)
2020-11-21 22:57:55.527 DEBUG cn.jwis.qualityworkflow.dao.UserMapper.getSuperior[145]  <==      Total: 1
2020-11-21 22:57:55.527 DEBUG cn.jwis.qualityworkflow.dao.UserMapper.getSuperior[145]  <==      Total: 1
2020-11-21 22:57:55.527 DEBUG c.j.q.dao.UserMapper.getSuperiorManagerByUser[145]  ==>  Preparing: select superior_manager from department_mapping where user_account = ? and type = ? limit 0,1 
2020-11-21 22:57:55.527 DEBUG c.j.q.dao.UserMapper.getSuperiorManagerByUser[145]  ==> Parameters: hualanlan(String), QIMS(String)
2020-11-21 22:57:55.542 DEBUG c.j.q.dao.UserMapper.getSuperiorManagerByUser[145]  <==      Total: 1
2020-11-21 22:57:55.588 INFO  cn.jwis.qualityworkflow.util.EmailService[142]  qualityadmin email is 
2020-11-21 22:57:55.588 INFO  c.j.q.m.factoryaudit.job.AuditQuestionMailJob[31]  邮件下发结束
2020-11-21 22:57:55.605 DEBUG cn.jwis.qualityworkflow.util.EmailService[144]  get handler mail from http://gateway.dev.jwis.io/platform/sys/user/internal-read?name=kiween happen error cause:I/O error on GET request for "http://gateway.dev.jwis.io/platform/sys/user/internal-read": connect timed out; nested exception is java.net.SocketTimeoutException: connect timed out
2020-11-21 22:57:55.616 INFO  cn.jwis.qualityworkflow.util.EmailService[142]  workflow3 email is null
2020-11-21 22:57:55.620 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==>  Preparing: select time from email_history_info where id =? 
2020-11-21 22:57:55.620 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==> Parameters: 1308013110702899200(String)
2020-11-21 22:57:55.641 INFO  cn.jwis.qualityworkflow.util.EmailService[142]  zhouxianling email is 
2020-11-21 22:57:55.643 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==>  Preparing: select time from email_history_info where id =? 
2020-11-21 22:57:55.643 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==> Parameters: 1286904434760089600(String)
2020-11-21 22:57:55.644 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  <==      Total: 1
2020-11-21 22:57:55.649 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  <==      Total: 1
2020-11-21 22:57:55.749 INFO  cn.jwis.qualityworkflow.util.EmailService[142]  qualityadmin email is 
2020-11-21 22:57:55.749 DEBUG cn.jwis.qualityworkflow.dao.UserMapper.getSuperior[145]  ==>  Preparing: select superior from department_mapping where user_account = ? and type = ? limit 0,1 
2020-11-21 22:57:55.749 DEBUG cn.jwis.qualityworkflow.dao.UserMapper.getSuperior[145]  ==> Parameters: qualityadmin(String), COMMON(String)
2020-11-21 22:57:55.757 DEBUG cn.jwis.qualityworkflow.dao.UserMapper.getSuperior[145]  <==      Total: 1
2020-11-21 22:57:55.778 INFO  cn.jwis.qualityworkflow.util.EmailService[142]  gupp2 email is null
2020-11-21 22:57:55.779 DEBUG cn.jwis.qualityworkflow.dao.UserMapper.getSuperior[145]  ==>  Preparing: select superior from department_mapping where user_account = ? and type = ? limit 0,1 
2020-11-21 22:57:55.780 DEBUG cn.jwis.qualityworkflow.dao.UserMapper.getSuperior[145]  ==> Parameters: gupp2(String), QIMS(String)
2020-11-21 22:57:55.785 INFO  cn.jwis.qualityworkflow.util.EmailService[142]  qualityadmin email is 
2020-11-21 22:57:55.785 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==>  Preparing: select time from email_history_info where id =? 
2020-11-21 22:57:55.786 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==> Parameters: 1308013113928318976(String)
2020-11-21 22:57:55.791 DEBUG cn.jwis.qualityworkflow.dao.UserMapper.getSuperior[145]  <==      Total: 0
2020-11-21 22:57:55.791 DEBUG c.j.q.dao.UserMapper.getSuperiorManagerByUser[145]  ==>  Preparing: select superior_manager from department_mapping where user_account = ? and type = ? limit 0,1 
2020-11-21 22:57:55.791 DEBUG c.j.q.dao.UserMapper.getSuperiorManagerByUser[145]  ==> Parameters: gupp2(String), QIMS(String)
2020-11-21 22:57:55.793 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  <==      Total: 1
2020-11-21 22:57:55.801 DEBUG c.j.q.dao.UserMapper.getSuperiorManagerByUser[145]  <==      Total: 0
2020-11-21 22:57:55.803 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==>  Preparing: select time from email_history_info where id =? 
2020-11-21 22:57:55.804 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==> Parameters: 1286916730144161792(String)
2020-11-21 22:57:55.813 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  <==      Total: 1
2020-11-21 22:57:55.819 INFO  cn.jwis.qualityworkflow.util.EmailService[142]  qualityadmin email is 
2020-11-21 22:57:55.819 DEBUG cn.jwis.qualityworkflow.dao.UserMapper.getSuperior[145]  ==>  Preparing: select superior from department_mapping where user_account = ? and type = ? limit 0,1 
2020-11-21 22:57:55.819 DEBUG cn.jwis.qualityworkflow.dao.UserMapper.getSuperior[145]  ==> Parameters: qualityadmin(String), COMMON(String)
2020-11-21 22:57:55.827 DEBUG cn.jwis.qualityworkflow.dao.UserMapper.getSuperior[145]  <==      Total: 1
2020-11-21 22:57:55.843 INFO  cn.jwis.qualityworkflow.util.EmailService[142]  gupp2 email is null
2020-11-21 22:57:55.843 DEBUG cn.jwis.qualityworkflow.dao.UserMapper.getSuperior[145]  ==>  Preparing: select superior from department_mapping where user_account = ? and type = ? limit 0,1 
2020-11-21 22:57:55.844 DEBUG cn.jwis.qualityworkflow.dao.UserMapper.getSuperior[145]  ==> Parameters: gupp2(String), QIMS(String)
2020-11-21 22:57:55.850 INFO  cn.jwis.qualityworkflow.util.EmailService[142]  qualityadmin email is 
2020-11-21 22:57:55.850 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==>  Preparing: select time from email_history_info where id =? 
2020-11-21 22:57:55.850 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==> Parameters: 1308013116927246336(String)
2020-11-21 22:57:55.855 DEBUG cn.jwis.qualityworkflow.dao.UserMapper.getSuperior[145]  <==      Total: 0
2020-11-21 22:57:55.855 DEBUG c.j.q.dao.UserMapper.getSuperiorManagerByUser[145]  ==>  Preparing: select superior_manager from department_mapping where user_account = ? and type = ? limit 0,1 
2020-11-21 22:57:55.856 DEBUG c.j.q.dao.UserMapper.getSuperiorManagerByUser[145]  ==> Parameters: gupp2(String), QIMS(String)
2020-11-21 22:57:55.955 DEBUG c.j.q.dao.UserMapper.getSuperiorManagerByUser[145]  <==      Total: 0
2020-11-21 22:57:55.955 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  <==      Total: 0
2020-11-21 22:57:55.957 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==>  Preparing: select time from email_history_info where id =? 
2020-11-21 22:57:55.958 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==> Parameters: 1287933861786812416(String)
2020-11-21 22:57:55.972 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  <==      Total: 1
2020-11-21 22:57:55.978 INFO  cn.jwis.qualityworkflow.util.EmailService[142]  kiween email is 
2020-11-21 22:57:55.978 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==>  Preparing: select time from email_history_info where id =? 
2020-11-21 22:57:55.979 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==> Parameters: 1309046852858937344(String)
2020-11-21 22:57:55.987 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  <==      Total: 0
2020-11-21 22:57:55.991 INFO  cn.jwis.qualityworkflow.util.EmailService[142]  hualanlan email is test@jwis.cn
2020-11-21 22:57:55.991 DEBUG cn.jwis.qualityworkflow.dao.UserMapper.getSuperior[145]  ==>  Preparing: select superior from department_mapping where user_account = ? and type = ? limit 0,1 
2020-11-21 22:57:55.991 DEBUG cn.jwis.qualityworkflow.dao.UserMapper.getSuperior[145]  ==> Parameters: hualanlan(String), QIMS(String)
2020-11-21 22:57:56.002 DEBUG cn.jwis.qualityworkflow.dao.UserMapper.getSuperior[145]  <==      Total: 1
2020-11-21 22:57:56.002 DEBUG c.j.q.dao.UserMapper.getSuperiorManagerByUser[145]  ==>  Preparing: select superior_manager from department_mapping where user_account = ? and type = ? limit 0,1 
2020-11-21 22:57:56.002 DEBUG c.j.q.dao.UserMapper.getSuperiorManagerByUser[145]  ==> Parameters: hualanlan(String), QIMS(String)
2020-11-21 22:57:56.007 INFO  cn.jwis.qualityworkflow.util.EmailService[142]  codisan email is kelvin@jwis.cn
2020-11-21 22:57:56.007 DEBUG c.j.qualityworkflow.dao.CommonMapper.getKeyToName[145]  ==>  Preparing: SELECT * FROM key_to_name 
2020-11-21 22:57:56.007 DEBUG c.j.qualityworkflow.dao.CommonMapper.getKeyToName[145]  ==> Parameters: 
2020-11-21 22:57:56.010 DEBUG c.j.q.dao.UserMapper.getSuperiorManagerByUser[145]  <==      Total: 1
2020-11-21 22:57:56.015 DEBUG c.j.qualityworkflow.dao.CommonMapper.getKeyToName[145]  <==      Total: 8
2020-11-21 22:57:56.016 INFO  cn.jwis.qualityworkflow.util.EmailService[74]  haomiao.liu@jwis.cn send a Mail to kelvin@jwis.cn fail, because null
2020-11-21 22:57:56.022 DEBUG cn.jwis.qualityworkflow.util.EmailService[144]  get handler mail from http://gateway.dev.jwis.io/platform/sys/user/internal-read?name=dz_gyb1 happen error cause:I/O error on GET request for "http://gateway.dev.jwis.io/platform/sys/user/internal-read": connect timed out; nested exception is java.net.SocketTimeoutException: connect timed out
2020-11-21 22:57:56.029 INFO  cn.jwis.qualityworkflow.util.EmailService[142]  workflow3 email is null
2020-11-21 22:57:56.030 DEBUG cn.jwis.qualityworkflow.dao.UserMapper.getSuperior[145]  ==>  Preparing: select superior from department_mapping where user_account = ? and type = ? limit 0,1 
2020-11-21 22:57:56.030 DEBUG cn.jwis.qualityworkflow.dao.UserMapper.getSuperior[145]  ==> Parameters: dz_gyb1(String), COMMON(String)
2020-11-21 22:57:56.039 DEBUG cn.jwis.qualityworkflow.dao.UserMapper.getSuperior[145]  <==      Total: 1
2020-11-21 22:57:56.055 INFO  cn.jwis.qualityworkflow.util.EmailService[142]  zhouxianling email is 
2020-11-21 22:57:56.056 DEBUG c.j.qualityworkflow.dao.TaskRecordMapper.getById[145]  ==>  Preparing: SELECT * from task_record WHERE id = ? 
2020-11-21 22:57:56.056 DEBUG c.j.qualityworkflow.dao.TaskRecordMapper.getById[145]  ==> Parameters: 1287933861786812416(String)
2020-11-21 22:57:56.059 INFO  cn.jwis.qualityworkflow.util.EmailService[142]  dz_gyb2 email is jian.song@jwis.cn
2020-11-21 22:57:56.060 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==>  Preparing: select time from email_history_info where id =? 
2020-11-21 22:57:56.060 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==> Parameters: 1294123945682796544(String)
2020-11-21 22:57:56.157 DEBUG c.j.qualityworkflow.dao.TaskRecordMapper.getById[145]  <==      Total: 1
2020-11-21 22:57:56.157 DEBUG c.j.qualityworkflow.dao.CommonMapper.getKeyToName[145]  ==>  Preparing: SELECT * FROM key_to_name 
2020-11-21 22:57:56.157 DEBUG c.j.qualityworkflow.dao.CommonMapper.getKeyToName[145]  ==> Parameters: 
2020-11-21 22:57:56.169 DEBUG c.j.qualityworkflow.dao.CommonMapper.getKeyToName[145]  <==      Total: 8
2020-11-21 22:57:56.169 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  <==      Total: 1
2020-11-21 22:57:56.169 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==>  Preparing: select time from email_history_info where id =? 
2020-11-21 22:57:56.169 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==> Parameters: 1294123945716350976(String)
2020-11-21 22:57:56.170 INFO  cn.jwis.qualityworkflow.util.EmailService[71]  haomiao.liu@jwis.cn send a Mail to test@jwis.cn
2020-11-21 22:57:56.178 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  <==      Total: 1
2020-11-21 22:57:56.240 INFO  cn.jwis.qualityworkflow.util.EmailService[142]  xujinbiao email is 
2020-11-21 22:57:56.241 DEBUG cn.jwis.qualityworkflow.dao.UserMapper.getSuperior[145]  ==>  Preparing: select superior from department_mapping where user_account = ? and type = ? limit 0,1 
2020-11-21 22:57:56.241 DEBUG cn.jwis.qualityworkflow.dao.UserMapper.getSuperior[145]  ==> Parameters: xujinbiao(String), COMMON(String)
2020-11-21 22:57:56.248 DEBUG cn.jwis.qualityworkflow.dao.UserMapper.getSuperior[145]  <==      Total: 1
2020-11-21 22:57:56.362 INFO  cn.jwis.qualityworkflow.util.EmailService[142]  hualanlan email is test@jwis.cn
2020-11-21 22:57:56.362 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==>  Preparing: select time from email_history_info where id =? 
2020-11-21 22:57:56.363 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==> Parameters: 1295193219738370048(String)
2020-11-21 22:57:56.374 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  <==      Total: 1
2020-11-21 22:57:56.375 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==>  Preparing: select time from email_history_info where id =? 
2020-11-21 22:57:56.375 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==> Parameters: 1295193220166189056(String)
2020-11-21 22:57:56.381 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  <==      Total: 1
2020-11-21 22:57:56.401 INFO  cn.jwis.qualityworkflow.util.EmailService[142]  xujinbiao email is 
2020-11-21 22:57:56.402 DEBUG cn.jwis.qualityworkflow.dao.UserMapper.getSuperior[145]  ==>  Preparing: select superior from department_mapping where user_account = ? and type = ? limit 0,1 
2020-11-21 22:57:56.402 DEBUG cn.jwis.qualityworkflow.dao.UserMapper.getSuperior[145]  ==> Parameters: xujinbiao(String), COMMON(String)
2020-11-21 22:57:56.411 DEBUG cn.jwis.qualityworkflow.dao.UserMapper.getSuperior[145]  <==      Total: 1
2020-11-21 22:57:56.437 INFO  cn.jwis.qualityworkflow.util.EmailService[142]  hualanlan email is test@jwis.cn
2020-11-21 22:57:56.437 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==>  Preparing: select time from email_history_info where id =? 
2020-11-21 22:57:56.437 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==> Parameters: 1295193707351375872(String)
2020-11-21 22:57:56.444 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  <==      Total: 1
2020-11-21 22:57:56.444 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==>  Preparing: select time from email_history_info where id =? 
2020-11-21 22:57:56.444 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==> Parameters: 1295193707376541696(String)
2020-11-21 22:57:56.451 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  <==      Total: 1
2020-11-21 22:57:56.469 INFO  cn.jwis.qualityworkflow.util.EmailService[142]  xujinbiao email is 
2020-11-21 22:57:56.470 DEBUG cn.jwis.qualityworkflow.dao.UserMapper.getSuperior[145]  ==>  Preparing: select superior from department_mapping where user_account = ? and type = ? limit 0,1 
2020-11-21 22:57:56.470 DEBUG cn.jwis.qualityworkflow.dao.UserMapper.getSuperior[145]  ==> Parameters: xujinbiao(String), COMMON(String)
2020-11-21 22:57:56.575 DEBUG cn.jwis.qualityworkflow.dao.UserMapper.getSuperior[145]  <==      Total: 1
2020-11-21 22:57:56.598 INFO  cn.jwis.qualityworkflow.util.EmailService[142]  hualanlan email is test@jwis.cn
2020-11-21 22:57:56.599 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==>  Preparing: select time from email_history_info where id =? 
2020-11-21 22:57:56.599 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==> Parameters: 1315248790789160960(String)
2020-11-21 22:57:56.607 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  <==      Total: 1
2020-11-21 22:57:56.632 INFO  cn.jwis.qualityworkflow.util.EmailService[142]  dz_gyb1 email is test@jwis.cn
2020-11-21 22:57:56.632 DEBUG cn.jwis.qualityworkflow.dao.UserMapper.getSuperior[145]  ==>  Preparing: select superior from department_mapping where user_account = ? and type = ? limit 0,1 
2020-11-21 22:57:56.633 DEBUG cn.jwis.qualityworkflow.dao.UserMapper.getSuperior[145]  ==> Parameters: dz_gyb1(String), COMMON(String)
2020-11-21 22:57:56.646 DEBUG cn.jwis.qualityworkflow.dao.UserMapper.getSuperior[145]  <==      Total: 1
2020-11-21 22:57:56.666 INFO  cn.jwis.qualityworkflow.util.EmailService[142]  dz_gyb2 email is jian.song@jwis.cn
2020-11-21 22:57:56.666 DEBUG c.j.qualityworkflow.dao.CommonMapper.getKeyToName[145]  ==>  Preparing: SELECT * FROM key_to_name 
2020-11-21 22:57:56.666 DEBUG c.j.qualityworkflow.dao.CommonMapper.getKeyToName[145]  ==> Parameters: 
2020-11-21 22:57:56.771 DEBUG c.j.qualityworkflow.dao.CommonMapper.getKeyToName[145]  <==      Total: 8
2020-11-21 22:57:56.771 DEBUG c.j.q.m.l.d.L.getLineQualifyDetailednessInfo[145]  ==>  Preparing: SELECT q.*,ar.processInstanceId ,ar.taskId,ar.assignee,ar.taskState,ar.taskName FROM line_qualify_info q,(SELECT workflow_business_id, process_instance_id as processInstanceId,task_id as taskId,assignee,task_state as taskState,task_name taskName FROM task_record WHERE task_id=?) ar where q.id=ar.workflow_business_id 
2020-11-21 22:57:56.771 DEBUG c.j.q.m.l.d.L.getLineQualifyDetailednessInfo[145]  ==> Parameters: 5506556(String)
2020-11-21 22:57:56.804 DEBUG c.j.q.m.l.d.L.getLineQualifyDetailednessInfo[145]  <==      Total: 1
2020-11-21 22:57:56.805 INFO  cn.jwis.qualityworkflow.util.EmailService[69]  haomiao.liu@jwis.cn send a Mail to test@jwis.cn and make a copy for [jian.song@jwis.cn]
2020-11-21 22:57:56.948 ERROR o.s.s.support.TaskUtils$LoggingErrorHandler[96] org.springframework.mail.MailSendException: Failed messages: javax.mail.SendFailedException: Invalid Addresses;
  nested exception is:
	com.sun.mail.smtp.SMTPAddressFailedException: 554 RCPT (kelvin@jwis.cn) dosn't exist

	at org.springframework.mail.javamail.JavaMailSenderImpl.doSend(JavaMailSenderImpl.java:488)
	at org.springframework.mail.javamail.JavaMailSenderImpl.send(JavaMailSenderImpl.java:359)
	at org.springframework.mail.javamail.JavaMailSenderImpl.send(JavaMailSenderImpl.java:354)
	at cn.jwis.qualityworkflow.util.EmailService.sendHtmlMail(EmailService.java:76)
	at cn.jwis.qualityworkflow.modules.qims.service.imp.QimsSendMailServiceImpl.sendEmailTohandler(QimsSendMailServiceImpl.java:161)
	at cn.jwis.qualityworkflow.modules.ipqc.service.imp.AuditQualityProblemServiceImpl.qimsSendMail(AuditQualityProblemServiceImpl.java:321)
	at cn.jwis.qualityworkflow.modules.ipqc.service.imp.AuditQualityProblemServiceImpl$$FastClassBySpringCGLIB$$15ff325f.invoke(<generated>)
	at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:684)
	at cn.jwis.qualityworkflow.modules.ipqc.service.imp.AuditQualityProblemServiceImpl$$EnhancerBySpringCGLIB$$e291a2f3.qimsSendMail(<generated>)
	at cn.jwis.qualityworkflow.modules.ipqc.job.ipqcMailJob.qimsSendMail(ipqcMailJob.java:28)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.springframework.scheduling.support.ScheduledMethodRunnable.run(ScheduledMethodRunnable.java:84)
	at org.springframework.scheduling.support.DelegatingErrorHandlingRunnable.run(DelegatingErrorHandlingRunnable.java:54)
	at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:511)
	at java.util.concurrent.FutureTask.runAndReset(FutureTask.java:308)
	at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.access$301(ScheduledThreadPoolExecutor.java:180)
	at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:294)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)
 Unexpected error occurred in scheduled task.
2020-11-21 22:57:57.051 ERROR o.s.s.support.TaskUtils$LoggingErrorHandler[96] org.springframework.mail.MailSendException: Failed messages: javax.mail.SendFailedException: Invalid Addresses;
  nested exception is:
	com.sun.mail.smtp.SMTPAddressFailedException: 554 RCPT (test@jwis.cn) dosn't exist

	at org.springframework.mail.javamail.JavaMailSenderImpl.doSend(JavaMailSenderImpl.java:488)
	at org.springframework.mail.javamail.JavaMailSenderImpl.send(JavaMailSenderImpl.java:359)
	at org.springframework.mail.javamail.JavaMailSenderImpl.send(JavaMailSenderImpl.java:354)
	at cn.jwis.qualityworkflow.util.EmailService.sendHtmlMail(EmailService.java:76)
	at cn.jwis.qualityworkflow.modules.qims.service.imp.QimsSendMailServiceImpl.sendEmailTohandler(QimsSendMailServiceImpl.java:161)
	at cn.jwis.qualityworkflow.modules.qims.service.imp.QimsSendMailServiceImpl.qimsSendMail(QimsSendMailServiceImpl.java:90)
	at cn.jwis.qualityworkflow.modules.qims.job.qimsMailJob.qimsSendMail(qimsMailJob.java:49)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.springframework.scheduling.support.ScheduledMethodRunnable.run(ScheduledMethodRunnable.java:84)
	at org.springframework.scheduling.support.DelegatingErrorHandlingRunnable.run(DelegatingErrorHandlingRunnable.java:54)
	at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:511)
	at java.util.concurrent.FutureTask.runAndReset(FutureTask.java:308)
	at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.access$301(ScheduledThreadPoolExecutor.java:180)
	at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:294)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)
 Unexpected error occurred in scheduled task.
2020-11-21 22:57:57.448 ERROR o.s.s.support.TaskUtils$LoggingErrorHandler[96] org.springframework.mail.MailSendException: Failed messages: javax.mail.SendFailedException: Invalid Addresses;
  nested exception is:
	com.sun.mail.smtp.SMTPAddressFailedException: 554 RCPT (test@jwis.cn) dosn't exist
;
  nested exception is:
	com.sun.mail.smtp.SMTPAddressFailedException: 554 RCPT (jian.song@jwis.cn) dosn't exist

	at org.springframework.mail.javamail.JavaMailSenderImpl.doSend(JavaMailSenderImpl.java:488)
	at org.springframework.mail.javamail.JavaMailSenderImpl.send(JavaMailSenderImpl.java:359)
	at org.springframework.mail.javamail.JavaMailSenderImpl.send(JavaMailSenderImpl.java:354)
	at cn.jwis.qualityworkflow.util.EmailService.sendHtmlMail(EmailService.java:76)
	at cn.jwis.qualityworkflow.modules.linequalify.service.imp.LineQualifyServiceImpl.sendEmailTohandler(LineQualifyServiceImpl.java:617)
	at cn.jwis.qualityworkflow.modules.linequalify.service.imp.LineQualifyServiceImpl.sendOverTimeMail(LineQualifyServiceImpl.java:594)
	at cn.jwis.qualityworkflow.modules.linequalify.service.imp.LineQualifyServiceImpl$$FastClassBySpringCGLIB$$4ca6f597.invoke(<generated>)
	at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:684)
	at cn.jwis.qualityworkflow.modules.linequalify.service.imp.LineQualifyServiceImpl$$EnhancerBySpringCGLIB$$2a00af9b.sendOverTimeMail(<generated>)
	at cn.jwis.qualityworkflow.modules.linequalify.job.LineQualifyMailJob.sendOverTimeMail(LineQualifyMailJob.java:30)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.springframework.scheduling.support.ScheduledMethodRunnable.run(ScheduledMethodRunnable.java:84)
	at org.springframework.scheduling.support.DelegatingErrorHandlingRunnable.run(DelegatingErrorHandlingRunnable.java:54)
	at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:511)
	at java.util.concurrent.FutureTask.runAndReset(FutureTask.java:308)
	at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.access$301(ScheduledThreadPoolExecutor.java:180)
	at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:294)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)
 Unexpected error occurred in scheduled task.
2020-11-21 23:00:00.018 INFO  c.j.q.m.t.T.TraceabilityMachineTimerManager[50]  设备定时任务开启
2020-11-21 23:00:00.027 DEBUG c.j.q.m.t.d.T.getTraceabilityMachineList[145]  ==>  Preparing: select table_name from traceability_machine_data group by table_name 
2020-11-21 23:00:00.027 DEBUG c.j.q.m.t.d.T.getTraceabilityMachineList[145]  ==> Parameters: 
2020-11-21 23:00:00.035 DEBUG c.j.q.m.t.d.T.getTraceabilityMachineList[145]  <==      Total: 5
2020-11-21 23:00:00.036 DEBUG c.j.q.m.t.d.T.getTraceabilityMachineFiledName[145]  ==>  Preparing: select filed_name from traceability_machine_data where table_name=? 
2020-11-21 23:00:00.036 DEBUG c.j.q.m.t.d.T.getTraceabilityMachineFiledName[145]  ==> Parameters: dust_free_shed(String)
2020-11-21 23:00:00.042 DEBUG c.j.q.m.t.d.T.getTraceabilityMachineFiledName[145]  <==      Total: 11
2020-11-21 23:00:00.043 DEBUG c.j.q.m.t.d.T.getMaxCreateTime[145]  ==>  Preparing: select max(createtime) from dust_free_shed 
2020-11-21 23:00:00.043 DEBUG c.j.q.m.t.d.T.getMaxCreateTime[145]  ==> Parameters: 
2020-11-21 23:00:00.117 DEBUG c.j.q.m.t.d.T.getMaxCreateTime[145]  <==      Total: 1
2020-11-21 23:00:00.122 ERROR o.s.s.support.TaskUtils$LoggingErrorHandler[96] java.lang.NullPointerException: null
	at cn.jwis.qualityworkflow.modules.traceablity.TimerManager.TraceabilityMachineTimerManager.getLenovoMachineData(TraceabilityMachineTimerManager.java:105)
	at cn.jwis.qualityworkflow.modules.traceablity.TimerManager.TraceabilityMachineTimerManager.MachineTimerManager(TraceabilityMachineTimerManager.java:57)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.springframework.scheduling.support.ScheduledMethodRunnable.run(ScheduledMethodRunnable.java:84)
	at org.springframework.scheduling.support.DelegatingErrorHandlingRunnable.run(DelegatingErrorHandlingRunnable.java:54)
	at org.springframework.scheduling.concurrent.ReschedulingRunnable.run(ReschedulingRunnable.java:93)
	at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:511)
	at java.util.concurrent.FutureTask.run(FutureTask.java:266)
	at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.access$201(ScheduledThreadPoolExecutor.java:180)
	at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:293)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)
 Unexpected error occurred in scheduled task.
2020-11-21 23:02:50.341 INFO  c.j.qualityworkflow.modules.ipqc.job.ipqcMailJob[27]  查询IPQC超时任务
2020-11-21 23:02:50.349 DEBUG c.j.q.m.qims.dao.BlackDashBoardMapper.getHoliday[145]  ==>  Preparing: SELECT DISTINCT date FROM holiday_maintenance WHERE type = '节假日' 
2020-11-21 23:02:50.349 DEBUG c.j.q.dao.TaskRecordMapper.getOverTimeTaskRecord[145]  ==>  Preparing: SELECT *, HOUR(timediff(now() , create_date)) overTimeNum FROM task_record WHERE template_key = ? AND task_state IS NULL AND task_name = ? AND HOUR(timediff(now() , create_date)) >= ? 
2020-11-21 23:02:50.350 DEBUG c.j.q.dao.TaskRecordMapper.getOverTimeTaskRecord2[145]  ==>  Preparing: SELECT *, HOUR(timediff(now() , create_date)) overTimeNum FROM task_record WHERE template_key = ? AND task_state IS NULL AND HOUR(timediff(now() , create_date)) >= ? 
2020-11-21 23:02:50.350 DEBUG c.j.q.dao.TaskRecordMapper.getOverTimeTaskRecord[145]  ==>  Preparing: SELECT *, HOUR(timediff(now() , create_date)) overTimeNum FROM task_record WHERE template_key = ? AND task_state IS NULL AND task_name = ? AND HOUR(timediff(now() , create_date)) >= ? 
2020-11-21 23:02:50.350 DEBUG c.j.q.m.qims.dao.BlackDashBoardMapper.getHoliday[145]  ==> Parameters: 
2020-11-21 23:02:50.351 DEBUG c.j.q.dao.TaskRecordMapper.getOverTimeTaskRecord2[145]  ==> Parameters: IPQCAuditProcess(String), 24(Integer)
2020-11-21 23:02:50.350 DEBUG c.j.q.dao.TaskRecordMapper.getOverTimeTaskRecord[145]  ==> Parameters: FactoryAuditProcess(String), 部门审核(String), 24(Integer)
2020-11-21 23:02:50.351 DEBUG c.j.q.dao.TaskRecordMapper.getOverTimeTaskRecord[145]  ==> Parameters: Line Qualify(String), 文件收集(String), 2(Integer)
2020-11-21 23:02:50.361 DEBUG c.j.q.m.qims.dao.BlackDashBoardMapper.getHoliday[145]  <==      Total: 6
2020-11-21 23:02:50.361 DEBUG c.j.q.m.q.d.B.getWorkOvertimeList[145]  ==>  Preparing: SELECT DISTINCT date FROM holiday_maintenance WHERE type = '补班' 
2020-11-21 23:02:50.361 DEBUG c.j.q.m.q.d.B.getWorkOvertimeList[145]  ==> Parameters: 
2020-11-21 23:02:50.362 DEBUG c.j.q.dao.TaskRecordMapper.getOverTimeTaskRecord[145]  <==      Total: 3
2020-11-21 23:02:50.362 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==>  Preparing: select time from email_history_info where id =? 
2020-11-21 23:02:50.362 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==> Parameters: 1295192540470837248(String)
2020-11-21 23:02:50.365 DEBUG c.j.q.dao.TaskRecordMapper.getOverTimeTaskRecord2[145]  <==      Total: 18
2020-11-21 23:02:50.365 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==>  Preparing: select time from email_history_info where id =? 
2020-11-21 23:02:50.365 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==> Parameters: 1303868320843300864(String)
2020-11-21 23:02:50.366 DEBUG c.j.q.dao.TaskRecordMapper.getOverTimeTaskRecord[145]  <==      Total: 8
2020-11-21 23:02:50.366 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==>  Preparing: select time from email_history_info where id =? 
2020-11-21 23:02:50.367 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==> Parameters: 1294123945645047808(String)
2020-11-21 23:02:50.373 DEBUG c.j.q.m.q.d.B.getWorkOvertimeList[145]  <==      Total: 4
2020-11-21 23:02:50.374 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getLtStandard[145]  ==>  Preparing: select * from qims_lt_standard_info 
2020-11-21 23:02:50.374 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getLtStandard[145]  ==> Parameters: 
2020-11-21 23:02:50.375 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  <==      Total: 1
2020-11-21 23:02:50.375 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==>  Preparing: select time from email_history_info where id =? 
2020-11-21 23:02:50.375 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==> Parameters: 1295192619508301824(String)
2020-11-21 23:02:50.376 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  <==      Total: 1
2020-11-21 23:02:50.376 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  <==      Total: 1
2020-11-21 23:02:50.377 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==>  Preparing: select time from email_history_info where id =? 
2020-11-21 23:02:50.377 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==> Parameters: 1303868347422605312(String)
2020-11-21 23:02:50.382 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  <==      Total: 1
2020-11-21 23:02:50.382 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==>  Preparing: select time from email_history_info where id =? 
2020-11-21 23:02:50.382 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==> Parameters: 1299240419787276288(String)
2020-11-21 23:02:50.382 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getLtStandard[145]  <==      Total: 8
2020-11-21 23:02:50.382 INFO  c.j.qualityworkflow.modules.qims.job.qimsMailJob[47]  查询黑色问题超过LT的信息
2020-11-21 23:02:50.382 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getBlackList[145]  ==>  Preparing: select * from task_record where task_name in('初步原因分析','根本原因分析','根本原因审核') and task_state is null and template_key='QIMSBLACK' 
2020-11-21 23:02:50.383 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getBlackList[145]  ==> Parameters: 
2020-11-21 23:02:50.383 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  <==      Total: 1
2020-11-21 23:02:50.383 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==>  Preparing: select time from email_history_info where id =? 
2020-11-21 23:02:50.384 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==> Parameters: 1303868393815801856(String)
2020-11-21 23:02:50.388 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  <==      Total: 1
2020-11-21 23:02:50.393 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  <==      Total: 1
2020-11-21 23:02:50.394 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==>  Preparing: select time from email_history_info where id =? 
2020-11-21 23:02:50.394 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==> Parameters: 1303937438065885184(String)
2020-11-21 23:02:50.395 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getBlackList[145]  <==      Total: 16
2020-11-21 23:02:50.397 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==>  Preparing: select time from email_history_info where id =? 
2020-11-21 23:02:50.398 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==> Parameters: 1286902446076985344(String)
2020-11-21 23:02:50.401 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  <==      Total: 1
2020-11-21 23:02:50.401 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==>  Preparing: select time from email_history_info where id =? 
2020-11-21 23:02:50.401 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==> Parameters: 1303939538460082176(String)
2020-11-21 23:02:50.404 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  <==      Total: 1
2020-11-21 23:02:50.410 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  <==      Total: 1
2020-11-21 23:02:50.410 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==>  Preparing: select time from email_history_info where id =? 
2020-11-21 23:02:50.410 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==> Parameters: 1303939599889858560(String)
2020-11-21 23:02:50.425 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  <==      Total: 1
2020-11-21 23:02:50.426 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==>  Preparing: select time from email_history_info where id =? 
2020-11-21 23:02:50.426 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==> Parameters: 1306059696263659520(String)
2020-11-21 23:02:50.432 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  <==      Total: 1
2020-11-21 23:02:50.432 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==>  Preparing: select time from email_history_info where id =? 
2020-11-21 23:02:50.432 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==> Parameters: 1306155886347026432(String)
2020-11-21 23:02:50.443 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  <==      Total: 1
2020-11-21 23:02:50.444 INFO  cn.jwis.qualityworkflow.util.EmailService[142]  qualityadmin email is 
2020-11-21 23:02:50.444 INFO  cn.jwis.qualityworkflow.util.EmailService[142]  hualanlan email is test@jwis.cn
2020-11-21 23:02:50.444 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==>  Preparing: select time from email_history_info where id =? 
2020-11-21 23:02:50.444 DEBUG cn.jwis.qualityworkflow.dao.UserMapper.getSuperior[145]  ==>  Preparing: select superior from department_mapping where user_account = ? and type = ? limit 0,1 
2020-11-21 23:02:50.444 DEBUG cn.jwis.qualityworkflow.dao.UserMapper.getSuperior[145]  ==>  Preparing: select superior from department_mapping where user_account = ? and type = ? limit 0,1 
2020-11-21 23:02:50.444 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==> Parameters: 1306201167000240128(String)
2020-11-21 23:02:50.444 DEBUG cn.jwis.qualityworkflow.dao.UserMapper.getSuperior[145]  ==> Parameters: qualityadmin(String), COMMON(String)
2020-11-21 23:02:50.444 DEBUG cn.jwis.qualityworkflow.dao.UserMapper.getSuperior[145]  ==> Parameters: hualanlan(String), QIMS(String)
2020-11-21 23:02:50.445 INFO  cn.jwis.qualityworkflow.util.EmailService[142]  dz_gyb1 email is test@jwis.cn
2020-11-21 23:02:50.445 DEBUG cn.jwis.qualityworkflow.dao.UserMapper.getSuperior[145]  ==>  Preparing: select superior from department_mapping where user_account = ? and type = ? limit 0,1 
2020-11-21 23:02:50.445 DEBUG cn.jwis.qualityworkflow.dao.UserMapper.getSuperior[145]  ==> Parameters: dz_gyb1(String), COMMON(String)
2020-11-21 23:02:50.451 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  <==      Total: 1
2020-11-21 23:02:50.451 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==>  Preparing: select time from email_history_info where id =? 
2020-11-21 23:02:50.451 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==> Parameters: 1308013106458263552(String)
2020-11-21 23:02:50.454 DEBUG cn.jwis.qualityworkflow.dao.UserMapper.getSuperior[145]  <==      Total: 1
2020-11-21 23:02:50.456 DEBUG cn.jwis.qualityworkflow.dao.UserMapper.getSuperior[145]  <==      Total: 1
2020-11-21 23:02:50.455 DEBUG cn.jwis.qualityworkflow.dao.UserMapper.getSuperior[145]  <==      Total: 1
2020-11-21 23:02:50.456 DEBUG c.j.q.dao.UserMapper.getSuperiorManagerByUser[145]  ==>  Preparing: select superior_manager from department_mapping where user_account = ? and type = ? limit 0,1 
2020-11-21 23:02:50.456 DEBUG c.j.q.dao.UserMapper.getSuperiorManagerByUser[145]  ==> Parameters: hualanlan(String), QIMS(String)
2020-11-21 23:02:50.459 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  <==      Total: 0
2020-11-21 23:02:50.469 DEBUG c.j.q.dao.UserMapper.getSuperiorManagerByUser[145]  <==      Total: 1
2020-11-21 23:02:50.483 INFO  cn.jwis.qualityworkflow.util.EmailService[142]  qualityadmin email is 
2020-11-21 23:02:50.483 INFO  cn.jwis.qualityworkflow.util.EmailService[142]  dz_gyb2 email is jian.song@jwis.cn
2020-11-21 23:02:50.483 INFO  c.j.q.m.factoryaudit.job.AuditQuestionMailJob[31]  邮件下发结束
2020-11-21 23:02:50.483 DEBUG c.j.qualityworkflow.dao.CommonMapper.getKeyToName[145]  ==>  Preparing: SELECT * FROM key_to_name 
2020-11-21 23:02:50.484 DEBUG c.j.qualityworkflow.dao.CommonMapper.getKeyToName[145]  ==> Parameters: 
2020-11-21 23:02:50.491 INFO  cn.jwis.qualityworkflow.util.EmailService[142]  kiween email is 
2020-11-21 23:02:50.492 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==>  Preparing: select time from email_history_info where id =? 
2020-11-21 23:02:50.492 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==> Parameters: 1308013110702899200(String)
2020-11-21 23:02:50.498 DEBUG c.j.qualityworkflow.dao.CommonMapper.getKeyToName[145]  <==      Total: 8
2020-11-21 23:02:50.498 DEBUG c.j.q.m.l.d.L.getLineQualifyDetailednessInfo[145]  ==>  Preparing: SELECT q.*,ar.processInstanceId ,ar.taskId,ar.assignee,ar.taskState,ar.taskName FROM line_qualify_info q,(SELECT workflow_business_id, process_instance_id as processInstanceId,task_id as taskId,assignee,task_state as taskState,task_name taskName FROM task_record WHERE task_id=?) ar where q.id=ar.workflow_business_id 
2020-11-21 23:02:50.499 DEBUG c.j.q.m.l.d.L.getLineQualifyDetailednessInfo[145]  ==> Parameters: 5490632(String)
2020-11-21 23:02:50.502 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  <==      Total: 1
2020-11-21 23:02:50.511 INFO  cn.jwis.qualityworkflow.util.EmailService[142]  workflow3 email is null
2020-11-21 23:02:50.512 DEBUG c.j.q.m.l.d.L.getLineQualifyDetailednessInfo[145]  <==      Total: 1
2020-11-21 23:02:50.513 INFO  cn.jwis.qualityworkflow.util.EmailService[69]  haomiao.liu@jwis.cn send a Mail to test@jwis.cn and make a copy for [jian.song@jwis.cn]
2020-11-21 23:02:50.587 INFO  cn.jwis.qualityworkflow.util.EmailService[142]  qualityadmin email is 
2020-11-21 23:02:50.587 DEBUG cn.jwis.qualityworkflow.dao.UserMapper.getSuperior[145]  ==>  Preparing: select superior from department_mapping where user_account = ? and type = ? limit 0,1 
2020-11-21 23:02:50.587 DEBUG cn.jwis.qualityworkflow.dao.UserMapper.getSuperior[145]  ==> Parameters: qualityadmin(String), COMMON(String)
2020-11-21 23:02:50.590 INFO  cn.jwis.qualityworkflow.util.EmailService[142]  zhouxianling email is 
2020-11-21 23:02:50.591 DEBUG c.j.qualityworkflow.dao.TaskRecordMapper.getById[145]  ==>  Preparing: SELECT * from task_record WHERE id = ? 
2020-11-21 23:02:50.591 DEBUG c.j.qualityworkflow.dao.TaskRecordMapper.getById[145]  ==> Parameters: 1286902446076985344(String)
2020-11-21 23:02:50.594 DEBUG cn.jwis.qualityworkflow.dao.UserMapper.getSuperior[145]  <==      Total: 1
2020-11-21 23:02:50.599 DEBUG c.j.qualityworkflow.dao.TaskRecordMapper.getById[145]  <==      Total: 1
2020-11-21 23:02:50.600 DEBUG c.j.qualityworkflow.dao.CommonMapper.getKeyToName[145]  ==>  Preparing: SELECT * FROM key_to_name 
2020-11-21 23:02:50.600 DEBUG c.j.qualityworkflow.dao.CommonMapper.getKeyToName[145]  ==> Parameters: 
2020-11-21 23:02:50.607 DEBUG c.j.qualityworkflow.dao.CommonMapper.getKeyToName[145]  <==      Total: 8
2020-11-21 23:02:50.608 INFO  cn.jwis.qualityworkflow.util.EmailService[71]  haomiao.liu@jwis.cn send a Mail to test@jwis.cn
2020-11-21 23:02:50.618 INFO  cn.jwis.qualityworkflow.util.EmailService[142]  qualityadmin email is 
2020-11-21 23:02:50.618 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==>  Preparing: select time from email_history_info where id =? 
2020-11-21 23:02:50.619 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==> Parameters: 1308013113928318976(String)
2020-11-21 23:02:50.625 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  <==      Total: 1
2020-11-21 23:02:50.650 INFO  cn.jwis.qualityworkflow.util.EmailService[142]  qualityadmin email is 
2020-11-21 23:02:50.650 DEBUG cn.jwis.qualityworkflow.dao.UserMapper.getSuperior[145]  ==>  Preparing: select superior from department_mapping where user_account = ? and type = ? limit 0,1 
2020-11-21 23:02:50.651 DEBUG cn.jwis.qualityworkflow.dao.UserMapper.getSuperior[145]  ==> Parameters: qualityadmin(String), COMMON(String)
2020-11-21 23:02:50.753 DEBUG cn.jwis.qualityworkflow.dao.UserMapper.getSuperior[145]  <==      Total: 1
2020-11-21 23:02:50.786 INFO  cn.jwis.qualityworkflow.util.EmailService[142]  qualityadmin email is 
2020-11-21 23:02:50.786 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==>  Preparing: select time from email_history_info where id =? 
2020-11-21 23:02:50.787 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==> Parameters: 1308013116927246336(String)
2020-11-21 23:02:50.796 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  <==      Total: 0
2020-11-21 23:02:50.915 INFO  cn.jwis.qualityworkflow.util.EmailService[142]  kiween email is 
2020-11-21 23:02:50.915 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==>  Preparing: select time from email_history_info where id =? 
2020-11-21 23:02:50.916 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==> Parameters: 1309046852858937344(String)
2020-11-21 23:02:50.977 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  <==      Total: 0
2020-11-21 23:02:51.018 INFO  cn.jwis.qualityworkflow.util.EmailService[142]  codisan email is kelvin@jwis.cn
2020-11-21 23:02:51.018 DEBUG c.j.qualityworkflow.dao.CommonMapper.getKeyToName[145]  ==>  Preparing: SELECT * FROM key_to_name 
2020-11-21 23:02:51.018 DEBUG c.j.qualityworkflow.dao.CommonMapper.getKeyToName[145]  ==> Parameters: 
2020-11-21 23:02:51.047 DEBUG c.j.qualityworkflow.dao.CommonMapper.getKeyToName[145]  <==      Total: 8
2020-11-21 23:02:51.048 INFO  cn.jwis.qualityworkflow.util.EmailService[74]  haomiao.liu@jwis.cn send a Mail to kelvin@jwis.cn fail, because null
2020-11-21 23:02:51.312 ERROR o.s.s.support.TaskUtils$LoggingErrorHandler[96] org.springframework.mail.MailSendException: Failed messages: javax.mail.SendFailedException: Invalid Addresses;
  nested exception is:
	com.sun.mail.smtp.SMTPAddressFailedException: 554 RCPT (test@jwis.cn) dosn't exist
;
  nested exception is:
	com.sun.mail.smtp.SMTPAddressFailedException: 554 RCPT (jian.song@jwis.cn) dosn't exist

	at org.springframework.mail.javamail.JavaMailSenderImpl.doSend(JavaMailSenderImpl.java:488)
	at org.springframework.mail.javamail.JavaMailSenderImpl.send(JavaMailSenderImpl.java:359)
	at org.springframework.mail.javamail.JavaMailSenderImpl.send(JavaMailSenderImpl.java:354)
	at cn.jwis.qualityworkflow.util.EmailService.sendHtmlMail(EmailService.java:76)
	at cn.jwis.qualityworkflow.modules.linequalify.service.imp.LineQualifyServiceImpl.sendEmailTohandler(LineQualifyServiceImpl.java:617)
	at cn.jwis.qualityworkflow.modules.linequalify.service.imp.LineQualifyServiceImpl.sendOverTimeMail(LineQualifyServiceImpl.java:594)
	at cn.jwis.qualityworkflow.modules.linequalify.service.imp.LineQualifyServiceImpl$$FastClassBySpringCGLIB$$4ca6f597.invoke(<generated>)
	at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:684)
	at cn.jwis.qualityworkflow.modules.linequalify.service.imp.LineQualifyServiceImpl$$EnhancerBySpringCGLIB$$2a00af9b.sendOverTimeMail(<generated>)
	at cn.jwis.qualityworkflow.modules.linequalify.job.LineQualifyMailJob.sendOverTimeMail(LineQualifyMailJob.java:30)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.springframework.scheduling.support.ScheduledMethodRunnable.run(ScheduledMethodRunnable.java:84)
	at org.springframework.scheduling.support.DelegatingErrorHandlingRunnable.run(DelegatingErrorHandlingRunnable.java:54)
	at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:511)
	at java.util.concurrent.FutureTask.runAndReset(FutureTask.java:308)
	at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.access$301(ScheduledThreadPoolExecutor.java:180)
	at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:294)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)
 Unexpected error occurred in scheduled task.
2020-11-21 23:02:51.335 ERROR o.s.s.support.TaskUtils$LoggingErrorHandler[96] org.springframework.mail.MailSendException: Failed messages: javax.mail.SendFailedException: Invalid Addresses;
  nested exception is:
	com.sun.mail.smtp.SMTPAddressFailedException: 554 RCPT (test@jwis.cn) dosn't exist

	at org.springframework.mail.javamail.JavaMailSenderImpl.doSend(JavaMailSenderImpl.java:488)
	at org.springframework.mail.javamail.JavaMailSenderImpl.send(JavaMailSenderImpl.java:359)
	at org.springframework.mail.javamail.JavaMailSenderImpl.send(JavaMailSenderImpl.java:354)
	at cn.jwis.qualityworkflow.util.EmailService.sendHtmlMail(EmailService.java:76)
	at cn.jwis.qualityworkflow.modules.qims.service.imp.QimsSendMailServiceImpl.sendEmailTohandler(QimsSendMailServiceImpl.java:161)
	at cn.jwis.qualityworkflow.modules.qims.service.imp.QimsSendMailServiceImpl.qimsSendMail(QimsSendMailServiceImpl.java:90)
	at cn.jwis.qualityworkflow.modules.qims.job.qimsMailJob.qimsSendMail(qimsMailJob.java:49)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.springframework.scheduling.support.ScheduledMethodRunnable.run(ScheduledMethodRunnable.java:84)
	at org.springframework.scheduling.support.DelegatingErrorHandlingRunnable.run(DelegatingErrorHandlingRunnable.java:54)
	at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:511)
	at java.util.concurrent.FutureTask.runAndReset(FutureTask.java:308)
	at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.access$301(ScheduledThreadPoolExecutor.java:180)
	at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:294)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)
 Unexpected error occurred in scheduled task.
2020-11-21 23:02:51.722 ERROR o.s.s.support.TaskUtils$LoggingErrorHandler[96] org.springframework.mail.MailSendException: Failed messages: javax.mail.SendFailedException: Invalid Addresses;
  nested exception is:
	com.sun.mail.smtp.SMTPAddressFailedException: 554 RCPT (kelvin@jwis.cn) dosn't exist

	at org.springframework.mail.javamail.JavaMailSenderImpl.doSend(JavaMailSenderImpl.java:488)
	at org.springframework.mail.javamail.JavaMailSenderImpl.send(JavaMailSenderImpl.java:359)
	at org.springframework.mail.javamail.JavaMailSenderImpl.send(JavaMailSenderImpl.java:354)
	at cn.jwis.qualityworkflow.util.EmailService.sendHtmlMail(EmailService.java:76)
	at cn.jwis.qualityworkflow.modules.qims.service.imp.QimsSendMailServiceImpl.sendEmailTohandler(QimsSendMailServiceImpl.java:161)
	at cn.jwis.qualityworkflow.modules.ipqc.service.imp.AuditQualityProblemServiceImpl.qimsSendMail(AuditQualityProblemServiceImpl.java:321)
	at cn.jwis.qualityworkflow.modules.ipqc.service.imp.AuditQualityProblemServiceImpl$$FastClassBySpringCGLIB$$15ff325f.invoke(<generated>)
	at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:684)
	at cn.jwis.qualityworkflow.modules.ipqc.service.imp.AuditQualityProblemServiceImpl$$EnhancerBySpringCGLIB$$e291a2f3.qimsSendMail(<generated>)
	at cn.jwis.qualityworkflow.modules.ipqc.job.ipqcMailJob.qimsSendMail(ipqcMailJob.java:28)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.springframework.scheduling.support.ScheduledMethodRunnable.run(ScheduledMethodRunnable.java:84)
	at org.springframework.scheduling.support.DelegatingErrorHandlingRunnable.run(DelegatingErrorHandlingRunnable.java:54)
	at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:511)
	at java.util.concurrent.FutureTask.runAndReset(FutureTask.java:308)
	at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.access$301(ScheduledThreadPoolExecutor.java:180)
	at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:294)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)
 Unexpected error occurred in scheduled task.
2020-11-21 23:07:50.349 INFO  c.j.qualityworkflow.modules.ipqc.job.ipqcMailJob[27]  查询IPQC超时任务
2020-11-21 23:07:50.378 DEBUG c.j.q.dao.TaskRecordMapper.getOverTimeTaskRecord[145]  ==>  Preparing: SELECT *, HOUR(timediff(now() , create_date)) overTimeNum FROM task_record WHERE template_key = ? AND task_state IS NULL AND task_name = ? AND HOUR(timediff(now() , create_date)) >= ? 
2020-11-21 23:07:50.378 DEBUG c.j.q.dao.TaskRecordMapper.getOverTimeTaskRecord[145]  ==> Parameters: Line Qualify(String), 文件收集(String), 2(Integer)
2020-11-21 23:07:50.379 DEBUG c.j.q.dao.TaskRecordMapper.getOverTimeTaskRecord[145]  ==>  Preparing: SELECT *, HOUR(timediff(now() , create_date)) overTimeNum FROM task_record WHERE template_key = ? AND task_state IS NULL AND task_name = ? AND HOUR(timediff(now() , create_date)) >= ? 
2020-11-21 23:07:50.380 DEBUG c.j.q.dao.TaskRecordMapper.getOverTimeTaskRecord[145]  ==> Parameters: FactoryAuditProcess(String), 部门审核(String), 24(Integer)
2020-11-21 23:07:50.380 DEBUG c.j.q.m.qims.dao.BlackDashBoardMapper.getHoliday[145]  ==>  Preparing: SELECT DISTINCT date FROM holiday_maintenance WHERE type = '节假日' 
2020-11-21 23:07:50.380 DEBUG c.j.q.m.qims.dao.BlackDashBoardMapper.getHoliday[145]  ==> Parameters: 
2020-11-21 23:07:50.382 DEBUG c.j.q.dao.TaskRecordMapper.getOverTimeTaskRecord2[145]  ==>  Preparing: SELECT *, HOUR(timediff(now() , create_date)) overTimeNum FROM task_record WHERE template_key = ? AND task_state IS NULL AND HOUR(timediff(now() , create_date)) >= ? 
2020-11-21 23:07:50.383 DEBUG c.j.q.dao.TaskRecordMapper.getOverTimeTaskRecord2[145]  ==> Parameters: IPQCAuditProcess(String), 24(Integer)
2020-11-21 23:07:50.486 DEBUG c.j.q.m.qims.dao.BlackDashBoardMapper.getHoliday[145]  <==      Total: 6
2020-11-21 23:07:50.486 DEBUG c.j.q.dao.TaskRecordMapper.getOverTimeTaskRecord[145]  <==      Total: 8
2020-11-21 23:07:50.486 DEBUG c.j.q.m.q.d.B.getWorkOvertimeList[145]  ==>  Preparing: SELECT DISTINCT date FROM holiday_maintenance WHERE type = '补班' 
2020-11-21 23:07:50.486 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==>  Preparing: select time from email_history_info where id =? 
2020-11-21 23:07:50.486 DEBUG c.j.q.m.q.d.B.getWorkOvertimeList[145]  ==> Parameters: 
2020-11-21 23:07:50.487 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==> Parameters: 1294123945645047808(String)
2020-11-21 23:07:50.487 DEBUG c.j.q.dao.TaskRecordMapper.getOverTimeTaskRecord[145]  <==      Total: 3
2020-11-21 23:07:50.488 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==>  Preparing: select time from email_history_info where id =? 
2020-11-21 23:07:50.488 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==> Parameters: 1295192540470837248(String)
2020-11-21 23:07:50.491 DEBUG c.j.q.dao.TaskRecordMapper.getOverTimeTaskRecord2[145]  <==      Total: 18
2020-11-21 23:07:50.491 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==>  Preparing: select time from email_history_info where id =? 
2020-11-21 23:07:50.492 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==> Parameters: 1303868320843300864(String)
2020-11-21 23:07:50.897 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  <==      Total: 1
2020-11-21 23:07:50.897 DEBUG c.j.q.m.q.d.B.getWorkOvertimeList[145]  <==      Total: 4
2020-11-21 23:07:50.897 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  <==      Total: 1
2020-11-21 23:07:50.897 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  <==      Total: 1
2020-11-21 23:07:50.897 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getLtStandard[145]  ==>  Preparing: select * from qims_lt_standard_info 
2020-11-21 23:07:50.897 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==>  Preparing: select time from email_history_info where id =? 
2020-11-21 23:07:50.897 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==>  Preparing: select time from email_history_info where id =? 
2020-11-21 23:07:50.897 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getLtStandard[145]  ==> Parameters: 
2020-11-21 23:07:50.897 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==> Parameters: 1303868347422605312(String)
2020-11-21 23:07:50.897 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==> Parameters: 1295192619508301824(String)
2020-11-21 23:07:51.294 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getLtStandard[145]  <==      Total: 8
2020-11-21 23:07:51.294 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  <==      Total: 1
2020-11-21 23:07:51.294 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  <==      Total: 1
2020-11-21 23:07:51.295 INFO  c.j.qualityworkflow.modules.qims.job.qimsMailJob[47]  查询黑色问题超过LT的信息
2020-11-21 23:07:51.295 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==>  Preparing: select time from email_history_info where id =? 
2020-11-21 23:07:51.295 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getBlackList[145]  ==>  Preparing: select * from task_record where task_name in('初步原因分析','根本原因分析','根本原因审核') and task_state is null and template_key='QIMSBLACK' 
2020-11-21 23:07:51.295 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==>  Preparing: select time from email_history_info where id =? 
2020-11-21 23:07:51.295 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getBlackList[145]  ==> Parameters: 
2020-11-21 23:07:51.295 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==> Parameters: 1303868393815801856(String)
2020-11-21 23:07:51.295 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==> Parameters: 1299240419787276288(String)
2020-11-21 23:07:51.306 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  <==      Total: 1
2020-11-21 23:07:51.306 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  <==      Total: 1
2020-11-21 23:07:51.307 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==>  Preparing: select time from email_history_info where id =? 
2020-11-21 23:07:51.307 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==> Parameters: 1303937438065885184(String)
2020-11-21 23:07:51.353 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  <==      Total: 1
2020-11-21 23:07:51.353 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==>  Preparing: select time from email_history_info where id =? 
2020-11-21 23:07:51.353 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==> Parameters: 1303939538460082176(String)
2020-11-21 23:07:51.362 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getBlackList[145]  <==      Total: 16
2020-11-21 23:07:51.364 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==>  Preparing: select time from email_history_info where id =? 
2020-11-21 23:07:51.364 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==> Parameters: 1286902446076985344(String)
2020-11-21 23:07:51.365 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  <==      Total: 1
2020-11-21 23:07:51.365 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==>  Preparing: select time from email_history_info where id =? 
2020-11-21 23:07:51.365 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==> Parameters: 1303939599889858560(String)
2020-11-21 23:07:51.397 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  <==      Total: 1
2020-11-21 23:07:51.397 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  <==      Total: 1
2020-11-21 23:07:51.397 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==>  Preparing: select time from email_history_info where id =? 
2020-11-21 23:07:51.397 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==> Parameters: 1306059696263659520(String)
2020-11-21 23:07:51.433 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  <==      Total: 1
2020-11-21 23:07:51.433 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==>  Preparing: select time from email_history_info where id =? 
2020-11-21 23:07:51.433 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==> Parameters: 1306155886347026432(String)
2020-11-21 23:07:51.444 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  <==      Total: 1
2020-11-21 23:07:51.445 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==>  Preparing: select time from email_history_info where id =? 
2020-11-21 23:07:51.445 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==> Parameters: 1306201167000240128(String)
2020-11-21 23:07:51.453 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  <==      Total: 1
2020-11-21 23:07:51.454 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==>  Preparing: select time from email_history_info where id =? 
2020-11-21 23:07:51.454 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==> Parameters: 1308013106458263552(String)
2020-11-21 23:07:51.462 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  <==      Total: 0
2020-11-21 23:07:56.306 DEBUG cn.jwis.qualityworkflow.util.EmailService[144]  get handler mail from http://gateway.dev.jwis.io/platform/sys/user/internal-read?name=dz_gyb1 happen error cause:I/O error on GET request for "http://gateway.dev.jwis.io/platform/sys/user/internal-read": connect timed out; nested exception is java.net.SocketTimeoutException: connect timed out
2020-11-21 23:07:56.307 DEBUG cn.jwis.qualityworkflow.util.EmailService[144]  get handler mail from http://gateway.dev.jwis.io/platform/sys/user/internal-read?name=qualityadmin happen error cause:I/O error on GET request for "http://gateway.dev.jwis.io/platform/sys/user/internal-read": connect timed out; nested exception is java.net.SocketTimeoutException: connect timed out
2020-11-21 23:07:56.316 DEBUG cn.jwis.qualityworkflow.dao.UserMapper.getSuperior[145]  ==>  Preparing: select superior from department_mapping where user_account = ? and type = ? limit 0,1 
2020-11-21 23:07:56.316 DEBUG cn.jwis.qualityworkflow.dao.UserMapper.getSuperior[145]  ==> Parameters: dz_gyb1(String), COMMON(String)
2020-11-21 23:07:56.316 DEBUG cn.jwis.qualityworkflow.dao.UserMapper.getSuperior[145]  ==>  Preparing: select superior from department_mapping where user_account = ? and type = ? limit 0,1 
2020-11-21 23:07:56.316 DEBUG cn.jwis.qualityworkflow.dao.UserMapper.getSuperior[145]  ==> Parameters: qualityadmin(String), COMMON(String)
2020-11-21 23:07:56.327 DEBUG cn.jwis.qualityworkflow.dao.UserMapper.getSuperior[145]  <==      Total: 1
2020-11-21 23:07:56.327 DEBUG cn.jwis.qualityworkflow.dao.UserMapper.getSuperior[145]  <==      Total: 1
2020-11-21 23:07:56.376 INFO  cn.jwis.qualityworkflow.util.EmailService[142]  dz_gyb2 email is jian.song@jwis.cn
2020-11-21 23:07:56.377 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==>  Preparing: select time from email_history_info where id =? 
2020-11-21 23:07:56.377 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==> Parameters: 1294123945682796544(String)
2020-11-21 23:07:56.382 INFO  cn.jwis.qualityworkflow.util.EmailService[142]  qualityadmin email is 
2020-11-21 23:07:56.383 INFO  c.j.q.m.factoryaudit.job.AuditQuestionMailJob[31]  邮件下发结束
2020-11-21 23:07:56.397 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  <==      Total: 1
2020-11-21 23:07:56.397 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==>  Preparing: select time from email_history_info where id =? 
2020-11-21 23:07:56.398 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==> Parameters: 1294123945716350976(String)
2020-11-21 23:07:56.398 DEBUG cn.jwis.qualityworkflow.util.EmailService[144]  get handler mail from http://gateway.dev.jwis.io/platform/sys/user/internal-read?name=hualanlan happen error cause:I/O error on GET request for "http://gateway.dev.jwis.io/platform/sys/user/internal-read": connect timed out; nested exception is java.net.SocketTimeoutException: connect timed out
2020-11-21 23:07:56.417 DEBUG cn.jwis.qualityworkflow.dao.UserMapper.getSuperior[145]  ==>  Preparing: select superior from department_mapping where user_account = ? and type = ? limit 0,1 
2020-11-21 23:07:56.417 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  <==      Total: 1
2020-11-21 23:07:56.417 DEBUG cn.jwis.qualityworkflow.dao.UserMapper.getSuperior[145]  ==> Parameters: hualanlan(String), QIMS(String)
2020-11-21 23:07:56.425 DEBUG cn.jwis.qualityworkflow.dao.UserMapper.getSuperior[145]  <==      Total: 1
2020-11-21 23:07:56.426 DEBUG c.j.q.dao.UserMapper.getSuperiorManagerByUser[145]  ==>  Preparing: select superior_manager from department_mapping where user_account = ? and type = ? limit 0,1 
2020-11-21 23:07:56.426 DEBUG c.j.q.dao.UserMapper.getSuperiorManagerByUser[145]  ==> Parameters: hualanlan(String), QIMS(String)
2020-11-21 23:07:56.453 DEBUG c.j.q.dao.UserMapper.getSuperiorManagerByUser[145]  <==      Total: 1
2020-11-21 23:07:56.455 INFO  cn.jwis.qualityworkflow.util.EmailService[142]  xujinbiao email is 
2020-11-21 23:07:56.455 DEBUG cn.jwis.qualityworkflow.dao.UserMapper.getSuperior[145]  ==>  Preparing: select superior from department_mapping where user_account = ? and type = ? limit 0,1 
2020-11-21 23:07:56.456 DEBUG cn.jwis.qualityworkflow.dao.UserMapper.getSuperior[145]  ==> Parameters: xujinbiao(String), COMMON(String)
2020-11-21 23:07:56.463 DEBUG cn.jwis.qualityworkflow.util.EmailService[144]  get handler mail from http://gateway.dev.jwis.io/platform/sys/user/internal-read?name=kiween happen error cause:I/O error on GET request for "http://gateway.dev.jwis.io/platform/sys/user/internal-read": connect timed out; nested exception is java.net.SocketTimeoutException: connect timed out
2020-11-21 23:07:56.466 DEBUG cn.jwis.qualityworkflow.dao.UserMapper.getSuperior[145]  <==      Total: 1
2020-11-21 23:07:56.477 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==>  Preparing: select time from email_history_info where id =? 
2020-11-21 23:07:56.477 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==> Parameters: 1308013110702899200(String)
2020-11-21 23:07:56.488 INFO  cn.jwis.qualityworkflow.util.EmailService[142]  workflow3 email is null
2020-11-21 23:07:56.501 INFO  cn.jwis.qualityworkflow.util.EmailService[142]  hualanlan email is test@jwis.cn
2020-11-21 23:07:56.501 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==>  Preparing: select time from email_history_info where id =? 
2020-11-21 23:07:56.501 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==> Parameters: 1295193219738370048(String)
2020-11-21 23:07:56.517 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  <==      Total: 1
2020-11-21 23:07:56.518 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  <==      Total: 1
2020-11-21 23:07:56.518 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==>  Preparing: select time from email_history_info where id =? 
2020-11-21 23:07:56.518 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==> Parameters: 1295193220166189056(String)
2020-11-21 23:07:56.542 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  <==      Total: 1
2020-11-21 23:07:56.542 INFO  cn.jwis.qualityworkflow.util.EmailService[142]  zhouxianling email is 
2020-11-21 23:07:56.544 INFO  cn.jwis.qualityworkflow.util.EmailService[142]  qualityadmin email is 
2020-11-21 23:07:56.544 DEBUG cn.jwis.qualityworkflow.dao.UserMapper.getSuperior[145]  ==>  Preparing: select superior from department_mapping where user_account = ? and type = ? limit 0,1 
2020-11-21 23:07:56.544 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==>  Preparing: select time from email_history_info where id =? 
2020-11-21 23:07:56.544 DEBUG cn.jwis.qualityworkflow.dao.UserMapper.getSuperior[145]  ==> Parameters: qualityadmin(String), COMMON(String)
2020-11-21 23:07:56.544 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==> Parameters: 1286904434760089600(String)
2020-11-21 23:07:56.573 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  <==      Total: 1
2020-11-21 23:07:56.574 DEBUG cn.jwis.qualityworkflow.dao.UserMapper.getSuperior[145]  <==      Total: 1
2020-11-21 23:07:56.656 INFO  cn.jwis.qualityworkflow.util.EmailService[142]  xujinbiao email is 
2020-11-21 23:07:56.657 DEBUG cn.jwis.qualityworkflow.dao.UserMapper.getSuperior[145]  ==>  Preparing: select superior from department_mapping where user_account = ? and type = ? limit 0,1 
2020-11-21 23:07:56.657 DEBUG cn.jwis.qualityworkflow.dao.UserMapper.getSuperior[145]  ==> Parameters: xujinbiao(String), COMMON(String)
2020-11-21 23:07:56.660 INFO  cn.jwis.qualityworkflow.util.EmailService[142]  gupp2 email is null
2020-11-21 23:07:56.661 DEBUG cn.jwis.qualityworkflow.dao.UserMapper.getSuperior[145]  ==>  Preparing: select superior from department_mapping where user_account = ? and type = ? limit 0,1 
2020-11-21 23:07:56.661 DEBUG cn.jwis.qualityworkflow.dao.UserMapper.getSuperior[145]  ==> Parameters: gupp2(String), QIMS(String)
2020-11-21 23:07:56.666 DEBUG cn.jwis.qualityworkflow.dao.UserMapper.getSuperior[145]  <==      Total: 1
2020-11-21 23:07:56.672 DEBUG cn.jwis.qualityworkflow.dao.UserMapper.getSuperior[145]  <==      Total: 0
2020-11-21 23:07:56.672 DEBUG c.j.q.dao.UserMapper.getSuperiorManagerByUser[145]  ==>  Preparing: select superior_manager from department_mapping where user_account = ? and type = ? limit 0,1 
2020-11-21 23:07:56.673 DEBUG c.j.q.dao.UserMapper.getSuperiorManagerByUser[145]  ==> Parameters: gupp2(String), QIMS(String)
2020-11-21 23:07:56.686 DEBUG c.j.q.dao.UserMapper.getSuperiorManagerByUser[145]  <==      Total: 0
2020-11-21 23:07:56.688 INFO  cn.jwis.qualityworkflow.util.EmailService[142]  qualityadmin email is 
2020-11-21 23:07:56.688 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==>  Preparing: select time from email_history_info where id =? 
2020-11-21 23:07:56.688 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==> Parameters: 1308013113928318976(String)
2020-11-21 23:07:56.688 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==>  Preparing: select time from email_history_info where id =? 
2020-11-21 23:07:56.689 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==> Parameters: 1286916730144161792(String)
2020-11-21 23:07:56.700 INFO  cn.jwis.qualityworkflow.util.EmailService[142]  hualanlan email is test@jwis.cn
2020-11-21 23:07:56.700 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==>  Preparing: select time from email_history_info where id =? 
2020-11-21 23:07:56.700 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==> Parameters: 1295193707351375872(String)
2020-11-21 23:07:57.049 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  <==      Total: 1
2020-11-21 23:07:57.049 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  <==      Total: 1
2020-11-21 23:07:57.049 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  <==      Total: 1
2020-11-21 23:07:57.050 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==>  Preparing: select time from email_history_info where id =? 
2020-11-21 23:07:57.050 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==> Parameters: 1295193707376541696(String)
2020-11-21 23:07:57.380 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  <==      Total: 1
2020-11-21 23:07:57.400 INFO  cn.jwis.qualityworkflow.util.EmailService[142]  qualityadmin email is 
2020-11-21 23:07:57.400 DEBUG cn.jwis.qualityworkflow.dao.UserMapper.getSuperior[145]  ==>  Preparing: select superior from department_mapping where user_account = ? and type = ? limit 0,1 
2020-11-21 23:07:57.400 DEBUG cn.jwis.qualityworkflow.dao.UserMapper.getSuperior[145]  ==> Parameters: qualityadmin(String), COMMON(String)
2020-11-21 23:07:57.404 INFO  cn.jwis.qualityworkflow.util.EmailService[142]  xujinbiao email is 
2020-11-21 23:07:57.404 INFO  cn.jwis.qualityworkflow.util.EmailService[142]  gupp2 email is null
2020-11-21 23:07:57.404 DEBUG cn.jwis.qualityworkflow.dao.UserMapper.getSuperior[145]  ==>  Preparing: select superior from department_mapping where user_account = ? and type = ? limit 0,1 
2020-11-21 23:07:57.404 DEBUG cn.jwis.qualityworkflow.dao.UserMapper.getSuperior[145]  ==>  Preparing: select superior from department_mapping where user_account = ? and type = ? limit 0,1 
2020-11-21 23:07:57.404 DEBUG cn.jwis.qualityworkflow.dao.UserMapper.getSuperior[145]  ==> Parameters: xujinbiao(String), COMMON(String)
2020-11-21 23:07:57.404 DEBUG cn.jwis.qualityworkflow.dao.UserMapper.getSuperior[145]  ==> Parameters: gupp2(String), QIMS(String)
2020-11-21 23:07:57.421 DEBUG cn.jwis.qualityworkflow.dao.UserMapper.getSuperior[145]  <==      Total: 1
2020-11-21 23:07:57.428 DEBUG cn.jwis.qualityworkflow.dao.UserMapper.getSuperior[145]  <==      Total: 0
2020-11-21 23:07:57.428 DEBUG cn.jwis.qualityworkflow.dao.UserMapper.getSuperior[145]  <==      Total: 1
2020-11-21 23:07:57.428 DEBUG c.j.q.dao.UserMapper.getSuperiorManagerByUser[145]  ==>  Preparing: select superior_manager from department_mapping where user_account = ? and type = ? limit 0,1 
2020-11-21 23:07:57.428 DEBUG c.j.q.dao.UserMapper.getSuperiorManagerByUser[145]  ==> Parameters: gupp2(String), QIMS(String)
2020-11-21 23:07:57.468 INFO  cn.jwis.qualityworkflow.util.EmailService[142]  qualityadmin email is 
2020-11-21 23:07:57.468 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==>  Preparing: select time from email_history_info where id =? 
2020-11-21 23:07:57.469 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==> Parameters: 1308013116927246336(String)
2020-11-21 23:07:57.474 DEBUG c.j.q.dao.UserMapper.getSuperiorManagerByUser[145]  <==      Total: 0
2020-11-21 23:07:57.475 INFO  cn.jwis.qualityworkflow.util.EmailService[142]  hualanlan email is test@jwis.cn
2020-11-21 23:07:57.476 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==>  Preparing: select time from email_history_info where id =? 
2020-11-21 23:07:57.476 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==> Parameters: 1315248790789160960(String)
2020-11-21 23:07:57.476 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==>  Preparing: select time from email_history_info where id =? 
2020-11-21 23:07:57.476 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==> Parameters: 1287933861786812416(String)
2020-11-21 23:07:57.512 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  <==      Total: 0
2020-11-21 23:07:57.522 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  <==      Total: 1
2020-11-21 23:07:57.522 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  <==      Total: 1
2020-11-21 23:07:57.571 INFO  cn.jwis.qualityworkflow.util.EmailService[142]  kiween email is 
2020-11-21 23:07:57.571 INFO  cn.jwis.qualityworkflow.util.EmailService[142]  hualanlan email is test@jwis.cn
2020-11-21 23:07:57.571 DEBUG cn.jwis.qualityworkflow.dao.UserMapper.getSuperior[145]  ==>  Preparing: select superior from department_mapping where user_account = ? and type = ? limit 0,1 
2020-11-21 23:07:57.571 INFO  cn.jwis.qualityworkflow.util.EmailService[142]  dz_gyb1 email is test@jwis.cn
2020-11-21 23:07:57.571 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==>  Preparing: select time from email_history_info where id =? 
2020-11-21 23:07:57.571 DEBUG cn.jwis.qualityworkflow.dao.UserMapper.getSuperior[145]  ==> Parameters: hualanlan(String), QIMS(String)
2020-11-21 23:07:57.571 DEBUG cn.jwis.qualityworkflow.dao.UserMapper.getSuperior[145]  ==>  Preparing: select superior from department_mapping where user_account = ? and type = ? limit 0,1 
2020-11-21 23:07:57.571 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==> Parameters: 1309046852858937344(String)
2020-11-21 23:07:57.571 DEBUG cn.jwis.qualityworkflow.dao.UserMapper.getSuperior[145]  ==> Parameters: dz_gyb1(String), COMMON(String)
2020-11-21 23:07:57.590 DEBUG cn.jwis.qualityworkflow.dao.UserMapper.getSuperior[145]  <==      Total: 1
2020-11-21 23:07:57.591 DEBUG c.j.q.dao.UserMapper.getSuperiorManagerByUser[145]  ==>  Preparing: select superior_manager from department_mapping where user_account = ? and type = ? limit 0,1 
2020-11-21 23:07:57.591 DEBUG c.j.q.dao.UserMapper.getSuperiorManagerByUser[145]  ==> Parameters: hualanlan(String), QIMS(String)
2020-11-21 23:07:57.592 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  <==      Total: 0
2020-11-21 23:07:57.593 DEBUG cn.jwis.qualityworkflow.dao.UserMapper.getSuperior[145]  <==      Total: 1
2020-11-21 23:07:57.612 DEBUG c.j.q.dao.UserMapper.getSuperiorManagerByUser[145]  <==      Total: 1
2020-11-21 23:07:57.621 INFO  cn.jwis.qualityworkflow.util.EmailService[142]  codisan email is kelvin@jwis.cn
2020-11-21 23:07:57.622 DEBUG c.j.qualityworkflow.dao.CommonMapper.getKeyToName[145]  ==>  Preparing: SELECT * FROM key_to_name 
2020-11-21 23:07:57.622 DEBUG c.j.qualityworkflow.dao.CommonMapper.getKeyToName[145]  ==> Parameters: 
2020-11-21 23:07:57.624 INFO  cn.jwis.qualityworkflow.util.EmailService[142]  dz_gyb2 email is jian.song@jwis.cn
2020-11-21 23:07:57.624 DEBUG c.j.qualityworkflow.dao.CommonMapper.getKeyToName[145]  ==>  Preparing: SELECT * FROM key_to_name 
2020-11-21 23:07:57.624 DEBUG c.j.qualityworkflow.dao.CommonMapper.getKeyToName[145]  ==> Parameters: 
2020-11-21 23:07:57.656 INFO  cn.jwis.qualityworkflow.util.EmailService[142]  workflow3 email is null
2020-11-21 23:07:57.656 DEBUG c.j.qualityworkflow.dao.CommonMapper.getKeyToName[145]  <==      Total: 8
2020-11-21 23:07:57.656 DEBUG c.j.qualityworkflow.dao.CommonMapper.getKeyToName[145]  <==      Total: 8
2020-11-21 23:07:57.657 DEBUG c.j.q.m.l.d.L.getLineQualifyDetailednessInfo[145]  ==>  Preparing: SELECT q.*,ar.processInstanceId ,ar.taskId,ar.assignee,ar.taskState,ar.taskName FROM line_qualify_info q,(SELECT workflow_business_id, process_instance_id as processInstanceId,task_id as taskId,assignee,task_state as taskState,task_name taskName FROM task_record WHERE task_id=?) ar where q.id=ar.workflow_business_id 
2020-11-21 23:07:57.657 DEBUG c.j.q.m.l.d.L.getLineQualifyDetailednessInfo[145]  ==> Parameters: 5506556(String)
2020-11-21 23:07:57.657 INFO  cn.jwis.qualityworkflow.util.EmailService[74]  haomiao.liu@jwis.cn send a Mail to kelvin@jwis.cn fail, because null
2020-11-21 23:07:57.749 INFO  cn.jwis.qualityworkflow.util.EmailService[142]  zhouxianling email is 
2020-11-21 23:07:57.750 DEBUG c.j.qualityworkflow.dao.TaskRecordMapper.getById[145]  ==>  Preparing: SELECT * from task_record WHERE id = ? 
2020-11-21 23:07:57.750 DEBUG c.j.qualityworkflow.dao.TaskRecordMapper.getById[145]  ==> Parameters: 1287933861786812416(String)
2020-11-21 23:07:57.777 DEBUG c.j.qualityworkflow.dao.TaskRecordMapper.getById[145]  <==      Total: 1
2020-11-21 23:07:57.778 DEBUG c.j.qualityworkflow.dao.CommonMapper.getKeyToName[145]  ==>  Preparing: SELECT * FROM key_to_name 
2020-11-21 23:07:57.778 DEBUG c.j.q.m.l.d.L.getLineQualifyDetailednessInfo[145]  <==      Total: 1
2020-11-21 23:07:57.778 DEBUG c.j.qualityworkflow.dao.CommonMapper.getKeyToName[145]  ==> Parameters: 
2020-11-21 23:07:57.778 INFO  cn.jwis.qualityworkflow.util.EmailService[69]  haomiao.liu@jwis.cn send a Mail to test@jwis.cn and make a copy for [jian.song@jwis.cn]
2020-11-21 23:07:57.802 DEBUG c.j.qualityworkflow.dao.CommonMapper.getKeyToName[145]  <==      Total: 8
2020-11-21 23:07:57.803 INFO  cn.jwis.qualityworkflow.util.EmailService[71]  haomiao.liu@jwis.cn send a Mail to test@jwis.cn
2020-11-21 23:07:58.533 ERROR o.s.s.support.TaskUtils$LoggingErrorHandler[96] org.springframework.mail.MailSendException: Failed messages: javax.mail.SendFailedException: Invalid Addresses;
  nested exception is:
	com.sun.mail.smtp.SMTPAddressFailedException: 554 RCPT (kelvin@jwis.cn) dosn't exist

	at org.springframework.mail.javamail.JavaMailSenderImpl.doSend(JavaMailSenderImpl.java:488)
	at org.springframework.mail.javamail.JavaMailSenderImpl.send(JavaMailSenderImpl.java:359)
	at org.springframework.mail.javamail.JavaMailSenderImpl.send(JavaMailSenderImpl.java:354)
	at cn.jwis.qualityworkflow.util.EmailService.sendHtmlMail(EmailService.java:76)
	at cn.jwis.qualityworkflow.modules.qims.service.imp.QimsSendMailServiceImpl.sendEmailTohandler(QimsSendMailServiceImpl.java:161)
	at cn.jwis.qualityworkflow.modules.ipqc.service.imp.AuditQualityProblemServiceImpl.qimsSendMail(AuditQualityProblemServiceImpl.java:321)
	at cn.jwis.qualityworkflow.modules.ipqc.service.imp.AuditQualityProblemServiceImpl$$FastClassBySpringCGLIB$$15ff325f.invoke(<generated>)
	at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:684)
	at cn.jwis.qualityworkflow.modules.ipqc.service.imp.AuditQualityProblemServiceImpl$$EnhancerBySpringCGLIB$$e291a2f3.qimsSendMail(<generated>)
	at cn.jwis.qualityworkflow.modules.ipqc.job.ipqcMailJob.qimsSendMail(ipqcMailJob.java:28)
	at sun.reflect.GeneratedMethodAccessor175.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.springframework.scheduling.support.ScheduledMethodRunnable.run(ScheduledMethodRunnable.java:84)
	at org.springframework.scheduling.support.DelegatingErrorHandlingRunnable.run(DelegatingErrorHandlingRunnable.java:54)
	at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:511)
	at java.util.concurrent.FutureTask.runAndReset(FutureTask.java:308)
	at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.access$301(ScheduledThreadPoolExecutor.java:180)
	at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:294)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)
 Unexpected error occurred in scheduled task.
2020-11-21 23:07:58.536 ERROR o.s.s.support.TaskUtils$LoggingErrorHandler[96] org.springframework.mail.MailSendException: Failed messages: javax.mail.SendFailedException: Invalid Addresses;
  nested exception is:
	com.sun.mail.smtp.SMTPAddressFailedException: 554 RCPT (test@jwis.cn) dosn't exist

	at org.springframework.mail.javamail.JavaMailSenderImpl.doSend(JavaMailSenderImpl.java:488)
	at org.springframework.mail.javamail.JavaMailSenderImpl.send(JavaMailSenderImpl.java:359)
	at org.springframework.mail.javamail.JavaMailSenderImpl.send(JavaMailSenderImpl.java:354)
	at cn.jwis.qualityworkflow.util.EmailService.sendHtmlMail(EmailService.java:76)
	at cn.jwis.qualityworkflow.modules.qims.service.imp.QimsSendMailServiceImpl.sendEmailTohandler(QimsSendMailServiceImpl.java:161)
	at cn.jwis.qualityworkflow.modules.qims.service.imp.QimsSendMailServiceImpl.qimsSendMail(QimsSendMailServiceImpl.java:90)
	at cn.jwis.qualityworkflow.modules.qims.job.qimsMailJob.qimsSendMail(qimsMailJob.java:49)
	at sun.reflect.GeneratedMethodAccessor178.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.springframework.scheduling.support.ScheduledMethodRunnable.run(ScheduledMethodRunnable.java:84)
	at org.springframework.scheduling.support.DelegatingErrorHandlingRunnable.run(DelegatingErrorHandlingRunnable.java:54)
	at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:511)
	at java.util.concurrent.FutureTask.runAndReset(FutureTask.java:308)
	at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.access$301(ScheduledThreadPoolExecutor.java:180)
	at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:294)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)
 Unexpected error occurred in scheduled task.
2020-11-21 23:07:58.617 ERROR o.s.s.support.TaskUtils$LoggingErrorHandler[96] org.springframework.mail.MailSendException: Failed messages: javax.mail.SendFailedException: Invalid Addresses;
  nested exception is:
	com.sun.mail.smtp.SMTPAddressFailedException: 554 RCPT (test@jwis.cn) dosn't exist
;
  nested exception is:
	com.sun.mail.smtp.SMTPAddressFailedException: 554 RCPT (jian.song@jwis.cn) dosn't exist

	at org.springframework.mail.javamail.JavaMailSenderImpl.doSend(JavaMailSenderImpl.java:488)
	at org.springframework.mail.javamail.JavaMailSenderImpl.send(JavaMailSenderImpl.java:359)
	at org.springframework.mail.javamail.JavaMailSenderImpl.send(JavaMailSenderImpl.java:354)
	at cn.jwis.qualityworkflow.util.EmailService.sendHtmlMail(EmailService.java:76)
	at cn.jwis.qualityworkflow.modules.linequalify.service.imp.LineQualifyServiceImpl.sendEmailTohandler(LineQualifyServiceImpl.java:617)
	at cn.jwis.qualityworkflow.modules.linequalify.service.imp.LineQualifyServiceImpl.sendOverTimeMail(LineQualifyServiceImpl.java:594)
	at cn.jwis.qualityworkflow.modules.linequalify.service.imp.LineQualifyServiceImpl$$FastClassBySpringCGLIB$$4ca6f597.invoke(<generated>)
	at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:684)
	at cn.jwis.qualityworkflow.modules.linequalify.service.imp.LineQualifyServiceImpl$$EnhancerBySpringCGLIB$$2a00af9b.sendOverTimeMail(<generated>)
	at cn.jwis.qualityworkflow.modules.linequalify.job.LineQualifyMailJob.sendOverTimeMail(LineQualifyMailJob.java:30)
	at sun.reflect.GeneratedMethodAccessor177.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.springframework.scheduling.support.ScheduledMethodRunnable.run(ScheduledMethodRunnable.java:84)
	at org.springframework.scheduling.support.DelegatingErrorHandlingRunnable.run(DelegatingErrorHandlingRunnable.java:54)
	at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:511)
	at java.util.concurrent.FutureTask.runAndReset(FutureTask.java:308)
	at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.access$301(ScheduledThreadPoolExecutor.java:180)
	at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:294)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)
 Unexpected error occurred in scheduled task.
2020-11-21 23:10:00.018 INFO  c.j.q.m.t.T.TraceabilityMachineTimerManager[50]  设备定时任务开启
2020-11-21 23:10:00.026 DEBUG c.j.q.m.t.d.T.getTraceabilityMachineList[145]  ==>  Preparing: select table_name from traceability_machine_data group by table_name 
2020-11-21 23:10:00.026 DEBUG c.j.q.m.t.d.T.getTraceabilityMachineList[145]  ==> Parameters: 
2020-11-21 23:10:00.040 DEBUG c.j.q.m.t.d.T.getTraceabilityMachineList[145]  <==      Total: 5
2020-11-21 23:10:00.040 DEBUG c.j.q.m.t.d.T.getTraceabilityMachineFiledName[145]  ==>  Preparing: select filed_name from traceability_machine_data where table_name=? 
2020-11-21 23:10:00.040 DEBUG c.j.q.m.t.d.T.getTraceabilityMachineFiledName[145]  ==> Parameters: dust_free_shed(String)
2020-11-21 23:10:00.048 DEBUG c.j.q.m.t.d.T.getTraceabilityMachineFiledName[145]  <==      Total: 11
2020-11-21 23:10:00.048 DEBUG c.j.q.m.t.d.T.getMaxCreateTime[145]  ==>  Preparing: select max(createtime) from dust_free_shed 
2020-11-21 23:10:00.048 DEBUG c.j.q.m.t.d.T.getMaxCreateTime[145]  ==> Parameters: 
2020-11-21 23:10:00.113 DEBUG c.j.q.m.t.d.T.getMaxCreateTime[145]  <==      Total: 1
2020-11-21 23:10:00.118 ERROR o.s.s.support.TaskUtils$LoggingErrorHandler[96] java.lang.NullPointerException: null
	at cn.jwis.qualityworkflow.modules.traceablity.TimerManager.TraceabilityMachineTimerManager.getLenovoMachineData(TraceabilityMachineTimerManager.java:105)
	at cn.jwis.qualityworkflow.modules.traceablity.TimerManager.TraceabilityMachineTimerManager.MachineTimerManager(TraceabilityMachineTimerManager.java:57)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.springframework.scheduling.support.ScheduledMethodRunnable.run(ScheduledMethodRunnable.java:84)
	at org.springframework.scheduling.support.DelegatingErrorHandlingRunnable.run(DelegatingErrorHandlingRunnable.java:54)
	at org.springframework.scheduling.concurrent.ReschedulingRunnable.run(ReschedulingRunnable.java:93)
	at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:511)
	at java.util.concurrent.FutureTask.run(FutureTask.java:266)
	at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.access$201(ScheduledThreadPoolExecutor.java:180)
	at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:293)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)
 Unexpected error occurred in scheduled task.
2020-11-21 23:12:50.357 INFO  c.j.qualityworkflow.modules.ipqc.job.ipqcMailJob[27]  查询IPQC超时任务
2020-11-21 23:12:50.389 DEBUG c.j.q.m.qims.dao.BlackDashBoardMapper.getHoliday[145]  ==>  Preparing: SELECT DISTINCT date FROM holiday_maintenance WHERE type = '节假日' 
2020-11-21 23:12:50.390 DEBUG c.j.q.dao.TaskRecordMapper.getOverTimeTaskRecord[145]  ==>  Preparing: SELECT *, HOUR(timediff(now() , create_date)) overTimeNum FROM task_record WHERE template_key = ? AND task_state IS NULL AND task_name = ? AND HOUR(timediff(now() , create_date)) >= ? 
2020-11-21 23:12:50.390 DEBUG c.j.q.m.qims.dao.BlackDashBoardMapper.getHoliday[145]  ==> Parameters: 
2020-11-21 23:12:50.390 DEBUG c.j.q.dao.TaskRecordMapper.getOverTimeTaskRecord[145]  ==> Parameters: Line Qualify(String), 文件收集(String), 2(Integer)
2020-11-21 23:12:50.390 DEBUG c.j.q.dao.TaskRecordMapper.getOverTimeTaskRecord[145]  ==>  Preparing: SELECT *, HOUR(timediff(now() , create_date)) overTimeNum FROM task_record WHERE template_key = ? AND task_state IS NULL AND task_name = ? AND HOUR(timediff(now() , create_date)) >= ? 
2020-11-21 23:12:50.391 DEBUG c.j.q.dao.TaskRecordMapper.getOverTimeTaskRecord[145]  ==> Parameters: FactoryAuditProcess(String), 部门审核(String), 24(Integer)
2020-11-21 23:12:50.396 DEBUG c.j.q.dao.TaskRecordMapper.getOverTimeTaskRecord2[145]  ==>  Preparing: SELECT *, HOUR(timediff(now() , create_date)) overTimeNum FROM task_record WHERE template_key = ? AND task_state IS NULL AND HOUR(timediff(now() , create_date)) >= ? 
2020-11-21 23:12:50.396 DEBUG c.j.q.dao.TaskRecordMapper.getOverTimeTaskRecord2[145]  ==> Parameters: IPQCAuditProcess(String), 24(Integer)
2020-11-21 23:12:50.404 DEBUG c.j.q.m.qims.dao.BlackDashBoardMapper.getHoliday[145]  <==      Total: 6
2020-11-21 23:12:50.405 DEBUG c.j.q.m.q.d.B.getWorkOvertimeList[145]  ==>  Preparing: SELECT DISTINCT date FROM holiday_maintenance WHERE type = '补班' 
2020-11-21 23:12:50.405 DEBUG c.j.q.m.q.d.B.getWorkOvertimeList[145]  ==> Parameters: 
2020-11-21 23:12:50.431 DEBUG c.j.q.dao.TaskRecordMapper.getOverTimeTaskRecord[145]  <==      Total: 8
2020-11-21 23:12:50.432 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==>  Preparing: select time from email_history_info where id =? 
2020-11-21 23:12:50.432 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==> Parameters: 1294123945645047808(String)
2020-11-21 23:12:50.461 DEBUG c.j.q.m.q.d.B.getWorkOvertimeList[145]  <==      Total: 4
2020-11-21 23:12:50.461 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  <==      Total: 1
2020-11-21 23:12:50.461 DEBUG c.j.q.dao.TaskRecordMapper.getOverTimeTaskRecord[145]  <==      Total: 3
2020-11-21 23:12:50.461 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getLtStandard[145]  ==>  Preparing: select * from qims_lt_standard_info 
2020-11-21 23:12:50.461 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==>  Preparing: select time from email_history_info where id =? 
2020-11-21 23:12:50.461 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getLtStandard[145]  ==> Parameters: 
2020-11-21 23:12:50.461 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==> Parameters: 1295192540470837248(String)
2020-11-21 23:12:50.485 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  <==      Total: 1
2020-11-21 23:12:50.485 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getLtStandard[145]  <==      Total: 8
2020-11-21 23:12:50.485 INFO  c.j.qualityworkflow.modules.qims.job.qimsMailJob[47]  查询黑色问题超过LT的信息
2020-11-21 23:12:50.485 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==>  Preparing: select time from email_history_info where id =? 
2020-11-21 23:12:50.485 DEBUG c.j.q.dao.TaskRecordMapper.getOverTimeTaskRecord2[145]  <==      Total: 18
2020-11-21 23:12:50.485 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getBlackList[145]  ==>  Preparing: select * from task_record where task_name in('初步原因分析','根本原因分析','根本原因审核') and task_state is null and template_key='QIMSBLACK' 
2020-11-21 23:12:50.485 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getBlackList[145]  ==> Parameters: 
2020-11-21 23:12:50.485 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==> Parameters: 1295192619508301824(String)
2020-11-21 23:12:50.485 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==>  Preparing: select time from email_history_info where id =? 
2020-11-21 23:12:50.486 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==> Parameters: 1303868320843300864(String)
2020-11-21 23:12:50.505 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  <==      Total: 1
2020-11-21 23:12:50.505 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  <==      Total: 1
2020-11-21 23:12:50.506 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==>  Preparing: select time from email_history_info where id =? 
2020-11-21 23:12:50.506 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==>  Preparing: select time from email_history_info where id =? 
2020-11-21 23:12:50.506 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==> Parameters: 1299240419787276288(String)
2020-11-21 23:12:50.506 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==> Parameters: 1303868347422605312(String)
2020-11-21 23:12:50.507 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getBlackList[145]  <==      Total: 16
2020-11-21 23:12:50.509 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==>  Preparing: select time from email_history_info where id =? 
2020-11-21 23:12:50.509 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==> Parameters: 1286902446076985344(String)
2020-11-21 23:12:50.517 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  <==      Total: 1
2020-11-21 23:12:50.528 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  <==      Total: 1
2020-11-21 23:12:50.528 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==>  Preparing: select time from email_history_info where id =? 
2020-11-21 23:12:50.529 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==> Parameters: 1303868393815801856(String)
2020-11-21 23:12:50.529 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  <==      Total: 1
2020-11-21 23:12:50.537 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  <==      Total: 1
2020-11-21 23:12:50.537 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==>  Preparing: select time from email_history_info where id =? 
2020-11-21 23:12:50.537 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==> Parameters: 1303937438065885184(String)
2020-11-21 23:12:50.545 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  <==      Total: 1
2020-11-21 23:12:50.545 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==>  Preparing: select time from email_history_info where id =? 
2020-11-21 23:12:50.545 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==> Parameters: 1303939538460082176(String)
2020-11-21 23:12:50.554 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  <==      Total: 1
2020-11-21 23:12:50.554 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==>  Preparing: select time from email_history_info where id =? 
2020-11-21 23:12:50.554 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==> Parameters: 1303939599889858560(String)
2020-11-21 23:12:50.564 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  <==      Total: 1
2020-11-21 23:12:50.564 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==>  Preparing: select time from email_history_info where id =? 
2020-11-21 23:12:50.564 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==> Parameters: 1306059696263659520(String)
2020-11-21 23:12:50.571 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  <==      Total: 1
2020-11-21 23:12:50.571 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==>  Preparing: select time from email_history_info where id =? 
2020-11-21 23:12:50.572 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==> Parameters: 1306155886347026432(String)
2020-11-21 23:12:50.581 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  <==      Total: 1
2020-11-21 23:12:50.581 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==>  Preparing: select time from email_history_info where id =? 
2020-11-21 23:12:50.581 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==> Parameters: 1306201167000240128(String)
2020-11-21 23:12:50.588 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  <==      Total: 1
2020-11-21 23:12:50.588 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==>  Preparing: select time from email_history_info where id =? 
2020-11-21 23:12:50.588 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==> Parameters: 1308013106458263552(String)
2020-11-21 23:12:50.703 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  <==      Total: 0
2020-11-21 23:12:55.507 DEBUG cn.jwis.qualityworkflow.util.EmailService[144]  get handler mail from http://gateway.dev.jwis.io/platform/sys/user/internal-read?name=dz_gyb1 happen error cause:I/O error on GET request for "http://gateway.dev.jwis.io/platform/sys/user/internal-read": connect timed out; nested exception is java.net.SocketTimeoutException: connect timed out
2020-11-21 23:12:55.514 DEBUG cn.jwis.qualityworkflow.dao.UserMapper.getSuperior[145]  ==>  Preparing: select superior from department_mapping where user_account = ? and type = ? limit 0,1 
2020-11-21 23:12:55.515 DEBUG cn.jwis.qualityworkflow.dao.UserMapper.getSuperior[145]  ==> Parameters: dz_gyb1(String), COMMON(String)
2020-11-21 23:12:55.518 DEBUG cn.jwis.qualityworkflow.util.EmailService[144]  get handler mail from http://gateway.dev.jwis.io/platform/sys/user/internal-read?name=qualityadmin happen error cause:I/O error on GET request for "http://gateway.dev.jwis.io/platform/sys/user/internal-read": connect timed out; nested exception is java.net.SocketTimeoutException: connect timed out
2020-11-21 23:12:55.529 DEBUG cn.jwis.qualityworkflow.util.EmailService[144]  get handler mail from http://gateway.dev.jwis.io/platform/sys/user/internal-read?name=hualanlan happen error cause:I/O error on GET request for "http://gateway.dev.jwis.io/platform/sys/user/internal-read": connect timed out; nested exception is java.net.SocketTimeoutException: connect timed out
2020-11-21 23:12:55.550 DEBUG cn.jwis.qualityworkflow.dao.UserMapper.getSuperior[145]  ==>  Preparing: select superior from department_mapping where user_account = ? and type = ? limit 0,1 
2020-11-21 23:12:55.550 DEBUG cn.jwis.qualityworkflow.dao.UserMapper.getSuperior[145]  ==> Parameters: hualanlan(String), QIMS(String)
2020-11-21 23:12:55.550 DEBUG cn.jwis.qualityworkflow.dao.UserMapper.getSuperior[145]  ==>  Preparing: select superior from department_mapping where user_account = ? and type = ? limit 0,1 
2020-11-21 23:12:55.550 DEBUG cn.jwis.qualityworkflow.dao.UserMapper.getSuperior[145]  ==> Parameters: qualityadmin(String), COMMON(String)
2020-11-21 23:12:55.550 DEBUG cn.jwis.qualityworkflow.dao.UserMapper.getSuperior[145]  <==      Total: 1
2020-11-21 23:12:55.561 DEBUG cn.jwis.qualityworkflow.dao.UserMapper.getSuperior[145]  <==      Total: 1
2020-11-21 23:12:55.561 DEBUG cn.jwis.qualityworkflow.dao.UserMapper.getSuperior[145]  <==      Total: 1
2020-11-21 23:12:55.562 DEBUG c.j.q.dao.UserMapper.getSuperiorManagerByUser[145]  ==>  Preparing: select superior_manager from department_mapping where user_account = ? and type = ? limit 0,1 
2020-11-21 23:12:55.562 DEBUG c.j.q.dao.UserMapper.getSuperiorManagerByUser[145]  ==> Parameters: hualanlan(String), QIMS(String)
2020-11-21 23:12:55.573 DEBUG c.j.q.dao.UserMapper.getSuperiorManagerByUser[145]  <==      Total: 1
2020-11-21 23:12:55.586 INFO  cn.jwis.qualityworkflow.util.EmailService[142]  dz_gyb2 email is jian.song@jwis.cn
2020-11-21 23:12:55.586 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==>  Preparing: select time from email_history_info where id =? 
2020-11-21 23:12:55.587 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==> Parameters: 1294123945682796544(String)
2020-11-21 23:12:55.595 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  <==      Total: 1
2020-11-21 23:12:55.595 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==>  Preparing: select time from email_history_info where id =? 
2020-11-21 23:12:55.596 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==> Parameters: 1294123945716350976(String)
2020-11-21 23:12:55.598 INFO  cn.jwis.qualityworkflow.util.EmailService[142]  qualityadmin email is 
2020-11-21 23:12:55.598 INFO  c.j.q.m.factoryaudit.job.AuditQuestionMailJob[31]  邮件下发结束
2020-11-21 23:12:55.605 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  <==      Total: 1
2020-11-21 23:12:55.605 INFO  cn.jwis.qualityworkflow.util.EmailService[142]  workflow3 email is null
2020-11-21 23:12:55.628 INFO  cn.jwis.qualityworkflow.util.EmailService[142]  zhouxianling email is 
2020-11-21 23:12:55.630 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==>  Preparing: select time from email_history_info where id =? 
2020-11-21 23:12:55.630 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==> Parameters: 1286904434760089600(String)
2020-11-21 23:12:55.631 INFO  cn.jwis.qualityworkflow.util.EmailService[142]  xujinbiao email is 
2020-11-21 23:12:55.632 DEBUG cn.jwis.qualityworkflow.dao.UserMapper.getSuperior[145]  ==>  Preparing: select superior from department_mapping where user_account = ? and type = ? limit 0,1 
2020-11-21 23:12:55.632 DEBUG cn.jwis.qualityworkflow.dao.UserMapper.getSuperior[145]  ==> Parameters: xujinbiao(String), COMMON(String)
2020-11-21 23:12:55.640 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  <==      Total: 1
2020-11-21 23:12:55.640 DEBUG cn.jwis.qualityworkflow.dao.UserMapper.getSuperior[145]  <==      Total: 1
2020-11-21 23:12:55.671 INFO  cn.jwis.qualityworkflow.util.EmailService[142]  hualanlan email is test@jwis.cn
2020-11-21 23:12:55.672 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==>  Preparing: select time from email_history_info where id =? 
2020-11-21 23:12:55.673 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==> Parameters: 1295193219738370048(String)
2020-11-21 23:12:55.679 INFO  cn.jwis.qualityworkflow.util.EmailService[142]  gupp2 email is null
2020-11-21 23:12:55.679 DEBUG cn.jwis.qualityworkflow.dao.UserMapper.getSuperior[145]  ==>  Preparing: select superior from department_mapping where user_account = ? and type = ? limit 0,1 
2020-11-21 23:12:55.680 DEBUG cn.jwis.qualityworkflow.dao.UserMapper.getSuperior[145]  ==> Parameters: gupp2(String), QIMS(String)
2020-11-21 23:12:55.680 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  <==      Total: 1
2020-11-21 23:12:55.680 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==>  Preparing: select time from email_history_info where id =? 
2020-11-21 23:12:55.680 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==> Parameters: 1295193220166189056(String)
2020-11-21 23:12:55.687 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  <==      Total: 1
2020-11-21 23:12:55.687 DEBUG cn.jwis.qualityworkflow.dao.UserMapper.getSuperior[145]  <==      Total: 0
2020-11-21 23:12:55.687 DEBUG c.j.q.dao.UserMapper.getSuperiorManagerByUser[145]  ==>  Preparing: select superior_manager from department_mapping where user_account = ? and type = ? limit 0,1 
2020-11-21 23:12:55.688 DEBUG c.j.q.dao.UserMapper.getSuperiorManagerByUser[145]  ==> Parameters: gupp2(String), QIMS(String)
2020-11-21 23:12:55.696 DEBUG c.j.q.dao.UserMapper.getSuperiorManagerByUser[145]  <==      Total: 0
2020-11-21 23:12:55.698 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==>  Preparing: select time from email_history_info where id =? 
2020-11-21 23:12:55.699 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==> Parameters: 1286916730144161792(String)
2020-11-21 23:12:55.704 DEBUG cn.jwis.qualityworkflow.util.EmailService[144]  get handler mail from http://gateway.dev.jwis.io/platform/sys/user/internal-read?name=kiween happen error cause:I/O error on GET request for "http://gateway.dev.jwis.io/platform/sys/user/internal-read": connect timed out; nested exception is java.net.SocketTimeoutException: connect timed out
2020-11-21 23:12:55.708 INFO  cn.jwis.qualityworkflow.util.EmailService[142]  xujinbiao email is 
2020-11-21 23:12:55.708 DEBUG cn.jwis.qualityworkflow.dao.UserMapper.getSuperior[145]  ==>  Preparing: select superior from department_mapping where user_account = ? and type = ? limit 0,1 
2020-11-21 23:12:55.708 DEBUG cn.jwis.qualityworkflow.dao.UserMapper.getSuperior[145]  ==> Parameters: xujinbiao(String), COMMON(String)
2020-11-21 23:12:55.716 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  <==      Total: 1
2020-11-21 23:12:55.716 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==>  Preparing: select time from email_history_info where id =? 
2020-11-21 23:12:55.716 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==> Parameters: 1308013110702899200(String)
2020-11-21 23:12:55.720 DEBUG cn.jwis.qualityworkflow.dao.UserMapper.getSuperior[145]  <==      Total: 1
2020-11-21 23:12:55.724 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  <==      Total: 1
2020-11-21 23:12:55.744 INFO  cn.jwis.qualityworkflow.util.EmailService[142]  hualanlan email is test@jwis.cn
2020-11-21 23:12:55.745 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==>  Preparing: select time from email_history_info where id =? 
2020-11-21 23:12:55.745 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==> Parameters: 1295193707351375872(String)
2020-11-21 23:12:55.747 INFO  cn.jwis.qualityworkflow.util.EmailService[142]  gupp2 email is null
2020-11-21 23:12:55.747 INFO  cn.jwis.qualityworkflow.util.EmailService[142]  qualityadmin email is 
2020-11-21 23:12:55.748 DEBUG cn.jwis.qualityworkflow.dao.UserMapper.getSuperior[145]  ==>  Preparing: select superior from department_mapping where user_account = ? and type = ? limit 0,1 
2020-11-21 23:12:55.748 DEBUG cn.jwis.qualityworkflow.dao.UserMapper.getSuperior[145]  ==>  Preparing: select superior from department_mapping where user_account = ? and type = ? limit 0,1 
2020-11-21 23:12:55.748 DEBUG cn.jwis.qualityworkflow.dao.UserMapper.getSuperior[145]  ==> Parameters: gupp2(String), QIMS(String)
2020-11-21 23:12:55.748 DEBUG cn.jwis.qualityworkflow.dao.UserMapper.getSuperior[145]  ==> Parameters: qualityadmin(String), COMMON(String)
2020-11-21 23:12:55.766 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  <==      Total: 1
2020-11-21 23:12:55.767 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==>  Preparing: select time from email_history_info where id =? 
2020-11-21 23:12:55.767 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==> Parameters: 1295193707376541696(String)
2020-11-21 23:12:55.770 DEBUG cn.jwis.qualityworkflow.dao.UserMapper.getSuperior[145]  <==      Total: 0
2020-11-21 23:12:55.770 DEBUG c.j.q.dao.UserMapper.getSuperiorManagerByUser[145]  ==>  Preparing: select superior_manager from department_mapping where user_account = ? and type = ? limit 0,1 
2020-11-21 23:12:55.770 DEBUG cn.jwis.qualityworkflow.dao.UserMapper.getSuperior[145]  <==      Total: 1
2020-11-21 23:12:55.770 DEBUG c.j.q.dao.UserMapper.getSuperiorManagerByUser[145]  ==> Parameters: gupp2(String), QIMS(String)
2020-11-21 23:12:55.775 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  <==      Total: 1
2020-11-21 23:12:55.782 DEBUG c.j.q.dao.UserMapper.getSuperiorManagerByUser[145]  <==      Total: 0
2020-11-21 23:12:55.784 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==>  Preparing: select time from email_history_info where id =? 
2020-11-21 23:12:55.784 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==> Parameters: 1287933861786812416(String)
2020-11-21 23:12:55.791 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  <==      Total: 1
2020-11-21 23:12:55.880 INFO  cn.jwis.qualityworkflow.util.EmailService[142]  xujinbiao email is 
2020-11-21 23:12:55.880 INFO  cn.jwis.qualityworkflow.util.EmailService[142]  hualanlan email is test@jwis.cn
2020-11-21 23:12:55.880 INFO  cn.jwis.qualityworkflow.util.EmailService[142]  qualityadmin email is 
2020-11-21 23:12:55.880 DEBUG cn.jwis.qualityworkflow.dao.UserMapper.getSuperior[145]  ==>  Preparing: select superior from department_mapping where user_account = ? and type = ? limit 0,1 
2020-11-21 23:12:55.880 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==>  Preparing: select time from email_history_info where id =? 
2020-11-21 23:12:55.880 DEBUG cn.jwis.qualityworkflow.dao.UserMapper.getSuperior[145]  ==>  Preparing: select superior from department_mapping where user_account = ? and type = ? limit 0,1 
2020-11-21 23:12:55.881 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==> Parameters: 1308013113928318976(String)
2020-11-21 23:12:55.881 DEBUG cn.jwis.qualityworkflow.dao.UserMapper.getSuperior[145]  ==> Parameters: xujinbiao(String), COMMON(String)
2020-11-21 23:12:55.881 DEBUG cn.jwis.qualityworkflow.dao.UserMapper.getSuperior[145]  ==> Parameters: hualanlan(String), QIMS(String)
2020-11-21 23:12:55.888 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  <==      Total: 1
2020-11-21 23:12:55.890 DEBUG cn.jwis.qualityworkflow.dao.UserMapper.getSuperior[145]  <==      Total: 1
2020-11-21 23:12:55.890 DEBUG cn.jwis.qualityworkflow.dao.UserMapper.getSuperior[145]  <==      Total: 1
2020-11-21 23:12:55.890 DEBUG c.j.q.dao.UserMapper.getSuperiorManagerByUser[145]  ==>  Preparing: select superior_manager from department_mapping where user_account = ? and type = ? limit 0,1 
2020-11-21 23:12:55.891 DEBUG c.j.q.dao.UserMapper.getSuperiorManagerByUser[145]  ==> Parameters: hualanlan(String), QIMS(String)
2020-11-21 23:12:55.904 DEBUG c.j.q.dao.UserMapper.getSuperiorManagerByUser[145]  <==      Total: 1
2020-11-21 23:12:55.915 INFO  cn.jwis.qualityworkflow.util.EmailService[142]  qualityadmin email is 
2020-11-21 23:12:55.915 INFO  cn.jwis.qualityworkflow.util.EmailService[142]  hualanlan email is test@jwis.cn
2020-11-21 23:12:55.915 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==>  Preparing: select time from email_history_info where id =? 
2020-11-21 23:12:55.915 DEBUG cn.jwis.qualityworkflow.dao.UserMapper.getSuperior[145]  ==>  Preparing: select superior from department_mapping where user_account = ? and type = ? limit 0,1 
2020-11-21 23:12:55.915 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==> Parameters: 1315248790789160960(String)
2020-11-21 23:12:55.916 DEBUG cn.jwis.qualityworkflow.dao.UserMapper.getSuperior[145]  ==> Parameters: qualityadmin(String), COMMON(String)
2020-11-21 23:12:55.924 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  <==      Total: 1
2020-11-21 23:12:55.924 DEBUG cn.jwis.qualityworkflow.dao.UserMapper.getSuperior[145]  <==      Total: 1
2020-11-21 23:12:55.925 INFO  cn.jwis.qualityworkflow.util.EmailService[142]  workflow3 email is null
2020-11-21 23:12:55.974 INFO  cn.jwis.qualityworkflow.util.EmailService[142]  qualityadmin email is 
2020-11-21 23:12:55.974 INFO  cn.jwis.qualityworkflow.util.EmailService[142]  zhouxianling email is 
2020-11-21 23:12:55.974 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==>  Preparing: select time from email_history_info where id =? 
2020-11-21 23:12:55.974 DEBUG c.j.qualityworkflow.dao.TaskRecordMapper.getById[145]  ==>  Preparing: SELECT * from task_record WHERE id = ? 
2020-11-21 23:12:55.974 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==> Parameters: 1308013116927246336(String)
2020-11-21 23:12:55.974 DEBUG c.j.qualityworkflow.dao.TaskRecordMapper.getById[145]  ==> Parameters: 1287933861786812416(String)
2020-11-21 23:12:55.978 INFO  cn.jwis.qualityworkflow.util.EmailService[142]  dz_gyb1 email is test@jwis.cn
2020-11-21 23:12:55.978 DEBUG cn.jwis.qualityworkflow.dao.UserMapper.getSuperior[145]  ==>  Preparing: select superior from department_mapping where user_account = ? and type = ? limit 0,1 
2020-11-21 23:12:55.978 DEBUG cn.jwis.qualityworkflow.dao.UserMapper.getSuperior[145]  ==> Parameters: dz_gyb1(String), COMMON(String)
2020-11-21 23:12:55.982 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  <==      Total: 0
2020-11-21 23:12:55.983 DEBUG c.j.qualityworkflow.dao.TaskRecordMapper.getById[145]  <==      Total: 1
2020-11-21 23:12:55.983 DEBUG c.j.qualityworkflow.dao.CommonMapper.getKeyToName[145]  ==>  Preparing: SELECT * FROM key_to_name 
2020-11-21 23:12:55.983 DEBUG c.j.qualityworkflow.dao.CommonMapper.getKeyToName[145]  ==> Parameters: 
2020-11-21 23:12:55.985 DEBUG cn.jwis.qualityworkflow.dao.UserMapper.getSuperior[145]  <==      Total: 1
2020-11-21 23:12:55.992 DEBUG c.j.qualityworkflow.dao.CommonMapper.getKeyToName[145]  <==      Total: 8
2020-11-21 23:12:55.993 INFO  cn.jwis.qualityworkflow.util.EmailService[71]  haomiao.liu@jwis.cn send a Mail to test@jwis.cn
2020-11-21 23:12:56.006 INFO  cn.jwis.qualityworkflow.util.EmailService[142]  kiween email is 
2020-11-21 23:12:56.006 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==>  Preparing: select time from email_history_info where id =? 
2020-11-21 23:12:56.006 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==> Parameters: 1309046852858937344(String)
2020-11-21 23:12:56.007 INFO  cn.jwis.qualityworkflow.util.EmailService[142]  dz_gyb2 email is jian.song@jwis.cn
2020-11-21 23:12:56.007 DEBUG c.j.qualityworkflow.dao.CommonMapper.getKeyToName[145]  ==>  Preparing: SELECT * FROM key_to_name 
2020-11-21 23:12:56.007 DEBUG c.j.qualityworkflow.dao.CommonMapper.getKeyToName[145]  ==> Parameters: 
2020-11-21 23:12:56.013 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  <==      Total: 0
2020-11-21 23:12:56.017 DEBUG c.j.qualityworkflow.dao.CommonMapper.getKeyToName[145]  <==      Total: 8
2020-11-21 23:12:56.018 DEBUG c.j.q.m.l.d.L.getLineQualifyDetailednessInfo[145]  ==>  Preparing: SELECT q.*,ar.processInstanceId ,ar.taskId,ar.assignee,ar.taskState,ar.taskName FROM line_qualify_info q,(SELECT workflow_business_id, process_instance_id as processInstanceId,task_id as taskId,assignee,task_state as taskState,task_name taskName FROM task_record WHERE task_id=?) ar where q.id=ar.workflow_business_id 
2020-11-21 23:12:56.018 DEBUG c.j.q.m.l.d.L.getLineQualifyDetailednessInfo[145]  ==> Parameters: 5506556(String)
2020-11-21 23:12:56.029 DEBUG c.j.q.m.l.d.L.getLineQualifyDetailednessInfo[145]  <==      Total: 1
2020-11-21 23:12:56.030 INFO  cn.jwis.qualityworkflow.util.EmailService[69]  haomiao.liu@jwis.cn send a Mail to test@jwis.cn and make a copy for [jian.song@jwis.cn]
2020-11-21 23:12:56.036 INFO  cn.jwis.qualityworkflow.util.EmailService[142]  codisan email is kelvin@jwis.cn
2020-11-21 23:12:56.036 DEBUG c.j.qualityworkflow.dao.CommonMapper.getKeyToName[145]  ==>  Preparing: SELECT * FROM key_to_name 
2020-11-21 23:12:56.036 DEBUG c.j.qualityworkflow.dao.CommonMapper.getKeyToName[145]  ==> Parameters: 
2020-11-21 23:12:56.046 DEBUG c.j.qualityworkflow.dao.CommonMapper.getKeyToName[145]  <==      Total: 8
2020-11-21 23:12:56.047 INFO  cn.jwis.qualityworkflow.util.EmailService[74]  haomiao.liu@jwis.cn send a Mail to kelvin@jwis.cn fail, because null
2020-11-21 23:12:56.661 ERROR o.s.s.support.TaskUtils$LoggingErrorHandler[96] org.springframework.mail.MailSendException: Failed messages: javax.mail.SendFailedException: Invalid Addresses;
  nested exception is:
	com.sun.mail.smtp.SMTPAddressFailedException: 554 RCPT (test@jwis.cn) dosn't exist

	at org.springframework.mail.javamail.JavaMailSenderImpl.doSend(JavaMailSenderImpl.java:488)
	at org.springframework.mail.javamail.JavaMailSenderImpl.send(JavaMailSenderImpl.java:359)
	at org.springframework.mail.javamail.JavaMailSenderImpl.send(JavaMailSenderImpl.java:354)
	at cn.jwis.qualityworkflow.util.EmailService.sendHtmlMail(EmailService.java:76)
	at cn.jwis.qualityworkflow.modules.qims.service.imp.QimsSendMailServiceImpl.sendEmailTohandler(QimsSendMailServiceImpl.java:161)
	at cn.jwis.qualityworkflow.modules.qims.service.imp.QimsSendMailServiceImpl.qimsSendMail(QimsSendMailServiceImpl.java:90)
	at cn.jwis.qualityworkflow.modules.qims.job.qimsMailJob.qimsSendMail(qimsMailJob.java:49)
	at sun.reflect.GeneratedMethodAccessor178.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.springframework.scheduling.support.ScheduledMethodRunnable.run(ScheduledMethodRunnable.java:84)
	at org.springframework.scheduling.support.DelegatingErrorHandlingRunnable.run(DelegatingErrorHandlingRunnable.java:54)
	at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:511)
	at java.util.concurrent.FutureTask.runAndReset(FutureTask.java:308)
	at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.access$301(ScheduledThreadPoolExecutor.java:180)
	at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:294)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)
 Unexpected error occurred in scheduled task.
2020-11-21 23:12:56.685 ERROR o.s.s.support.TaskUtils$LoggingErrorHandler[96] org.springframework.mail.MailSendException: Failed messages: javax.mail.SendFailedException: Invalid Addresses;
  nested exception is:
	com.sun.mail.smtp.SMTPAddressFailedException: 554 RCPT (kelvin@jwis.cn) dosn't exist

	at org.springframework.mail.javamail.JavaMailSenderImpl.doSend(JavaMailSenderImpl.java:488)
	at org.springframework.mail.javamail.JavaMailSenderImpl.send(JavaMailSenderImpl.java:359)
	at org.springframework.mail.javamail.JavaMailSenderImpl.send(JavaMailSenderImpl.java:354)
	at cn.jwis.qualityworkflow.util.EmailService.sendHtmlMail(EmailService.java:76)
	at cn.jwis.qualityworkflow.modules.qims.service.imp.QimsSendMailServiceImpl.sendEmailTohandler(QimsSendMailServiceImpl.java:161)
	at cn.jwis.qualityworkflow.modules.ipqc.service.imp.AuditQualityProblemServiceImpl.qimsSendMail(AuditQualityProblemServiceImpl.java:321)
	at cn.jwis.qualityworkflow.modules.ipqc.service.imp.AuditQualityProblemServiceImpl$$FastClassBySpringCGLIB$$15ff325f.invoke(<generated>)
	at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:684)
	at cn.jwis.qualityworkflow.modules.ipqc.service.imp.AuditQualityProblemServiceImpl$$EnhancerBySpringCGLIB$$e291a2f3.qimsSendMail(<generated>)
	at cn.jwis.qualityworkflow.modules.ipqc.job.ipqcMailJob.qimsSendMail(ipqcMailJob.java:28)
	at sun.reflect.GeneratedMethodAccessor175.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.springframework.scheduling.support.ScheduledMethodRunnable.run(ScheduledMethodRunnable.java:84)
	at org.springframework.scheduling.support.DelegatingErrorHandlingRunnable.run(DelegatingErrorHandlingRunnable.java:54)
	at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:511)
	at java.util.concurrent.FutureTask.runAndReset(FutureTask.java:308)
	at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.access$301(ScheduledThreadPoolExecutor.java:180)
	at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:294)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)
 Unexpected error occurred in scheduled task.
2020-11-21 23:12:56.709 ERROR o.s.s.support.TaskUtils$LoggingErrorHandler[96] org.springframework.mail.MailSendException: Failed messages: javax.mail.SendFailedException: Invalid Addresses;
  nested exception is:
	com.sun.mail.smtp.SMTPAddressFailedException: 554 RCPT (test@jwis.cn) dosn't exist
;
  nested exception is:
	com.sun.mail.smtp.SMTPAddressFailedException: 554 RCPT (jian.song@jwis.cn) dosn't exist

	at org.springframework.mail.javamail.JavaMailSenderImpl.doSend(JavaMailSenderImpl.java:488)
	at org.springframework.mail.javamail.JavaMailSenderImpl.send(JavaMailSenderImpl.java:359)
	at org.springframework.mail.javamail.JavaMailSenderImpl.send(JavaMailSenderImpl.java:354)
	at cn.jwis.qualityworkflow.util.EmailService.sendHtmlMail(EmailService.java:76)
	at cn.jwis.qualityworkflow.modules.linequalify.service.imp.LineQualifyServiceImpl.sendEmailTohandler(LineQualifyServiceImpl.java:617)
	at cn.jwis.qualityworkflow.modules.linequalify.service.imp.LineQualifyServiceImpl.sendOverTimeMail(LineQualifyServiceImpl.java:594)
	at cn.jwis.qualityworkflow.modules.linequalify.service.imp.LineQualifyServiceImpl$$FastClassBySpringCGLIB$$4ca6f597.invoke(<generated>)
	at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:684)
	at cn.jwis.qualityworkflow.modules.linequalify.service.imp.LineQualifyServiceImpl$$EnhancerBySpringCGLIB$$2a00af9b.sendOverTimeMail(<generated>)
	at cn.jwis.qualityworkflow.modules.linequalify.job.LineQualifyMailJob.sendOverTimeMail(LineQualifyMailJob.java:30)
	at sun.reflect.GeneratedMethodAccessor177.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.springframework.scheduling.support.ScheduledMethodRunnable.run(ScheduledMethodRunnable.java:84)
	at org.springframework.scheduling.support.DelegatingErrorHandlingRunnable.run(DelegatingErrorHandlingRunnable.java:54)
	at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:511)
	at java.util.concurrent.FutureTask.runAndReset(FutureTask.java:308)
	at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.access$301(ScheduledThreadPoolExecutor.java:180)
	at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:294)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)
 Unexpected error occurred in scheduled task.
2020-11-21 23:17:50.366 INFO  c.j.qualityworkflow.modules.ipqc.job.ipqcMailJob[27]  查询IPQC超时任务
2020-11-21 23:17:50.376 DEBUG c.j.q.m.qims.dao.BlackDashBoardMapper.getHoliday[145]  ==>  Preparing: SELECT DISTINCT date FROM holiday_maintenance WHERE type = '节假日' 
2020-11-21 23:17:50.377 DEBUG c.j.q.m.qims.dao.BlackDashBoardMapper.getHoliday[145]  ==> Parameters: 
2020-11-21 23:17:50.382 DEBUG c.j.q.dao.TaskRecordMapper.getOverTimeTaskRecord[145]  ==>  Preparing: SELECT *, HOUR(timediff(now() , create_date)) overTimeNum FROM task_record WHERE template_key = ? AND task_state IS NULL AND task_name = ? AND HOUR(timediff(now() , create_date)) >= ? 
2020-11-21 23:17:50.382 DEBUG c.j.q.dao.TaskRecordMapper.getOverTimeTaskRecord[145]  ==> Parameters: FactoryAuditProcess(String), 部门审核(String), 24(Integer)
2020-11-21 23:17:50.382 DEBUG c.j.q.dao.TaskRecordMapper.getOverTimeTaskRecord[145]  ==>  Preparing: SELECT *, HOUR(timediff(now() , create_date)) overTimeNum FROM task_record WHERE template_key = ? AND task_state IS NULL AND task_name = ? AND HOUR(timediff(now() , create_date)) >= ? 
2020-11-21 23:17:50.382 DEBUG c.j.q.dao.TaskRecordMapper.getOverTimeTaskRecord[145]  ==> Parameters: Line Qualify(String), 文件收集(String), 2(Integer)
2020-11-21 23:17:50.384 DEBUG c.j.q.dao.TaskRecordMapper.getOverTimeTaskRecord2[145]  ==>  Preparing: SELECT *, HOUR(timediff(now() , create_date)) overTimeNum FROM task_record WHERE template_key = ? AND task_state IS NULL AND HOUR(timediff(now() , create_date)) >= ? 
2020-11-21 23:17:50.385 DEBUG c.j.q.dao.TaskRecordMapper.getOverTimeTaskRecord2[145]  ==> Parameters: IPQCAuditProcess(String), 24(Integer)
2020-11-21 23:17:50.389 DEBUG c.j.q.m.qims.dao.BlackDashBoardMapper.getHoliday[145]  <==      Total: 6
2020-11-21 23:17:50.389 DEBUG c.j.q.m.q.d.B.getWorkOvertimeList[145]  ==>  Preparing: SELECT DISTINCT date FROM holiday_maintenance WHERE type = '补班' 
2020-11-21 23:17:50.389 DEBUG c.j.q.m.q.d.B.getWorkOvertimeList[145]  ==> Parameters: 
2020-11-21 23:17:50.391 DEBUG c.j.q.dao.TaskRecordMapper.getOverTimeTaskRecord[145]  <==      Total: 3
2020-11-21 23:17:50.391 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==>  Preparing: select time from email_history_info where id =? 
2020-11-21 23:17:50.392 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==> Parameters: 1295192540470837248(String)
2020-11-21 23:17:50.395 DEBUG c.j.q.dao.TaskRecordMapper.getOverTimeTaskRecord[145]  <==      Total: 8
2020-11-21 23:17:50.395 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==>  Preparing: select time from email_history_info where id =? 
2020-11-21 23:17:50.395 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==> Parameters: 1294123945645047808(String)
2020-11-21 23:17:50.405 DEBUG c.j.q.m.q.d.B.getWorkOvertimeList[145]  <==      Total: 4
2020-11-21 23:17:50.406 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getLtStandard[145]  ==>  Preparing: select * from qims_lt_standard_info 
2020-11-21 23:17:50.406 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  <==      Total: 1
2020-11-21 23:17:50.406 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getLtStandard[145]  ==> Parameters: 
2020-11-21 23:17:50.406 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==>  Preparing: select time from email_history_info where id =? 
2020-11-21 23:17:50.407 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==> Parameters: 1295192619508301824(String)
2020-11-21 23:17:50.409 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  <==      Total: 1
2020-11-21 23:17:50.409 DEBUG c.j.q.dao.TaskRecordMapper.getOverTimeTaskRecord2[145]  <==      Total: 18
2020-11-21 23:17:50.409 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==>  Preparing: select time from email_history_info where id =? 
2020-11-21 23:17:50.410 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==> Parameters: 1303868320843300864(String)
2020-11-21 23:17:50.433 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getLtStandard[145]  <==      Total: 8
2020-11-21 23:17:50.433 INFO  c.j.qualityworkflow.modules.qims.job.qimsMailJob[47]  查询黑色问题超过LT的信息
2020-11-21 23:17:50.433 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getBlackList[145]  ==>  Preparing: select * from task_record where task_name in('初步原因分析','根本原因分析','根本原因审核') and task_state is null and template_key='QIMSBLACK' 
2020-11-21 23:17:50.434 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getBlackList[145]  ==> Parameters: 
2020-11-21 23:17:50.437 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  <==      Total: 1
2020-11-21 23:17:50.437 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==>  Preparing: select time from email_history_info where id =? 
2020-11-21 23:17:50.437 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==> Parameters: 1299240419787276288(String)
2020-11-21 23:17:50.438 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  <==      Total: 1
2020-11-21 23:17:50.438 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==>  Preparing: select time from email_history_info where id =? 
2020-11-21 23:17:50.438 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==> Parameters: 1303868347422605312(String)
2020-11-21 23:17:50.445 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getBlackList[145]  <==      Total: 16
2020-11-21 23:17:50.447 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==>  Preparing: select time from email_history_info where id =? 
2020-11-21 23:17:50.447 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==> Parameters: 1286902446076985344(String)
2020-11-21 23:17:50.449 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  <==      Total: 1
2020-11-21 23:17:50.449 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==>  Preparing: select time from email_history_info where id =? 
2020-11-21 23:17:50.449 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  <==      Total: 1
2020-11-21 23:17:50.449 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==> Parameters: 1303868393815801856(String)
2020-11-21 23:17:50.455 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  <==      Total: 1
2020-11-21 23:17:50.463 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  <==      Total: 1
2020-11-21 23:17:50.464 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==>  Preparing: select time from email_history_info where id =? 
2020-11-21 23:17:50.464 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==> Parameters: 1303937438065885184(String)
2020-11-21 23:17:50.478 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  <==      Total: 1
2020-11-21 23:17:50.478 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==>  Preparing: select time from email_history_info where id =? 
2020-11-21 23:17:50.478 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==> Parameters: 1303939538460082176(String)
2020-11-21 23:17:50.495 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  <==      Total: 1
2020-11-21 23:17:50.495 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==>  Preparing: select time from email_history_info where id =? 
2020-11-21 23:17:50.496 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==> Parameters: 1303939599889858560(String)
2020-11-21 23:17:50.506 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  <==      Total: 1
2020-11-21 23:17:50.506 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==>  Preparing: select time from email_history_info where id =? 
2020-11-21 23:17:50.506 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==> Parameters: 1306059696263659520(String)
2020-11-21 23:17:50.528 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  <==      Total: 1
2020-11-21 23:17:50.529 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==>  Preparing: select time from email_history_info where id =? 
2020-11-21 23:17:50.529 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==> Parameters: 1306155886347026432(String)
2020-11-21 23:17:50.538 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  <==      Total: 1
2020-11-21 23:17:50.539 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==>  Preparing: select time from email_history_info where id =? 
2020-11-21 23:17:50.539 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==> Parameters: 1306201167000240128(String)
2020-11-21 23:17:50.546 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  <==      Total: 1
2020-11-21 23:17:50.546 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==>  Preparing: select time from email_history_info where id =? 
2020-11-21 23:17:50.546 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==> Parameters: 1308013106458263552(String)
2020-11-21 23:17:50.577 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  <==      Total: 0
2020-11-21 23:17:55.456 DEBUG cn.jwis.qualityworkflow.util.EmailService[144]  get handler mail from http://gateway.dev.jwis.io/platform/sys/user/internal-read?name=qualityadmin happen error cause:I/O error on GET request for "http://gateway.dev.jwis.io/platform/sys/user/internal-read": connect timed out; nested exception is java.net.SocketTimeoutException: connect timed out
2020-11-21 23:17:55.456 DEBUG cn.jwis.qualityworkflow.util.EmailService[144]  get handler mail from http://gateway.dev.jwis.io/platform/sys/user/internal-read?name=dz_gyb1 happen error cause:I/O error on GET request for "http://gateway.dev.jwis.io/platform/sys/user/internal-read": connect timed out; nested exception is java.net.SocketTimeoutException: connect timed out
2020-11-21 23:17:55.457 DEBUG cn.jwis.qualityworkflow.util.EmailService[144]  get handler mail from http://gateway.dev.jwis.io/platform/sys/user/internal-read?name=hualanlan happen error cause:I/O error on GET request for "http://gateway.dev.jwis.io/platform/sys/user/internal-read": connect timed out; nested exception is java.net.SocketTimeoutException: connect timed out
2020-11-21 23:17:55.464 DEBUG cn.jwis.qualityworkflow.dao.UserMapper.getSuperior[145]  ==>  Preparing: select superior from department_mapping where user_account = ? and type = ? limit 0,1 
2020-11-21 23:17:55.464 DEBUG cn.jwis.qualityworkflow.dao.UserMapper.getSuperior[145]  ==> Parameters: qualityadmin(String), COMMON(String)
2020-11-21 23:17:55.466 DEBUG cn.jwis.qualityworkflow.dao.UserMapper.getSuperior[145]  ==>  Preparing: select superior from department_mapping where user_account = ? and type = ? limit 0,1 
2020-11-21 23:17:55.466 DEBUG cn.jwis.qualityworkflow.dao.UserMapper.getSuperior[145]  ==> Parameters: dz_gyb1(String), COMMON(String)
2020-11-21 23:17:55.468 DEBUG cn.jwis.qualityworkflow.dao.UserMapper.getSuperior[145]  ==>  Preparing: select superior from department_mapping where user_account = ? and type = ? limit 0,1 
2020-11-21 23:17:55.468 DEBUG cn.jwis.qualityworkflow.dao.UserMapper.getSuperior[145]  ==> Parameters: hualanlan(String), QIMS(String)
2020-11-21 23:17:55.474 DEBUG cn.jwis.qualityworkflow.dao.UserMapper.getSuperior[145]  <==      Total: 1
2020-11-21 23:17:55.474 DEBUG cn.jwis.qualityworkflow.dao.UserMapper.getSuperior[145]  <==      Total: 1
2020-11-21 23:17:55.499 DEBUG cn.jwis.qualityworkflow.dao.UserMapper.getSuperior[145]  <==      Total: 1
2020-11-21 23:17:55.500 DEBUG c.j.q.dao.UserMapper.getSuperiorManagerByUser[145]  ==>  Preparing: select superior_manager from department_mapping where user_account = ? and type = ? limit 0,1 
2020-11-21 23:17:55.500 DEBUG c.j.q.dao.UserMapper.getSuperiorManagerByUser[145]  ==> Parameters: hualanlan(String), QIMS(String)
2020-11-21 23:17:55.529 DEBUG c.j.q.dao.UserMapper.getSuperiorManagerByUser[145]  <==      Total: 1
2020-11-21 23:17:55.530 INFO  cn.jwis.qualityworkflow.util.EmailService[142]  dz_gyb2 email is jian.song@jwis.cn
2020-11-21 23:17:55.531 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==>  Preparing: select time from email_history_info where id =? 
2020-11-21 23:17:55.531 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==> Parameters: 1294123945682796544(String)
2020-11-21 23:17:55.544 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  <==      Total: 1
2020-11-21 23:17:55.545 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==>  Preparing: select time from email_history_info where id =? 
2020-11-21 23:17:55.545 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==> Parameters: 1294123945716350976(String)
2020-11-21 23:17:55.549 INFO  cn.jwis.qualityworkflow.util.EmailService[142]  qualityadmin email is 
2020-11-21 23:17:55.549 INFO  c.j.q.m.factoryaudit.job.AuditQuestionMailJob[31]  邮件下发结束
2020-11-21 23:17:55.553 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  <==      Total: 1
2020-11-21 23:17:55.557 INFO  cn.jwis.qualityworkflow.util.EmailService[142]  workflow3 email is null
2020-11-21 23:17:55.579 DEBUG cn.jwis.qualityworkflow.util.EmailService[144]  get handler mail from http://gateway.dev.jwis.io/platform/sys/user/internal-read?name=kiween happen error cause:I/O error on GET request for "http://gateway.dev.jwis.io/platform/sys/user/internal-read": connect timed out; nested exception is java.net.SocketTimeoutException: connect timed out
2020-11-21 23:17:55.587 INFO  cn.jwis.qualityworkflow.util.EmailService[142]  xujinbiao email is 
2020-11-21 23:17:55.588 DEBUG cn.jwis.qualityworkflow.dao.UserMapper.getSuperior[145]  ==>  Preparing: select superior from department_mapping where user_account = ? and type = ? limit 0,1 
2020-11-21 23:17:55.588 INFO  cn.jwis.qualityworkflow.util.EmailService[142]  zhouxianling email is 
2020-11-21 23:17:55.588 DEBUG cn.jwis.qualityworkflow.dao.UserMapper.getSuperior[145]  ==> Parameters: xujinbiao(String), COMMON(String)
2020-11-21 23:17:55.590 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==>  Preparing: select time from email_history_info where id =? 
2020-11-21 23:17:55.590 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==> Parameters: 1286904434760089600(String)
2020-11-21 23:17:55.595 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==>  Preparing: select time from email_history_info where id =? 
2020-11-21 23:17:55.596 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==> Parameters: 1308013110702899200(String)
2020-11-21 23:17:55.596 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  <==      Total: 1
2020-11-21 23:17:55.597 DEBUG cn.jwis.qualityworkflow.dao.UserMapper.getSuperior[145]  <==      Total: 1
2020-11-21 23:17:55.602 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  <==      Total: 1
2020-11-21 23:17:55.629 INFO  cn.jwis.qualityworkflow.util.EmailService[142]  hualanlan email is test@jwis.cn
2020-11-21 23:17:55.629 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==>  Preparing: select time from email_history_info where id =? 
2020-11-21 23:17:55.629 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==> Parameters: 1295193219738370048(String)
2020-11-21 23:17:55.630 INFO  cn.jwis.qualityworkflow.util.EmailService[142]  gupp2 email is null
2020-11-21 23:17:55.630 DEBUG cn.jwis.qualityworkflow.dao.UserMapper.getSuperior[145]  ==>  Preparing: select superior from department_mapping where user_account = ? and type = ? limit 0,1 
2020-11-21 23:17:55.630 DEBUG cn.jwis.qualityworkflow.dao.UserMapper.getSuperior[145]  ==> Parameters: gupp2(String), QIMS(String)
2020-11-21 23:17:55.639 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  <==      Total: 1
2020-11-21 23:17:55.639 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==>  Preparing: select time from email_history_info where id =? 
2020-11-21 23:17:55.639 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==> Parameters: 1295193220166189056(String)
2020-11-21 23:17:55.640 DEBUG cn.jwis.qualityworkflow.dao.UserMapper.getSuperior[145]  <==      Total: 0
2020-11-21 23:17:55.640 DEBUG c.j.q.dao.UserMapper.getSuperiorManagerByUser[145]  ==>  Preparing: select superior_manager from department_mapping where user_account = ? and type = ? limit 0,1 
2020-11-21 23:17:55.640 DEBUG c.j.q.dao.UserMapper.getSuperiorManagerByUser[145]  ==> Parameters: gupp2(String), QIMS(String)
2020-11-21 23:17:55.649 INFO  cn.jwis.qualityworkflow.util.EmailService[142]  qualityadmin email is 
2020-11-21 23:17:55.649 DEBUG cn.jwis.qualityworkflow.dao.UserMapper.getSuperior[145]  ==>  Preparing: select superior from department_mapping where user_account = ? and type = ? limit 0,1 
2020-11-21 23:17:55.650 DEBUG cn.jwis.qualityworkflow.dao.UserMapper.getSuperior[145]  ==> Parameters: qualityadmin(String), COMMON(String)
2020-11-21 23:17:55.650 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  <==      Total: 1
2020-11-21 23:17:55.652 DEBUG c.j.q.dao.UserMapper.getSuperiorManagerByUser[145]  <==      Total: 0
2020-11-21 23:17:55.654 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==>  Preparing: select time from email_history_info where id =? 
2020-11-21 23:17:55.654 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==> Parameters: 1286916730144161792(String)
2020-11-21 23:17:55.660 DEBUG cn.jwis.qualityworkflow.dao.UserMapper.getSuperior[145]  <==      Total: 1
2020-11-21 23:17:55.672 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  <==      Total: 1
2020-11-21 23:17:55.692 INFO  cn.jwis.qualityworkflow.util.EmailService[142]  xujinbiao email is 
2020-11-21 23:17:55.692 INFO  cn.jwis.qualityworkflow.util.EmailService[142]  qualityadmin email is 
2020-11-21 23:17:55.692 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==>  Preparing: select time from email_history_info where id =? 
2020-11-21 23:17:55.692 DEBUG cn.jwis.qualityworkflow.dao.UserMapper.getSuperior[145]  ==>  Preparing: select superior from department_mapping where user_account = ? and type = ? limit 0,1 
2020-11-21 23:17:55.692 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==> Parameters: 1308013113928318976(String)
2020-11-21 23:17:55.692 DEBUG cn.jwis.qualityworkflow.dao.UserMapper.getSuperior[145]  ==> Parameters: xujinbiao(String), COMMON(String)
2020-11-21 23:17:55.695 INFO  cn.jwis.qualityworkflow.util.EmailService[142]  gupp2 email is null
2020-11-21 23:17:55.695 DEBUG cn.jwis.qualityworkflow.dao.UserMapper.getSuperior[145]  ==>  Preparing: select superior from department_mapping where user_account = ? and type = ? limit 0,1 
2020-11-21 23:17:55.695 DEBUG cn.jwis.qualityworkflow.dao.UserMapper.getSuperior[145]  ==> Parameters: gupp2(String), QIMS(String)
2020-11-21 23:17:55.701 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  <==      Total: 1
2020-11-21 23:17:55.701 DEBUG cn.jwis.qualityworkflow.dao.UserMapper.getSuperior[145]  <==      Total: 1
2020-11-21 23:17:55.702 DEBUG cn.jwis.qualityworkflow.dao.UserMapper.getSuperior[145]  <==      Total: 0
2020-11-21 23:17:55.702 DEBUG c.j.q.dao.UserMapper.getSuperiorManagerByUser[145]  ==>  Preparing: select superior_manager from department_mapping where user_account = ? and type = ? limit 0,1 
2020-11-21 23:17:55.702 DEBUG c.j.q.dao.UserMapper.getSuperiorManagerByUser[145]  ==> Parameters: gupp2(String), QIMS(String)
2020-11-21 23:17:55.716 DEBUG c.j.q.dao.UserMapper.getSuperiorManagerByUser[145]  <==      Total: 0
2020-11-21 23:17:55.718 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==>  Preparing: select time from email_history_info where id =? 
2020-11-21 23:17:55.718 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==> Parameters: 1287933861786812416(String)
2020-11-21 23:17:55.725 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  <==      Total: 1
2020-11-21 23:17:55.783 INFO  cn.jwis.qualityworkflow.util.EmailService[142]  hualanlan email is test@jwis.cn
2020-11-21 23:17:55.784 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==>  Preparing: select time from email_history_info where id =? 
2020-11-21 23:17:55.784 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==> Parameters: 1295193707351375872(String)
2020-11-21 23:17:55.784 INFO  cn.jwis.qualityworkflow.util.EmailService[142]  hualanlan email is test@jwis.cn
2020-11-21 23:17:55.784 INFO  cn.jwis.qualityworkflow.util.EmailService[142]  qualityadmin email is 
2020-11-21 23:17:55.785 DEBUG cn.jwis.qualityworkflow.dao.UserMapper.getSuperior[145]  ==>  Preparing: select superior from department_mapping where user_account = ? and type = ? limit 0,1 
2020-11-21 23:17:55.785 DEBUG cn.jwis.qualityworkflow.dao.UserMapper.getSuperior[145]  ==>  Preparing: select superior from department_mapping where user_account = ? and type = ? limit 0,1 
2020-11-21 23:17:55.785 DEBUG cn.jwis.qualityworkflow.dao.UserMapper.getSuperior[145]  ==> Parameters: hualanlan(String), QIMS(String)
2020-11-21 23:17:55.785 DEBUG cn.jwis.qualityworkflow.dao.UserMapper.getSuperior[145]  ==> Parameters: qualityadmin(String), COMMON(String)
2020-11-21 23:17:55.797 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  <==      Total: 1
2020-11-21 23:17:55.798 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==>  Preparing: select time from email_history_info where id =? 
2020-11-21 23:17:55.798 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==> Parameters: 1295193707376541696(String)
2020-11-21 23:17:55.798 DEBUG cn.jwis.qualityworkflow.dao.UserMapper.getSuperior[145]  <==      Total: 1
2020-11-21 23:17:55.799 DEBUG c.j.q.dao.UserMapper.getSuperiorManagerByUser[145]  ==>  Preparing: select superior_manager from department_mapping where user_account = ? and type = ? limit 0,1 
2020-11-21 23:17:55.799 DEBUG c.j.q.dao.UserMapper.getSuperiorManagerByUser[145]  ==> Parameters: hualanlan(String), QIMS(String)
2020-11-21 23:17:55.800 DEBUG cn.jwis.qualityworkflow.dao.UserMapper.getSuperior[145]  <==      Total: 1
2020-11-21 23:17:55.805 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  <==      Total: 1
2020-11-21 23:17:55.810 DEBUG c.j.q.dao.UserMapper.getSuperiorManagerByUser[145]  <==      Total: 1
2020-11-21 23:17:55.831 INFO  cn.jwis.qualityworkflow.util.EmailService[142]  qualityadmin email is 
2020-11-21 23:17:55.831 INFO  cn.jwis.qualityworkflow.util.EmailService[142]  xujinbiao email is 
2020-11-21 23:17:55.831 INFO  cn.jwis.qualityworkflow.util.EmailService[142]  workflow3 email is null
2020-11-21 23:17:55.831 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==>  Preparing: select time from email_history_info where id =? 
2020-11-21 23:17:55.831 DEBUG cn.jwis.qualityworkflow.dao.UserMapper.getSuperior[145]  ==>  Preparing: select superior from department_mapping where user_account = ? and type = ? limit 0,1 
2020-11-21 23:17:55.831 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==> Parameters: 1308013116927246336(String)
2020-11-21 23:17:55.831 DEBUG cn.jwis.qualityworkflow.dao.UserMapper.getSuperior[145]  ==> Parameters: xujinbiao(String), COMMON(String)
2020-11-21 23:17:55.841 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  <==      Total: 0
2020-11-21 23:17:55.841 DEBUG cn.jwis.qualityworkflow.dao.UserMapper.getSuperior[145]  <==      Total: 1
2020-11-21 23:17:55.852 INFO  cn.jwis.qualityworkflow.util.EmailService[142]  zhouxianling email is 
2020-11-21 23:17:55.853 DEBUG c.j.qualityworkflow.dao.TaskRecordMapper.getById[145]  ==>  Preparing: SELECT * from task_record WHERE id = ? 
2020-11-21 23:17:55.853 DEBUG c.j.qualityworkflow.dao.TaskRecordMapper.getById[145]  ==> Parameters: 1287933861786812416(String)
2020-11-21 23:17:55.894 INFO  cn.jwis.qualityworkflow.util.EmailService[142]  kiween email is 
2020-11-21 23:17:55.894 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==>  Preparing: select time from email_history_info where id =? 
2020-11-21 23:17:55.894 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==> Parameters: 1309046852858937344(String)
2020-11-21 23:17:55.897 INFO  cn.jwis.qualityworkflow.util.EmailService[142]  hualanlan email is test@jwis.cn
2020-11-21 23:17:55.897 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==>  Preparing: select time from email_history_info where id =? 
2020-11-21 23:17:55.897 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  ==> Parameters: 1315248790789160960(String)
2020-11-21 23:17:55.912 DEBUG c.j.qualityworkflow.dao.TaskRecordMapper.getById[145]  <==      Total: 1
2020-11-21 23:17:55.912 DEBUG c.j.qualityworkflow.dao.CommonMapper.getKeyToName[145]  ==>  Preparing: SELECT * FROM key_to_name 
2020-11-21 23:17:55.913 DEBUG c.j.qualityworkflow.dao.CommonMapper.getKeyToName[145]  ==> Parameters: 
2020-11-21 23:17:55.917 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  <==      Total: 1
2020-11-21 23:17:55.917 DEBUG c.j.q.m.qims.dao.QimsSendMailMapper.getTimeById[145]  <==      Total: 0
2020-11-21 23:17:55.925 DEBUG c.j.qualityworkflow.dao.CommonMapper.getKeyToName[145]  <==      Total: 8
2020-11-21 23:17:55.926 INFO  cn.jwis.qualityworkflow.util.EmailService[71]  haomiao.liu@jwis.cn send a Mail to test@jwis.cn
2020-11-21 23:17:55.970 INFO  cn.jwis.qualityworkflow.util.EmailService[142]  dz_gyb1 email is test@jwis.cn
2020-11-21 23:17:55.970 INFO  cn.jwis.qualityworkflow.util.EmailService[142]  codisan email is kelvin@jwis.cn
2020-11-21 23:17:55.970 DEBUG cn.jwis.qualityworkflow.dao.UserMapper.getSuperior[145]  ==>  Preparing: select superior from department_mapping where user_account = ? and type = ? limit 0,1 
2020-11-21 23:17:55.970 DEBUG c.j.qualityworkflow.dao.CommonMapper.getKeyToName[145]  ==>  Preparing: SELECT * FROM key_to_name 
2020-11-21 23:17:55.970 DEBUG cn.jwis.qualityworkflow.dao.UserMapper.getSuperior[145]  ==> Parameters: dz_gyb1(String), COMMON(String)
2020-11-21 23:17:55.970 DEBUG c.j.qualityworkflow.dao.CommonMapper.getKeyToName[145]  ==> Parameters: 
2020-11-21 23:17:56.033 DEBUG cn.jwis.qualityworkflow.dao.UserMapper.getSuperior[145]  <==      Total: 1
2020-11-21 23:17:56.033 DEBUG c.j.qualityworkflow.dao.CommonMapper.getKeyToName[145]  <==      Total: 8
2020-11-21 23:17:56.034 INFO  cn.jwis.qualityworkflow.util.EmailService[74]  haomiao.liu@jwis.cn send a Mail to kelvin@jwis.cn fail, because null
2020-11-21 23:17:56.057 INFO  cn.jwis.qualityworkflow.util.EmailService[142]  dz_gyb2 email is jian.song@jwis.cn
2020-11-21 23:17:56.057 DEBUG c.j.qualityworkflow.dao.CommonMapper.getKeyToName[145]  ==>  Preparing: SELECT * FROM key_to_name 
2020-11-21 23:17:56.058 DEBUG c.j.qualityworkflow.dao.CommonMapper.getKeyToName[145]  ==> Parameters: 
2020-11-21 23:17:56.073 DEBUG c.j.qualityworkflow.dao.CommonMapper.getKeyToName[145]  <==      Total: 8
2020-11-21 23:17:56.074 DEBUG c.j.q.m.l.d.L.getLineQualifyDetailednessInfo[145]  ==>  Preparing: SELECT q.*,ar.processInstanceId ,ar.taskId,ar.assignee,ar.taskState,ar.taskName FROM line_qualify_info q,(SELECT workflow_business_id, process_instance_id as processInstanceId,task_id as taskId,assignee,task_state as taskState,task_name taskName FROM task_record WHERE task_id=?) ar where q.id=ar.workflow_business_id 
2020-11-21 23:17:56.074 DEBUG c.j.q.m.l.d.L.getLineQualifyDetailednessInfo[145]  ==> Parameters: 5506556(String)
2020-11-21 23:17:56.093 DEBUG c.j.q.m.l.d.L.getLineQualifyDetailednessInfo[145]  <==      Total: 1
2020-11-21 23:17:56.094 INFO  cn.jwis.qualityworkflow.util.EmailService[69]  haomiao.liu@jwis.cn send a Mail to test@jwis.cn and make a copy for [jian.song@jwis.cn]
2020-11-21 23:17:56.664 ERROR o.s.s.support.TaskUtils$LoggingErrorHandler[96] org.springframework.mail.MailSendException: Failed messages: javax.mail.SendFailedException: Invalid Addresses;
  nested exception is:
	com.sun.mail.smtp.SMTPAddressFailedException: 554 RCPT (kelvin@jwis.cn) dosn't exist

	at org.springframework.mail.javamail.JavaMailSenderImpl.doSend(JavaMailSenderImpl.java:488)
	at org.springframework.mail.javamail.JavaMailSenderImpl.send(JavaMailSenderImpl.java:359)
	at org.springframework.mail.javamail.JavaMailSenderImpl.send(JavaMailSenderImpl.java:354)
	at cn.jwis.qualityworkflow.util.EmailService.sendHtmlMail(EmailService.java:76)
	at cn.jwis.qualityworkflow.modules.qims.service.imp.QimsSendMailServiceImpl.sendEmailTohandler(QimsSendMailServiceImpl.java:161)
	at cn.jwis.qualityworkflow.modules.ipqc.service.imp.AuditQualityProblemServiceImpl.qimsSendMail(AuditQualityProblemServiceImpl.java:321)
	at cn.jwis.qualityworkflow.modules.ipqc.service.imp.AuditQualityProblemServiceImpl$$FastClassBySpringCGLIB$$15ff325f.invoke(<generated>)
	at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:684)
	at cn.jwis.qualityworkflow.modules.ipqc.service.imp.AuditQualityProblemServiceImpl$$EnhancerBySpringCGLIB$$e291a2f3.qimsSendMail(<generated>)
	at cn.jwis.qualityworkflow.modules.ipqc.job.ipqcMailJob.qimsSendMail(ipqcMailJob.java:28)
	at sun.reflect.GeneratedMethodAccessor175.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.springframework.scheduling.support.ScheduledMethodRunnable.run(ScheduledMethodRunnable.java:84)
	at org.springframework.scheduling.support.DelegatingErrorHandlingRunnable.run(DelegatingErrorHandlingRunnable.java:54)
	at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:511)
	at java.util.concurrent.FutureTask.runAndReset(FutureTask.java:308)
	at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.access$301(ScheduledThreadPoolExecutor.java:180)
	at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:294)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)
 Unexpected error occurred in scheduled task.
2020-11-21 23:17:56.670 ERROR o.s.s.support.TaskUtils$LoggingErrorHandler[96] org.springframework.mail.MailSendException: Failed messages: javax.mail.SendFailedException: Invalid Addresses;
  nested exception is:
	com.sun.mail.smtp.SMTPAddressFailedException: 554 RCPT (test@jwis.cn) dosn't exist

	at org.springframework.mail.javamail.JavaMailSenderImpl.doSend(JavaMailSenderImpl.java:488)
	at org.springframework.mail.javamail.JavaMailSenderImpl.send(JavaMailSenderImpl.java:359)
	at org.springframework.mail.javamail.JavaMailSenderImpl.send(JavaMailSenderImpl.java:354)
	at cn.jwis.qualityworkflow.util.EmailService.sendHtmlMail(EmailService.java:76)
	at cn.jwis.qualityworkflow.modules.qims.service.imp.QimsSendMailServiceImpl.sendEmailTohandler(QimsSendMailServiceImpl.java:161)
	at cn.jwis.qualityworkflow.modules.qims.service.imp.QimsSendMailServiceImpl.qimsSendMail(QimsSendMailServiceImpl.java:90)
	at cn.jwis.qualityworkflow.modules.qims.job.qimsMailJob.qimsSendMail(qimsMailJob.java:49)
	at sun.reflect.GeneratedMethodAccessor178.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.springframework.scheduling.support.ScheduledMethodRunnable.run(ScheduledMethodRunnable.java:84)
	at org.springframework.scheduling.support.DelegatingErrorHandlingRunnable.run(DelegatingErrorHandlingRunnable.java:54)
	at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:511)
	at java.util.concurrent.FutureTask.runAndReset(FutureTask.java:308)
	at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.access$301(ScheduledThreadPoolExecutor.java:180)
	at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:294)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)
 Unexpected error occurred in scheduled task.
2020-11-21 23:17:56.764 ERROR o.s.s.support.TaskUtils$LoggingErrorHandler[96] org.springframework.mail.MailSendException: Failed messages: javax.mail.SendFailedException: Invalid Addresses;
  nested exception is:
	com.sun.mail.smtp.SMTPAddressFailedException: 554 RCPT (test@jwis.cn) dosn't exist
;
  nested exception is:
	com.sun.mail.smtp.SMTPAddressFailedException: 554 RCPT (jian.song@jwis.cn) dosn't exist

	at org.springframework.mail.javamail.JavaMailSenderImpl.doSend(JavaMailSenderImpl.java:488)
	at org.springframework.mail.javamail.JavaMailSenderImpl.send(JavaMailSenderImpl.java:359)
	at org.springframework.mail.javamail.JavaMailSenderImpl.send(JavaMailSenderImpl.java:354)
	at cn.jwis.qualityworkflow.util.EmailService.sendHtmlMail(EmailService.java:76)
	at cn.jwis.qualityworkflow.modules.linequalify.service.imp.LineQualifyServiceImpl.sendEmailTohandler(LineQualifyServiceImpl.java:617)
	at cn.jwis.qualityworkflow.modules.linequalify.service.imp.LineQualifyServiceImpl.sendOverTimeMail(LineQualifyServiceImpl.java:594)
	at cn.jwis.qualityworkflow.modules.linequalify.service.imp.LineQualifyServiceImpl$$FastClassBySpringCGLIB$$4ca6f597.invoke(<generated>)
	at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:684)
	at cn.jwis.qualityworkflow.modules.linequalify.service.imp.LineQualifyServiceImpl$$EnhancerBySpringCGLIB$$2a00af9b.sendOverTimeMail(<generated>)
	at cn.jwis.qualityworkflow.modules.linequalify.job.LineQualifyMailJob.sendOverTimeMail(LineQualifyMailJob.java:30)
	at sun.reflect.GeneratedMethodAccessor177.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.springframework.scheduling.support.ScheduledMethodRunnable.run(ScheduledMethodRunnable.java:84)
	at org.springframework.scheduling.support.DelegatingErrorHandlingRunnable.run(DelegatingErrorHandlingRunnable.java:54)
	at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:511)
	at java.util.concurrent.FutureTask.runAndReset(FutureTask.java:308)
	at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.access$301(ScheduledThreadPoolExecutor.java:180)
	at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:294)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)
 Unexpected error occurred in scheduled task.
2020-11-21 23:20:00.019 INFO  c.j.q.m.t.T.TraceabilityMachineTimerManager[50]  设备定时任务开启
2020-11-21 23:20:00.027 DEBUG c.j.q.m.t.d.T.getTraceabilityMachineList[145]  ==>  Preparing: select table_name from traceability_machine_data group by table_name 
2020-11-21 23:20:00.027 DEBUG c.j.q.m.t.d.T.getTraceabilityMachineList[145]  ==> Parameters: 
2020-11-21 23:20:00.037 DEBUG c.j.q.m.t.d.T.getTraceabilityMachineList[145]  <==      Total: 5
2020-11-21 23:20:00.038 DEBUG c.j.q.m.t.d.T.getTraceabilityMachineFiledName[145]  ==>  Preparing: select filed_name from traceability_machine_data where table_name=? 
2020-11-21 23:20:00.038 DEBUG c.j.q.m.t.d.T.getTraceabilityMachineFiledName[145]  ==> Parameters: dust_free_shed(String)
2020-11-21 23:20:00.045 DEBUG c.j.q.m.t.d.T.getTraceabilityMachineFiledName[145]  <==      Total: 11
2020-11-21 23:20:00.045 DEBUG c.j.q.m.t.d.T.getMaxCreateTime[145]  ==>  Preparing: select max(createtime) from dust_free_shed 
2020-11-21 23:20:00.046 DEBUG c.j.q.m.t.d.T.getMaxCreateTime[145]  ==> Parameters: 
2020-11-21 23:20:00.189 DEBUG c.j.q.m.t.d.T.getMaxCreateTime[145]  <==      Total: 1
2020-11-21 23:20:00.211 ERROR o.s.s.support.TaskUtils$LoggingErrorHandler[96] java.lang.NullPointerException: null
	at cn.jwis.qualityworkflow.modules.traceablity.TimerManager.TraceabilityMachineTimerManager.getLenovoMachineData(TraceabilityMachineTimerManager.java:105)
	at cn.jwis.qualityworkflow.modules.traceablity.TimerManager.TraceabilityMachineTimerManager.MachineTimerManager(TraceabilityMachineTimerManager.java:57)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.springframework.scheduling.support.ScheduledMethodRunnable.run(ScheduledMethodRunnable.java:84)
	at org.springframework.scheduling.support.DelegatingErrorHandlingRunnable.run(DelegatingErrorHandlingRunnable.java:54)
	at org.springframework.scheduling.concurrent.ReschedulingRunnable.run(ReschedulingRunnable.java:93)
	at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:511)
	at java.util.concurrent.FutureTask.run(FutureTask.java:266)
	at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.access$201(ScheduledThreadPoolExecutor.java:180)
	at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:293)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)
 Unexpected error occurred in scheduled task.
